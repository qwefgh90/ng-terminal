(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179],{9199:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>ExampleComponent});var rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5529),ng_terminal__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4486),_angular_forms__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4719),_xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9010),_xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_0__),xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6239),xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_1__),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4650),_angular_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6895),_angular_material_button__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4859),_angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(455),_angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(9549),_angular_material_input__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(4144),ngx_json_viewer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6224),_angular_material_tabs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(9485);const _c0=["term"],_c1=["term2"];function ExampleComponent_ng_template_40_Template(it,Ve){1&it&&_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(0," Terminal2 ")}function ExampleComponent_div_41_Template(it,Ve){1&it&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(1,"ng-terminal",null,19),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA())}function ExampleComponent_div_42_Template(it,Ve){if(1&it){const Z=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div")(1,"button",16),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(Z);const $=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_3__.KtG($.toggleTerminal2())}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(2,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(3,"Hide it"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()()}}let ExampleComponent=(()=>{const _ExampleComponent=class{constructor(){this.title="NgTerminal Live Example",this.color="accent",this.prompt="\n"+ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.cursorColumn(1)+"$ ",this._rows=void 0,this._cols=void 0,this._draggable=!1,this.draggableMode=!1,this.apiMode=!1,this.disabled=!1,this.rowsControl=new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NI,this.colsControl=new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NI,this.inputControl=new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NI,this.writeSubject=new rxjs__WEBPACK_IMPORTED_MODULE_6__.xQ,this.keyInput="",this.baseTheme={foreground:"#F8F8F8",background:"#2D2E2C",selectionBackground:"#5DA5D533",black:"#1E1E1D",brightBlack:"#262625",red:"#CE5C5C",brightRed:"#FF7272",green:"#5BCC5B",brightGreen:"#72FF72",yellow:"#CCCC5B",brightYellow:"#FFFF72",blue:"#5D5DD3",brightBlue:"#7279FF",magenta:"#BC5ED1",brightMagenta:"#E572FF",cyan:"#5DA5D5",brightCyan:"#72F0FF",white:"#F8F8F8",brightWhite:"#FFFFFF",border:"#85858a"},this.showTerminal2=!0}ngAfterViewInit(){this.initializeTerm2(),this.child&&(this.underlying=this.child.underlying,this.underlying.options.fontSize=20,this.underlying.loadAddon(new _xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_0__.WebLinksAddon),this.child.setXtermOptions({fontFamily:'"Cascadia Code", Menlo, monospace',theme:this.baseTheme,cursorBlink:!0}),this.child.write("$ NgTerminal Live Example\n"+ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.cursorColumn(1)),this.child.write(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.characterAttributes(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.SetforegroundcolortoRed,ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.Bold)),this.child.write("$ 1) Try the data binding in the input below.\n"+ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.cursorColumn(1)),this.child.write(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.characterAttributes(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.Normal)),this.child.write(`$ 2) Try dragging on the ${ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.characterAttributes(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.SetbackgroundcolortoGreen)}borders${ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.characterAttributes(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.Normal)} and set ${ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.characterAttributes(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.SetbackgroundcolortoCyan)}row and col${ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.characterAttributes(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.Normal)}.\n`+ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.cursorColumn(1)),this.child.write(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.characterAttributes(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.Bold)),this.child.write("$ "),this.child.onData().subscribe(it=>{this.child&&("\r"===it?this.child.write(this.prompt):"\x7f"===it?this.child.underlying.buffer.active.cursorX>2&&this.child.write("\b \b"):"\x03"===it?(this.child.write("^C"),this.child.write(this.prompt)):this.child.write(it))}),this.child.onKey().subscribe(it=>{}),this.rowsControl.valueChanges.subscribe(()=>{this.updateRows()}),this.colsControl.valueChanges.subscribe(()=>{this.updateCols()}))}resizableChange(it){this.draggableMode=it.checked,this.updateDraggable()}apiModeChange(it){this.apiMode=it.checked,this.updateDraggable()}updateDraggable(){this.apiMode?this.child.setDraggable(this.draggableMode):this._draggable=this.draggableMode}updateRows(){this.apiMode?this.child.setRows(this.rowsControl.value):this._rows=this.rowsControl.value}updateCols(){this.apiMode?this.child.setCols(this.colsControl.value):this._cols=this.colsControl.value}write(){this.writeSubject.next(eval(`'${this.inputControl.value}'`))}onKeyInput(it){this.keyInput=it}get displayOptionForLiveUpdate(){return{rows:this.rowsControl.value,cols:this.colsControl.value,draggable:this.draggableMode}}toggleTerminal2(){this.showTerminal2=!this.showTerminal2}initializeTerm2(){if(!this.child2)return;let it=new xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_1__.WebglAddon;it.onContextLoss(Ve=>{it.dispose()}),this.child2?.underlying.loadAddon(it),this.child2.setXtermOptions({fontFamily:'"Cascadia Code", Menlo, monospace',theme:this.baseTheme,cursorBlink:!0}),this.child2.write("$ NgTerminal2 Live Example\n"+ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.cursorColumn(1))}};let ExampleComponent=_ExampleComponent;return _ExampleComponent.\u0275fac=function(Ve){return new(Ve||_ExampleComponent)},_ExampleComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:_ExampleComponent,selectors:[["app-root"]],viewQuery:function(Ve,Z){if(1&Ve&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Gf(_c0,5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Gf(_c1,5)),2&Ve){let D;_angular_core__WEBPACK_IMPORTED_MODULE_3__.iGM(D=_angular_core__WEBPACK_IMPORTED_MODULE_3__.CRH())&&(Z.child=D.first),_angular_core__WEBPACK_IMPORTED_MODULE_3__.iGM(D=_angular_core__WEBPACK_IMPORTED_MODULE_3__.CRH())&&(Z.child2=D.first)}},decls:43,vars:21,consts:[["tabGroup",""],["label","Terminal1"],[2,"display","flex"],[2,"flex","1"],[1,"ng-terminal",3,"dataSource","rows","cols","minWidth","minHeight","draggable","data"],["term",""],[2,"padding-left","1em","padding-top","0.3em","margin-top","0.7em","padding-bottom","1em"],[2,"display","inline-block","vertical-align","top","margin-bottom","0.8em"],[3,"checked","color","disabled","change"],[2,"margin-left","10px",3,"checked","color","disabled","change"],["matInput","","placeholder","rows","type","number",3,"formControl"],["matInput","","placeholder","cols","type","number",3,"formControl"],[2,"display","inline-block","vertical-align","top"],[3,"json"],[2,"font-size","0.8em","font-weight","bold"],["matInput","","placeholder","Type here","value","",3,"formControl"],["mat-raised-button","","color","primary",3,"click"],["mat-tab-label",""],[4,"ngIf"],["term2",""]],template:function(Ve,Z){1&Ve&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"mat-tab-group",null,0)(2,"mat-tab",1)(3,"div",2)(4,"div",3)(5,"ng-terminal",4,5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("data",function($){return Z.onKeyInput($)}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(7,"div",6)(8,"div")(9,"div",7)(10,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(11,"Display Opiton"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(12,"div")(13,"mat-slide-toggle",8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("change",function($){return Z.resizableChange($)}),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(14," Draggable "),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(15,"mat-slide-toggle",9),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("change",function($){return Z.apiModeChange($)}),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(16," by using API "),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(17,"div")(18,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(19,"input",10),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(20,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(21,"input",11),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(22,"div",12)(23,"h4"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(24,"JSON"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(25,"ngx-json-viewer",13),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(26,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(27,"Examples of data binding"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(28,"div")(29,"span",14),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(30,"[dataSource]"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(31,"div")(32,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(33,"input",15),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(34,"button",16),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",function(){return Z.write()}),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(35," Write "),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(36,"div")(37,"span",14),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(38),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(39,"mat-tab"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(40,ExampleComponent_ng_template_40_Template,1,0,"ng-template",17),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(41,ExampleComponent_div_41_Template,3,0,"div",18),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(42,ExampleComponent_div_42_Template,4,0,"div",18),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()),2&Ve&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("dataSource",Z.writeSubject)("rows",Z._rows)("cols",Z._cols)("minWidth",200)("minHeight",200)("draggable",Z._draggable),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ekj("mat-elevation-z1",!0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("checked",Z.draggableMode)("color",Z.color)("disabled",Z.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("checked",Z.apiMode)("color",Z.color)("disabled",Z.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("formControl",Z.rowsControl),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("formControl",Z.colsControl),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("json",Z.displayOptionForLiveUpdate),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("formControl",Z.inputControl),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hij("(data): ",Z.keyInput,""),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",Z.showTerminal2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",Z.showTerminal2))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_7__.O5,ng_terminal__WEBPACK_IMPORTED_MODULE_4__.Eo,_angular_material_button__WEBPACK_IMPORTED_MODULE_8__.lW,_angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_9__.Rr,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__.KE,_angular_material_input__WEBPACK_IMPORTED_MODULE_11__.Nt,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.wV,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.oH,ngx_json_viewer__WEBPACK_IMPORTED_MODULE_2__.Y,_angular_material_tabs__WEBPACK_IMPORTED_MODULE_12__.SP,_angular_material_tabs__WEBPACK_IMPORTED_MODULE_12__.uD,_angular_material_tabs__WEBPACK_IMPORTED_MODULE_12__.uX],styles:[".outer-box[_ngcontent-%COMP%]{height:30vh;padding:5px 0}"]}),ExampleComponent})()},977:(it,Ve,Z)=>{"use strict";var D=Z(6895),$=Z(4650);class C extends D.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class c extends C{static makeCurrent(){(0,D.HT)(new c)}onAndCancel(a,l,T){return a.addEventListener(l,T,!1),()=>{a.removeEventListener(l,T,!1)}}dispatchEvent(a,l){a.dispatchEvent(l)}remove(a){a.parentNode&&a.parentNode.removeChild(a)}createElement(a,l){return(l=l||this.getDefaultDocument()).createElement(a)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(a){return a.nodeType===Node.ELEMENT_NODE}isShadowRoot(a){return a instanceof DocumentFragment}getGlobalEventTarget(a,l){return"window"===l?window:"document"===l?a:"body"===l?a.body:null}getBaseHref(a){const l=function m(){return v=v||document.querySelector("base"),v?v.getAttribute("href"):null}();return null==l?null:function h(P){w=w||document.createElement("a"),w.setAttribute("href",P);const a=w.pathname;return"/"===a.charAt(0)?a:`/${a}`}(l)}resetBaseElement(){v=null}getUserAgent(){return window.navigator.userAgent}getCookie(a){return(0,D.Mx)(document.cookie,a)}}let w,v=null;const b=new $.OlP("TRANSITION_ID"),E=[{provide:$.ip1,useFactory:function y(P,a,l){return()=>{l.get($.CZH).donePromise.then(()=>{const T=(0,D.q)(),U=a.querySelectorAll(`style[ng-transition="${P}"]`);for(let Q=0;Q<U.length;Q++)T.remove(U[Q])})}},deps:[b,D.K0,$.zs3],multi:!0}];let s=(()=>{class P{build(){return new XMLHttpRequest}}return P.\u0275fac=function(l){return new(l||P)},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();const f=new $.OlP("EventManagerPlugins");let u=(()=>{class P{constructor(l,T){this._zone=T,this._eventNameToPlugin=new Map,l.forEach(U=>{U.manager=this}),this._plugins=l.slice().reverse()}addEventListener(l,T,U){return this._findPluginFor(T).addEventListener(l,T,U)}addGlobalEventListener(l,T,U){return this._findPluginFor(T).addGlobalEventListener(l,T,U)}getZone(){return this._zone}_findPluginFor(l){const T=this._eventNameToPlugin.get(l);if(T)return T;const U=this._plugins;for(let Q=0;Q<U.length;Q++){const ue=U[Q];if(ue.supports(l))return this._eventNameToPlugin.set(l,ue),ue}throw new Error(`No event manager plugin found for event ${l}`)}}return P.\u0275fac=function(l){return new(l||P)($.LFG(f),$.LFG($.R0b))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();class p{constructor(a){this._doc=a}addGlobalEventListener(a,l,T){const U=(0,D.q)().getGlobalEventTarget(this._doc,a);if(!U)throw new Error(`Unsupported event target ${U} for event ${l}`);return this.addEventListener(U,l,T)}}let S=(()=>{class P{constructor(){this.usageCount=new Map}addStyles(l){for(const T of l)1===this.changeUsageCount(T,1)&&this.onStyleAdded(T)}removeStyles(l){for(const T of l)0===this.changeUsageCount(T,-1)&&this.onStyleRemoved(T)}onStyleRemoved(l){}onStyleAdded(l){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(l,T){const U=this.usageCount;let Q=U.get(l)??0;return Q+=T,Q>0?U.set(l,Q):U.delete(l),Q}ngOnDestroy(){for(const l of this.getAllStyles())this.onStyleRemoved(l);this.usageCount.clear()}}return P.\u0275fac=function(l){return new(l||P)},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})(),I=(()=>{class P extends S{constructor(l){super(),this.doc=l,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(l){for(const T of this.hostNodes)this.addStyleToHost(T,l)}onStyleRemoved(l){const T=this.styleRef;T.get(l)?.forEach(Q=>Q.remove()),T.delete(l)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(l){this.hostNodes.add(l);for(const T of this.getAllStyles())this.addStyleToHost(l,T)}removeHost(l){this.hostNodes.delete(l)}addStyleToHost(l,T){const U=this.doc.createElement("style");U.textContent=T,l.appendChild(U);const Q=this.styleRef.get(T);Q?Q.push(U):this.styleRef.set(T,[U])}resetHostNodes(){const l=this.hostNodes;l.clear(),l.add(this.doc.head)}}return P.\u0275fac=function(l){return new(l||P)($.LFG(D.K0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();const A={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},B=/%COMP%/g,x="%COMP%",V=`_nghost-${x}`,k=`_ngcontent-${x}`,q=new $.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function se(P,a){return a.flat(100).map(l=>l.replace(B,P))}function we(P){return a=>{if("__ngUnwrap__"===a)return P;!1===P(a)&&(a.preventDefault(),a.returnValue=!1)}}let ve=(()=>{class P{constructor(l,T,U,Q){this.eventManager=l,this.sharedStylesHost=T,this.appId=U,this.removeStylesOnCompDestory=Q,this.rendererByCompId=new Map,this.defaultRenderer=new K(l)}createRenderer(l,T){if(!l||!T)return this.defaultRenderer;const U=this.getOrCreateRenderer(l,T);return U instanceof Qe?U.applyToHost(l):U instanceof ze&&U.applyStyles(),U}getOrCreateRenderer(l,T){const U=this.rendererByCompId;let Q=U.get(T.id);if(!Q){const ue=this.eventManager,pe=this.sharedStylesHost,Ie=this.removeStylesOnCompDestory;switch(T.encapsulation){case $.ifc.Emulated:Q=new Qe(ue,pe,T,this.appId,Ie);break;case $.ifc.ShadowDom:return new Ue(ue,pe,l,T);default:Q=new ze(ue,pe,T,Ie)}Q.onDestroy=()=>U.delete(T.id),U.set(T.id,Q)}return Q}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return P.\u0275fac=function(l){return new(l||P)($.LFG(u),$.LFG(I),$.LFG($.AFp),$.LFG(q))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();class K{constructor(a){this.eventManager=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(a,l){return l?document.createElementNS(A[l]||l,a):document.createElement(a)}createComment(a){return document.createComment(a)}createText(a){return document.createTextNode(a)}appendChild(a,l){(de(a)?a.content:a).appendChild(l)}insertBefore(a,l,T){a&&(de(a)?a.content:a).insertBefore(l,T)}removeChild(a,l){a&&a.removeChild(l)}selectRootElement(a,l){let T="string"==typeof a?document.querySelector(a):a;if(!T)throw new Error(`The selector "${a}" did not match any elements`);return l||(T.textContent=""),T}parentNode(a){return a.parentNode}nextSibling(a){return a.nextSibling}setAttribute(a,l,T,U){if(U){l=U+":"+l;const Q=A[U];Q?a.setAttributeNS(Q,l,T):a.setAttribute(l,T)}else a.setAttribute(l,T)}removeAttribute(a,l,T){if(T){const U=A[T];U?a.removeAttributeNS(U,l):a.removeAttribute(`${T}:${l}`)}else a.removeAttribute(l)}addClass(a,l){a.classList.add(l)}removeClass(a,l){a.classList.remove(l)}setStyle(a,l,T,U){U&($.JOm.DashCase|$.JOm.Important)?a.style.setProperty(l,T,U&$.JOm.Important?"important":""):a.style[l]=T}removeStyle(a,l,T){T&$.JOm.DashCase?a.style.removeProperty(l):a.style[l]=""}setProperty(a,l,T){a[l]=T}setValue(a,l){a.nodeValue=l}listen(a,l,T){return"string"==typeof a?this.eventManager.addGlobalEventListener(a,l,we(T)):this.eventManager.addEventListener(a,l,we(T))}}function de(P){return"TEMPLATE"===P.tagName&&void 0!==P.content}class Ue extends K{constructor(a,l,T,U){super(a),this.sharedStylesHost=l,this.hostEl=T,this.shadowRoot=T.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Q=se(U.id,U.styles);for(const ue of Q){const pe=document.createElement("style");pe.textContent=ue,this.shadowRoot.appendChild(pe)}}nodeOrShadowRoot(a){return a===this.hostEl?this.shadowRoot:a}appendChild(a,l){return super.appendChild(this.nodeOrShadowRoot(a),l)}insertBefore(a,l,T){return super.insertBefore(this.nodeOrShadowRoot(a),l,T)}removeChild(a,l){return super.removeChild(this.nodeOrShadowRoot(a),l)}parentNode(a){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(a)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ze extends K{constructor(a,l,T,U,Q=T.id){super(a),this.sharedStylesHost=l,this.removeStylesOnCompDestory=U,this.rendererUsageCount=0,this.styles=se(Q,T.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Qe extends ze{constructor(a,l,T,U,Q){const ue=U+"-"+T.id;super(a,l,T,Q,ue),this.contentAttr=function J(P){return k.replace(B,P)}(ue),this.hostAttr=function ae(P){return V.replace(B,P)}(ue)}applyToHost(a){this.applyStyles(),this.setAttribute(a,this.hostAttr,"")}createElement(a,l){const T=super.createElement(a,l);return super.setAttribute(T,this.contentAttr,""),T}}let Ye=(()=>{class P extends p{constructor(l){super(l)}supports(l){return!0}addEventListener(l,T,U){return l.addEventListener(T,U,!1),()=>this.removeEventListener(l,T,U)}removeEventListener(l,T,U){return l.removeEventListener(T,U)}}return P.\u0275fac=function(l){return new(l||P)($.LFG(D.K0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();const Se=["alt","control","meta","shift"],ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ne={alt:P=>P.altKey,control:P=>P.ctrlKey,meta:P=>P.metaKey,shift:P=>P.shiftKey};let Pe=(()=>{class P extends p{constructor(l){super(l)}supports(l){return null!=P.parseEventName(l)}addEventListener(l,T,U){const Q=P.parseEventName(T),ue=P.eventCallback(Q.fullKey,U,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.q)().onAndCancel(l,Q.domEventName,ue))}static parseEventName(l){const T=l.toLowerCase().split("."),U=T.shift();if(0===T.length||"keydown"!==U&&"keyup"!==U)return null;const Q=P._normalizeKey(T.pop());let ue="",pe=T.indexOf("code");if(pe>-1&&(T.splice(pe,1),ue="code."),Se.forEach($e=>{const at=T.indexOf($e);at>-1&&(T.splice(at,1),ue+=$e+".")}),ue+=Q,0!=T.length||0===Q.length)return null;const Ie={};return Ie.domEventName=U,Ie.fullKey=ue,Ie}static matchEventFullKeyCode(l,T){let U=ie[l.key]||l.key,Q="";return T.indexOf("code.")>-1&&(U=l.code,Q="code."),!(null==U||!U)&&(U=U.toLowerCase()," "===U?U="space":"."===U&&(U="dot"),Se.forEach(ue=>{ue!==U&&(0,Ne[ue])(l)&&(Q+=ue+".")}),Q+=U,Q===T)}static eventCallback(l,T,U){return Q=>{P.matchEventFullKeyCode(Q,l)&&U.runGuarded(()=>T(Q))}}static _normalizeKey(l){return"esc"===l?"escape":l}}return P.\u0275fac=function(l){return new(l||P)($.LFG(D.K0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();const Pt=(0,$.eFA)($._c5,"browser",[{provide:$.Lbi,useValue:D.bD},{provide:$.g9A,useValue:function bt(){c.makeCurrent()},multi:!0},{provide:D.K0,useFactory:function qt(){return(0,$.RDi)(document),document},deps:[]}]),jt=new $.OlP(""),nt=[{provide:$.rWj,useClass:class d{addToWindow(a){$.dqk.getAngularTestability=(T,U=!0)=>{const Q=a.findTestabilityInTree(T,U);if(null==Q)throw new Error("Could not find testability for element.");return Q},$.dqk.getAllAngularTestabilities=()=>a.getAllTestabilities(),$.dqk.getAllAngularRootElements=()=>a.getAllRootElements(),$.dqk.frameworkStabilizers||($.dqk.frameworkStabilizers=[]),$.dqk.frameworkStabilizers.push(T=>{const U=$.dqk.getAllAngularTestabilities();let Q=U.length,ue=!1;const pe=function(Ie){ue=ue||Ie,Q--,0==Q&&T(ue)};U.forEach(function(Ie){Ie.whenStable(pe)})})}findTestabilityInTree(a,l,T){return null==l?null:a.getTestability(l)??(T?(0,D.q)().isShadowRoot(l)?this.findTestabilityInTree(a,l.host,!0):this.findTestabilityInTree(a,l.parentElement,!0):null)}},deps:[]},{provide:$.lri,useClass:$.dDg,deps:[$.R0b,$.eoX,$.rWj]},{provide:$.dDg,useClass:$.dDg,deps:[$.R0b,$.eoX,$.rWj]}],We=[{provide:$.zSh,useValue:"root"},{provide:$.qLn,useFactory:function ht(){return new $.qLn},deps:[]},{provide:f,useClass:Ye,multi:!0,deps:[D.K0,$.R0b,$.Lbi]},{provide:f,useClass:Pe,multi:!0,deps:[D.K0]},{provide:ve,useClass:ve,deps:[u,I,$.AFp,q]},{provide:$.FYo,useExisting:ve},{provide:S,useExisting:I},{provide:I,useClass:I,deps:[D.K0]},{provide:u,useClass:u,deps:[f,$.R0b]},{provide:D.JF,useClass:s,deps:[]},[]];let ot=(()=>{class P{constructor(l){}static withServerTransition(l){return{ngModule:P,providers:[{provide:$.AFp,useValue:l.appId},{provide:b,useExisting:$.AFp},E]}}}return P.\u0275fac=function(l){return new(l||P)($.LFG(jt,12))},P.\u0275mod=$.oAB({type:P}),P.\u0275inj=$.cJS({providers:[...We,...nt],imports:[D.ez,$.hGG]}),P})();typeof window<"u"&&window;var Ti=Z(455),Fi=Z(4859),rr=Z(4144),Ni=Z(4486),pn=Z(4719),Yt=Z(7340);function Qn(P){return new $.vHH(3e3,!1)}function or(){return typeof window<"u"&&typeof window.document<"u"}function ar(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Kt(P){switch(P.length){case 0:return new Yt.ZN;case 1:return P[0];default:return new Yt.ZE(P)}}function ti(P,a,l,T,U=new Map,Q=new Map){const ue=[],pe=[];let Ie=-1,$e=null;if(T.forEach(at=>{const pt=at.get("offset"),Wt=pt==Ie,Ht=Wt&&$e||new Map;at.forEach((Mt,Bt)=>{let un=Bt,nn=Mt;if("offset"!==Bt)switch(un=a.normalizePropertyName(un,ue),nn){case Yt.k1:nn=U.get(Bt);break;case Yt.l3:nn=Q.get(Bt);break;default:nn=a.normalizeStyleValue(Bt,un,nn,ue)}Ht.set(un,nn)}),Wt||pe.push(Ht),$e=Ht,Ie=pt}),ue.length)throw function Ii(P){return new $.vHH(3502,!1)}();return pe}function Hi(P,a,l,T){switch(a){case"start":P.onStart(()=>T(l&&qi(l,"start",P)));break;case"done":P.onDone(()=>T(l&&qi(l,"done",P)));break;case"destroy":P.onDestroy(()=>T(l&&qi(l,"destroy",P)))}}function qi(P,a,l){const Q=Vi(P.element,P.triggerName,P.fromState,P.toState,a||P.phaseName,l.totalTime??P.totalTime,!!l.disabled),ue=P._data;return null!=ue&&(Q._data=ue),Q}function Vi(P,a,l,T,U="",Q=0,ue){return{element:P,triggerName:a,fromState:l,toState:T,phaseName:U,totalTime:Q,disabled:!!ue}}function Sn(P,a,l){let T=P.get(a);return T||P.set(a,T=l),T}function fi(P){const a=P.indexOf(":");return[P.substring(1,a),P.slice(a+1)]}let Cn=(P,a)=>!1,us=(P,a,l)=>[],An=null;function Bn(P){const a=P.parentNode||P.host;return a===An?null:a}(ar()||typeof Element<"u")&&(or()?(An=(()=>document.documentElement)(),Cn=(P,a)=>{for(;a;){if(a===P)return!0;a=Bn(a)}return!1}):Cn=(P,a)=>P.contains(a),us=(P,a,l)=>{if(l)return Array.from(P.querySelectorAll(a));const T=P.querySelector(a);return T?[T]:[]});let ci=null,Hn=!1;const Zi=Cn,Ce=us;let j=(()=>{class P{validateStyleProperty(l){return function ds(P){ci||(ci=function fs(){return typeof document<"u"?document.body:null}()||{},Hn=!!ci.style&&"WebkitAppearance"in ci.style);let a=!0;return ci.style&&!function lr(P){return"ebkit"==P.substring(1,6)}(P)&&(a=P in ci.style,!a&&Hn&&(a="Webkit"+P.charAt(0).toUpperCase()+P.slice(1)in ci.style)),a}(l)}matchesElement(l,T){return!1}containsElement(l,T){return Zi(l,T)}getParentElement(l){return Bn(l)}query(l,T,U){return Ce(l,T,U)}computeStyle(l,T,U){return U||""}animate(l,T,U,Q,ue,pe=[],Ie){return new Yt.ZN(U,Q)}}return P.\u0275fac=function(l){return new(l||P)},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})(),ee=(()=>{class P{}return P.NOOP=new j,P})();const me=1e3,xt="ng-enter",Nt="ng-leave",In="ng-trigger",Oi=".ng-trigger",Gr="ng-animating",kr=".ng-animating";function pi(P){if("number"==typeof P)return P;const a=P.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:ps(parseFloat(a[1]),a[2])}function ps(P,a){return"s"===a?P*me:P}function _s(P,a,l){return P.hasOwnProperty("duration")?P:function Ms(P,a,l){let U,Q=0,ue="";if("string"==typeof P){const pe=P.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===pe)return a.push(Qn()),{duration:0,delay:0,easing:""};U=ps(parseFloat(pe[1]),pe[2]);const Ie=pe[3];null!=Ie&&(Q=ps(parseFloat(Ie),pe[4]));const $e=pe[5];$e&&(ue=$e)}else U=P;if(!l){let pe=!1,Ie=a.length;U<0&&(a.push(function Xn(){return new $.vHH(3100,!1)}()),pe=!0),Q<0&&(a.push(function si(){return new $.vHH(3101,!1)}()),pe=!0),pe&&a.splice(Ie,0,Qn())}return{duration:U,delay:Q,easing:ue}}(P,a,l)}function Ci(P,a={}){return Object.keys(P).forEach(l=>{a[l]=P[l]}),a}function gs(P){const a=new Map;return Object.keys(P).forEach(l=>{a.set(l,P[l])}),a}function Qi(P,a=new Map,l){if(l)for(let[T,U]of l)a.set(T,U);for(let[T,U]of P)a.set(T,U);return a}function Pr(P,a,l){return l?a+":"+l+";":""}function Yr(P){let a="";for(let l=0;l<P.style.length;l++){const T=P.style.item(l);a+=Pr(0,T,P.style.getPropertyValue(T))}for(const l in P.style)P.style.hasOwnProperty(l)&&!l.startsWith("_")&&(a+=Pr(0,Rn(l),P.style[l]));P.setAttribute("style",a)}function _i(P,a,l){P.style&&(a.forEach((T,U)=>{const Q=ur(U);l&&!l.has(U)&&l.set(U,P.style[Q]),P.style[Q]=T}),ar()&&Yr(P))}function Xi(P,a){P.style&&(a.forEach((l,T)=>{const U=ur(T);P.style[U]=""}),ar()&&Yr(P))}function cr(P){return Array.isArray(P)?1==P.length?P[0]:(0,Yt.vP)(P):P}const Vn=new RegExp("{{\\s*(.+?)\\s*}}","g");function qr(P){let a=[];if("string"==typeof P){let l;for(;l=Vn.exec(P);)a.push(l[1]);Vn.lastIndex=0}return a}function Ji(P,a,l){const T=P.toString(),U=T.replace(Vn,(Q,ue)=>{let pe=a[ue];return null==pe&&(l.push(function hi(P){return new $.vHH(3003,!1)}()),pe=""),pe.toString()});return U==T?P:U}function gn(P){const a=[];let l=P.next();for(;!l.done;)a.push(l.value),l=P.next();return a}const wr=/-+([a-z0-9])/g;function ur(P){return P.replace(wr,(...a)=>a[1].toUpperCase())}function Rn(P){return P.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kn(P,a,l){switch(a.type){case 7:return P.visitTrigger(a,l);case 0:return P.visitState(a,l);case 1:return P.visitTransition(a,l);case 2:return P.visitSequence(a,l);case 3:return P.visitGroup(a,l);case 4:return P.visitAnimate(a,l);case 5:return P.visitKeyframes(a,l);case 6:return P.visitStyle(a,l);case 8:return P.visitReference(a,l);case 9:return P.visitAnimateChild(a,l);case 10:return P.visitAnimateRef(a,l);case 11:return P.visitQuery(a,l);case 12:return P.visitStagger(a,l);default:throw function Le(P){return new $.vHH(3004,!1)}()}}function Gn(P,a){return window.getComputedStyle(P)[a]}const Fr="*";function Da(P,a){const l=[];return"string"==typeof P?P.split(/\s*,\s*/).forEach(T=>function io(P,a,l){if(":"==P[0]){const Ie=function ro(P,a){switch(P){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,T)=>parseFloat(T)>parseFloat(l);case":decrement":return(l,T)=>parseFloat(T)<parseFloat(l);default:return a.push(function ln(P){return new $.vHH(3016,!1)}()),"* => *"}}(P,l);if("function"==typeof Ie)return void a.push(Ie);P=Ie}const T=P.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==T||T.length<4)return l.push(function Tt(P){return new $.vHH(3015,!1)}()),a;const U=T[1],Q=T[2],ue=T[3];a.push(F(U,ue));"<"==Q[0]&&!(U==Fr&&ue==Fr)&&a.push(F(ue,U))}(T,l,a)):l.push(P),l}const Nr=new Set(["true","1"]),H=new Set(["false","0"]);function F(P,a){const l=Nr.has(P)||H.has(P),T=Nr.has(a)||H.has(a);return(U,Q)=>{let ue=P==Fr||P==U,pe=a==Fr||a==Q;return!ue&&l&&"boolean"==typeof U&&(ue=U?Nr.has(P):H.has(P)),!pe&&T&&"boolean"==typeof Q&&(pe=Q?Nr.has(a):H.has(a)),ue&&pe}}const O=":self",z=new RegExp(`s*${O}s*,?`,"g");function xe(P,a,l,T){return new hn(P).build(a,l,T)}class hn{constructor(a){this._driver=a}build(a,l,T){const U=new wi(l);return this._resetContextStyleTimingState(U),kn(this,cr(a),U)}_resetContextStyleTimingState(a){a.currentQuerySelector="",a.collectedStyles=new Map,a.collectedStyles.set("",new Map),a.currentTime=0}visitTrigger(a,l){let T=l.queryCount=0,U=l.depCount=0;const Q=[],ue=[];return"@"==a.name.charAt(0)&&l.errors.push(function ce(){return new $.vHH(3006,!1)}()),a.definitions.forEach(pe=>{if(this._resetContextStyleTimingState(l),0==pe.type){const Ie=pe,$e=Ie.name;$e.toString().split(/\s*,\s*/).forEach(at=>{Ie.name=at,Q.push(this.visitState(Ie,l))}),Ie.name=$e}else if(1==pe.type){const Ie=this.visitTransition(pe,l);T+=Ie.queryCount,U+=Ie.depCount,ue.push(Ie)}else l.errors.push(function Ae(){return new $.vHH(3007,!1)}())}),{type:7,name:a.name,states:Q,transitions:ue,queryCount:T,depCount:U,options:null}}visitState(a,l){const T=this.visitStyle(a.styles,l),U=a.options&&a.options.params||null;if(T.containsDynamicStyles){const Q=new Set,ue=U||{};T.styles.forEach(pe=>{pe instanceof Map&&pe.forEach(Ie=>{qr(Ie).forEach($e=>{ue.hasOwnProperty($e)||Q.add($e)})})}),Q.size&&(gn(Q.values()),l.errors.push(function Fe(P,a){return new $.vHH(3008,!1)}()))}return{type:0,name:a.name,style:T,options:U?{params:U}:null}}visitTransition(a,l){l.queryCount=0,l.depCount=0;const T=kn(this,cr(a.animation),l);return{type:1,matchers:Da(a.expr,l.errors),animation:T,queryCount:l.queryCount,depCount:l.depCount,options:Ui(a.options)}}visitSequence(a,l){return{type:2,steps:a.steps.map(T=>kn(this,T,l)),options:Ui(a.options)}}visitGroup(a,l){const T=l.currentTime;let U=0;const Q=a.steps.map(ue=>{l.currentTime=T;const pe=kn(this,ue,l);return U=Math.max(U,l.currentTime),pe});return l.currentTime=U,{type:3,steps:Q,options:Ui(a.options)}}visitAnimate(a,l){const T=function ms(P,a){if(P.hasOwnProperty("duration"))return P;if("number"==typeof P)return so(_s(P,a).duration,0,"");const l=P;if(l.split(/\s+/).some(Q=>"{"==Q.charAt(0)&&"{"==Q.charAt(1))){const Q=so(0,0,"");return Q.dynamic=!0,Q.strValue=l,Q}const U=_s(l,a);return so(U.duration,U.delay,U.easing)}(a.timings,l.errors);l.currentAnimateTimings=T;let U,Q=a.styles?a.styles:(0,Yt.oB)({});if(5==Q.type)U=this.visitKeyframes(Q,l);else{let ue=a.styles,pe=!1;if(!ue){pe=!0;const $e={};T.easing&&($e.easing=T.easing),ue=(0,Yt.oB)($e)}l.currentTime+=T.duration+T.delay;const Ie=this.visitStyle(ue,l);Ie.isEmptyStep=pe,U=Ie}return l.currentAnimateTimings=null,{type:4,timings:T,style:U,options:null}}visitStyle(a,l){const T=this._makeStyleAst(a,l);return this._validateStyleAst(T,l),T}_makeStyleAst(a,l){const T=[],U=Array.isArray(a.styles)?a.styles:[a.styles];for(let pe of U)"string"==typeof pe?pe===Yt.l3?T.push(pe):l.errors.push(new $.vHH(3002,!1)):T.push(gs(pe));let Q=!1,ue=null;return T.forEach(pe=>{if(pe instanceof Map&&(pe.has("easing")&&(ue=pe.get("easing"),pe.delete("easing")),!Q))for(let Ie of pe.values())if(Ie.toString().indexOf("{{")>=0){Q=!0;break}}),{type:6,styles:T,easing:ue,offset:a.offset,containsDynamicStyles:Q,options:null}}_validateStyleAst(a,l){const T=l.currentAnimateTimings;let U=l.currentTime,Q=l.currentTime;T&&Q>0&&(Q-=T.duration+T.delay),a.styles.forEach(ue=>{"string"!=typeof ue&&ue.forEach((pe,Ie)=>{const $e=l.collectedStyles.get(l.currentQuerySelector),at=$e.get(Ie);let pt=!0;at&&(Q!=U&&Q>=at.startTime&&U<=at.endTime&&(l.errors.push(function Gt(P,a,l,T,U){return new $.vHH(3010,!1)}()),pt=!1),Q=at.startTime),pt&&$e.set(Ie,{startTime:Q,endTime:U}),l.options&&function Cr(P,a,l){const T=a.params||{},U=qr(P);U.length&&U.forEach(Q=>{T.hasOwnProperty(Q)||l.push(function Jn(P){return new $.vHH(3001,!1)}())})}(pe,l.options,l.errors)})})}visitKeyframes(a,l){const T={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function sn(){return new $.vHH(3011,!1)}()),T;let Q=0;const ue=[];let pe=!1,Ie=!1,$e=0;const at=a.steps.map(nn=>{const Mn=this._makeStyleAst(nn,l);let mi=null!=Mn.offset?Mn.offset:function jn(P){if("string"==typeof P)return null;let a=null;if(Array.isArray(P))P.forEach(l=>{if(l instanceof Map&&l.has("offset")){const T=l;a=parseFloat(T.get("offset")),T.delete("offset")}});else if(P instanceof Map&&P.has("offset")){const l=P;a=parseFloat(l.get("offset")),l.delete("offset")}return a}(Mn.styles),di=0;return null!=mi&&(Q++,di=Mn.offset=mi),Ie=Ie||di<0||di>1,pe=pe||di<$e,$e=di,ue.push(di),Mn});Ie&&l.errors.push(function oi(){return new $.vHH(3012,!1)}()),pe&&l.errors.push(function Lr(){return new $.vHH(3200,!1)}());const pt=a.steps.length;let Wt=0;Q>0&&Q<pt?l.errors.push(function Ai(){return new $.vHH(3202,!1)}()):0==Q&&(Wt=1/(pt-1));const Ht=pt-1,Mt=l.currentTime,Bt=l.currentAnimateTimings,un=Bt.duration;return at.forEach((nn,Mn)=>{const mi=Wt>0?Mn==Ht?1:Wt*Mn:ue[Mn],di=mi*un;l.currentTime=Mt+Bt.delay+di,Bt.duration=di,this._validateStyleAst(nn,l),nn.offset=mi,T.styles.push(nn)}),T}visitReference(a,l){return{type:8,animation:kn(this,cr(a.animation),l),options:Ui(a.options)}}visitAnimateChild(a,l){return l.depCount++,{type:9,options:Ui(a.options)}}visitAnimateRef(a,l){return{type:10,animation:this.visitReference(a.animation,l),options:Ui(a.options)}}visitQuery(a,l){const T=l.currentQuerySelector,U=a.options||{};l.queryCount++,l.currentQuery=a;const[Q,ue]=function Jt(P){const a=!!P.split(/\s*,\s*/).find(l=>l==O);return a&&(P=P.replace(z,"")),P=P.replace(/@\*/g,Oi).replace(/@\w+/g,l=>Oi+"-"+l.slice(1)).replace(/:animating/g,kr),[P,a]}(a.selector);l.currentQuerySelector=T.length?T+" "+Q:Q,Sn(l.collectedStyles,l.currentQuerySelector,new Map);const pe=kn(this,cr(a.animation),l);return l.currentQuery=null,l.currentQuerySelector=T,{type:11,selector:Q,limit:U.limit||0,optional:!!U.optional,includeSelf:ue,animation:pe,originalSelector:a.selector,options:Ui(a.options)}}visitStagger(a,l){l.currentQuery||l.errors.push(function ei(){return new $.vHH(3013,!1)}());const T="full"===a.timings?{duration:0,delay:0,easing:"full"}:_s(a.timings,l.errors,!0);return{type:12,animation:kn(this,cr(a.animation),l),timings:T,options:null}}}class wi{constructor(a){this.errors=a,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ui(P){return P?(P=Ci(P)).params&&(P.params=function hr(P){return P?Ci(P):null}(P.params)):P={},P}function so(P,a,l){return{duration:P,delay:a,easing:l}}function Rs(P,a,l,T,U,Q,ue=null,pe=!1){return{type:1,element:P,keyframes:a,preStyleProps:l,postStyleProps:T,duration:U,delay:Q,totalTime:U+Q,easing:ue,subTimeline:pe}}class Xr{constructor(){this._map=new Map}get(a){return this._map.get(a)||[]}append(a,l){let T=this._map.get(a);T||this._map.set(a,T=[]),T.push(...l)}has(a){return this._map.has(a)}clear(){this._map.clear()}}const Br=new RegExp(":enter","g"),fr=new RegExp(":leave","g");function vs(P,a,l,T,U,Q=new Map,ue=new Map,pe,Ie,$e=[]){return(new Ls).buildKeyframes(P,a,l,T,U,Q,ue,pe,Ie,$e)}class Ls{buildKeyframes(a,l,T,U,Q,ue,pe,Ie,$e,at=[]){$e=$e||new Xr;const pt=new oo(a,l,$e,U,Q,at,[]);pt.options=Ie;const Wt=Ie.delay?pi(Ie.delay):0;pt.currentTimeline.delayNextStep(Wt),pt.currentTimeline.setStyles([ue],null,pt.errors,Ie),kn(this,T,pt);const Ht=pt.timelines.filter(Mt=>Mt.containsAnimation());if(Ht.length&&pe.size){let Mt;for(let Bt=Ht.length-1;Bt>=0;Bt--){const un=Ht[Bt];if(un.element===l){Mt=un;break}}Mt&&!Mt.allowOnlyTimelineStyles()&&Mt.setStyles([pe],null,pt.errors,Ie)}return Ht.length?Ht.map(Mt=>Mt.buildKeyframes()):[Rs(l,[],[],[],0,Wt,"",!1)]}visitTrigger(a,l){}visitState(a,l){}visitTransition(a,l){}visitAnimateChild(a,l){const T=l.subInstructions.get(l.element);if(T){const U=l.createSubContext(a.options),Q=l.currentTimeline.currentTime,ue=this._visitSubInstructions(T,U,U.options);Q!=ue&&l.transformIntoNewTimeline(ue)}l.previousNode=a}visitAnimateRef(a,l){const T=l.createSubContext(a.options);T.transformIntoNewTimeline(),this._applyAnimationRefDelays([a.options,a.animation.options],l,T),this.visitReference(a.animation,T),l.transformIntoNewTimeline(T.currentTimeline.currentTime),l.previousNode=a}_applyAnimationRefDelays(a,l,T){for(const U of a){const Q=U?.delay;if(Q){const ue="number"==typeof Q?Q:pi(Ji(Q,U?.params??{},l.errors));T.delayNextStep(ue)}}}_visitSubInstructions(a,l,T){let Q=l.currentTimeline.currentTime;const ue=null!=T.duration?pi(T.duration):null,pe=null!=T.delay?pi(T.delay):null;return 0!==ue&&a.forEach(Ie=>{const $e=l.appendInstructionToTimeline(Ie,ue,pe);Q=Math.max(Q,$e.duration+$e.delay)}),Q}visitReference(a,l){l.updateOptions(a.options,!0),kn(this,a.animation,l),l.previousNode=a}visitSequence(a,l){const T=l.subContextCount;let U=l;const Q=a.options;if(Q&&(Q.params||Q.delay)&&(U=l.createSubContext(Q),U.transformIntoNewTimeline(),null!=Q.delay)){6==U.previousNode.type&&(U.currentTimeline.snapshotCurrentStyles(),U.previousNode=Os);const ue=pi(Q.delay);U.delayNextStep(ue)}a.steps.length&&(a.steps.forEach(ue=>kn(this,ue,U)),U.currentTimeline.applyStylesToKeyframe(),U.subContextCount>T&&U.transformIntoNewTimeline()),l.previousNode=a}visitGroup(a,l){const T=[];let U=l.currentTimeline.currentTime;const Q=a.options&&a.options.delay?pi(a.options.delay):0;a.steps.forEach(ue=>{const pe=l.createSubContext(a.options);Q&&pe.delayNextStep(Q),kn(this,ue,pe),U=Math.max(U,pe.currentTimeline.currentTime),T.push(pe.currentTimeline)}),T.forEach(ue=>l.currentTimeline.mergeTimelineCollectedStyles(ue)),l.transformIntoNewTimeline(U),l.previousNode=a}_visitTiming(a,l){if(a.dynamic){const T=a.strValue;return _s(l.params?Ji(T,l.params,l.errors):T,l.errors)}return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,l){const T=l.currentAnimateTimings=this._visitTiming(a.timings,l),U=l.currentTimeline;T.delay&&(l.incrementTime(T.delay),U.snapshotCurrentStyles());const Q=a.style;5==Q.type?this.visitKeyframes(Q,l):(l.incrementTime(T.duration),this.visitStyle(Q,l),U.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=a}visitStyle(a,l){const T=l.currentTimeline,U=l.currentAnimateTimings;!U&&T.hasCurrentStyleProperties()&&T.forwardFrame();const Q=U&&U.easing||a.easing;a.isEmptyStep?T.applyEmptyStep(Q):T.setStyles(a.styles,Q,l.errors,l.options),l.previousNode=a}visitKeyframes(a,l){const T=l.currentAnimateTimings,U=l.currentTimeline.duration,Q=T.duration,pe=l.createSubContext().currentTimeline;pe.easing=T.easing,a.styles.forEach(Ie=>{pe.forwardTime((Ie.offset||0)*Q),pe.setStyles(Ie.styles,Ie.easing,l.errors,l.options),pe.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(pe),l.transformIntoNewTimeline(U+Q),l.previousNode=a}visitQuery(a,l){const T=l.currentTimeline.currentTime,U=a.options||{},Q=U.delay?pi(U.delay):0;Q&&(6===l.previousNode.type||0==T&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Os);let ue=T;const pe=l.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!U.optional,l.errors);l.currentQueryTotal=pe.length;let Ie=null;pe.forEach(($e,at)=>{l.currentQueryIndex=at;const pt=l.createSubContext(a.options,$e);Q&&pt.delayNextStep(Q),$e===l.element&&(Ie=pt.currentTimeline),kn(this,a.animation,pt),pt.currentTimeline.applyStylesToKeyframe(),ue=Math.max(ue,pt.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(ue),Ie&&(l.currentTimeline.mergeTimelineCollectedStyles(Ie),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=a}visitStagger(a,l){const T=l.parentContext,U=l.currentTimeline,Q=a.timings,ue=Math.abs(Q.duration),pe=ue*(l.currentQueryTotal-1);let Ie=ue*l.currentQueryIndex;switch(Q.duration<0?"reverse":Q.easing){case"reverse":Ie=pe-Ie;break;case"full":Ie=T.currentStaggerTime}const at=l.currentTimeline;Ie&&at.delayNextStep(Ie);const pt=at.currentTime;kn(this,a.animation,l),l.previousNode=a,T.currentStaggerTime=U.currentTime-pt+(U.startTime-T.currentTimeline.startTime)}}const Os={};class oo{constructor(a,l,T,U,Q,ue,pe,Ie){this._driver=a,this.element=l,this.subInstructions=T,this._enterClassName=U,this._leaveClassName=Q,this.errors=ue,this.timelines=pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Os,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ie||new Hr(this._driver,l,0),pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,l){if(!a)return;const T=a;let U=this.options;null!=T.duration&&(U.duration=pi(T.duration)),null!=T.delay&&(U.delay=pi(T.delay));const Q=T.params;if(Q){let ue=U.params;ue||(ue=this.options.params={}),Object.keys(Q).forEach(pe=>{(!l||!ue.hasOwnProperty(pe))&&(ue[pe]=Ji(Q[pe],ue,this.errors))})}}_copyOptions(){const a={};if(this.options){const l=this.options.params;if(l){const T=a.params={};Object.keys(l).forEach(U=>{T[U]=l[U]})}}return a}createSubContext(a=null,l,T){const U=l||this.element,Q=new oo(this._driver,U,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(U,T||0));return Q.previousNode=this.previousNode,Q.currentAnimateTimings=this.currentAnimateTimings,Q.options=this._copyOptions(),Q.updateOptions(a),Q.currentQueryIndex=this.currentQueryIndex,Q.currentQueryTotal=this.currentQueryTotal,Q.parentContext=this,this.subContextCount++,Q}transformIntoNewTimeline(a){return this.previousNode=Os,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,l,T){const U={duration:l??a.duration,delay:this.currentTimeline.currentTime+(T??0)+a.delay,easing:""},Q=new bs(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,U,a.stretchStartingKeyframe);return this.timelines.push(Q),U}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,l,T,U,Q,ue){let pe=[];if(U&&pe.push(this.element),a.length>0){a=(a=a.replace(Br,"."+this._enterClassName)).replace(fr,"."+this._leaveClassName);let $e=this._driver.query(this.element,a,1!=T);0!==T&&($e=T<0?$e.slice($e.length+T,$e.length):$e.slice(0,T)),pe.push(...$e)}return!Q&&0==pe.length&&ue.push(function ct(P){return new $.vHH(3014,!1)}()),pe}}class Hr{constructor(a,l,T,U){this._driver=a,this.element=l,this.startTime=T,this._elementTimelineStylesLookup=U,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(a){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+a),l&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,l){return this.applyStylesToKeyframe(),new Hr(this._driver,a,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,l){this._localTimelineStyles.set(a,l),this._globalTimelineStyles.set(a,l),this._styleSummary.set(a,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&this._previousKeyframe.set("easing",a);for(let[l,T]of this._globalTimelineStyles)this._backFill.set(l,T||Yt.l3),this._currentKeyframe.set(l,Yt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,l,T,U){l&&this._previousKeyframe.set("easing",l);const Q=U&&U.params||{},ue=function lo(P,a){const l=new Map;let T;return P.forEach(U=>{if("*"===U){T=T||a.keys();for(let Q of T)l.set(Q,Yt.l3)}else Qi(U,l)}),l}(a,this._globalTimelineStyles);for(let[pe,Ie]of ue){const $e=Ji(Ie,Q,T);this._pendingStyles.set(pe,$e),this._localTimelineStyles.has(pe)||this._backFill.set(pe,this._globalTimelineStyles.get(pe)??Yt.l3),this._updateStyle(pe,$e)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((a,l)=>{this._currentKeyframe.set(l,a)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((a,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,a)}))}snapshotCurrentStyles(){for(let[a,l]of this._localTimelineStyles)this._pendingStyles.set(a,l),this._updateStyle(a,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const a=[];for(let l in this._currentKeyframe)a.push(l);return a}mergeTimelineCollectedStyles(a){a._styleSummary.forEach((l,T)=>{const U=this._styleSummary.get(T);(!U||l.time>U.time)&&this._updateStyle(T,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const a=new Set,l=new Set,T=1===this._keyframes.size&&0===this.duration;let U=[];this._keyframes.forEach((pe,Ie)=>{const $e=Qi(pe,new Map,this._backFill);$e.forEach((at,pt)=>{at===Yt.k1?a.add(pt):at===Yt.l3&&l.add(pt)}),T||$e.set("offset",Ie/this.duration),U.push($e)});const Q=a.size?gn(a.values()):[],ue=l.size?gn(l.values()):[];if(T){const pe=U[0],Ie=new Map(pe);pe.set("offset",0),Ie.set("offset",1),U=[pe,Ie]}return Rs(this.element,U,Q,ue,this.duration,this.startTime,this.easing,!1)}}class bs extends Hr{constructor(a,l,T,U,Q,ue,pe=!1){super(a,l,ue.delay),this.keyframes=T,this.preStyleProps=U,this.postStyleProps=Q,this._stretchStartingKeyframe=pe,this.timings={duration:ue.duration,delay:ue.delay,easing:ue.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:l,duration:T,easing:U}=this.timings;if(this._stretchStartingKeyframe&&l){const Q=[],ue=T+l,pe=l/ue,Ie=Qi(a[0]);Ie.set("offset",0),Q.push(Ie);const $e=Qi(a[0]);$e.set("offset",ao(pe)),Q.push($e);const at=a.length-1;for(let pt=1;pt<=at;pt++){let Wt=Qi(a[pt]);const Ht=Wt.get("offset");Wt.set("offset",ao((l+Ht*T)/ue)),Q.push(Wt)}T=ue,l=0,U="",a=Q}return Rs(this.element,a,this.preStyleProps,this.postStyleProps,T,l,U,!0)}}function ao(P,a=3){const l=Math.pow(10,a-1);return Math.round(P*l)/l}class ks{}const zo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Wo extends ks{normalizePropertyName(a,l){return ur(a)}normalizeStyleValue(a,l,T,U){let Q="";const ue=T.toString().trim();if(zo.has(l)&&0!==T&&"0"!==T)if("number"==typeof T)Q="px";else{const pe=T.match(/^[+-]?[\d\.]+([a-z]*)$/);pe&&0==pe[1].length&&U.push(function he(P,a){return new $.vHH(3005,!1)}())}return ue+Q}}function co(P,a,l,T,U,Q,ue,pe,Ie,$e,at,pt,Wt){return{type:0,element:P,triggerName:a,isRemovalTransition:U,fromState:l,fromStyles:Q,toState:T,toStyles:ue,timelines:pe,queriedElements:Ie,preStyleProps:$e,postStyleProps:at,totalTime:pt,errors:Wt}}const Ps={};class Fs{constructor(a,l,T){this._triggerName=a,this.ast=l,this._stateStyles=T}match(a,l,T,U){return function Ta(P,a,l,T,U){return P.some(Q=>Q(a,l,T,U))}(this.ast.matchers,a,l,T,U)}buildStyles(a,l,T){let U=this._stateStyles.get("*");return void 0!==a&&(U=this._stateStyles.get(a?.toString())||U),U?U.buildStyles(l,T):new Map}build(a,l,T,U,Q,ue,pe,Ie,$e,at){const pt=[],Wt=this.ast.options&&this.ast.options.params||Ps,Mt=this.buildStyles(T,pe&&pe.params||Ps,pt),Bt=Ie&&Ie.params||Ps,un=this.buildStyles(U,Bt,pt),nn=new Set,Mn=new Map,mi=new Map,di="void"===U,rs={params:ii(Bt,Wt),delay:this.ast.options?.delay},gr=at?[]:vs(a,l,this.ast.animation,Q,ue,Mt,un,rs,$e,pt);let Si=0;if(gr.forEach(Dr=>{Si=Math.max(Dr.duration+Dr.delay,Si)}),pt.length)return co(l,this._triggerName,T,U,di,Mt,un,[],[],Mn,mi,Si,pt);gr.forEach(Dr=>{const Mr=Dr.element,Ks=Sn(Mn,Mr,new Set);Dr.preStyleProps.forEach(ss=>Ks.add(ss));const Cs=Sn(mi,Mr,new Set);Dr.postStyleProps.forEach(ss=>Cs.add(ss)),Mr!==l&&nn.add(Mr)});const Sr=gn(nn.values());return co(l,this._triggerName,T,U,di,Mt,un,gr,Sr,Mn,mi,Si)}}function ii(P,a){const l=Ci(a);for(const T in P)P.hasOwnProperty(T)&&null!=P[T]&&(l[T]=P[T]);return l}class Er{constructor(a,l,T){this.styles=a,this.defaultParams=l,this.normalizer=T}buildStyles(a,l){const T=new Map,U=Ci(this.defaultParams);return Object.keys(a).forEach(Q=>{const ue=a[Q];null!==ue&&(U[Q]=ue)}),this.styles.styles.forEach(Q=>{"string"!=typeof Q&&Q.forEach((ue,pe)=>{ue&&(ue=Ji(ue,U,l));const Ie=this.normalizer.normalizePropertyName(pe,l);ue=this.normalizer.normalizeStyleValue(pe,Ie,ue,l),T.set(pe,ue)})}),T}}class xa{constructor(a,l,T){this.name=a,this.ast=l,this._normalizer=T,this.transitionFactories=[],this.states=new Map,l.states.forEach(U=>{this.states.set(U.name,new Er(U.style,U.options&&U.options.params||{},T))}),Go(this.states,"true","1"),Go(this.states,"false","0"),l.transitions.forEach(U=>{this.transitionFactories.push(new Fs(a,U,this.states))}),this.fallbackTransition=function Aa(P,a,l){return new Fs(P,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ue,pe)=>!0],options:null,queryCount:0,depCount:0},a)}(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,l,T,U){return this.transitionFactories.find(ue=>ue.match(a,l,T,U))||null}matchStyles(a,l,T){return this.fallbackTransition.buildStyles(a,l,T)}}function Go(P,a,l){P.has(a)?P.has(l)||P.set(l,P.get(a)):P.has(l)&&P.set(a,P.get(l))}const Ia=new Xr;class Ra{constructor(a,l,T){this.bodyNode=a,this._driver=l,this._normalizer=T,this._animations=new Map,this._playersById=new Map,this.players=[]}register(a,l){const T=[],U=[],Q=xe(this._driver,l,T,U);if(T.length)throw function Zt(P){return new $.vHH(3503,!1)}();this._animations.set(a,Q)}_buildPlayer(a,l,T){const U=a.element,Q=ti(0,this._normalizer,0,a.keyframes,l,T);return this._driver.animate(U,Q,a.duration,a.delay,a.easing,[],!0)}create(a,l,T={}){const U=[],Q=this._animations.get(a);let ue;const pe=new Map;if(Q?(ue=vs(this._driver,l,Q,xt,Nt,new Map,new Map,T,Ia,U),ue.forEach(at=>{const pt=Sn(pe,at.element,new Map);at.postStyleProps.forEach(Wt=>pt.set(Wt,null))})):(U.push(function Wn(){return new $.vHH(3300,!1)}()),ue=[]),U.length)throw function ai(P){return new $.vHH(3504,!1)}();pe.forEach((at,pt)=>{at.forEach((Wt,Ht)=>{at.set(Ht,this._driver.computeStyle(pt,Ht,Yt.l3))})});const $e=Kt(ue.map(at=>{const pt=pe.get(at.element);return this._buildPlayer(at,new Map,pt)}));return this._playersById.set(a,$e),$e.onDestroy(()=>this.destroy(a)),this.players.push($e),$e}destroy(a){const l=this._getPlayer(a);l.destroy(),this._playersById.delete(a);const T=this.players.indexOf(l);T>=0&&this.players.splice(T,1)}_getPlayer(a){const l=this._playersById.get(a);if(!l)throw function kt(P){return new $.vHH(3301,!1)}();return l}listen(a,l,T,U){const Q=Vi(l,"","","");return Hi(this._getPlayer(a),T,Q,U),()=>{}}command(a,l,T,U){if("register"==T)return void this.register(a,U[0]);if("create"==T)return void this.create(a,l,U[0]||{});const Q=this._getPlayer(a);switch(T){case"play":Q.play();break;case"pause":Q.pause();break;case"reset":Q.reset();break;case"restart":Q.restart();break;case"finish":Q.finish();break;case"init":Q.init();break;case"setPosition":Q.setPosition(parseFloat(U[0]));break;case"destroy":this.destroy(a)}}}const Ko="ng-animate-queued",es="ng-animate-disabled",N=[],te={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},He="__ng_removed";class Ze{get params(){return this.options.params}constructor(a,l=""){this.namespaceId=l;const T=a&&a.hasOwnProperty("value");if(this.value=function an(P){return P??null}(T?a.value:a),T){const Q=Ci(a);delete Q.value,this.options=Q}else this.options={};this.options.params||(this.options.params={})}absorbOptions(a){const l=a.params;if(l){const T=this.options.params;Object.keys(l).forEach(U=>{null==T[U]&&(T[U]=l[U])})}}}const ft="void",on=new Ze(ft);class cn{constructor(a,l,T){this.id=a,this.hostElement=l,this._engine=T,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+a,wn(l,this._hostClassName)}listen(a,l,T,U){if(!this._triggers.has(l))throw function Bi(P,a){return new $.vHH(3302,!1)}();if(null==T||0==T.length)throw function li(P){return new $.vHH(3303,!1)}();if(!function tr(P){return"start"==P||"done"==P}(T))throw function sr(P,a){return new $.vHH(3400,!1)}();const Q=Sn(this._elementListeners,a,[]),ue={name:l,phase:T,callback:U};Q.push(ue);const pe=Sn(this._engine.statesByElement,a,new Map);return pe.has(l)||(wn(a,In),wn(a,In+"-"+l),pe.set(l,on)),()=>{this._engine.afterFlush(()=>{const Ie=Q.indexOf(ue);Ie>=0&&Q.splice(Ie,1),this._triggers.has(l)||pe.delete(l)})}}register(a,l){return!this._triggers.has(a)&&(this._triggers.set(a,l),!0)}_getTrigger(a){const l=this._triggers.get(a);if(!l)throw function Ri(P){return new $.vHH(3401,!1)}();return l}trigger(a,l,T,U=!0){const Q=this._getTrigger(l),ue=new zt(this.id,l,a);let pe=this._engine.statesByElement.get(a);pe||(wn(a,In),wn(a,In+"-"+l),this._engine.statesByElement.set(a,pe=new Map));let Ie=pe.get(l);const $e=new Ze(T,this.id);if(!(T&&T.hasOwnProperty("value"))&&Ie&&$e.absorbOptions(Ie.options),pe.set(l,$e),Ie||(Ie=on),$e.value!==ft&&Ie.value===$e.value){if(!function Lu(P,a){const l=Object.keys(P),T=Object.keys(a);if(l.length!=T.length)return!1;for(let U=0;U<l.length;U++){const Q=l[U];if(!a.hasOwnProperty(Q)||P[Q]!==a[Q])return!1}return!0}(Ie.params,$e.params)){const Bt=[],un=Q.matchStyles(Ie.value,Ie.params,Bt),nn=Q.matchStyles($e.value,$e.params,Bt);Bt.length?this._engine.reportError(Bt):this._engine.afterFlush(()=>{Xi(a,un),_i(a,nn)})}return}const Wt=Sn(this._engine.playersByElement,a,[]);Wt.forEach(Bt=>{Bt.namespaceId==this.id&&Bt.triggerName==l&&Bt.queued&&Bt.destroy()});let Ht=Q.matchTransition(Ie.value,$e.value,a,$e.params),Mt=!1;if(!Ht){if(!U)return;Ht=Q.fallbackTransition,Mt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:l,transition:Ht,fromState:Ie,toState:$e,player:ue,isFallbackTransition:Mt}),Mt||(wn(a,Ko),ue.onStart(()=>{Ei(a,Ko)})),ue.onDone(()=>{let Bt=this.players.indexOf(ue);Bt>=0&&this.players.splice(Bt,1);const un=this._engine.playersByElement.get(a);if(un){let nn=un.indexOf(ue);nn>=0&&un.splice(nn,1)}}),this.players.push(ue),Wt.push(ue),ue}deregister(a){this._triggers.delete(a),this._engine.statesByElement.forEach(l=>l.delete(a)),this._elementListeners.forEach((l,T)=>{this._elementListeners.set(T,l.filter(U=>U.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);const l=this._engine.playersByElement.get(a);l&&(l.forEach(T=>T.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,l){const T=this._engine.driver.query(a,Oi,!0);T.forEach(U=>{if(U[He])return;const Q=this._engine.fetchNamespacesByElement(U);Q.size?Q.forEach(ue=>ue.triggerLeaveAnimation(U,l,!1,!0)):this.clearElementCache(U)}),this._engine.afterFlushAnimationsDone(()=>T.forEach(U=>this.clearElementCache(U)))}triggerLeaveAnimation(a,l,T,U){const Q=this._engine.statesByElement.get(a),ue=new Map;if(Q){const pe=[];if(Q.forEach((Ie,$e)=>{if(ue.set($e,Ie.value),this._triggers.has($e)){const at=this.trigger(a,$e,ft,U);at&&pe.push(at)}}),pe.length)return this._engine.markElementAsRemoved(this.id,a,!0,l,ue),T&&Kt(pe).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){const l=this._elementListeners.get(a),T=this._engine.statesByElement.get(a);if(l&&T){const U=new Set;l.forEach(Q=>{const ue=Q.name;if(U.has(ue))return;U.add(ue);const Ie=this._triggers.get(ue).fallbackTransition,$e=T.get(ue)||on,at=new Ze(ft),pt=new zt(this.id,ue,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:ue,transition:Ie,fromState:$e,toState:at,player:pt,isFallbackTransition:!0})})}}removeNode(a,l){const T=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,l),this.triggerLeaveAnimation(a,l,!0))return;let U=!1;if(T.totalAnimations){const Q=T.players.length?T.playersByQueriedElement.get(a):[];if(Q&&Q.length)U=!0;else{let ue=a;for(;ue=ue.parentNode;)if(T.statesByElement.get(ue)){U=!0;break}}}if(this.prepareLeaveAnimationListeners(a),U)T.markElementAsRemoved(this.id,a,!1,l);else{const Q=a[He];(!Q||Q===te)&&(T.afterFlush(()=>this.clearElementCache(a)),T.destroyInnerAnimations(a),T._onRemovalComplete(a,l))}}insertNode(a,l){wn(a,this._hostClassName)}drainQueuedTransitions(a){const l=[];return this._queue.forEach(T=>{const U=T.player;if(U.destroyed)return;const Q=T.element,ue=this._elementListeners.get(Q);ue&&ue.forEach(pe=>{if(pe.name==T.triggerName){const Ie=Vi(Q,T.triggerName,T.fromState.value,T.toState.value);Ie._data=a,Hi(T.player,pe.phase,Ie,pe.callback)}}),U.markedForDestroy?this._engine.afterFlush(()=>{U.destroy()}):l.push(T)}),this._queue=[],l.sort((T,U)=>{const Q=T.transition.ast.depCount,ue=U.transition.ast.depCount;return 0==Q||0==ue?Q-ue:this._engine.driver.containsElement(T.element,U.element)?1:-1})}destroy(a){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}elementContainsData(a){let l=!1;return this._elementListeners.has(a)&&(l=!0),l=!!this._queue.find(T=>T.element===a)||l,l}}class tn{_onRemovalComplete(a,l){this.onRemovalComplete(a,l)}constructor(a,l,T){this.bodyNode=a,this.driver=l,this._normalizer=T,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(U,Q)=>{}}get queuedPlayers(){const a=[];return this._namespaceList.forEach(l=>{l.players.forEach(T=>{T.queued&&a.push(T)})}),a}createNamespace(a,l){const T=new cn(a,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(T,l):(this.newHostElements.set(l,T),this.collectEnterElement(l)),this._namespaceLookup[a]=T}_balanceNamespaceList(a,l){const T=this._namespaceList,U=this.namespacesByHostElement;if(T.length-1>=0){let ue=!1,pe=this.driver.getParentElement(l);for(;pe;){const Ie=U.get(pe);if(Ie){const $e=T.indexOf(Ie);T.splice($e+1,0,a),ue=!0;break}pe=this.driver.getParentElement(pe)}ue||T.unshift(a)}else T.push(a);return U.set(l,a),a}register(a,l){let T=this._namespaceLookup[a];return T||(T=this.createNamespace(a,l)),T}registerTrigger(a,l,T){let U=this._namespaceLookup[a];U&&U.register(l,T)&&this.totalAnimations++}destroy(a,l){if(!a)return;const T=this._fetchNamespace(a);this.afterFlush(()=>{this.namespacesByHostElement.delete(T.hostElement),delete this._namespaceLookup[a];const U=this._namespaceList.indexOf(T);U>=0&&this._namespaceList.splice(U,1)}),this.afterFlushAnimationsDone(()=>T.destroy(l))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){const l=new Set,T=this.statesByElement.get(a);if(T)for(let U of T.values())if(U.namespaceId){const Q=this._fetchNamespace(U.namespaceId);Q&&l.add(Q)}return l}trigger(a,l,T,U){if(vn(l)){const Q=this._fetchNamespace(a);if(Q)return Q.trigger(l,T,U),!0}return!1}insertNode(a,l,T,U){if(!vn(l))return;const Q=l[He];if(Q&&Q.setForRemoval){Q.setForRemoval=!1,Q.setForMove=!0;const ue=this.collectedLeaveElements.indexOf(l);ue>=0&&this.collectedLeaveElements.splice(ue,1)}if(a){const ue=this._fetchNamespace(a);ue&&ue.insertNode(l,T)}U&&this.collectEnterElement(l)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,l){l?this.disabledNodes.has(a)||(this.disabledNodes.add(a),wn(a,es)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),Ei(a,es))}removeNode(a,l,T,U){if(vn(l)){const Q=a?this._fetchNamespace(a):null;if(Q?Q.removeNode(l,U):this.markElementAsRemoved(a,l,!1,U),T){const ue=this.namespacesByHostElement.get(l);ue&&ue.id!==a&&ue.removeNode(l,U)}}else this._onRemovalComplete(l,U)}markElementAsRemoved(a,l,T,U,Q){this.collectedLeaveElements.push(l),l[He]={namespaceId:a,setForRemoval:U,hasAnimation:T,removedBeforeQueried:!1,previousTriggersValues:Q}}listen(a,l,T,U,Q){return vn(l)?this._fetchNamespace(a).listen(l,T,U,Q):()=>{}}_buildInstruction(a,l,T,U,Q){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,T,U,a.fromState.options,a.toState.options,l,Q)}destroyInnerAnimations(a){let l=this.driver.query(a,Oi,!0);l.forEach(T=>this.destroyActiveAnimationsForElement(T)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(a,kr,!0),l.forEach(T=>this.finishActiveQueriedAnimationOnElement(T)))}destroyActiveAnimationsForElement(a){const l=this.playersByElement.get(a);l&&l.forEach(T=>{T.queued?T.markedForDestroy=!0:T.destroy()})}finishActiveQueriedAnimationOnElement(a){const l=this.playersByQueriedElement.get(a);l&&l.forEach(T=>T.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return Kt(this.players).onDone(()=>a());a()})}processLeaveNode(a){const l=a[He];if(l&&l.setForRemoval){if(a[He]=te,l.namespaceId){this.destroyInnerAnimations(a);const T=this._fetchNamespace(l.namespaceId);T&&T.clearElementCache(a)}this._onRemovalComplete(a,l.setForRemoval)}a.classList?.contains(es)&&this.markElementAsDisabled(a,!1),this.driver.query(a,".ng-animate-disabled",!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(a=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((T,U)=>this._balanceNamespaceList(T,U)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let T=0;T<this.collectedEnterElements.length;T++)wn(this.collectedEnterElements[T],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const T=[];try{l=this._flushAnimations(T,a)}finally{for(let U=0;U<T.length;U++)T[U]()}}else for(let T=0;T<this.collectedLeaveElements.length;T++)this.processLeaveNode(this.collectedLeaveElements[T]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(T=>T()),this._flushFns=[],this._whenQuietFns.length){const T=this._whenQuietFns;this._whenQuietFns=[],l.length?Kt(l).onDone(()=>{T.forEach(U=>U())}):T.forEach(U=>U())}}reportError(a){throw function yn(P){return new $.vHH(3402,!1)}()}_flushAnimations(a,l){const T=new Xr,U=[],Q=new Map,ue=[],pe=new Map,Ie=new Map,$e=new Map,at=new Set;this.disabledNodes.forEach(mt=>{at.add(mt);const Dt=this.driver.query(mt,".ng-animate-queued",!0);for(let Rt=0;Rt<Dt.length;Rt++)at.add(Dt[Rt])});const pt=this.bodyNode,Wt=Array.from(this.statesByElement.keys()),Ht=gi(Wt,this.collectedEnterElements),Mt=new Map;let Bt=0;Ht.forEach((mt,Dt)=>{const Rt=xt+Bt++;Mt.set(Dt,Rt),mt.forEach(en=>wn(en,Rt))});const un=[],nn=new Set,Mn=new Set;for(let mt=0;mt<this.collectedLeaveElements.length;mt++){const Dt=this.collectedLeaveElements[mt],Rt=Dt[He];Rt&&Rt.setForRemoval&&(un.push(Dt),nn.add(Dt),Rt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(en=>nn.add(en)):Mn.add(Dt))}const mi=new Map,di=gi(Wt,Array.from(nn));di.forEach((mt,Dt)=>{const Rt=Nt+Bt++;mi.set(Dt,Rt),mt.forEach(en=>wn(en,Rt))}),a.push(()=>{Ht.forEach((mt,Dt)=>{const Rt=Mt.get(Dt);mt.forEach(en=>Ei(en,Rt))}),di.forEach((mt,Dt)=>{const Rt=mi.get(Dt);mt.forEach(en=>Ei(en,Rt))}),un.forEach(mt=>{this.processLeaveNode(mt)})});const rs=[],gr=[];for(let mt=this._namespaceList.length-1;mt>=0;mt--)this._namespaceList[mt].drainQueuedTransitions(l).forEach(Rt=>{const en=Rt.player,Pn=Rt.element;if(rs.push(en),this.collectedEnterElements.length){const vi=Pn[He];if(vi&&vi.setForMove){if(vi.previousTriggersValues&&vi.previousTriggersValues.has(Rt.triggerName)){const ws=vi.previousTriggersValues.get(Rt.triggerName),Gi=this.statesByElement.get(Rt.element);if(Gi&&Gi.has(Rt.triggerName)){const Ys=Gi.get(Rt.triggerName);Ys.value=ws,Gi.set(Rt.triggerName,Ys)}}return void en.destroy()}}const Tr=!pt||!this.driver.containsElement(pt,Pn),Wi=mi.get(Pn),mr=Mt.get(Pn),Tn=this._buildInstruction(Rt,T,mr,Wi,Tr);if(Tn.errors&&Tn.errors.length)return void gr.push(Tn);if(Tr)return en.onStart(()=>Xi(Pn,Tn.fromStyles)),en.onDestroy(()=>_i(Pn,Tn.toStyles)),void U.push(en);if(Rt.isFallbackTransition)return en.onStart(()=>Xi(Pn,Tn.fromStyles)),en.onDestroy(()=>_i(Pn,Tn.toStyles)),void U.push(en);const jl=[];Tn.timelines.forEach(vi=>{vi.stretchStartingKeyframe=!0,this.disabledNodes.has(vi.element)||jl.push(vi)}),Tn.timelines=jl,T.append(Pn,Tn.timelines),ue.push({instruction:Tn,player:en,element:Pn}),Tn.queriedElements.forEach(vi=>Sn(pe,vi,[]).push(en)),Tn.preStyleProps.forEach((vi,ws)=>{if(vi.size){let Gi=Ie.get(ws);Gi||Ie.set(ws,Gi=new Set),vi.forEach((Ys,qs)=>Gi.add(qs))}}),Tn.postStyleProps.forEach((vi,ws)=>{let Gi=$e.get(ws);Gi||$e.set(ws,Gi=new Set),vi.forEach((Ys,qs)=>Gi.add(qs))})});if(gr.length){const mt=[];gr.forEach(Dt=>{mt.push(function Li(P,a){return new $.vHH(3505,!1)}())}),rs.forEach(Dt=>Dt.destroy()),this.reportError(mt)}const Si=new Map,Sr=new Map;ue.forEach(mt=>{const Dt=mt.element;T.has(Dt)&&(Sr.set(Dt,Dt),this._beforeAnimationBuild(mt.player.namespaceId,mt.instruction,Si))}),U.forEach(mt=>{const Dt=mt.element;this._getPreviousPlayers(Dt,!1,mt.namespaceId,mt.triggerName,null).forEach(en=>{Sn(Si,Dt,[]).push(en),en.destroy()})});const Dr=un.filter(mt=>qo(mt,Ie,$e)),Mr=new Map;pr(Mr,this.driver,Mn,$e,Yt.l3).forEach(mt=>{qo(mt,Ie,$e)&&Dr.push(mt)});const Cs=new Map;Ht.forEach((mt,Dt)=>{pr(Cs,this.driver,new Set(mt),Ie,Yt.k1)}),Dr.forEach(mt=>{const Dt=Mr.get(mt),Rt=Cs.get(mt);Mr.set(mt,new Map([...Array.from(Dt?.entries()??[]),...Array.from(Rt?.entries()??[])]))});const ss=[],ta=[],Vl={};ue.forEach(mt=>{const{element:Dt,player:Rt,instruction:en}=mt;if(T.has(Dt)){if(at.has(Dt))return Rt.onDestroy(()=>_i(Dt,en.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(en.totalTime),void U.push(Rt);let Pn=Vl;if(Sr.size>1){let Wi=Dt;const mr=[];for(;Wi=Wi.parentNode;){const Tn=Sr.get(Wi);if(Tn){Pn=Tn;break}mr.push(Wi)}mr.forEach(Tn=>Sr.set(Tn,Pn))}const Tr=this._buildAnimation(Rt.namespaceId,en,Si,Q,Cs,Mr);if(Rt.setRealPlayer(Tr),Pn===Vl)ss.push(Rt);else{const Wi=this.playersByElement.get(Pn);Wi&&Wi.length&&(Rt.parentPlayer=Kt(Wi)),U.push(Rt)}}else Xi(Dt,en.fromStyles),Rt.onDestroy(()=>_i(Dt,en.toStyles)),ta.push(Rt),at.has(Dt)&&U.push(Rt)}),ta.forEach(mt=>{const Dt=Q.get(mt.element);if(Dt&&Dt.length){const Rt=Kt(Dt);mt.setRealPlayer(Rt)}}),U.forEach(mt=>{mt.parentPlayer?mt.syncPlayerEvents(mt.parentPlayer):mt.destroy()});for(let mt=0;mt<un.length;mt++){const Dt=un[mt],Rt=Dt[He];if(Ei(Dt,Nt),Rt&&Rt.hasAnimation)continue;let en=[];if(pe.size){let Tr=pe.get(Dt);Tr&&Tr.length&&en.push(...Tr);let Wi=this.driver.query(Dt,kr,!0);for(let mr=0;mr<Wi.length;mr++){let Tn=pe.get(Wi[mr]);Tn&&Tn.length&&en.push(...Tn)}}const Pn=en.filter(Tr=>!Tr.destroyed);Pn.length?nr(this,Dt,Pn):this.processLeaveNode(Dt)}return un.length=0,ss.forEach(mt=>{this.players.push(mt),mt.onDone(()=>{mt.destroy();const Dt=this.players.indexOf(mt);this.players.splice(Dt,1)}),mt.play()}),ss}elementContainsData(a,l){let T=!1;const U=l[He];return U&&U.setForRemoval&&(T=!0),this.playersByElement.has(l)&&(T=!0),this.playersByQueriedElement.has(l)&&(T=!0),this.statesByElement.has(l)&&(T=!0),this._fetchNamespace(a).elementContainsData(l)||T}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,l,T,U,Q){let ue=[];if(l){const pe=this.playersByQueriedElement.get(a);pe&&(ue=pe)}else{const pe=this.playersByElement.get(a);if(pe){const Ie=!Q||Q==ft;pe.forEach($e=>{$e.queued||!Ie&&$e.triggerName!=U||ue.push($e)})}}return(T||U)&&(ue=ue.filter(pe=>!(T&&T!=pe.namespaceId||U&&U!=pe.triggerName))),ue}_beforeAnimationBuild(a,l,T){const Q=l.element,ue=l.isRemovalTransition?void 0:a,pe=l.isRemovalTransition?void 0:l.triggerName;for(const Ie of l.timelines){const $e=Ie.element,at=$e!==Q,pt=Sn(T,$e,[]);this._getPreviousPlayers($e,at,ue,pe,l.toState).forEach(Ht=>{const Mt=Ht.getRealPlayer();Mt.beforeDestroy&&Mt.beforeDestroy(),Ht.destroy(),pt.push(Ht)})}Xi(Q,l.fromStyles)}_buildAnimation(a,l,T,U,Q,ue){const pe=l.triggerName,Ie=l.element,$e=[],at=new Set,pt=new Set,Wt=l.timelines.map(Mt=>{const Bt=Mt.element;at.add(Bt);const un=Bt[He];if(un&&un.removedBeforeQueried)return new Yt.ZN(Mt.duration,Mt.delay);const nn=Bt!==Ie,Mn=function Yo(P){const a=[];return Hs(P,a),a}((T.get(Bt)||N).map(Si=>Si.getRealPlayer())).filter(Si=>!!Si.element&&Si.element===Bt),mi=Q.get(Bt),di=ue.get(Bt),rs=ti(0,this._normalizer,0,Mt.keyframes,mi,di),gr=this._buildPlayer(Mt,rs,Mn);if(Mt.subTimeline&&U&&pt.add(Bt),nn){const Si=new zt(a,pe,Bt);Si.setRealPlayer(gr),$e.push(Si)}return gr});$e.forEach(Mt=>{Sn(this.playersByQueriedElement,Mt.element,[]).push(Mt),Mt.onDone(()=>function Dn(P,a,l){let T=P.get(a);if(T){if(T.length){const U=T.indexOf(l);T.splice(U,1)}0==T.length&&P.delete(a)}return T}(this.playersByQueriedElement,Mt.element,Mt))}),at.forEach(Mt=>wn(Mt,Gr));const Ht=Kt(Wt);return Ht.onDestroy(()=>{at.forEach(Mt=>Ei(Mt,Gr)),_i(Ie,l.toStyles)}),pt.forEach(Mt=>{Sn(U,Mt,[]).push(Ht)}),Ht}_buildPlayer(a,l,T){return l.length>0?this.driver.animate(a.element,l,a.duration,a.delay,a.easing,T):new Yt.ZN(a.duration,a.delay)}}class zt{constructor(a,l,T){this.namespaceId=a,this.triggerName=l,this.element=T,this._player=new Yt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(a){this._containsRealPlayer||(this._player=a,this._queuedCallbacks.forEach((l,T)=>{l.forEach(U=>Hi(a,T,void 0,U))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){const l=this._player;l.triggerCallback&&a.onStart(()=>l.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,l){Sn(this._queuedCallbacks,a,[]).push(l)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){const l=this._player;l.triggerCallback&&l.triggerCallback(a)}}function vn(P){return P&&1===P.nodeType}function ui(P,a){const l=P.style.display;return P.style.display=a??"none",l}function pr(P,a,l,T,U){const Q=[];l.forEach(Ie=>Q.push(ui(Ie)));const ue=[];T.forEach((Ie,$e)=>{const at=new Map;Ie.forEach(pt=>{const Wt=a.computeStyle($e,pt,U);at.set(pt,Wt),(!Wt||0==Wt.length)&&($e[He]=_e,ue.push($e))}),P.set($e,at)});let pe=0;return l.forEach(Ie=>ui(Ie,Q[pe++])),ue}function gi(P,a){const l=new Map;if(P.forEach(pe=>l.set(pe,[])),0==a.length)return l;const T=1,U=new Set(a),Q=new Map;function ue(pe){if(!pe)return T;let Ie=Q.get(pe);if(Ie)return Ie;const $e=pe.parentNode;return Ie=l.has($e)?$e:U.has($e)?T:ue($e),Q.set(pe,Ie),Ie}return a.forEach(pe=>{const Ie=ue(pe);Ie!==T&&l.get(Ie).push(pe)}),l}function wn(P,a){P.classList?.add(a)}function Ei(P,a){P.classList?.remove(a)}function nr(P,a,l){Kt(l).onDone(()=>P.processLeaveNode(a))}function Hs(P,a){for(let l=0;l<P.length;l++){const T=P[l];T instanceof Yt.ZE?Hs(T.players,a):a.push(T)}}function qo(P,a,l){const T=l.get(P);if(!T)return!1;let U=a.get(P);return U?T.forEach(Q=>U.add(Q)):a.set(P,T),l.delete(P),!0}class Vs{constructor(a,l,T){this.bodyNode=a,this._driver=l,this._normalizer=T,this._triggerCache={},this.onRemovalComplete=(U,Q)=>{},this._transitionEngine=new tn(a,l,T),this._timelineEngine=new Ra(a,l,T),this._transitionEngine.onRemovalComplete=(U,Q)=>this.onRemovalComplete(U,Q)}registerTrigger(a,l,T,U,Q){const ue=a+"-"+U;let pe=this._triggerCache[ue];if(!pe){const Ie=[],$e=[],at=xe(this._driver,Q,Ie,$e);if(Ie.length)throw function _n(P,a){return new $.vHH(3404,!1)}();pe=function mn(P,a,l){return new xa(P,a,l)}(U,at,this._normalizer),this._triggerCache[ue]=pe}this._transitionEngine.registerTrigger(l,U,pe)}register(a,l){this._transitionEngine.register(a,l)}destroy(a,l){this._transitionEngine.destroy(a,l)}onInsert(a,l,T,U){this._transitionEngine.insertNode(a,l,T,U)}onRemove(a,l,T,U){this._transitionEngine.removeNode(a,l,U||!1,T)}disableAnimations(a,l){this._transitionEngine.markElementAsDisabled(a,l)}process(a,l,T,U){if("@"==T.charAt(0)){const[Q,ue]=fi(T);this._timelineEngine.command(Q,l,ue,U)}else this._transitionEngine.trigger(a,l,T,U)}listen(a,l,T,U,Q){if("@"==T.charAt(0)){const[ue,pe]=fi(T);return this._timelineEngine.listen(ue,l,pe,Q)}return this._transitionEngine.listen(a,l,T,U,Q)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _r=(()=>{class P{constructor(l,T,U){this._element=l,this._startStyles=T,this._endStyles=U,this._state=0;let Q=P.initialStylesByElement.get(l);Q||P.initialStylesByElement.set(l,Q=new Map),this._initialStyles=Q}start(){this._state<1&&(this._startStyles&&_i(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_i(this._element,this._initialStyles),this._endStyles&&(_i(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(P.initialStylesByElement.delete(this._element),this._startStyles&&(Xi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xi(this._element,this._endStyles),this._endStyles=null),_i(this._element,this._initialStyles),this._state=3)}}return P.initialStylesByElement=new WeakMap,P})();function Zo(P){let a=null;return P.forEach((l,T)=>{(function uo(P){return"display"===P||"position"===P})(T)&&(a=a||new Map,a.set(T,l))}),a}class ho{constructor(a,l,T,U){this.element=a,this.keyframes=l,this.options=T,this._specialStyles=U,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=T.duration,this._delay=T.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const a=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,a,this.options),this._finalKeyframe=a.length?a[a.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(a){const l=[];return a.forEach(T=>{l.push(Object.fromEntries(T))}),l}_triggerWebAnimation(a,l,T){return a.animate(this._convertKeyframesToObject(l),T)}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=a*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const a=new Map;this.hasStarted()&&this._finalKeyframe.forEach((T,U)=>{"offset"!==U&&a.set(U,this._finished?T:Gn(this.element,U))}),this.currentSnapshot=a}triggerCallback(a){const l="start"===a?this._onStartFns:this._onDoneFns;l.forEach(T=>T()),l.length=0}}class La{validateStyleProperty(a){return!0}validateAnimatableStyleProperty(a){return!0}matchesElement(a,l){return!1}containsElement(a,l){return Zi(a,l)}getParentElement(a){return Bn(a)}query(a,l,T){return Ce(a,l,T)}computeStyle(a,l,T){return window.getComputedStyle(a)[l]}animate(a,l,T,U,Q,ue=[]){const Ie={duration:T,delay:U,fill:0==U?"both":"forwards"};Q&&(Ie.easing=Q);const $e=new Map,at=ue.filter(Ht=>Ht instanceof ho);(function Ts(P,a){return 0===P||0===a})(T,U)&&at.forEach(Ht=>{Ht.currentSnapshot.forEach((Mt,Bt)=>$e.set(Bt,Mt))});let pt=function Kr(P){return P.length?P[0]instanceof Map?P:P.map(a=>gs(a)):[]}(l).map(Ht=>Qi(Ht));pt=function Zr(P,a,l){if(l.size&&a.length){let T=a[0],U=[];if(l.forEach((Q,ue)=>{T.has(ue)||U.push(ue),T.set(ue,Q)}),U.length)for(let Q=1;Q<a.length;Q++){let ue=a[Q];U.forEach(pe=>ue.set(pe,Gn(P,pe)))}}return a}(a,pt,$e);const Wt=function Rl(P,a){let l=null,T=null;return Array.isArray(a)&&a.length?(l=Zo(a[0]),a.length>1&&(T=Zo(a[a.length-1]))):a instanceof Map&&(l=Zo(a)),l||T?new _r(P,l,T):null}(a,pt);return new ho(a,pt,Ie,Wt)}}let Qo=(()=>{class P extends Yt._j{constructor(l,T){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(T.body,{id:"0",encapsulation:$.ifc.None,styles:[],data:{animation:[]}})}build(l){const T=this._nextAnimationId.toString();this._nextAnimationId++;const U=Array.isArray(l)?(0,Yt.vP)(l):l;return Jo(this._renderer,null,T,"register",[U]),new Xo(T,this._renderer)}}return P.\u0275fac=function(l){return new(l||P)($.LFG($.FYo),$.LFG(D.K0))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();class Xo extends Yt.LC{constructor(a,l){super(),this._id=a,this._renderer=l}create(a,l){return new Ll(this._id,a,l||{},this._renderer)}}class Ll{constructor(a,l,T,U){this.id=a,this.element=l,this._renderer=U,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",T)}_listen(a,l){return this._renderer.listen(this.element,`@@${this.id}:${a}`,l)}_command(a,...l){return Jo(this._renderer,this.element,this.id,a,l)}onDone(a){this._listen("done",a)}onStart(a){this._listen("start",a)}onDestroy(a){this._listen("destroy",a)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(a){this._command("setPosition",a)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Jo(P,a,l,T,U){return P.setProperty(a,`@@${l}:${T}`,U)}const ea="@.disabled";let Oa=(()=>{class P{constructor(l,T,U){this.delegate=l,this.engine=T,this._zone=U,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),T.onRemovalComplete=(Q,ue)=>{const pe=ue?.parentNode(Q);pe&&ue.removeChild(pe,Q)}}createRenderer(l,T){const Q=this.delegate.createRenderer(l,T);if(!(l&&T&&T.data&&T.data.animation)){let at=this._rendererCache.get(Q);return at||(at=new ka("",Q,this.engine,()=>this._rendererCache.delete(Q)),this._rendererCache.set(Q,at)),at}const ue=T.id,pe=T.id+"-"+this._currentId;this._currentId++,this.engine.register(pe,l);const Ie=at=>{Array.isArray(at)?at.forEach(Ie):this.engine.registerTrigger(ue,pe,l,at.name,at)};return T.data.animation.forEach(Ie),new fo(this,pe,Q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(l,T,U){l>=0&&l<this._microtaskId?this._zone.run(()=>T(U)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Q=>{const[ue,pe]=Q;ue(pe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([T,U]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return P.\u0275fac=function(l){return new(l||P)($.LFG($.FYo),$.LFG(Vs),$.LFG($.R0b))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})();class ka{constructor(a,l,T,U){this.namespaceId=a,this.delegate=l,this.engine=T,this._onDestroy=U,this.destroyNode=this.delegate.destroyNode?Q=>l.destroyNode(Q):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(a,l){return this.delegate.createElement(a,l)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,l){this.delegate.appendChild(a,l),this.engine.onInsert(this.namespaceId,l,a,!1)}insertBefore(a,l,T,U=!0){this.delegate.insertBefore(a,l,T),this.engine.onInsert(this.namespaceId,l,a,U)}removeChild(a,l,T){this.engine.onRemove(this.namespaceId,l,this.delegate,T)}selectRootElement(a,l){return this.delegate.selectRootElement(a,l)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,l,T,U){this.delegate.setAttribute(a,l,T,U)}removeAttribute(a,l,T){this.delegate.removeAttribute(a,l,T)}addClass(a,l){this.delegate.addClass(a,l)}removeClass(a,l){this.delegate.removeClass(a,l)}setStyle(a,l,T,U){this.delegate.setStyle(a,l,T,U)}removeStyle(a,l,T){this.delegate.removeStyle(a,l,T)}setProperty(a,l,T){"@"==l.charAt(0)&&l==ea?this.disableAnimations(a,!!T):this.delegate.setProperty(a,l,T)}setValue(a,l){this.delegate.setValue(a,l)}listen(a,l,T){return this.delegate.listen(a,l,T)}disableAnimations(a,l){this.engine.disableAnimations(a,l)}}class fo extends ka{constructor(a,l,T,U,Q){super(l,T,U,Q),this.factory=a,this.namespaceId=l}setProperty(a,l,T){"@"==l.charAt(0)?"."==l.charAt(1)&&l==ea?this.disableAnimations(a,T=void 0===T||!!T):this.engine.process(this.namespaceId,a,l.slice(1),T):this.delegate.setProperty(a,l,T)}listen(a,l,T){if("@"==l.charAt(0)){const U=function ts(P){switch(P){case"body":return document.body;case"document":return document;case"window":return window;default:return P}}(a);let Q=l.slice(1),ue="";return"@"!=Q.charAt(0)&&([Q,ue]=function Ol(P){const a=P.indexOf(".");return[P.substring(0,a),P.slice(a+1)]}(Q)),this.engine.listen(this.namespaceId,U,Q,ue,pe=>{this.factory.scheduleListenerCallback(pe._data||-1,T,pe)})}return this.delegate.listen(a,l,T)}}const Na=[{provide:Yt._j,useClass:Qo},{provide:ks,useFactory:function Fa(){return new Wo}},{provide:Vs,useClass:(()=>{class P extends Vs{constructor(l,T,U,Q){super(l.body,T,U)}ngOnDestroy(){this.flush()}}return P.\u0275fac=function(l){return new(l||P)($.LFG(D.K0),$.LFG(ee),$.LFG(ks),$.LFG($.z2F))},P.\u0275prov=$.Yz7({token:P,factory:P.\u0275fac}),P})()},{provide:$.FYo,useFactory:function ys(P,a,l){return new Oa(P,a,l)},deps:[ve,Vs,$.R0b]}],po=[{provide:ee,useFactory:()=>new La},{provide:$.QbO,useValue:"BrowserAnimations"},...Na],_o=[{provide:ee,useClass:j},{provide:$.QbO,useValue:"NoopAnimations"},...Na];let kl=(()=>{class P{static withConfig(l){return{ngModule:P,providers:l.disableAnimations?_o:po}}}return P.\u0275fac=function(l){return new(l||P)},P.\u0275mod=$.oAB({type:P}),P.\u0275inj=$.cJS({providers:po,imports:[ot]}),P})();var ns=Z(3238);let Nl=(()=>{class P{}return P.\u0275fac=function(l){return new(l||P)},P.\u0275mod=$.oAB({type:P}),P.\u0275inj=$.cJS({imports:[ns.BQ,ns.BQ]}),P})();var $i=Z(6224),is=Z(9199),ja=Z(9549),vo=Z(9485);let $a=(()=>{class P{static forRoot(){return{ngModule:P,providers:[]}}}return P.\u0275fac=function(l){return new(l||P)},P.\u0275mod=$.oAB({type:P}),P.\u0275inj=$.cJS({imports:[D.ez]}),P})(),Hl=(()=>{const a=class{};let P=a;return a.\u0275fac=function(U){return new(U||a)},a.\u0275mod=$.oAB({type:a,bootstrap:[is.A]}),a.\u0275inj=$.cJS({imports:[ot,Ni.qZ,Fi.ot,Ti.rP,rr.c,pn.UX,kl,Nl,$i.s,ja.lN,vo.Nh,$a.forRoot()]}),P})();(0,$.G48)(),Pt().bootstrapModule(Hl).catch(P=>console.error(P))},5298:it=>{self,it.exports=(()=>{"use strict";var Z,Ve={};return Z=Ve,Object.defineProperty(Z,"__esModule",{value:!0}),Z.FitAddon=void 0,Z.FitAddon=class{activate(D){this._terminal=D}dispose(){}fit(){const D=this.proposeDimensions();D&&this._terminal&&!isNaN(D.cols)&&!isNaN(D.rows)&&(this._terminal.rows===D.rows&&this._terminal.cols===D.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(D.cols,D.rows)))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const D=this._terminal._core,$=D._renderService.dimensions;if(0===$.css.cell.width||0===$.css.cell.height)return;const C=0===this._terminal.options.scrollback?0:D.viewport.scrollBarWidth,c=window.getComputedStyle(this._terminal.element.parentElement),v=parseInt(c.getPropertyValue("height")),m=Math.max(0,parseInt(c.getPropertyValue("width"))),w=window.getComputedStyle(this._terminal.element),h=v-(parseInt(w.getPropertyValue("padding-top"))+parseInt(w.getPropertyValue("padding-bottom"))),b=m-(parseInt(w.getPropertyValue("padding-right"))+parseInt(w.getPropertyValue("padding-left")))-C;return{cols:Math.max(2,Math.floor(b/$.css.cell.width)),rows:Math.max(1,Math.floor(h/$.css.cell.height))}}},Ve})()},9010:it=>{self,it.exports=(()=>{"use strict";var Ve={6:(C,c)=>{function v(w){try{const h=new URL(w),b=h.password&&h.username?`${h.protocol}//${h.username}:${h.password}@${h.host}`:h.username?`${h.protocol}//${h.username}@${h.host}`:`${h.protocol}//${h.host}`;return w.toLocaleLowerCase().startsWith(b.toLocaleLowerCase())}catch{return!1}}Object.defineProperty(c,"__esModule",{value:!0}),c.LinkComputer=c.WebLinkProvider=void 0,c.WebLinkProvider=class{constructor(w,h,b,y={}){this._terminal=w,this._regex=h,this._handler=b,this._options=y}provideLinks(w,h){const b=m.computeLink(w,this._regex,this._terminal,this._handler);h(this._addCallbacks(b))}_addCallbacks(w){return w.map(h=>(h.leave=this._options.leave,h.hover=(b,y)=>{if(this._options.hover){const{range:E}=h;this._options.hover(b,y,E)}},h))}};class m{static computeLink(h,b,y,E){const d=new RegExp(b.source,(b.flags||"")+"g"),[s,f]=m._getWindowedLineStrings(h-1,y),u=s.join("");let p;const S=[];for(;p=d.exec(u);){const I=p[0];if(!v(I))continue;const[A,B]=m._mapStrIdx(y,f,0,p.index),[g,x]=m._mapStrIdx(y,A,B,I.length);-1!==A&&-1!==B&&-1!==g&&-1!==x&&S.push({range:{start:{x:B+1,y:A+1},end:{x,y:g+1}},text:I,activate:E})}return S}static _getWindowedLineStrings(h,b){let y,E=h,d=h,s=0,f="";const u=[];if(y=b.buffer.active.getLine(h)){const p=y.translateToString(!0);if(y.isWrapped&&" "!==p[0]){for(s=0;(y=b.buffer.active.getLine(--E))&&s<2048&&(f=y.translateToString(!0),s+=f.length,u.push(f),y.isWrapped&&-1===f.indexOf(" ")););u.reverse()}for(u.push(p),s=0;(y=b.buffer.active.getLine(++d))&&y.isWrapped&&s<2048&&(f=y.translateToString(!0),s+=f.length,u.push(f),-1===f.indexOf(" ")););}return[u,E]}static _mapStrIdx(h,b,y,E){const d=h.buffer.active,s=d.getNullCell();let f=y;for(;E;){const u=d.getLine(b);if(!u)return[-1,-1];for(let p=f;p<u.length;++p){u.getCell(p,s);const S=s.getChars();if(s.getWidth()&&(E-=S.length||1,p===u.length-1&&""===S)){const I=d.getLine(b+1);I&&I.isWrapped&&(I.getCell(0,s),2===s.getWidth()&&(E+=1))}if(E<0)return[b,p]}b++,f=0}return[b,f]}}c.LinkComputer=m}},Z={};function D(C){var c=Z[C];if(void 0!==c)return c.exports;var v=Z[C]={exports:{}};return Ve[C](v,v.exports,D),v.exports}var $={};return(()=>{var C=$;Object.defineProperty(C,"__esModule",{value:!0}),C.WebLinksAddon=void 0;const c=D(6),v=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function m(w,h){const b=window.open();if(b){try{b.opener=null}catch{}b.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}C.WebLinksAddon=class{constructor(w=m,h={}){this._handler=w,this._options=h}activate(w){this._terminal=w;const h=this._options;this._linkProvider=this._terminal.registerLinkProvider(new c.WebLinkProvider(this._terminal,h.urlRegex||v,this._handler,h))}dispose(){this._linkProvider?.dispose()}}})(),$})()},8426:it=>{globalThis,it.exports=(()=>{"use strict";var Ve={4567:function(C,c,v){var m=this&&this.__decorate||function(u,p,S,I){var A,B=arguments.length,g=B<3?p:null===I?I=Object.getOwnPropertyDescriptor(p,S):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(u,p,S,I);else for(var x=u.length-1;x>=0;x--)(A=u[x])&&(g=(B<3?A(g):B>3?A(p,S,g):A(p,S))||g);return B>3&&g&&Object.defineProperty(p,S,g),g},w=this&&this.__param||function(u,p){return function(S,I){p(S,I,u)}};Object.defineProperty(c,"__esModule",{value:!0}),c.AccessibilityManager=void 0;const h=v(9042),b=v(9924),y=v(844),E=v(4725),d=v(2585),s=v(3656);let f=c.AccessibilityManager=class extends y.Disposable{constructor(u,p,S,I){super(),this._terminal=u,this._coreBrowserService=S,this._renderService=I,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let A=0;A<this._terminal.rows;A++)this._rowElements[A]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[A]);if(this._topBoundaryFocusListener=A=>this._handleBoundaryFocus(A,0),this._bottomBoundaryFocusListener=A=>this._handleBoundaryFocus(A,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new b.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(A=>this._handleResize(A.rows))),this.register(this._terminal.onRender(A=>this._refreshRows(A.start,A.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(A=>this._handleChar(A))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(A=>this._handleTab(A))),this.register(this._terminal.onKey(A=>this._handleKey(A.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,s.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,y.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(u){for(let p=0;p<u;p++)this._handleChar(" ")}_handleChar(u){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==u&&(this._charsToAnnounce+=u):this._charsToAnnounce+=u,"\n"===u&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=h.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(u){this._clearLiveRegion(),/\p{Control}/u.test(u)||this._charsToConsume.push(u)}_refreshRows(u,p){this._liveRegionDebouncer.refresh(u,p,this._terminal.rows)}_renderRows(u,p){const S=this._terminal.buffer,I=S.lines.length.toString();for(let A=u;A<=p;A++){const g=[],x=S.lines.get(S.ydisp+A)?.translateToString(!0,void 0,void 0,g)||"",V=(S.ydisp+A+1).toString(),k=this._rowElements[A];k&&(0===x.length?(k.innerText="\xa0",this._rowColumns.set(k,[0,1])):(k.textContent=x,this._rowColumns.set(k,g)),k.setAttribute("aria-posinset",V),k.setAttribute("aria-setsize",I))}this._announceCharacters()}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(u,p){const S=u.target,I=this._rowElements[0===p?1:this._rowElements.length-2];if(S.getAttribute("aria-posinset")===(0===p?"1":`${this._terminal.buffer.lines.length}`)||u.relatedTarget!==I)return;let A,B;if(0===p?(A=S,B=this._rowElements.pop(),this._rowContainer.removeChild(B)):(A=this._rowElements.shift(),B=S,this._rowContainer.removeChild(A)),A.removeEventListener("focus",this._topBoundaryFocusListener),B.removeEventListener("focus",this._bottomBoundaryFocusListener),0===p){const g=this._createAccessibilityTreeNode();this._rowElements.unshift(g),this._rowContainer.insertAdjacentElement("afterbegin",g)}else{const g=this._createAccessibilityTreeNode();this._rowElements.push(g),this._rowContainer.appendChild(g)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===p?-1:1),this._rowElements[0===p?1:this._rowElements.length-2].focus(),u.preventDefault(),u.stopImmediatePropagation()}_handleSelectionChange(){if(0===this._rowElements.length)return;const u=document.getSelection();if(!u)return;if(u.isCollapsed)return void(this._rowContainer.contains(u.anchorNode)&&this._terminal.clearSelection());if(!u.anchorNode||!u.focusNode)return void console.error("anchorNode and/or focusNode are null");let p={node:u.anchorNode,offset:u.anchorOffset},S={node:u.focusNode,offset:u.focusOffset};if((p.node.compareDocumentPosition(S.node)&Node.DOCUMENT_POSITION_PRECEDING||p.node===S.node&&p.offset>S.offset)&&([p,S]=[S,p]),p.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(p={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(p.node))return;const I=this._rowElements.slice(-1)[0];if(S.node.compareDocumentPosition(I)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(S={node:I,offset:I.textContent?.length??0}),!this._rowContainer.contains(S.node))return;const A=({node:x,offset:V})=>{const k=x instanceof Text?x.parentNode:x;let Y=parseInt(k?.getAttribute("aria-posinset"),10)-1;if(isNaN(Y))return console.warn("row is invalid. Race condition?"),null;const q=this._rowColumns.get(k);if(!q)return console.warn("columns is null. Race condition?"),null;let J=V<q.length?q[V]:q.slice(-1)[0]+1;return J>=this._terminal.cols&&(++Y,J=0),{row:Y,column:J}},B=A(p),g=A(S);if(B&&g){if(B.row>g.row||B.row===g.row&&B.column>=g.column)throw new Error("invalid range");this._terminal.select(B.column,B.row,(g.row-B.row)*this._terminal.cols-B.column+g.column)}}_handleResize(u){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let p=this._rowContainer.children.length;p<this._terminal.rows;p++)this._rowElements[p]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[p]);for(;this._rowElements.length>u;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const u=this._coreBrowserService.mainDocument.createElement("div");return u.setAttribute("role","listitem"),u.tabIndex=-1,this._refreshRowDimensions(u),u}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let u=0;u<this._terminal.rows;u++)this._refreshRowDimensions(this._rowElements[u])}}_refreshRowDimensions(u){u.style.height=`${this._renderService.dimensions.css.cell.height}px`}};c.AccessibilityManager=f=m([w(1,d.IInstantiationService),w(2,E.ICoreBrowserService),w(3,E.IRenderService)],f)},3614:(C,c)=>{function v(b){return b.replace(/\r?\n/g,"\r")}function m(b,y){return y?"\x1b[200~"+b+"\x1b[201~":b}function w(b,y,E,d){b=m(b=v(b),E.decPrivateModes.bracketedPasteMode&&!0!==d.rawOptions.ignoreBracketedPasteMode),E.triggerDataEvent(b,!0),y.value=""}function h(b,y,E){const d=E.getBoundingClientRect(),s=b.clientX-d.left-10,f=b.clientY-d.top-10;y.style.width="20px",y.style.height="20px",y.style.left=`${s}px`,y.style.top=`${f}px`,y.style.zIndex="1000",y.focus()}Object.defineProperty(c,"__esModule",{value:!0}),c.rightClickHandler=c.moveTextAreaUnderMouseCursor=c.paste=c.handlePasteEvent=c.copyHandler=c.bracketTextForPaste=c.prepareTextForTerminal=void 0,c.prepareTextForTerminal=v,c.bracketTextForPaste=m,c.copyHandler=function(b,y){b.clipboardData&&b.clipboardData.setData("text/plain",y.selectionText),b.preventDefault()},c.handlePasteEvent=function(b,y,E,d){b.stopPropagation(),b.clipboardData&&w(b.clipboardData.getData("text/plain"),y,E,d)},c.paste=w,c.moveTextAreaUnderMouseCursor=h,c.rightClickHandler=function(b,y,E,d,s){h(b,y,E),s&&d.rightClickSelect(b),y.value=d.selectionText,y.select()}},7239:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ColorContrastCache=void 0;const m=v(1505);c.ColorContrastCache=class{constructor(){this._color=new m.TwoKeyMap,this._css=new m.TwoKeyMap}setCss(w,h,b){this._css.set(w,h,b)}getCss(w,h){return this._css.get(w,h)}setColor(w,h,b){this._color.set(w,h,b)}getColor(w,h){return this._color.get(w,h)}clear(){this._color.clear(),this._css.clear()}}},3656:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.addDisposableDomListener=void 0,c.addDisposableDomListener=function(v,m,w,h){v.addEventListener(m,w,h);let b=!1;return{dispose:()=>{b||(b=!0,v.removeEventListener(m,w,h))}}}},3551:function(C,c,v){var m=this&&this.__decorate||function(f,u,p,S){var I,A=arguments.length,B=A<3?u:null===S?S=Object.getOwnPropertyDescriptor(u,p):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(f,u,p,S);else for(var g=f.length-1;g>=0;g--)(I=f[g])&&(B=(A<3?I(B):A>3?I(u,p,B):I(u,p))||B);return A>3&&B&&Object.defineProperty(u,p,B),B},w=this&&this.__param||function(f,u){return function(p,S){u(p,S,f)}};Object.defineProperty(c,"__esModule",{value:!0}),c.Linkifier=void 0;const h=v(3656),b=v(8460),y=v(844),E=v(2585),d=v(4725);let s=c.Linkifier=class extends y.Disposable{get currentLink(){return this._currentLink}constructor(f,u,p,S,I){super(),this._element=f,this._mouseService=u,this._renderService=p,this._bufferService=S,this._linkProviderService=I,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new b.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new b.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,y.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,y.toDisposable)(()=>{this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(f){this._lastMouseEvent=f;const u=this._positionFromMouseEvent(f,this._element,this._mouseService);if(!u)return;this._isMouseOut=!1;const p=f.composedPath();for(let S=0;S<p.length;S++){const I=p[S];if(I.classList.contains("xterm"))break;if(I.classList.contains("xterm-hover"))return}this._lastBufferCell&&u.x===this._lastBufferCell.x&&u.y===this._lastBufferCell.y||(this._handleHover(u),this._lastBufferCell=u)}_handleHover(f){if(this._activeLine!==f.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(f,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,f)||(this._clearCurrentLink(),this._askForLink(f,!0))}_askForLink(f,u){this._activeProviderReplies&&u||(this._activeProviderReplies?.forEach(S=>{S?.forEach(I=>{I.link.dispose&&I.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=f.y);let p=!1;for(const[S,I]of this._linkProviderService.linkProviders.entries())u?this._activeProviderReplies?.get(S)&&(p=this._checkLinkProviderResult(S,f,p)):I.provideLinks(f.y,A=>{if(this._isMouseOut)return;const B=A?.map(g=>({link:g}));this._activeProviderReplies?.set(S,B),p=this._checkLinkProviderResult(S,f,p),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(f.y,this._activeProviderReplies)})}_removeIntersectingLinks(f,u){const p=new Set;for(let S=0;S<u.size;S++){const I=u.get(S);if(I)for(let A=0;A<I.length;A++){const B=I[A],x=B.link.range.end.y>f?this._bufferService.cols:B.link.range.end.x;for(let V=B.link.range.start.y<f?0:B.link.range.start.x;V<=x;V++){if(p.has(V)){I.splice(A--,1);break}p.add(V)}}}}_checkLinkProviderResult(f,u,p){if(!this._activeProviderReplies)return p;const S=this._activeProviderReplies.get(f);let I=!1;for(let A=0;A<f;A++)this._activeProviderReplies.has(A)&&!this._activeProviderReplies.get(A)||(I=!0);if(!I&&S){const A=S.find(B=>this._linkAtPosition(B.link,u));A&&(p=!0,this._handleNewLink(A))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!p)for(let A=0;A<this._activeProviderReplies.size;A++){const B=this._activeProviderReplies.get(A)?.find(g=>this._linkAtPosition(g.link,u));if(B){p=!0,this._handleNewLink(B);break}}return p}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(f){if(!this._currentLink)return;const u=this._positionFromMouseEvent(f,this._element,this._mouseService);u&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,u)&&this._currentLink.link.activate(f,this._currentLink.link.text)}_clearCurrentLink(f,u){this._currentLink&&this._lastMouseEvent&&(!f||!u||this._currentLink.link.range.start.y>=f&&this._currentLink.link.range.end.y<=u)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,y.disposeArray)(this._linkCacheDisposables))}_handleNewLink(f){if(!this._lastMouseEvent)return;const u=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);u&&this._linkAtPosition(f.link,u)&&(this._currentLink=f,this._currentLink.state={decorations:{underline:void 0===f.link.decorations||f.link.decorations.underline,pointerCursor:void 0===f.link.decorations||f.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,f.link,this._lastMouseEvent),f.link.decorations={},Object.defineProperties(f.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:p=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==p&&(this._currentLink.state.decorations.pointerCursor=p,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",p))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:p=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==p&&(this._currentLink.state.decorations.underline=p,this._currentLink.state.isHovered&&this._fireUnderlineEvent(f.link,p))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(p=>{if(!this._currentLink)return;const S=0===p.start?0:p.start+1+this._bufferService.buffer.ydisp,I=this._bufferService.buffer.ydisp+1+p.end;if(this._currentLink.link.range.start.y>=S&&this._currentLink.link.range.end.y<=I&&(this._clearCurrentLink(S,I),this._lastMouseEvent)){const A=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);A&&this._askForLink(A,!1)}})))}_linkHover(f,u,p){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!0),this._currentLink.state.decorations.pointerCursor&&f.classList.add("xterm-cursor-pointer")),u.hover&&u.hover(p,u.text)}_fireUnderlineEvent(f,u){const p=f.range,S=this._bufferService.buffer.ydisp,I=this._createLinkUnderlineEvent(p.start.x-1,p.start.y-S-1,p.end.x,p.end.y-S-1,void 0);(u?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(I)}_linkLeave(f,u,p){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!1),this._currentLink.state.decorations.pointerCursor&&f.classList.remove("xterm-cursor-pointer")),u.leave&&u.leave(p,u.text)}_linkAtPosition(f,u){const I=u.y*this._bufferService.cols+u.x;return f.range.start.y*this._bufferService.cols+f.range.start.x<=I&&I<=f.range.end.y*this._bufferService.cols+f.range.end.x}_positionFromMouseEvent(f,u,p){const S=p.getCoords(f,u,this._bufferService.cols,this._bufferService.rows);if(S)return{x:S[0],y:S[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(f,u,p,S,I){return{x1:f,y1:u,x2:p,y2:S,cols:this._bufferService.cols,fg:I}}};c.Linkifier=s=m([w(1,d.IMouseService),w(2,d.IRenderService),w(3,E.IBufferService),w(4,d.ILinkProviderService)],s)},9042:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.tooMuchOutput=c.promptLabel=void 0,c.promptLabel="Terminal input",c.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(C,c,v){var m=this&&this.__decorate||function(d,s,f,u){var p,S=arguments.length,I=S<3?s:null===u?u=Object.getOwnPropertyDescriptor(s,f):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(d,s,f,u);else for(var A=d.length-1;A>=0;A--)(p=d[A])&&(I=(S<3?p(I):S>3?p(s,f,I):p(s,f))||I);return S>3&&I&&Object.defineProperty(s,f,I),I},w=this&&this.__param||function(d,s){return function(f,u){s(f,u,d)}};Object.defineProperty(c,"__esModule",{value:!0}),c.OscLinkProvider=void 0;const h=v(511),b=v(2585);let y=c.OscLinkProvider=class{constructor(d,s,f){this._bufferService=d,this._optionsService=s,this._oscLinkService=f}provideLinks(d,s){const f=this._bufferService.buffer.lines.get(d-1);if(!f)return void s(void 0);const u=[],p=this._optionsService.rawOptions.linkHandler,S=new h.CellData,I=f.getTrimmedLength();let A=-1,B=-1,g=!1;for(let x=0;x<I;x++)if(-1!==B||f.hasContent(x)){if(f.loadCell(x,S),S.hasExtendedAttrs()&&S.extended.urlId){if(-1===B){B=x,A=S.extended.urlId;continue}g=S.extended.urlId!==A}else-1!==B&&(g=!0);if(g||-1!==B&&x===I-1){const V=this._oscLinkService.getLinkData(A)?.uri;if(V){const k={start:{x:B+1,y:d},end:{x:x+(g||x!==I-1?0:1),y:d}};let Y=!1;if(!p?.allowNonHttpProtocols)try{const q=new URL(V);["http:","https:"].includes(q.protocol)||(Y=!0)}catch{Y=!0}Y||u.push({text:V,range:k,activate:(q,J)=>p?p.activate(q,J,k):E(0,J),hover:(q,J)=>p?.hover?.(q,J,k),leave:(q,J)=>p?.leave?.(q,J,k)})}g=!1,S.hasExtendedAttrs()&&S.extended.urlId?(B=x,A=S.extended.urlId):(B=-1,A=-1)}}s(u)}};function E(d,s){if(confirm(`Do you want to navigate to ${s}?\n\nWARNING: This link could potentially be dangerous`)){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=s}else console.warn("Opening link blocked as opener could not be cleared")}}c.OscLinkProvider=y=m([w(0,b.IBufferService),w(1,b.IOptionsService),w(2,b.IOscLinkService)],y)},6193:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.RenderDebouncer=void 0,c.RenderDebouncer=class{constructor(v,m){this._renderCallback=v,this._coreBrowserService=m,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(v){return this._refreshCallbacks.push(v),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(v,m,w){this._rowCount=w,v=void 0!==v?v:0,m=void 0!==m?m:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,v):v,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,m):m,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const v=Math.max(this._rowStart,0),m=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(v,m),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const v of this._refreshCallbacks)v(0);this._refreshCallbacks=[]}}},3236:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Terminal=void 0;const m=v(3614),w=v(3656),h=v(3551),b=v(9042),y=v(3730),E=v(1680),d=v(3107),s=v(5744),f=v(2950),u=v(1296),p=v(428),S=v(4269),I=v(5114),A=v(8934),B=v(3230),g=v(9312),x=v(4725),V=v(6731),k=v(8055),Y=v(8969),q=v(8460),J=v(844),ae=v(6114),se=v(8437),we=v(2584),ve=v(7399),K=v(5941),ne=v(9074),re=v(2585),de=v(5435),Ue=v(4567),ze=v(779);c.Terminal=class Qe extends Y.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(Se={}){super(Se),this.browser=ae,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new J.MutableDisposable),this._onCursorMove=this.register(new q.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new q.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new q.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new q.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new q.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new q.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new q.EventEmitter),this._onBlur=this.register(new q.EventEmitter),this._onA11yCharEmitter=this.register(new q.EventEmitter),this._onA11yTabEmitter=this.register(new q.EventEmitter),this._onWillOpen=this.register(new q.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(ne.DecorationService),this._instantiationService.setService(re.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(ze.LinkProviderService),this._instantiationService.setService(x.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(y.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((ie,Ne)=>this.refresh(ie,Ne))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(ie=>this._reportWindowsOptions(ie))),this.register(this._inputHandler.onColor(ie=>this._handleColorEvent(ie))),this.register((0,q.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,q.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,q.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,q.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(ie=>this._afterResize(ie.cols,ie.rows))),this.register((0,J.toDisposable)(()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)}))}_handleColorEvent(Se){if(this._themeService)for(const ie of Se){let Ne,Pe="";switch(ie.index){case 256:Ne="foreground",Pe="10";break;case 257:Ne="background",Pe="11";break;case 258:Ne="cursor",Pe="12";break;default:Ne="ansi",Pe="4;"+ie.index}switch(ie.type){case 0:const tt=k.color.toColorRGB("ansi"===Ne?this._themeService.colors.ansi[ie.index]:this._themeService.colors[Ne]);this.coreService.triggerDataEvent(`${we.C0.ESC}]${Pe};${(0,K.toRgbString)(tt)}${we.C1_ESCAPED.ST}`);break;case 1:if("ansi"===Ne)this._themeService.modifyColors(et=>et.ansi[ie.index]=k.channels.toColor(...ie.color));else{const et=Ne;this._themeService.modifyColors(Et=>Et[et]=k.channels.toColor(...ie.color))}break;case 2:this._themeService.restoreColor(ie.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(Se){Se?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Ue.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(Se){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(we.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(we.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const ie=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(!ie)return;const Ne=Math.min(this.buffer.x,this.cols-1),Pe=this._renderService.dimensions.css.cell.height,tt=ie.getWidth(Ne),et=this._renderService.dimensions.css.cell.width*tt,Et=this.buffer.y*this._renderService.dimensions.css.cell.height;this.textarea.style.left=Ne*this._renderService.dimensions.css.cell.width+"px",this.textarea.style.top=Et+"px",this.textarea.style.width=et+"px",this.textarea.style.height=Pe+"px",this.textarea.style.lineHeight=Pe+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,w.addDisposableDomListener)(this.element,"copy",ie=>{this.hasSelection()&&(0,m.copyHandler)(ie,this._selectionService)}));const Se=ie=>(0,m.handlePasteEvent)(ie,this.textarea,this.coreService,this.optionsService);this.register((0,w.addDisposableDomListener)(this.textarea,"paste",Se)),this.register((0,w.addDisposableDomListener)(this.element,"paste",Se)),this.register(ae.isFirefox?(0,w.addDisposableDomListener)(this.element,"mousedown",ie=>{2===ie.button&&(0,m.rightClickHandler)(ie,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}):(0,w.addDisposableDomListener)(this.element,"contextmenu",ie=>{(0,m.rightClickHandler)(ie,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),ae.isLinux&&this.register((0,w.addDisposableDomListener)(this.element,"auxclick",ie=>{1===ie.button&&(0,m.moveTextAreaUnderMouseCursor)(ie,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,w.addDisposableDomListener)(this.textarea,"keyup",Se=>this._keyUp(Se),!0)),this.register((0,w.addDisposableDomListener)(this.textarea,"keydown",Se=>this._keyDown(Se),!0)),this.register((0,w.addDisposableDomListener)(this.textarea,"keypress",Se=>this._keyPress(Se),!0)),this.register((0,w.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,w.addDisposableDomListener)(this.textarea,"compositionupdate",Se=>this._compositionHelper.compositionupdate(Se))),this.register((0,w.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,w.addDisposableDomListener)(this.textarea,"input",Se=>this._inputEvent(Se),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(Se){if(!Se)throw new Error("Terminal requires a parent element.");if(Se.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=Se.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),Se.appendChild(this.element);const ie=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),ie.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,w.addDisposableDomListener)(this.screenElement,"mousemove",Ne=>this.updateCursorStyle(Ne))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),ie.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",b.promptLabel),ae.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(I.CoreBrowserService,this.textarea,Se.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(x.ICoreBrowserService,this._coreBrowserService),this.register((0,w.addDisposableDomListener)(this.textarea,"focus",Ne=>this._handleTextAreaFocus(Ne))),this.register((0,w.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(p.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(x.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(V.ThemeService),this._instantiationService.setService(x.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(S.CharacterJoinerService),this._instantiationService.setService(x.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(B.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(x.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Ne=>this._onRender.fire(Ne))),this.onResize(Ne=>this._renderService.resize(Ne.cols,Ne.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(f.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(A.MouseService),this._instantiationService.setService(x.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(h.Linkifier,this.screenElement)),this.element.appendChild(ie);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(E.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(Ne=>this.scrollLines(Ne.amount,Ne.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(g.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(x.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Ne=>this.scrollLines(Ne.amount,Ne.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Ne=>this._renderService.handleSelectionChanged(Ne.start,Ne.end,Ne.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Ne=>{this.textarea.value=Ne,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Ne=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,w.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(d.BufferDecorationRenderer,this.screenElement)),this.register((0,w.addDisposableDomListener)(this.element,"mousedown",Ne=>this._selectionService.handleMouseDown(Ne))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Ue.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Ne=>this._handleScreenReaderModeOptionChange(Ne))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(s.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Ne=>{!this._overviewRulerRenderer&&Ne&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(s.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(u.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const Se=this,ie=this.element;function Ne(et){const Et=Se._mouseService.getMouseReportCoords(et,Se.screenElement);if(!Et)return!1;let Ot,St;switch(et.overrideType||et.type){case"mousemove":St=32,void 0===et.buttons?(Ot=3,void 0!==et.button&&(Ot=et.button<3?et.button:3)):Ot=1&et.buttons?0:4&et.buttons?1:2&et.buttons?2:3;break;case"mouseup":St=0,Ot=et.button<3?et.button:3;break;case"mousedown":St=1,Ot=et.button<3?et.button:3;break;case"wheel":if(Se._customWheelEventHandler&&!1===Se._customWheelEventHandler(et)||0===Se.viewport.getLinesScrolled(et))return!1;St=et.deltaY<0?0:1,Ot=4;break;default:return!1}return!(void 0===St||void 0===Ot||Ot>4)&&Se.coreMouseService.triggerMouseEvent({col:Et.col,row:Et.row,x:Et.x,y:Et.y,button:Ot,action:St,ctrl:et.ctrlKey,alt:et.altKey,shift:et.shiftKey})}const Pe={mouseup:null,wheel:null,mousedrag:null,mousemove:null},tt={mouseup:et=>(Ne(et),et.buttons||(this._document.removeEventListener("mouseup",Pe.mouseup),Pe.mousedrag&&this._document.removeEventListener("mousemove",Pe.mousedrag)),this.cancel(et)),wheel:et=>(Ne(et),this.cancel(et,!0)),mousedrag:et=>{et.buttons&&Ne(et)},mousemove:et=>{et.buttons||Ne(et)}};this.register(this.coreMouseService.onProtocolChange(et=>{et?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(et)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&et?Pe.mousemove||(ie.addEventListener("mousemove",tt.mousemove),Pe.mousemove=tt.mousemove):(ie.removeEventListener("mousemove",Pe.mousemove),Pe.mousemove=null),16&et?Pe.wheel||(ie.addEventListener("wheel",tt.wheel,{passive:!1}),Pe.wheel=tt.wheel):(ie.removeEventListener("wheel",Pe.wheel),Pe.wheel=null),2&et?Pe.mouseup||(Pe.mouseup=tt.mouseup):(this._document.removeEventListener("mouseup",Pe.mouseup),Pe.mouseup=null),4&et?Pe.mousedrag||(Pe.mousedrag=tt.mousedrag):(this._document.removeEventListener("mousemove",Pe.mousedrag),Pe.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,w.addDisposableDomListener)(ie,"mousedown",et=>{if(et.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(et))return Ne(et),Pe.mouseup&&this._document.addEventListener("mouseup",Pe.mouseup),Pe.mousedrag&&this._document.addEventListener("mousemove",Pe.mousedrag),this.cancel(et)})),this.register((0,w.addDisposableDomListener)(ie,"wheel",et=>{if(!Pe.wheel){if(this._customWheelEventHandler&&!1===this._customWheelEventHandler(et))return!1;if(!this.buffer.hasScrollback){const Et=this.viewport.getLinesScrolled(et);if(0===Et)return;const Ot=we.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(et.deltaY<0?"A":"B");let St="";for(let bt=0;bt<Math.abs(Et);bt++)St+=Ot;return this.coreService.triggerDataEvent(St,!0),this.cancel(et,!0)}return this.viewport.handleWheel(et)?this.cancel(et):void 0}},{passive:!1})),this.register((0,w.addDisposableDomListener)(ie,"touchstart",et=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(et),this.cancel(et)},{passive:!0})),this.register((0,w.addDisposableDomListener)(ie,"touchmove",et=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(et)?void 0:this.cancel(et)},{passive:!1}))}refresh(Se,ie){this._renderService?.refreshRows(Se,ie)}updateCursorStyle(Se){this._selectionService?.shouldColumnSelect(Se)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(Se,ie,Ne=0){1===Ne?(super.scrollLines(Se,ie,Ne),this.refresh(0,this.rows-1)):this.viewport?.scrollLines(Se)}paste(Se){(0,m.paste)(Se,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(Se){this._customKeyEventHandler=Se}attachCustomWheelEventHandler(Se){this._customWheelEventHandler=Se}registerLinkProvider(Se){return this._linkProviderService.registerLinkProvider(Se)}registerCharacterJoiner(Se){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const ie=this._characterJoinerService.register(Se);return this.refresh(0,this.rows-1),ie}deregisterCharacterJoiner(Se){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(Se)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(Se){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+Se)}registerDecoration(Se){return this._decorationService.registerDecoration(Se)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(Se,ie,Ne){this._selectionService.setSelection(Se,ie,Ne)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(Se,ie){this._selectionService?.selectLines(Se,ie)}_keyDown(Se){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(Se))return!1;const ie=this.browser.isMac&&this.options.macOptionIsMeta&&Se.altKey;if(!ie&&!this._compositionHelper.keydown(Se))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;ie||"Dead"!==Se.key&&"AltGraph"!==Se.key||(this._unprocessedDeadKey=!0);const Ne=(0,ve.evaluateKeyboardEvent)(Se,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(Se),3===Ne.type||2===Ne.type){const Pe=this.rows-1;return this.scrollLines(2===Ne.type?-Pe:Pe),this.cancel(Se,!0)}return 1===Ne.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,Se)||(Ne.cancel&&this.cancel(Se,!0),!Ne.key||!!(Se.key&&!Se.ctrlKey&&!Se.altKey&&!Se.metaKey&&1===Se.key.length&&Se.key.charCodeAt(0)>=65&&Se.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Ne.key!==we.C0.ETX&&Ne.key!==we.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Ne.key,domEvent:Se}),this._showCursor(),this.coreService.triggerDataEvent(Ne.key,!0),!this.optionsService.rawOptions.screenReaderMode||Se.altKey||Se.ctrlKey?this.cancel(Se,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(Se,ie){const Ne=Se.isMac&&!this.options.macOptionIsMeta&&ie.altKey&&!ie.ctrlKey&&!ie.metaKey||Se.isWindows&&ie.altKey&&ie.ctrlKey&&!ie.metaKey||Se.isWindows&&ie.getModifierState("AltGraph");return"keypress"===ie.type?Ne:Ne&&(!ie.keyCode||ie.keyCode>47)}_keyUp(Se){var ie;this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(Se)||(16===(ie=Se).keyCode||17===ie.keyCode||18===ie.keyCode||this.focus(),this.updateCursorStyle(Se),this._keyPressHandled=!1)}_keyPress(Se){let ie;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(Se))return!1;if(this.cancel(Se),Se.charCode)ie=Se.charCode;else if(null==Se.which)ie=Se.keyCode;else{if(0===Se.which||0===Se.charCode)return!1;ie=Se.which}return!(!ie||(Se.altKey||Se.ctrlKey||Se.metaKey)&&!this._isThirdLevelShift(this.browser,Se)||(ie=String.fromCharCode(ie),this._onKey.fire({key:ie,domEvent:Se}),this._showCursor(),this.coreService.triggerDataEvent(ie,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(Se){return!(!Se.data||"insertText"!==Se.inputType||Se.composed&&this._keyDownSeen||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(Se.data,!0),this.cancel(Se),0))}resize(Se,ie){Se!==this.cols||ie!==this.rows?super.resize(Se,ie):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(Se,ie){this._charSizeService?.measure(),this.viewport?.syncScrollArea(!0)}clear(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let Se=1;Se<this.rows;Se++)this.buffer.lines.push(this.buffer.getBlankLine(se.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),this.viewport?.reset(),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;const Se=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this.viewport?.reset(),this._customKeyEventHandler=Se,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(we.C0.ESC+"[I"):this.coreService.triggerDataEvent(we.C0.ESC+"[O")}_reportWindowsOptions(Se){if(this._renderService)switch(Se){case de.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const ie=this._renderService.dimensions.css.canvas.width.toFixed(0),Ne=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${we.C0.ESC}[4;${Ne};${ie}t`);break;case de.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Pe=this._renderService.dimensions.css.cell.width.toFixed(0),tt=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${we.C0.ESC}[6;${tt};${Pe}t`)}}cancel(Se,ie){if(this.options.cancelEvents||ie)return Se.preventDefault(),Se.stopPropagation(),!1}}},9924:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TimeBasedDebouncer=void 0,c.TimeBasedDebouncer=class{constructor(v,m=1e3){this._renderCallback=v,this._debounceThresholdMS=m,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(v,m,w){this._rowCount=w,v=void 0!==v?v:0,m=void 0!==m?m:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,v):v,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,m):m;const h=Date.now();if(h-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=h,this._innerRefresh();else if(!this._additionalRefreshRequested){const y=this._debounceThresholdMS-(h-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},y)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const v=Math.max(this._rowStart,0),m=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(v,m)}}},1680:function(C,c,v){var m=this&&this.__decorate||function(f,u,p,S){var I,A=arguments.length,B=A<3?u:null===S?S=Object.getOwnPropertyDescriptor(u,p):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(f,u,p,S);else for(var g=f.length-1;g>=0;g--)(I=f[g])&&(B=(A<3?I(B):A>3?I(u,p,B):I(u,p))||B);return A>3&&B&&Object.defineProperty(u,p,B),B},w=this&&this.__param||function(f,u){return function(p,S){u(p,S,f)}};Object.defineProperty(c,"__esModule",{value:!0}),c.Viewport=void 0;const h=v(3656),b=v(4725),y=v(8460),E=v(844),d=v(2585);let s=c.Viewport=class extends E.Disposable{constructor(f,u,p,S,I,A,B,g){super(),this._viewportElement=f,this._scrollArea=u,this._bufferService=p,this._optionsService=S,this._charSizeService=I,this._renderService=A,this._coreBrowserService=B,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new y.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(x=>this._activeBuffer=x.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(x=>this._renderDimensions=x)),this._handleThemeChange(g.colors),this.register(g.onChangeColors(x=>this._handleThemeChange(x))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(f){this._viewportElement.style.backgroundColor=f.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(f){if(f)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const u=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==u&&(this._lastRecordedBufferHeight=u,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const f=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==f&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=f),this._refreshAnimationFrame=null}syncScrollArea(f=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(f);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(f)}_handleScroll(f){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const u=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:u,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const f=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(f*(this._smoothScrollState.target-this._smoothScrollState.origin)),f<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(f,u){return!(u<0&&0!==this._viewportElement.scrollTop||u>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(f.cancelable&&f.preventDefault(),!1)}handleWheel(f){const u=this._getPixelsScrolled(f);return 0!==u&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+u:this._smoothScrollState.target+=u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=u,this._bubbleScroll(f,u))}scrollLines(f){if(0!==f)if(this._optionsService.rawOptions.smoothScrollDuration){const u=f*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:f,suppressScrollEvent:!1})}_getPixelsScrolled(f){if(0===f.deltaY||f.shiftKey)return 0;let u=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_LINE?u*=this._currentRowHeight:f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._currentRowHeight*this._bufferService.rows),u}getBufferElements(f,u){let p,S="";const I=[],A=u??this._bufferService.buffer.lines.length,B=this._bufferService.buffer.lines;for(let g=f;g<A;g++){const x=B.get(g);if(!x)continue;const V=B.get(g+1)?.isWrapped;if(S+=x.translateToString(!V),!V||g===B.length-1){const k=document.createElement("div");k.textContent=S,I.push(k),S.length>0&&(p=k),S=""}}return{bufferElements:I,cursorElement:p}}getLinesScrolled(f){if(0===f.deltaY||f.shiftKey)return 0;let u=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(u/=this._currentRowHeight+0,this._wheelPartialScroll+=u,u=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._bufferService.rows),u}_applyScrollModifier(f,u){const p=this._optionsService.rawOptions.fastScrollModifier;return"alt"===p&&u.altKey||"ctrl"===p&&u.ctrlKey||"shift"===p&&u.shiftKey?f*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:f*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(f){this._lastTouchY=f.touches[0].pageY}handleTouchMove(f){const u=this._lastTouchY-f.touches[0].pageY;return this._lastTouchY=f.touches[0].pageY,0!==u&&(this._viewportElement.scrollTop+=u,this._bubbleScroll(f,u))}};c.Viewport=s=m([w(2,d.IBufferService),w(3,d.IOptionsService),w(4,b.ICharSizeService),w(5,b.IRenderService),w(6,b.ICoreBrowserService),w(7,b.IThemeService)],s)},3107:function(C,c,v){var m=this&&this.__decorate||function(d,s,f,u){var p,S=arguments.length,I=S<3?s:null===u?u=Object.getOwnPropertyDescriptor(s,f):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(d,s,f,u);else for(var A=d.length-1;A>=0;A--)(p=d[A])&&(I=(S<3?p(I):S>3?p(s,f,I):p(s,f))||I);return S>3&&I&&Object.defineProperty(s,f,I),I},w=this&&this.__param||function(d,s){return function(f,u){s(f,u,d)}};Object.defineProperty(c,"__esModule",{value:!0}),c.BufferDecorationRenderer=void 0;const h=v(4725),b=v(844),y=v(2585);let E=c.BufferDecorationRenderer=class extends b.Disposable{constructor(d,s,f,u,p){super(),this._screenElement=d,this._bufferService=s,this._coreBrowserService=f,this._decorationService=u,this._renderService=p,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(S=>this._removeDecoration(S))),this.register((0,b.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const d of this._decorationService.decorations)this._renderDecoration(d);this._dimensionsChanged=!1}_renderDecoration(d){this._refreshStyle(d),this._dimensionsChanged&&this._refreshXPosition(d)}_createElement(d){const s=this._coreBrowserService.mainDocument.createElement("div");s.classList.add("xterm-decoration"),s.classList.toggle("xterm-decoration-top-layer","top"===d?.options?.layer),s.style.width=`${Math.round((d.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,s.style.height=(d.options.height||1)*this._renderService.dimensions.css.cell.height+"px",s.style.top=(d.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",s.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const f=d.options.x??0;return f&&f>this._bufferService.cols&&(s.style.display="none"),this._refreshXPosition(d,s),s}_refreshStyle(d){const s=d.marker.line-this._bufferService.buffers.active.ydisp;if(s<0||s>=this._bufferService.rows)d.element&&(d.element.style.display="none",d.onRenderEmitter.fire(d.element));else{let f=this._decorationElements.get(d);f||(f=this._createElement(d),d.element=f,this._decorationElements.set(d,f),this._container.appendChild(f),d.onDispose(()=>{this._decorationElements.delete(d),f.remove()})),f.style.top=s*this._renderService.dimensions.css.cell.height+"px",f.style.display=this._altBufferIsActive?"none":"block",d.onRenderEmitter.fire(f)}}_refreshXPosition(d,s=d.element){if(!s)return;const f=d.options.x??0;"right"===(d.options.anchor||"left")?s.style.right=f?f*this._renderService.dimensions.css.cell.width+"px":"":s.style.left=f?f*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(d){this._decorationElements.get(d)?.remove(),this._decorationElements.delete(d),d.dispose()}};c.BufferDecorationRenderer=E=m([w(1,y.IBufferService),w(2,h.ICoreBrowserService),w(3,y.IDecorationService),w(4,h.IRenderService)],E)},5871:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ColorZoneStore=void 0,c.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(v){if(v.options.overviewRulerOptions){for(const m of this._zones)if(m.color===v.options.overviewRulerOptions.color&&m.position===v.options.overviewRulerOptions.position){if(this._lineIntersectsZone(m,v.marker.line))return;if(this._lineAdjacentToZone(m,v.marker.line,v.options.overviewRulerOptions.position))return void this._addLineToZone(m,v.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=v.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=v.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=v.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=v.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:v.options.overviewRulerOptions.color,position:v.options.overviewRulerOptions.position,startBufferLine:v.marker.line,endBufferLine:v.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(v){this._linePadding=v}_lineIntersectsZone(v,m){return m>=v.startBufferLine&&m<=v.endBufferLine}_lineAdjacentToZone(v,m,w){return m>=v.startBufferLine-this._linePadding[w||"full"]&&m<=v.endBufferLine+this._linePadding[w||"full"]}_addLineToZone(v,m){v.startBufferLine=Math.min(v.startBufferLine,m),v.endBufferLine=Math.max(v.endBufferLine,m)}}},5744:function(C,c,v){var m=this&&this.__decorate||function(p,S,I,A){var B,g=arguments.length,x=g<3?S:null===A?A=Object.getOwnPropertyDescriptor(S,I):A;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(p,S,I,A);else for(var V=p.length-1;V>=0;V--)(B=p[V])&&(x=(g<3?B(x):g>3?B(S,I,x):B(S,I))||x);return g>3&&x&&Object.defineProperty(S,I,x),x},w=this&&this.__param||function(p,S){return function(I,A){S(I,A,p)}};Object.defineProperty(c,"__esModule",{value:!0}),c.OverviewRulerRenderer=void 0;const h=v(5871),b=v(4725),y=v(844),E=v(2585),d={full:0,left:0,center:0,right:0},s={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0};let u=c.OverviewRulerRenderer=class extends y.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(p,S,I,A,B,g,x){super(),this._viewportElement=p,this._screenElement=S,this._bufferService=I,this._decorationService=A,this._renderService=B,this._optionsService=g,this._coreBrowserService=x,this._colorZoneStore=new h.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement);const V=this._canvas.getContext("2d");if(!V)throw new Error("Ctx cannot be null");this._ctx=V,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,y.toDisposable)(()=>{this._canvas?.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const p=Math.floor(this._canvas.width/3),S=Math.ceil(this._canvas.width/3);s.full=this._canvas.width,s.left=p,s.center=S,s.right=p,this._refreshDrawHeightConstants(),f.full=0,f.left=0,f.center=s.left,f.right=s.left+s.center}_refreshDrawHeightConstants(){d.full=Math.round(2*this._coreBrowserService.dpr);const S=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowserService.dpr);d.left=S,d.center=S,d.right=S}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const S of this._decorationService.decorations)this._colorZoneStore.addDecoration(S);this._ctx.lineWidth=1;const p=this._colorZoneStore.zones;for(const S of p)"full"!==S.position&&this._renderColorZone(S);for(const S of p)"full"===S.position&&this._renderColorZone(S);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(p){this._ctx.fillStyle=p.color,this._ctx.fillRect(f[p.position||"full"],Math.round(p.startBufferLine/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)-d[p.position||"full"]/2),s[p.position||"full"],Math.round((p.endBufferLine-p.startBufferLine)/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)+d[p.position||"full"]))}_queueRefresh(p,S){this._shouldUpdateDimensions=p||this._shouldUpdateDimensions,this._shouldUpdateAnchor=S||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};c.OverviewRulerRenderer=u=m([w(2,E.IBufferService),w(3,E.IDecorationService),w(4,b.IRenderService),w(5,E.IOptionsService),w(6,b.ICoreBrowserService)],u)},2950:function(C,c,v){var m=this&&this.__decorate||function(d,s,f,u){var p,S=arguments.length,I=S<3?s:null===u?u=Object.getOwnPropertyDescriptor(s,f):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(d,s,f,u);else for(var A=d.length-1;A>=0;A--)(p=d[A])&&(I=(S<3?p(I):S>3?p(s,f,I):p(s,f))||I);return S>3&&I&&Object.defineProperty(s,f,I),I},w=this&&this.__param||function(d,s){return function(f,u){s(f,u,d)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CompositionHelper=void 0;const h=v(4725),b=v(2585),y=v(2584);let E=c.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(d,s,f,u,p,S){this._textarea=d,this._compositionView=s,this._bufferService=f,this._optionsService=u,this._coreService=p,this._renderService=S,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(d){this._compositionView.textContent=d.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(d){if(this._isComposing||this._isSendingComposition){if(229===d.keyCode||16===d.keyCode||17===d.keyCode||18===d.keyCode)return!1;this._finalizeComposition(!1)}return 229!==d.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(d){if(this._compositionView.classList.remove("active"),this._isComposing=!1,d){const s={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let f;this._isSendingComposition=!1,s.start+=this._dataAlreadySent.length,f=this._isComposing?this._textarea.value.substring(s.start,s.end):this._textarea.value.substring(s.start),f.length>0&&this._coreService.triggerDataEvent(f,!0)}},0)}else{this._isSendingComposition=!1;const s=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(s,!0)}}_handleAnyTextareaChanges(){const d=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const s=this._textarea.value,f=s.replace(d,"");this._dataAlreadySent=f,s.length>d.length?this._coreService.triggerDataEvent(f,!0):s.length<d.length?this._coreService.triggerDataEvent(`${y.C0.DEL}`,!0):s.length===d.length&&s!==d&&this._coreService.triggerDataEvent(s,!0)}},0)}updateCompositionElements(d){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const s=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),f=this._renderService.dimensions.css.cell.height,u=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,p=s*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=p+"px",this._compositionView.style.top=u+"px",this._compositionView.style.height=f+"px",this._compositionView.style.lineHeight=f+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const S=this._compositionView.getBoundingClientRect();this._textarea.style.left=p+"px",this._textarea.style.top=u+"px",this._textarea.style.width=Math.max(S.width,1)+"px",this._textarea.style.height=Math.max(S.height,1)+"px",this._textarea.style.lineHeight=S.height+"px"}d||setTimeout(()=>this.updateCompositionElements(!0),0)}}};c.CompositionHelper=E=m([w(2,b.IBufferService),w(3,b.IOptionsService),w(4,b.ICoreService),w(5,h.IRenderService)],E)},9806:(C,c)=>{function v(m,w,h){const b=h.getBoundingClientRect(),y=m.getComputedStyle(h),E=parseInt(y.getPropertyValue("padding-left")),d=parseInt(y.getPropertyValue("padding-top"));return[w.clientX-b.left-E,w.clientY-b.top-d]}Object.defineProperty(c,"__esModule",{value:!0}),c.getCoords=c.getCoordsRelativeToElement=void 0,c.getCoordsRelativeToElement=v,c.getCoords=function(m,w,h,b,y,E,d,s,f){if(!E)return;const u=v(m,w,h);return u?(u[0]=Math.ceil((u[0]+(f?d/2:0))/d),u[1]=Math.ceil(u[1]/s),u[0]=Math.min(Math.max(u[0],1),b+(f?1:0)),u[1]=Math.min(Math.max(u[1],1),y),u):void 0}},9504:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.moveToCellSequence=void 0;const m=v(2584);function w(s,f,u,p){const S=s-h(s,u),I=f-h(f,u);return d(Math.abs(S-I)-function(B,g,x){let V=0;const k=B-h(B,x),Y=g-h(g,x);for(let q=0;q<Math.abs(k-Y);q++){const J="A"===b(B,g)?-1:1;x.buffer.lines.get(k+J*q)?.isWrapped&&V++}return V}(s,f,u),E(b(s,f),p))}function h(s,f){let u=0,p=f.buffer.lines.get(s),S=p?.isWrapped;for(;S&&s>=0&&s<f.rows;)u++,p=f.buffer.lines.get(--s),S=p?.isWrapped;return u}function b(s,f){return s>f?"A":"B"}function y(s,f,u,p,S,I){let A=s,B=f,g="";for(;A!==u||B!==p;)A+=S?1:-1,S&&A>I.cols-1?(g+=I.buffer.translateBufferLineToString(B,!1,s,A),A=0,s=0,B++):!S&&A<0&&(g+=I.buffer.translateBufferLineToString(B,!1,0,s+1),A=I.cols-1,s=A,B--);return g+I.buffer.translateBufferLineToString(B,!1,s,A)}function E(s,f){return m.C0.ESC+(f?"O":"[")+s}function d(s,f){s=Math.floor(s);let u="";for(let p=0;p<s;p++)u+=f;return u}c.moveToCellSequence=function(s,f,u,p){const S=u.buffer.x,I=u.buffer.y;if(!u.buffer.hasScrollback)return g=S,(0===w(x=I,f,Y=u,q=p).length?"":d(y(g,x,g,x-h(x,Y),!1,Y).length,E("D",q)))+w(I,f,u,p)+function(g,x,V,k,Y,q){let J;J=w(x,k,Y,q).length>0?k-h(k,Y):x;const ae=k,se=function(we,ve,K,ne,re,de){let Ue;return Ue=w(K,ne,re,de).length>0?ne-h(ne,re):ve,we<K&&Ue<=ne||we>=K&&Ue<ne?"C":"D"}(g,x,V,k,Y,q);return d(y(g,J,V,ae,"C"===se,Y).length,E(se,q))}(S,I,s,f,u,p);var g,x,Y,q;let A;if(I===f)return A=S>s?"D":"C",d(Math.abs(S-s),E(A,p));A=I>f?"D":"C";const B=Math.abs(I-f);return d(function(g,x){return x.cols-g}(I>f?s:S,u)+(B-1)*u.cols+1+((I>f?S:s)-1),E(A,p))}},1296:function(C,c,v){var m=this&&this.__decorate||function(q,J,ae,se){var we,ve=arguments.length,K=ve<3?J:null===se?se=Object.getOwnPropertyDescriptor(J,ae):se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(q,J,ae,se);else for(var ne=q.length-1;ne>=0;ne--)(we=q[ne])&&(K=(ve<3?we(K):ve>3?we(J,ae,K):we(J,ae))||K);return ve>3&&K&&Object.defineProperty(J,ae,K),K},w=this&&this.__param||function(q,J){return function(ae,se){J(ae,se,q)}};Object.defineProperty(c,"__esModule",{value:!0}),c.DomRenderer=void 0;const h=v(3787),b=v(2550),y=v(2223),E=v(6171),d=v(6052),s=v(4725),f=v(8055),u=v(8460),p=v(844),S=v(2585),I="xterm-dom-renderer-owner-",A="xterm-rows",B="xterm-fg-",g="xterm-bg-",x="xterm-focus",V="xterm-selection";let k=1,Y=c.DomRenderer=class extends p.Disposable{constructor(q,J,ae,se,we,ve,K,ne,re,de,Ue,ze,Qe){super(),this._terminal=q,this._document=J,this._element=ae,this._screenElement=se,this._viewportElement=we,this._helperContainer=ve,this._linkifier2=K,this._charSizeService=re,this._optionsService=de,this._bufferService=Ue,this._coreBrowserService=ze,this._themeService=Qe,this._terminalClass=k++,this._rowElements=[],this._selectionRenderModel=(0,d.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new u.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(A),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(V),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,E.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(Ye=>this._injectCss(Ye))),this._injectCss(this._themeService.colors),this._rowFactory=ne.createInstance(h.DomRendererRowFactory,document),this._element.classList.add(I+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(Ye=>this._handleLinkHover(Ye))),this.register(this._linkifier2.onHideLinkUnderline(Ye=>this._handleLinkLeave(Ye))),this.register((0,p.toDisposable)(()=>{this._element.classList.remove(I+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new b.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const q=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*q,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*q),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/q),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/q),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const ae of this._rowElements)ae.style.width=`${this.dimensions.css.canvas.width}px`,ae.style.height=`${this.dimensions.css.cell.height}px`,ae.style.lineHeight=`${this.dimensions.css.cell.height}px`,ae.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=`${this._terminalSelector} .${A} span { display: inline-block; height: 100%; vertical-align: top;}`,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(q){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let J=`${this._terminalSelector} .${A} { color: ${q.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;J+=`${this._terminalSelector} .${A} .xterm-dim { color: ${f.color.multiplyOpacity(q.foreground,.5).css};}`,J+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const ae=`blink_underline_${this._terminalClass}`,se=`blink_bar_${this._terminalClass}`,we=`blink_block_${this._terminalClass}`;J+=`@keyframes ${ae} { 50% {  border-bottom-style: hidden; }}`,J+=`@keyframes ${se} { 50% {  box-shadow: none; }}`,J+=`@keyframes ${we} { 0% {  background-color: ${q.cursor.css};  color: ${q.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${q.cursor.css}; }}`,J+=`${this._terminalSelector} .${A}.${x} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${ae} 1s step-end infinite;}${this._terminalSelector} .${A}.${x} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${se} 1s step-end infinite;}${this._terminalSelector} .${A}.${x} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${we} 1s step-end infinite;}${this._terminalSelector} .${A} .xterm-cursor.xterm-cursor-block { background-color: ${q.cursor.css}; color: ${q.cursorAccent.css};}${this._terminalSelector} .${A} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${q.cursor.css} !important; color: ${q.cursorAccent.css} !important;}${this._terminalSelector} .${A} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${q.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${A} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${q.cursor.css} inset;}${this._terminalSelector} .${A} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${q.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,J+=`${this._terminalSelector} .${V} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${V} div { position: absolute; background-color: ${q.selectionBackgroundOpaque.css};}${this._terminalSelector} .${V} div { position: absolute; background-color: ${q.selectionInactiveBackgroundOpaque.css};}`;for(const[ve,K]of q.ansi.entries())J+=`${this._terminalSelector} .${B}${ve} { color: ${K.css}; }${this._terminalSelector} .${B}${ve}.xterm-dim { color: ${f.color.multiplyOpacity(K,.5).css}; }${this._terminalSelector} .${g}${ve} { background-color: ${K.css}; }`;J+=`${this._terminalSelector} .${B}${y.INVERTED_DEFAULT_COLOR} { color: ${f.color.opaque(q.background).css}; }${this._terminalSelector} .${B}${y.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${f.color.multiplyOpacity(f.color.opaque(q.background),.5).css}; }${this._terminalSelector} .${g}${y.INVERTED_DEFAULT_COLOR} { background-color: ${q.foreground.css}; }`,this._themeStyleElement.textContent=J}_setDefaultSpacing(){const q=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${q}px`,this._rowFactory.defaultSpacing=q}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(q,J){for(let ae=this._rowElements.length;ae<=J;ae++){const se=this._document.createElement("div");this._rowContainer.appendChild(se),this._rowElements.push(se)}for(;this._rowElements.length>J;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(q,J){this._refreshRowElements(q,J),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(x),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(x),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(q,J,ae){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(q,J,ae),this.renderRows(0,this._bufferService.rows-1),!q||!J)return;this._selectionRenderModel.update(this._terminal,q,J,ae);const se=this._selectionRenderModel.viewportStartRow,we=this._selectionRenderModel.viewportEndRow,ve=this._selectionRenderModel.viewportCappedStartRow,K=this._selectionRenderModel.viewportCappedEndRow;if(ve>=this._bufferService.rows||K<0)return;const ne=this._document.createDocumentFragment();if(ae){const re=q[0]>J[0];ne.appendChild(this._createSelectionElement(ve,re?J[0]:q[0],re?q[0]:J[0],K-ve+1))}else ne.appendChild(this._createSelectionElement(ve,se===ve?q[0]:0,ve===we?J[0]:this._bufferService.cols)),ne.appendChild(this._createSelectionElement(ve+1,0,this._bufferService.cols,K-ve-1)),ve!==K&&ne.appendChild(this._createSelectionElement(K,0,we===K?J[0]:this._bufferService.cols));this._selectionContainer.appendChild(ne)}_createSelectionElement(q,J,ae,se=1){const we=this._document.createElement("div"),ve=J*this.dimensions.css.cell.width;let K=this.dimensions.css.cell.width*(ae-J);return ve+K>this.dimensions.css.canvas.width&&(K=this.dimensions.css.canvas.width-ve),we.style.height=se*this.dimensions.css.cell.height+"px",we.style.top=q*this.dimensions.css.cell.height+"px",we.style.left=`${ve}px`,we.style.width=`${K}px`,we}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const q of this._rowElements)q.replaceChildren()}renderRows(q,J){const ae=this._bufferService.buffer,se=ae.ybase+ae.y,we=Math.min(ae.x,this._bufferService.cols-1),ve=this._optionsService.rawOptions.cursorBlink,K=this._optionsService.rawOptions.cursorStyle,ne=this._optionsService.rawOptions.cursorInactiveStyle;for(let re=q;re<=J;re++){const de=re+ae.ydisp,Ue=this._rowElements[re],ze=ae.lines.get(de);if(!Ue||!ze)break;Ue.replaceChildren(...this._rowFactory.createRow(ze,de,de===se,K,ne,we,ve,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${I}${this._terminalClass}`}_handleLinkHover(q){this._setCellUnderline(q.x1,q.x2,q.y1,q.y2,q.cols,!0)}_handleLinkLeave(q){this._setCellUnderline(q.x1,q.x2,q.y1,q.y2,q.cols,!1)}_setCellUnderline(q,J,ae,se,we,ve){ae<0&&(q=0),se<0&&(J=0);const K=this._bufferService.rows-1;ae=Math.max(Math.min(ae,K),0),se=Math.max(Math.min(se,K),0),we=Math.min(we,this._bufferService.cols);const ne=this._bufferService.buffer,re=ne.ybase+ne.y,de=Math.min(ne.x,we-1),Ue=this._optionsService.rawOptions.cursorBlink,ze=this._optionsService.rawOptions.cursorStyle,Qe=this._optionsService.rawOptions.cursorInactiveStyle;for(let Ye=ae;Ye<=se;++Ye){const Se=Ye+ne.ydisp,ie=this._rowElements[Ye],Ne=ne.lines.get(Se);if(!ie||!Ne)break;ie.replaceChildren(...this._rowFactory.createRow(Ne,Se,Se===re,ze,Qe,de,Ue,this.dimensions.css.cell.width,this._widthCache,ve?Ye===ae?q:0:-1,ve?(Ye===se?J:we)-1:-1))}}};c.DomRenderer=Y=m([w(7,S.IInstantiationService),w(8,s.ICharSizeService),w(9,S.IOptionsService),w(10,S.IBufferService),w(11,s.ICoreBrowserService),w(12,s.IThemeService)],Y)},3787:function(C,c,v){var m=this&&this.__decorate||function(A,B,g,x){var V,k=arguments.length,Y=k<3?B:null===x?x=Object.getOwnPropertyDescriptor(B,g):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(A,B,g,x);else for(var q=A.length-1;q>=0;q--)(V=A[q])&&(Y=(k<3?V(Y):k>3?V(B,g,Y):V(B,g))||Y);return k>3&&Y&&Object.defineProperty(B,g,Y),Y},w=this&&this.__param||function(A,B){return function(g,x){B(g,x,A)}};Object.defineProperty(c,"__esModule",{value:!0}),c.DomRendererRowFactory=void 0;const h=v(2223),b=v(643),y=v(511),E=v(2585),d=v(8055),s=v(4725),f=v(4269),u=v(6171),p=v(3734);let S=c.DomRendererRowFactory=class{constructor(A,B,g,x,V,k,Y){this._document=A,this._characterJoinerService=B,this._optionsService=g,this._coreBrowserService=x,this._coreService=V,this._decorationService=k,this._themeService=Y,this._workCell=new y.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(A,B,g){this._selectionStart=A,this._selectionEnd=B,this._columnSelectMode=g}createRow(A,B,g,x,V,k,Y,q,J,ae,se){const we=[],ve=this._characterJoinerService.getJoinedCharacters(B),K=this._themeService.colors;let ne,re=A.getNoBgTrimmedLength();g&&re<k+1&&(re=k+1);let de=0,Ue="",ze=0,Qe=0,Ye=0,Se=!1,ie=0,Ne=!1,Pe=0;const tt=[],et=-1!==ae&&-1!==se;for(let Et=0;Et<re;Et++){A.loadCell(Et,this._workCell);let Ot=this._workCell.getWidth();if(0===Ot)continue;let St=!1,bt=Et,ht=this._workCell;if(ve.length>0&&Et===ve[0][0]){St=!0;const ke=ve.shift();ht=new f.JoinedCellData(this._workCell,A.translateToString(!0,ke[0],ke[1]),ke[1]-ke[0]),bt=ke[1]-1,Ot=ht.getWidth()}const qt=this._isCellInSelection(Et,B),dt=g&&Et===k,Pt=et&&Et>=ae&&Et<=se;let jt=!1;this._decorationService.forEachDecorationAtCell(Et,B,void 0,ke=>{jt=!0});let nt=ht.getChars()||b.WHITESPACE_CELL_CHAR;if(" "===nt&&(ht.isUnderline()||ht.isOverline())&&(nt="\xa0"),Pe=Ot*q-J.get(nt,ht.isBold(),ht.isItalic()),ne){if(de&&(qt&&Ne||!qt&&!Ne&&ht.bg===ze)&&(qt&&Ne&&K.selectionForeground||ht.fg===Qe)&&ht.extended.ext===Ye&&Pt===Se&&Pe===ie&&!dt&&!St&&!jt){ht.isInvisible()?Ue+=b.WHITESPACE_CELL_CHAR:Ue+=nt,de++;continue}de&&(ne.textContent=Ue),ne=this._document.createElement("span"),de=0,Ue=""}else ne=this._document.createElement("span");if(ze=ht.bg,Qe=ht.fg,Ye=ht.extended.ext,Se=Pt,ie=Pe,Ne=qt,St&&k>=Et&&k<=bt&&(k=Et),!this._coreService.isCursorHidden&&dt&&this._coreService.isCursorInitialized)if(tt.push("xterm-cursor"),this._coreBrowserService.isFocused)Y&&tt.push("xterm-cursor-blink"),tt.push("bar"===x?"xterm-cursor-bar":"underline"===x?"xterm-cursor-underline":"xterm-cursor-block");else if(V)switch(V){case"outline":tt.push("xterm-cursor-outline");break;case"block":tt.push("xterm-cursor-block");break;case"bar":tt.push("xterm-cursor-bar");break;case"underline":tt.push("xterm-cursor-underline")}if(ht.isBold()&&tt.push("xterm-bold"),ht.isItalic()&&tt.push("xterm-italic"),ht.isDim()&&tt.push("xterm-dim"),Ue=ht.isInvisible()?b.WHITESPACE_CELL_CHAR:ht.getChars()||b.WHITESPACE_CELL_CHAR,ht.isUnderline()&&(tt.push(`xterm-underline-${ht.extended.underlineStyle}`)," "===Ue&&(Ue="\xa0"),!ht.isUnderlineColorDefault()))if(ht.isUnderlineColorRGB())ne.style.textDecorationColor=`rgb(${p.AttributeData.toColorRGB(ht.getUnderlineColor()).join(",")})`;else{let ke=ht.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ht.isBold()&&ke<8&&(ke+=8),ne.style.textDecorationColor=K.ansi[ke].css}ht.isOverline()&&(tt.push("xterm-overline")," "===Ue&&(Ue="\xa0")),ht.isStrikethrough()&&tt.push("xterm-strikethrough"),Pt&&(ne.style.textDecoration="underline");let We=ht.getFgColor(),ot=ht.getFgColorMode(),Te=ht.getBgColor(),Ke=ht.getBgColorMode();const ge=!!ht.isInverse();if(ge){const ke=We;We=Te,Te=ke;const Xe=ot;ot=Ke,Ke=Xe}let ye,fe,Me,Re=!1;switch(this._decorationService.forEachDecorationAtCell(Et,B,void 0,ke=>{"top"!==ke.options.layer&&Re||(ke.backgroundColorRGB&&(Ke=50331648,Te=ke.backgroundColorRGB.rgba>>8&16777215,ye=ke.backgroundColorRGB),ke.foregroundColorRGB&&(ot=50331648,We=ke.foregroundColorRGB.rgba>>8&16777215,fe=ke.foregroundColorRGB),Re="top"===ke.options.layer)}),!Re&&qt&&(ye=this._coreBrowserService.isFocused?K.selectionBackgroundOpaque:K.selectionInactiveBackgroundOpaque,Te=ye.rgba>>8&16777215,Ke=50331648,Re=!0,K.selectionForeground&&(ot=50331648,We=K.selectionForeground.rgba>>8&16777215,fe=K.selectionForeground)),Re&&tt.push("xterm-decoration-top"),Ke){case 16777216:case 33554432:Me=K.ansi[Te],tt.push(`xterm-bg-${Te}`);break;case 50331648:Me=d.channels.toColor(Te>>16,Te>>8&255,255&Te),this._addStyle(ne,`background-color:#${I((Te>>>0).toString(16),"0",6)}`);break;default:ge?(Me=K.foreground,tt.push(`xterm-bg-${h.INVERTED_DEFAULT_COLOR}`)):Me=K.background}switch(ye||ht.isDim()&&(ye=d.color.multiplyOpacity(Me,.5)),ot){case 16777216:case 33554432:ht.isBold()&&We<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(We+=8),this._applyMinimumContrast(ne,Me,K.ansi[We],ht,ye,void 0)||tt.push(`xterm-fg-${We}`);break;case 50331648:const ke=d.channels.toColor(We>>16&255,We>>8&255,255&We);this._applyMinimumContrast(ne,Me,ke,ht,ye,fe)||this._addStyle(ne,`color:#${I(We.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(ne,Me,K.foreground,ht,ye,fe)||ge&&tt.push(`xterm-fg-${h.INVERTED_DEFAULT_COLOR}`)}tt.length&&(ne.className=tt.join(" "),tt.length=0),dt||St||jt?ne.textContent=Ue:de++,Pe!==this.defaultSpacing&&(ne.style.letterSpacing=`${Pe}px`),we.push(ne),Et=bt}return ne&&de&&(ne.textContent=Ue),we}_applyMinimumContrast(A,B,g,x,V,k){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,u.treatGlyphAsBackgroundColor)(x.getCode()))return!1;const Y=this._getContrastCache(x);let q;if(V||k||(q=Y.getColor(B.rgba,g.rgba)),void 0===q){const J=this._optionsService.rawOptions.minimumContrastRatio/(x.isDim()?2:1);q=d.color.ensureContrastRatio(V||B,k||g,J),Y.setColor((V||B).rgba,(k||g).rgba,q??null)}return!!q&&(this._addStyle(A,`color:${q.css}`),!0)}_getContrastCache(A){return A.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(A,B){A.setAttribute("style",`${A.getAttribute("style")||""}${B};`)}_isCellInSelection(A,B){const g=this._selectionStart,x=this._selectionEnd;return!(!g||!x)&&(this._columnSelectMode?g[0]<=x[0]?A>=g[0]&&B>=g[1]&&A<x[0]&&B<=x[1]:A<g[0]&&B>=g[1]&&A>=x[0]&&B<=x[1]:B>g[1]&&B<x[1]||g[1]===x[1]&&B===g[1]&&A>=g[0]&&A<x[0]||g[1]<x[1]&&B===x[1]&&A<x[0]||g[1]<x[1]&&B===g[1]&&A>=g[0])}};function I(A,B,g){for(;A.length<g;)A=B+A;return A}c.DomRendererRowFactory=S=m([w(1,s.ICharacterJoinerService),w(2,E.IOptionsService),w(3,s.ICoreBrowserService),w(4,E.ICoreService),w(5,E.IDecorationService),w(6,s.IThemeService)],S)},2550:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WidthCache=void 0,c.WidthCache=class{constructor(v,m){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=v.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const w=v.createElement("span");w.classList.add("xterm-char-measure-element");const h=v.createElement("span");h.classList.add("xterm-char-measure-element"),h.style.fontWeight="bold";const b=v.createElement("span");b.classList.add("xterm-char-measure-element"),b.style.fontStyle="italic";const y=v.createElement("span");y.classList.add("xterm-char-measure-element"),y.style.fontWeight="bold",y.style.fontStyle="italic",this._measureElements=[w,h,b,y],this._container.appendChild(w),this._container.appendChild(h),this._container.appendChild(b),this._container.appendChild(y),m.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(v,m,w,h){v===this._font&&m===this._fontSize&&w===this._weight&&h===this._weightBold||(this._font=v,this._fontSize=m,this._weight=w,this._weightBold=h,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${w}`,this._measureElements[1].style.fontWeight=`${h}`,this._measureElements[2].style.fontWeight=`${w}`,this._measureElements[3].style.fontWeight=`${h}`,this.clear())}get(v,m,w){let h=0;if(!m&&!w&&1===v.length&&(h=v.charCodeAt(0))<256){if(-9999!==this._flat[h])return this._flat[h];const E=this._measure(v,0);return E>0&&(this._flat[h]=E),E}let b=v;m&&(b+="B"),w&&(b+="I");let y=this._holey.get(b);if(void 0===y){let E=0;m&&(E|=1),w&&(E|=2),y=this._measure(v,E),y>0&&this._holey.set(b,y)}return y}_measure(v,m){const w=this._measureElements[m];return w.textContent=v.repeat(32),w.offsetWidth/32}}},2223:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TEXT_BASELINE=c.DIM_OPACITY=c.INVERTED_DEFAULT_COLOR=void 0;const m=v(6114);c.INVERTED_DEFAULT_COLOR=257,c.DIM_OPACITY=.5,c.TEXT_BASELINE=m.isFirefox||m.isLegacyEdge?"bottom":"ideographic"},6171:(C,c)=>{function v(w){return 57508<=w&&w<=57558}function m(w){return w>=128512&&w<=128591||w>=127744&&w<=128511||w>=128640&&w<=128767||w>=9728&&w<=9983||w>=9984&&w<=10175||w>=65024&&w<=65039||w>=129280&&w<=129535||w>=127462&&w<=127487}Object.defineProperty(c,"__esModule",{value:!0}),c.computeNextVariantOffset=c.createRenderDimensions=c.treatGlyphAsBackgroundColor=c.allowRescaling=c.isEmoji=c.isRestrictedPowerlineGlyph=c.isPowerlineGlyph=c.throwIfFalsy=void 0,c.throwIfFalsy=function(w){if(!w)throw new Error("value must not be falsy");return w},c.isPowerlineGlyph=v,c.isRestrictedPowerlineGlyph=function(w){return 57520<=w&&w<=57527},c.isEmoji=m,c.allowRescaling=function(w,h,b,y){return 1===h&&b>Math.ceil(1.5*y)&&void 0!==w&&w>255&&!m(w)&&!v(w)&&!(57344<=(E=w)&&E<=63743);var E},c.treatGlyphAsBackgroundColor=function(w){return v(w)||9472<=(h=w)&&h<=9631;var h},c.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},c.computeNextVariantOffset=function(w,h,b=0){return(w-(2*Math.round(h)-b))%(2*Math.round(h))}},6052:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createSelectionRenderModel=void 0;class v{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(w,h,b,y=!1){if(this.selectionStart=h,this.selectionEnd=b,!h||!b||h[0]===b[0]&&h[1]===b[1])return void this.clear();const E=w.buffers.active.ydisp,d=h[1]-E,s=b[1]-E,f=Math.max(d,0),u=Math.min(s,w.rows-1);f>=w.rows||u<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=y,this.viewportStartRow=d,this.viewportEndRow=s,this.viewportCappedStartRow=f,this.viewportCappedEndRow=u,this.startCol=h[0],this.endCol=b[0])}isCellSelected(w,h,b){return!!this.hasSelection&&(b-=w.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?h>=this.startCol&&b>=this.viewportCappedStartRow&&h<this.endCol&&b<=this.viewportCappedEndRow:h<this.startCol&&b>=this.viewportCappedStartRow&&h>=this.endCol&&b<=this.viewportCappedEndRow:b>this.viewportStartRow&&b<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&b===this.viewportStartRow&&h>=this.startCol&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&b===this.viewportEndRow&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&b===this.viewportStartRow&&h>=this.startCol)}}c.createSelectionRenderModel=function(){return new v}},456:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SelectionModel=void 0,c.SelectionModel=class{constructor(v){this._bufferService=v,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const v=this.selectionStart[0]+this.selectionStartLength;return v>this._bufferService.cols?v%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(v/this._bufferService.cols)-1]:[v%this._bufferService.cols,this.selectionStart[1]+Math.floor(v/this._bufferService.cols)]:[v,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const v=this.selectionStart[0]+this.selectionStartLength;return v>this._bufferService.cols?[v%this._bufferService.cols,this.selectionStart[1]+Math.floor(v/this._bufferService.cols)]:[Math.max(v,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const v=this.selectionStart,m=this.selectionEnd;return!(!v||!m)&&(v[1]>m[1]||v[1]===m[1]&&v[0]>m[0])}handleTrim(v){return this.selectionStart&&(this.selectionStart[1]-=v),this.selectionEnd&&(this.selectionEnd[1]-=v),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(C,c,v){var m=this&&this.__decorate||function(u,p,S,I){var A,B=arguments.length,g=B<3?p:null===I?I=Object.getOwnPropertyDescriptor(p,S):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(u,p,S,I);else for(var x=u.length-1;x>=0;x--)(A=u[x])&&(g=(B<3?A(g):B>3?A(p,S,g):A(p,S))||g);return B>3&&g&&Object.defineProperty(p,S,g),g},w=this&&this.__param||function(u,p){return function(S,I){p(S,I,u)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CharSizeService=void 0;const h=v(2585),b=v(8460),y=v(844);let E=c.CharSizeService=class extends y.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(u,p,S){super(),this._optionsService=S,this.width=0,this.height=0,this._onCharSizeChange=this.register(new b.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new f(this._optionsService))}catch{this._measureStrategy=this.register(new s(u,p,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const u=this._measureStrategy.measure();u.width===this.width&&u.height===this.height||(this.width=u.width,this.height=u.height,this._onCharSizeChange.fire())}};c.CharSizeService=E=m([w(2,h.IOptionsService)],E);class d extends y.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(p,S){void 0!==p&&p>0&&void 0!==S&&S>0&&(this._result.width=p,this._result.height=S)}}class s extends d{constructor(p,S,I){super(),this._document=p,this._parentElement=S,this._optionsService=I,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class f extends d{constructor(p){super(),this._optionsService=p,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const S=this._ctx.measureText("W");if(!("width"in S&&"fontBoundingBoxAscent"in S&&"fontBoundingBoxDescent"in S))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const p=this._ctx.measureText("W");return this._validateAndSet(p.width,p.fontBoundingBoxAscent+p.fontBoundingBoxDescent),this._result}}},4269:function(C,c,v){var m=this&&this.__decorate||function(f,u,p,S){var I,A=arguments.length,B=A<3?u:null===S?S=Object.getOwnPropertyDescriptor(u,p):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(f,u,p,S);else for(var g=f.length-1;g>=0;g--)(I=f[g])&&(B=(A<3?I(B):A>3?I(u,p,B):I(u,p))||B);return A>3&&B&&Object.defineProperty(u,p,B),B},w=this&&this.__param||function(f,u){return function(p,S){u(p,S,f)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CharacterJoinerService=c.JoinedCellData=void 0;const h=v(3734),b=v(643),y=v(511),E=v(2585);c.JoinedCellData=class d extends h.AttributeData{constructor(u,p,S){super(),this.content=0,this.combinedData="",this.fg=u.fg,this.bg=u.bg,this.combinedData=p,this._width=S}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(u){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};let s=c.CharacterJoinerService=class L_{constructor(u){this._bufferService=u,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new y.CellData}register(u){const p={id:this._nextCharacterJoinerId++,handler:u};return this._characterJoiners.push(p),p.id}deregister(u){for(let p=0;p<this._characterJoiners.length;p++)if(this._characterJoiners[p].id===u)return this._characterJoiners.splice(p,1),!0;return!1}getJoinedCharacters(u){if(0===this._characterJoiners.length)return[];const p=this._bufferService.buffer.lines.get(u);if(!p||0===p.length)return[];const S=[],I=p.translateToString(!0);let A=0,B=0,g=0,x=p.getFg(0),V=p.getBg(0);for(let k=0;k<p.getTrimmedLength();k++)if(p.loadCell(k,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==x||this._workCell.bg!==V){if(k-A>1){const Y=this._getJoinedRanges(I,g,B,p,A);for(let q=0;q<Y.length;q++)S.push(Y[q])}A=k,g=B,x=this._workCell.fg,V=this._workCell.bg}B+=this._workCell.getChars().length||b.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-A>1){const k=this._getJoinedRanges(I,g,B,p,A);for(let Y=0;Y<k.length;Y++)S.push(k[Y])}return S}_getJoinedRanges(u,p,S,I,A){const B=u.substring(p,S);let g=[];try{g=this._characterJoiners[0].handler(B)}catch(x){console.error(x)}for(let x=1;x<this._characterJoiners.length;x++)try{const V=this._characterJoiners[x].handler(B);for(let k=0;k<V.length;k++)L_._mergeRanges(g,V[k])}catch(V){console.error(V)}return this._stringRangesToCellRanges(g,I,A),g}_stringRangesToCellRanges(u,p,S){let I=0,A=!1,B=0,g=u[I];if(g){for(let x=S;x<this._bufferService.cols;x++){const V=p.getWidth(x),k=p.getString(x).length||b.WHITESPACE_CELL_CHAR.length;if(0!==V){if(!A&&g[0]<=B&&(g[0]=x,A=!0),g[1]<=B){if(g[1]=x,g=u[++I],!g)break;g[0]<=B?(g[0]=x,A=!0):A=!1}B+=k}}g&&(g[1]=this._bufferService.cols)}}static _mergeRanges(u,p){let S=!1;for(let I=0;I<u.length;I++){const A=u[I];if(S){if(p[1]<=A[0])return u[I-1][1]=p[1],u;if(p[1]<=A[1])return u[I-1][1]=Math.max(p[1],A[1]),u.splice(I,1),u;u.splice(I,1),I--}else{if(p[1]<=A[0])return u.splice(I,0,p),u;if(p[1]<=A[1])return A[0]=Math.min(p[0],A[0]),u;p[0]<A[1]&&(A[0]=Math.min(p[0],A[0]),S=!0)}}return S?u[u.length-1][1]=p[1]:u.push(p),u}};c.CharacterJoinerService=s=m([w(0,E.IBufferService)],s)},5114:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CoreBrowserService=void 0;const m=v(844),w=v(8460),h=v(3656);c.CoreBrowserService=class b extends m.Disposable{constructor(d,s,f){super(),this._textarea=d,this._window=s,this.mainDocument=f,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new y(this._window),this._onDprChange=this.register(new w.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new w.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(u=>this._screenDprMonitor.setWindow(u))),this.register((0,w.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(d){this._window!==d&&(this._window=d,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}};class y extends m.Disposable{constructor(d){super(),this._parentWindow=d,this._windowResizeListener=this.register(new m.MutableDisposable),this._onDprChange=this.register(new w.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,m.toDisposable)(()=>this.clearListener()))}setWindow(d){this._parentWindow=d,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,h.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.LinkProviderService=void 0;const m=v(844);c.LinkProviderService=class w extends m.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,m.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(b){return this.linkProviders.push(b),{dispose:()=>{const y=this.linkProviders.indexOf(b);-1!==y&&this.linkProviders.splice(y,1)}}}}},8934:function(C,c,v){var m=this&&this.__decorate||function(E,d,s,f){var u,p=arguments.length,S=p<3?d:null===f?f=Object.getOwnPropertyDescriptor(d,s):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(E,d,s,f);else for(var I=E.length-1;I>=0;I--)(u=E[I])&&(S=(p<3?u(S):p>3?u(d,s,S):u(d,s))||S);return p>3&&S&&Object.defineProperty(d,s,S),S},w=this&&this.__param||function(E,d){return function(s,f){d(s,f,E)}};Object.defineProperty(c,"__esModule",{value:!0}),c.MouseService=void 0;const h=v(4725),b=v(9806);let y=c.MouseService=class{constructor(E,d){this._renderService=E,this._charSizeService=d}getCoords(E,d,s,f,u){return(0,b.getCoords)(window,E,d,s,f,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,u)}getMouseReportCoords(E,d){const s=(0,b.getCoordsRelativeToElement)(window,E,d);if(this._charSizeService.hasValidSize)return s[0]=Math.min(Math.max(s[0],0),this._renderService.dimensions.css.canvas.width-1),s[1]=Math.min(Math.max(s[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(s[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(s[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(s[0]),y:Math.floor(s[1])}}};c.MouseService=y=m([w(0,h.IRenderService),w(1,h.ICharSizeService)],y)},3230:function(C,c,v){var m=this&&this.__decorate||function(u,p,S,I){var A,B=arguments.length,g=B<3?p:null===I?I=Object.getOwnPropertyDescriptor(p,S):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(u,p,S,I);else for(var x=u.length-1;x>=0;x--)(A=u[x])&&(g=(B<3?A(g):B>3?A(p,S,g):A(p,S))||g);return B>3&&g&&Object.defineProperty(p,S,g),g},w=this&&this.__param||function(u,p){return function(S,I){p(S,I,u)}};Object.defineProperty(c,"__esModule",{value:!0}),c.RenderService=void 0;const h=v(6193),b=v(4725),y=v(8460),E=v(844),d=v(7226),s=v(2585);let f=c.RenderService=class extends E.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(u,p,S,I,A,B,g,x){super(),this._rowCount=u,this._charSizeService=I,this._renderer=this.register(new E.MutableDisposable),this._pausedResizeTask=new d.DebouncedIdleTask,this._observerDisposable=this.register(new E.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new y.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new y.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new y.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new y.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new h.RenderDebouncer((V,k)=>this._renderRows(V,k),g),this.register(this._renderDebouncer),this.register(g.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(B.onResize(()=>this._fullRefresh())),this.register(B.buffers.onBufferActivate(()=>this._renderer.value?.clear())),this.register(S.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(A.onDecorationRegistered(()=>this._fullRefresh())),this.register(A.onDecorationRemoved(()=>this._fullRefresh())),this.register(S.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(B.cols,B.rows),this._fullRefresh()})),this.register(S.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(B.buffer.y,B.buffer.y,!0))),this.register(x.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(g.window,p),this.register(g.onWindowChange(V=>this._registerIntersectionObserver(V,p)))}_registerIntersectionObserver(u,p){if("IntersectionObserver"in u){const S=new u.IntersectionObserver(I=>this._handleIntersectionChange(I[I.length-1]),{threshold:0});S.observe(p),this._observerDisposable.value=(0,E.toDisposable)(()=>S.disconnect())}}_handleIntersectionChange(u){this._isPaused=void 0===u.isIntersecting?0===u.intersectionRatio:!u.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(u,p,S=!1){this._isPaused?this._needsFullRefresh=!0:(S||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(u,p,this._rowCount))}_renderRows(u,p){this._renderer.value&&(u=Math.min(u,this._rowCount-1),p=Math.min(p,this._rowCount-1),this._renderer.value.renderRows(u,p),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:u,end:p}),this._onRender.fire({start:u,end:p}),this._isNextRenderRedrawOnly=!0)}resize(u,p){this._rowCount=p,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(u){this._renderer.value=u,this._renderer.value&&(this._renderer.value.onRequestRedraw(p=>this.refreshRows(p.start,p.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(u){return this._renderDebouncer.addRefreshCallback(u)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(u,p){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value?.handleResize(u,p)):this._renderer.value.handleResize(u,p),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(u,p,S){this._selectionState.start=u,this._selectionState.end=p,this._selectionState.columnSelectMode=S,this._renderer.value?.handleSelectionChanged(u,p,S)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};c.RenderService=f=m([w(2,s.IOptionsService),w(3,b.ICharSizeService),w(4,s.IDecorationService),w(5,s.IBufferService),w(6,b.ICoreBrowserService),w(7,b.IThemeService)],f)},9312:function(C,c,v){var m=this&&this.__decorate||function(g,x,V,k){var Y,q=arguments.length,J=q<3?x:null===k?k=Object.getOwnPropertyDescriptor(x,V):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(g,x,V,k);else for(var ae=g.length-1;ae>=0;ae--)(Y=g[ae])&&(J=(q<3?Y(J):q>3?Y(x,V,J):Y(x,V))||J);return q>3&&J&&Object.defineProperty(x,V,J),J},w=this&&this.__param||function(g,x){return function(V,k){x(V,k,g)}};Object.defineProperty(c,"__esModule",{value:!0}),c.SelectionService=void 0;const h=v(9806),b=v(9504),y=v(456),E=v(4725),d=v(8460),s=v(844),f=v(6114),u=v(4841),p=v(511),S=v(2585),I=String.fromCharCode(160),A=new RegExp(I,"g");let B=c.SelectionService=class extends s.Disposable{constructor(g,x,V,k,Y,q,J,ae,se){super(),this._element=g,this._screenElement=x,this._linkifier=V,this._bufferService=k,this._coreService=Y,this._mouseService=q,this._optionsService=J,this._renderService=ae,this._coreBrowserService=se,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new p.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new d.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new d.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new d.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new d.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=we=>this._handleMouseMove(we),this._mouseUpListener=we=>this._handleMouseUp(we),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(we=>this._handleTrim(we)),this.register(this._bufferService.buffers.onBufferActivate(we=>this._handleBufferActivate(we))),this.enable(),this._model=new y.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,s.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const g=this._model.finalSelectionStart,x=this._model.finalSelectionEnd;return!(!g||!x||g[0]===x[0]&&g[1]===x[1])}get selectionText(){const g=this._model.finalSelectionStart,x=this._model.finalSelectionEnd;if(!g||!x)return"";const V=this._bufferService.buffer,k=[];if(3===this._activeSelectionMode){if(g[0]===x[0])return"";const Y=g[0]<x[0]?g[0]:x[0],q=g[0]<x[0]?x[0]:g[0];for(let J=g[1];J<=x[1];J++){const ae=V.translateBufferLineToString(J,!0,Y,q);k.push(ae)}}else{k.push(V.translateBufferLineToString(g[1],!0,g[0],g[1]===x[1]?x[0]:void 0));for(let q=g[1]+1;q<=x[1]-1;q++){const J=V.lines.get(q),ae=V.translateBufferLineToString(q,!0);J?.isWrapped?k[k.length-1]+=ae:k.push(ae)}if(g[1]!==x[1]){const q=V.lines.get(x[1]),J=V.translateBufferLineToString(x[1],!0,0,x[0]);q&&q.isWrapped?k[k.length-1]+=J:k.push(J)}}return k.map(Y=>Y.replace(A," ")).join(f.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(g){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),f.isLinux&&g&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(g){const x=this._getMouseBufferCoords(g),V=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!!(V&&k&&x)&&this._areCoordsInSelection(x,V,k)}isCellInSelection(g,x){const V=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!V||!k)&&this._areCoordsInSelection([g,x],V,k)}_areCoordsInSelection(g,x,V){return g[1]>x[1]&&g[1]<V[1]||x[1]===V[1]&&g[1]===x[1]&&g[0]>=x[0]&&g[0]<V[0]||x[1]<V[1]&&g[1]===V[1]&&g[0]<V[0]||x[1]<V[1]&&g[1]===x[1]&&g[0]>=x[0]}_selectWordAtCursor(g,x){const V=this._linkifier.currentLink?.link?.range;if(V)return this._model.selectionStart=[V.start.x-1,V.start.y-1],this._model.selectionStartLength=(0,u.getRangeLength)(V,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const k=this._getMouseBufferCoords(g);return!!k&&(this._selectWordAt(k,x),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(g,x){this._model.clearSelection(),g=Math.max(g,0),x=Math.min(x,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,g],this._model.selectionEnd=[this._bufferService.cols,x],this.refresh(),this._onSelectionChange.fire()}_handleTrim(g){this._model.handleTrim(g)&&this.refresh()}_getMouseBufferCoords(g){const x=this._mouseService.getCoords(g,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(x)return x[0]--,x[1]--,x[1]+=this._bufferService.buffer.ydisp,x}_getMouseEventScrollAmount(g){let x=(0,h.getCoordsRelativeToElement)(this._coreBrowserService.window,g,this._screenElement)[1];const V=this._renderService.dimensions.css.canvas.height;return x>=0&&x<=V?0:(x>V&&(x-=V),x=Math.min(Math.max(x,-50),50),x/=50,x/Math.abs(x)+Math.round(14*x))}shouldForceSelection(g){return f.isMac?g.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:g.shiftKey}handleMouseDown(g){if(this._mouseDownTimeStamp=g.timeStamp,(2!==g.button||!this.hasSelection)&&0===g.button){if(!this._enabled){if(!this.shouldForceSelection(g))return;g.stopPropagation()}g.preventDefault(),this._dragScrollAmount=0,this._enabled&&g.shiftKey?this._handleIncrementalClick(g):1===g.detail?this._handleSingleClick(g):2===g.detail?this._handleDoubleClick(g):3===g.detail&&this._handleTripleClick(g),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(g){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(g))}_handleSingleClick(g){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(g)?3:0,this._model.selectionStart=this._getMouseBufferCoords(g),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const x=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);x&&x.length!==this._model.selectionStart[0]&&0===x.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(g){this._selectWordAtCursor(g,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(g){const x=this._getMouseBufferCoords(g);x&&(this._activeSelectionMode=2,this._selectLineAt(x[1]))}shouldColumnSelect(g){return g.altKey&&!(f.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(g){if(g.stopImmediatePropagation(),!this._model.selectionStart)return;const x=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(g),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(g),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const V=this._bufferService.buffer;if(this._model.selectionEnd[1]<V.lines.length){const k=V.lines.get(this._model.selectionEnd[1]);k&&0===k.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}x&&x[0]===this._model.selectionEnd[0]&&x[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const g=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(g.ydisp+this._bufferService.rows,g.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=g.ydisp),this.refresh()}}_handleMouseUp(g){const x=g.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&x<500&&g.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const V=this._mouseService.getCoords(g,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(V&&void 0!==V[0]&&void 0!==V[1]){const k=(0,b.moveToCellSequence)(V[0]-1,V[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(k,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const g=this._model.finalSelectionStart,x=this._model.finalSelectionEnd,V=!(!g||!x||g[0]===x[0]&&g[1]===x[1]);V?g&&x&&(this._oldSelectionStart&&this._oldSelectionEnd&&g[0]===this._oldSelectionStart[0]&&g[1]===this._oldSelectionStart[1]&&x[0]===this._oldSelectionEnd[0]&&x[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(g,x,V)):this._oldHasSelection&&this._fireOnSelectionChange(g,x,V)}_fireOnSelectionChange(g,x,V){this._oldSelectionStart=g,this._oldSelectionEnd=x,this._oldHasSelection=V,this._onSelectionChange.fire()}_handleBufferActivate(g){this.clearSelection(),this._trimListener.dispose(),this._trimListener=g.activeBuffer.lines.onTrim(x=>this._handleTrim(x))}_convertViewportColToCharacterIndex(g,x){let V=x;for(let k=0;x>=k;k++){const Y=g.loadCell(k,this._workCell).getChars().length;0===this._workCell.getWidth()?V--:Y>1&&x!==k&&(V+=Y-1)}return V}setSelection(g,x,V){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[g,x],this._model.selectionStartLength=V,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(g){this._isClickInSelection(g)||(this._selectWordAtCursor(g,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(g,x,V=!0,k=!0){if(g[0]>=this._bufferService.cols)return;const Y=this._bufferService.buffer,q=Y.lines.get(g[1]);if(!q)return;const J=Y.translateBufferLineToString(g[1],!1);let ae=this._convertViewportColToCharacterIndex(q,g[0]),se=ae;const we=g[0]-ae;let ve=0,K=0,ne=0,re=0;if(" "===J.charAt(ae)){for(;ae>0&&" "===J.charAt(ae-1);)ae--;for(;se<J.length&&" "===J.charAt(se+1);)se++}else{let ze=g[0],Qe=g[0];0===q.getWidth(ze)&&(ve++,ze--),2===q.getWidth(Qe)&&(K++,Qe++);const Ye=q.getString(Qe).length;for(Ye>1&&(re+=Ye-1,se+=Ye-1);ze>0&&ae>0&&!this._isCharWordSeparator(q.loadCell(ze-1,this._workCell));){q.loadCell(ze-1,this._workCell);const Se=this._workCell.getChars().length;0===this._workCell.getWidth()?(ve++,ze--):Se>1&&(ne+=Se-1,ae-=Se-1),ae--,ze--}for(;Qe<q.length&&se+1<J.length&&!this._isCharWordSeparator(q.loadCell(Qe+1,this._workCell));){q.loadCell(Qe+1,this._workCell);const Se=this._workCell.getChars().length;2===this._workCell.getWidth()?(K++,Qe++):Se>1&&(re+=Se-1,se+=Se-1),se++,Qe++}}se++;let de=ae+we-ve+ne,Ue=Math.min(this._bufferService.cols,se-ae+ve+K-ne-re);if(x||""!==J.slice(ae,se).trim()){if(V&&0===de&&32!==q.getCodePoint(0)){const ze=Y.lines.get(g[1]-1);if(ze&&q.isWrapped&&32!==ze.getCodePoint(this._bufferService.cols-1)){const Qe=this._getWordAt([this._bufferService.cols-1,g[1]-1],!1,!0,!1);if(Qe){const Ye=this._bufferService.cols-Qe.start;de-=Ye,Ue+=Ye}}}if(k&&de+Ue===this._bufferService.cols&&32!==q.getCodePoint(this._bufferService.cols-1)){const ze=Y.lines.get(g[1]+1);if(ze?.isWrapped&&32!==ze.getCodePoint(0)){const Qe=this._getWordAt([0,g[1]+1],!1,!1,!0);Qe&&(Ue+=Qe.length)}}return{start:de,length:Ue}}}_selectWordAt(g,x){const V=this._getWordAt(g,x);if(V){for(;V.start<0;)V.start+=this._bufferService.cols,g[1]--;this._model.selectionStart=[V.start,g[1]],this._model.selectionStartLength=V.length}}_selectToWordAt(g){const x=this._getWordAt(g,!0);if(x){let V=g[1];for(;x.start<0;)x.start+=this._bufferService.cols,V--;if(!this._model.areSelectionValuesReversed())for(;x.start+x.length>this._bufferService.cols;)x.length-=this._bufferService.cols,V++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?x.start:x.start+x.length,V]}}_isCharWordSeparator(g){return 0!==g.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(g.getChars())>=0}_selectLineAt(g){const x=this._bufferService.buffer.getWrappedRangeForLine(g),V={start:{x:0,y:x.first},end:{x:this._bufferService.cols-1,y:x.last}};this._model.selectionStart=[0,x.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,u.getRangeLength)(V,this._bufferService.cols)}};c.SelectionService=B=m([w(3,S.IBufferService),w(4,S.ICoreService),w(5,E.IMouseService),w(6,S.IOptionsService),w(7,E.IRenderService),w(8,E.ICoreBrowserService)],B)},4725:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ILinkProviderService=c.IThemeService=c.ICharacterJoinerService=c.ISelectionService=c.IRenderService=c.IMouseService=c.ICoreBrowserService=c.ICharSizeService=void 0;const m=v(8343);c.ICharSizeService=(0,m.createDecorator)("CharSizeService"),c.ICoreBrowserService=(0,m.createDecorator)("CoreBrowserService"),c.IMouseService=(0,m.createDecorator)("MouseService"),c.IRenderService=(0,m.createDecorator)("RenderService"),c.ISelectionService=(0,m.createDecorator)("SelectionService"),c.ICharacterJoinerService=(0,m.createDecorator)("CharacterJoinerService"),c.IThemeService=(0,m.createDecorator)("ThemeService"),c.ILinkProviderService=(0,m.createDecorator)("LinkProviderService")},6731:function(C,c,v){var m=this&&this.__decorate||function(B,g,x,V){var k,Y=arguments.length,q=Y<3?g:null===V?V=Object.getOwnPropertyDescriptor(g,x):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(B,g,x,V);else for(var J=B.length-1;J>=0;J--)(k=B[J])&&(q=(Y<3?k(q):Y>3?k(g,x,q):k(g,x))||q);return Y>3&&q&&Object.defineProperty(g,x,q),q},w=this&&this.__param||function(B,g){return function(x,V){g(x,V,B)}};Object.defineProperty(c,"__esModule",{value:!0}),c.ThemeService=c.DEFAULT_ANSI_COLORS=void 0;const h=v(7239),b=v(8055),y=v(8460),E=v(844),d=v(2585),s=b.css.toColor("#ffffff"),f=b.css.toColor("#000000"),u=b.css.toColor("#ffffff"),p=b.css.toColor("#000000"),S={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};c.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const B=[b.css.toColor("#2e3436"),b.css.toColor("#cc0000"),b.css.toColor("#4e9a06"),b.css.toColor("#c4a000"),b.css.toColor("#3465a4"),b.css.toColor("#75507b"),b.css.toColor("#06989a"),b.css.toColor("#d3d7cf"),b.css.toColor("#555753"),b.css.toColor("#ef2929"),b.css.toColor("#8ae234"),b.css.toColor("#fce94f"),b.css.toColor("#729fcf"),b.css.toColor("#ad7fa8"),b.css.toColor("#34e2e2"),b.css.toColor("#eeeeec")],g=[0,95,135,175,215,255];for(let x=0;x<216;x++){const V=g[x/36%6|0],k=g[x/6%6|0],Y=g[x%6];B.push({css:b.channels.toCss(V,k,Y),rgba:b.channels.toRgba(V,k,Y)})}for(let x=0;x<24;x++){const V=8+10*x;B.push({css:b.channels.toCss(V,V,V),rgba:b.channels.toRgba(V,V,V)})}return B})());let I=c.ThemeService=class extends E.Disposable{get colors(){return this._colors}constructor(B){super(),this._optionsService=B,this._contrastCache=new h.ColorContrastCache,this._halfContrastCache=new h.ColorContrastCache,this._onChangeColors=this.register(new y.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:s,background:f,cursor:u,cursorAccent:p,selectionForeground:void 0,selectionBackgroundTransparent:S,selectionBackgroundOpaque:b.color.blend(f,S),selectionInactiveBackgroundTransparent:S,selectionInactiveBackgroundOpaque:b.color.blend(f,S),ansi:c.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(B={}){const g=this._colors;if(g.foreground=A(B.foreground,s),g.background=A(B.background,f),g.cursor=A(B.cursor,u),g.cursorAccent=A(B.cursorAccent,p),g.selectionBackgroundTransparent=A(B.selectionBackground,S),g.selectionBackgroundOpaque=b.color.blend(g.background,g.selectionBackgroundTransparent),g.selectionInactiveBackgroundTransparent=A(B.selectionInactiveBackground,g.selectionBackgroundTransparent),g.selectionInactiveBackgroundOpaque=b.color.blend(g.background,g.selectionInactiveBackgroundTransparent),g.selectionForeground=B.selectionForeground?A(B.selectionForeground,b.NULL_COLOR):void 0,g.selectionForeground===b.NULL_COLOR&&(g.selectionForeground=void 0),b.color.isOpaque(g.selectionBackgroundTransparent)&&(g.selectionBackgroundTransparent=b.color.opacity(g.selectionBackgroundTransparent,.3)),b.color.isOpaque(g.selectionInactiveBackgroundTransparent)&&(g.selectionInactiveBackgroundTransparent=b.color.opacity(g.selectionInactiveBackgroundTransparent,.3)),g.ansi=c.DEFAULT_ANSI_COLORS.slice(),g.ansi[0]=A(B.black,c.DEFAULT_ANSI_COLORS[0]),g.ansi[1]=A(B.red,c.DEFAULT_ANSI_COLORS[1]),g.ansi[2]=A(B.green,c.DEFAULT_ANSI_COLORS[2]),g.ansi[3]=A(B.yellow,c.DEFAULT_ANSI_COLORS[3]),g.ansi[4]=A(B.blue,c.DEFAULT_ANSI_COLORS[4]),g.ansi[5]=A(B.magenta,c.DEFAULT_ANSI_COLORS[5]),g.ansi[6]=A(B.cyan,c.DEFAULT_ANSI_COLORS[6]),g.ansi[7]=A(B.white,c.DEFAULT_ANSI_COLORS[7]),g.ansi[8]=A(B.brightBlack,c.DEFAULT_ANSI_COLORS[8]),g.ansi[9]=A(B.brightRed,c.DEFAULT_ANSI_COLORS[9]),g.ansi[10]=A(B.brightGreen,c.DEFAULT_ANSI_COLORS[10]),g.ansi[11]=A(B.brightYellow,c.DEFAULT_ANSI_COLORS[11]),g.ansi[12]=A(B.brightBlue,c.DEFAULT_ANSI_COLORS[12]),g.ansi[13]=A(B.brightMagenta,c.DEFAULT_ANSI_COLORS[13]),g.ansi[14]=A(B.brightCyan,c.DEFAULT_ANSI_COLORS[14]),g.ansi[15]=A(B.brightWhite,c.DEFAULT_ANSI_COLORS[15]),B.extendedAnsi){const x=Math.min(g.ansi.length-16,B.extendedAnsi.length);for(let V=0;V<x;V++)g.ansi[V+16]=A(B.extendedAnsi[V],c.DEFAULT_ANSI_COLORS[V+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(B){this._restoreColor(B),this._onChangeColors.fire(this.colors)}_restoreColor(B){if(void 0!==B)switch(B){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[B]=this._restoreColors.ansi[B]}else for(let g=0;g<this._restoreColors.ansi.length;++g)this._colors.ansi[g]=this._restoreColors.ansi[g]}modifyColors(B){B(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function A(B,g){if(void 0!==B)try{return b.css.toColor(B)}catch{}return g}c.ThemeService=I=m([w(0,d.IOptionsService)],I)},6349:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CircularList=void 0;const m=v(8460),w=v(844);c.CircularList=class h extends w.Disposable{constructor(y){super(),this._maxLength=y,this.onDeleteEmitter=this.register(new m.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new m.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new m.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(y){if(this._maxLength===y)return;const E=new Array(y);for(let d=0;d<Math.min(y,this.length);d++)E[d]=this._array[this._getCyclicIndex(d)];this._array=E,this._maxLength=y,this._startIndex=0}get length(){return this._length}set length(y){if(y>this._length)for(let E=this._length;E<y;E++)this._array[E]=void 0;this._length=y}get(y){return this._array[this._getCyclicIndex(y)]}set(y,E){this._array[this._getCyclicIndex(y)]=E}push(y){this._array[this._getCyclicIndex(this._length)]=y,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(y,E,...d){if(E){for(let s=y;s<this._length-E;s++)this._array[this._getCyclicIndex(s)]=this._array[this._getCyclicIndex(s+E)];this._length-=E,this.onDeleteEmitter.fire({index:y,amount:E})}for(let s=this._length-1;s>=y;s--)this._array[this._getCyclicIndex(s+d.length)]=this._array[this._getCyclicIndex(s)];for(let s=0;s<d.length;s++)this._array[this._getCyclicIndex(y+s)]=d[s];if(d.length&&this.onInsertEmitter.fire({index:y,amount:d.length}),this._length+d.length>this._maxLength){const s=this._length+d.length-this._maxLength;this._startIndex+=s,this._length=this._maxLength,this.onTrimEmitter.fire(s)}else this._length+=d.length}trimStart(y){y>this._length&&(y=this._length),this._startIndex+=y,this._length-=y,this.onTrimEmitter.fire(y)}shiftElements(y,E,d){if(!(E<=0)){if(y<0||y>=this._length)throw new Error("start argument out of range");if(y+d<0)throw new Error("Cannot shift elements in list beyond index 0");if(d>0){for(let f=E-1;f>=0;f--)this.set(y+f+d,this.get(y+f));const s=y+E+d-this._length;if(s>0)for(this._length+=s;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let s=0;s<E;s++)this.set(y+s+d,this.get(y+s))}}_getCyclicIndex(y){return(this._startIndex+y)%this._maxLength}}},1439:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.clone=void 0,c.clone=function v(m,w=5){if("object"!=typeof m)return m;const h=Array.isArray(m)?[]:{};for(const b in m)h[b]=w<=1?m[b]:m[b]&&v(m[b],w-1);return h}},8055:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.contrastRatio=c.toPaddedHex=c.rgba=c.rgb=c.css=c.color=c.channels=c.NULL_COLOR=void 0;let v=0,m=0,w=0,h=0;var b,y,E,d,s,p;function f(p){const S=p.toString(16);return S.length<2?"0"+S:S}function u(p,S){return p<S?(S+.05)/(p+.05):(p+.05)/(S+.05)}c.NULL_COLOR={css:"#00000000",rgba:0},(p=b||(c.channels=b={})).toCss=function(S,I,A,B){return void 0!==B?`#${f(S)}${f(I)}${f(A)}${f(B)}`:`#${f(S)}${f(I)}${f(A)}`},p.toRgba=function(S,I,A,B=255){return(S<<24|I<<16|A<<8|B)>>>0},p.toColor=function(S,I,A,B){return{css:p.toCss(S,I,A,B),rgba:p.toRgba(S,I,A,B)}},function(p){function S(I,A){return h=Math.round(255*A),[v,m,w]=s.toChannels(I.rgba),{css:b.toCss(v,m,w,h),rgba:b.toRgba(v,m,w,h)}}p.blend=function(I,A){if(h=(255&A.rgba)/255,1===h)return{css:A.css,rgba:A.rgba};const g=A.rgba>>16&255,x=A.rgba>>8&255,V=I.rgba>>24&255,k=I.rgba>>16&255,Y=I.rgba>>8&255;return v=V+Math.round(((A.rgba>>24&255)-V)*h),m=k+Math.round((g-k)*h),w=Y+Math.round((x-Y)*h),{css:b.toCss(v,m,w),rgba:b.toRgba(v,m,w)}},p.isOpaque=function(I){return 255==(255&I.rgba)},p.ensureContrastRatio=function(I,A,B){const g=s.ensureContrastRatio(I.rgba,A.rgba,B);if(g)return b.toColor(g>>24&255,g>>16&255,g>>8&255)},p.opaque=function(I){const A=(255|I.rgba)>>>0;return[v,m,w]=s.toChannels(A),{css:b.toCss(v,m,w),rgba:A}},p.opacity=S,p.multiplyOpacity=function(I,A){return h=255&I.rgba,S(I,h*A/255)},p.toColorRGB=function(I){return[I.rgba>>24&255,I.rgba>>16&255,I.rgba>>8&255]}}(y||(c.color=y={})),function(p){let S,I;try{const A=document.createElement("canvas");A.width=1,A.height=1;const B=A.getContext("2d",{willReadFrequently:!0});B&&(S=B,S.globalCompositeOperation="copy",I=S.createLinearGradient(0,0,1,1))}catch{}p.toColor=function(A){if(A.match(/#[\da-f]{3,8}/i))switch(A.length){case 4:return v=parseInt(A.slice(1,2).repeat(2),16),m=parseInt(A.slice(2,3).repeat(2),16),w=parseInt(A.slice(3,4).repeat(2),16),b.toColor(v,m,w);case 5:return v=parseInt(A.slice(1,2).repeat(2),16),m=parseInt(A.slice(2,3).repeat(2),16),w=parseInt(A.slice(3,4).repeat(2),16),h=parseInt(A.slice(4,5).repeat(2),16),b.toColor(v,m,w,h);case 7:return{css:A,rgba:(parseInt(A.slice(1),16)<<8|255)>>>0};case 9:return{css:A,rgba:parseInt(A.slice(1),16)>>>0}}const B=A.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(B)return v=parseInt(B[1]),m=parseInt(B[2]),w=parseInt(B[3]),h=Math.round(255*(void 0===B[5]?1:parseFloat(B[5]))),b.toColor(v,m,w,h);if(!S||!I)throw new Error("css.toColor: Unsupported css format");if(S.fillStyle=I,S.fillStyle=A,"string"!=typeof S.fillStyle)throw new Error("css.toColor: Unsupported css format");if(S.fillRect(0,0,1,1),[v,m,w,h]=S.getImageData(0,0,1,1).data,255!==h)throw new Error("css.toColor: Unsupported css format");return{rgba:b.toRgba(v,m,w,h),css:A}}}(E||(c.css=E={})),function(p){function S(I,A,B){const g=I/255,x=A/255,V=B/255;return.2126*(g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4))+.7152*(x<=.03928?x/12.92:Math.pow((x+.055)/1.055,2.4))+.0722*(V<=.03928?V/12.92:Math.pow((V+.055)/1.055,2.4))}p.relativeLuminance=function(I){return S(I>>16&255,I>>8&255,255&I)},p.relativeLuminance2=S}(d||(c.rgb=d={})),function(p){function S(A,B,g){const x=A>>24&255,V=A>>16&255,k=A>>8&255;let Y=B>>24&255,q=B>>16&255,J=B>>8&255,ae=u(d.relativeLuminance2(Y,q,J),d.relativeLuminance2(x,V,k));for(;ae<g&&(Y>0||q>0||J>0);)Y-=Math.max(0,Math.ceil(.1*Y)),q-=Math.max(0,Math.ceil(.1*q)),J-=Math.max(0,Math.ceil(.1*J)),ae=u(d.relativeLuminance2(Y,q,J),d.relativeLuminance2(x,V,k));return(Y<<24|q<<16|J<<8|255)>>>0}function I(A,B,g){const x=A>>24&255,V=A>>16&255,k=A>>8&255;let Y=B>>24&255,q=B>>16&255,J=B>>8&255,ae=u(d.relativeLuminance2(Y,q,J),d.relativeLuminance2(x,V,k));for(;ae<g&&(Y<255||q<255||J<255);)Y=Math.min(255,Y+Math.ceil(.1*(255-Y))),q=Math.min(255,q+Math.ceil(.1*(255-q))),J=Math.min(255,J+Math.ceil(.1*(255-J))),ae=u(d.relativeLuminance2(Y,q,J),d.relativeLuminance2(x,V,k));return(Y<<24|q<<16|J<<8|255)>>>0}p.blend=function(A,B){if(h=(255&B)/255,1===h)return B;const x=B>>16&255,V=B>>8&255,k=A>>24&255,Y=A>>16&255,q=A>>8&255;return v=k+Math.round(((B>>24&255)-k)*h),m=Y+Math.round((x-Y)*h),w=q+Math.round((V-q)*h),b.toRgba(v,m,w)},p.ensureContrastRatio=function(A,B,g){const x=d.relativeLuminance(A>>8),V=d.relativeLuminance(B>>8);if(u(x,V)<g){if(V<x){const q=S(A,B,g),J=u(x,d.relativeLuminance(q>>8));if(J<g){const ae=I(A,B,g);return J>u(x,d.relativeLuminance(ae>>8))?q:ae}return q}const k=I(A,B,g),Y=u(x,d.relativeLuminance(k>>8));if(Y<g){const q=S(A,B,g);return Y>u(x,d.relativeLuminance(q>>8))?k:q}return k}},p.reduceLuminance=S,p.increaseLuminance=I,p.toChannels=function(A){return[A>>24&255,A>>16&255,A>>8&255,255&A]}}(s||(c.rgba=s={})),c.toPaddedHex=f,c.contrastRatio=u},8969:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CoreTerminal=void 0;const m=v(844),w=v(2585),h=v(4348),b=v(7866),y=v(744),E=v(7302),d=v(6975),s=v(8460),f=v(1753),u=v(1480),p=v(7994),S=v(9282),I=v(5435),A=v(5981),B=v(2660);let g=!1;c.CoreTerminal=class x extends m.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new s.EventEmitter),this._onScroll.event(k=>{this._onScrollApi?.fire(k.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(k){for(const Y in k)this.optionsService.options[Y]=k[Y]}constructor(k){super(),this._windowsWrappingHeuristics=this.register(new m.MutableDisposable),this._onBinary=this.register(new s.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new s.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new s.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new s.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new s.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new s.EventEmitter),this._instantiationService=new h.InstantiationService,this.optionsService=this.register(new E.OptionsService(k)),this._instantiationService.setService(w.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(y.BufferService)),this._instantiationService.setService(w.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(b.LogService)),this._instantiationService.setService(w.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(d.CoreService)),this._instantiationService.setService(w.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(f.CoreMouseService)),this._instantiationService.setService(w.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(u.UnicodeService)),this._instantiationService.setService(w.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(p.CharsetService),this._instantiationService.setService(w.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(B.OscLinkService),this._instantiationService.setService(w.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new I.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,s.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,s.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,s.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,s.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(Y=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(Y=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new A.WriteBuffer((Y,q)=>this._inputHandler.parse(Y,q))),this.register((0,s.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(k,Y){this._writeBuffer.write(k,Y)}writeSync(k,Y){this._logService.logLevel<=w.LogLevelEnum.WARN&&!g&&(this._logService.warn("writeSync is unreliable and will be removed soon."),g=!0),this._writeBuffer.writeSync(k,Y)}input(k,Y=!0){this.coreService.triggerDataEvent(k,Y)}resize(k,Y){isNaN(k)||isNaN(Y)||(k=Math.max(k,y.MINIMUM_COLS),Y=Math.max(Y,y.MINIMUM_ROWS),this._bufferService.resize(k,Y))}scroll(k,Y=!1){this._bufferService.scroll(k,Y)}scrollLines(k,Y,q){this._bufferService.scrollLines(k,Y,q)}scrollPages(k){this.scrollLines(k*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(k){const Y=k-this._bufferService.buffer.ydisp;0!==Y&&this.scrollLines(Y)}registerEscHandler(k,Y){return this._inputHandler.registerEscHandler(k,Y)}registerDcsHandler(k,Y){return this._inputHandler.registerDcsHandler(k,Y)}registerCsiHandler(k,Y){return this._inputHandler.registerCsiHandler(k,Y)}registerOscHandler(k,Y){return this._inputHandler.registerOscHandler(k,Y)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let k=!1;const Y=this.optionsService.rawOptions.windowsPty;Y&&void 0!==Y.buildNumber&&void 0!==Y.buildNumber?k="conpty"===Y.backend&&Y.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(k=!0),k?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const k=[];k.push(this.onLineFeed(S.updateWindowsModeWrappedState.bind(null,this._bufferService))),k.push(this.registerCsiHandler({final:"H"},()=>((0,S.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,m.toDisposable)(()=>{for(const Y of k)Y.dispose()})}}}},8460:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.runAndSubscribe=c.forwardEvent=c.EventEmitter=void 0,c.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=v=>(this._listeners.push(v),{dispose:()=>{if(!this._disposed)for(let m=0;m<this._listeners.length;m++)if(this._listeners[m]===v)return void this._listeners.splice(m,1)}})),this._event}fire(v,m){const w=[];for(let h=0;h<this._listeners.length;h++)w.push(this._listeners[h]);for(let h=0;h<w.length;h++)w[h].call(void 0,v,m)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},c.forwardEvent=function(v,m){return v(w=>m.fire(w))},c.runAndSubscribe=function(v,m){return m(void 0),v(w=>m(w))}},5435:function(C,c,v){var m=this&&this.__decorate||function(ve,K,ne,re){var de,Ue=arguments.length,ze=Ue<3?K:null===re?re=Object.getOwnPropertyDescriptor(K,ne):re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ze=Reflect.decorate(ve,K,ne,re);else for(var Qe=ve.length-1;Qe>=0;Qe--)(de=ve[Qe])&&(ze=(Ue<3?de(ze):Ue>3?de(K,ne,ze):de(K,ne))||ze);return Ue>3&&ze&&Object.defineProperty(K,ne,ze),ze},w=this&&this.__param||function(ve,K){return function(ne,re){K(ne,re,ve)}};Object.defineProperty(c,"__esModule",{value:!0}),c.InputHandler=c.WindowsOptionsReportType=void 0;const h=v(2584),b=v(7116),y=v(2015),E=v(844),d=v(482),s=v(8437),f=v(8460),u=v(643),p=v(511),S=v(3734),I=v(2585),A=v(1480),B=v(6242),g=v(6351),x=v(5941),V={"(":0,")":1,"*":2,"+":3,"-":1,".":2},k=131072;function Y(ve,K){if(ve>24)return K.setWinLines||!1;switch(ve){case 1:return!!K.restoreWin;case 2:return!!K.minimizeWin;case 3:return!!K.setWinPosition;case 4:return!!K.setWinSizePixels;case 5:return!!K.raiseWin;case 6:return!!K.lowerWin;case 7:return!!K.refreshWin;case 8:return!!K.setWinSizeChars;case 9:return!!K.maximizeWin;case 10:return!!K.fullscreenWin;case 11:return!!K.getWinState;case 13:return!!K.getWinPosition;case 14:return!!K.getWinSizePixels;case 15:return!!K.getScreenSizePixels;case 16:return!!K.getCellSizePixels;case 18:return!!K.getWinSizeChars;case 19:return!!K.getScreenSizeChars;case 20:return!!K.getIconTitle;case 21:return!!K.getWinTitle;case 22:return!!K.pushTitle;case 23:return!!K.popTitle;case 24:return!!K.setWinLines}return!1}var q,ve;(ve=q||(c.WindowsOptionsReportType=q={}))[ve.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",ve[ve.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";let J=0;c.InputHandler=class ae extends E.Disposable{getAttrData(){return this._curAttrData}constructor(K,ne,re,de,Ue,ze,Qe,Ye,Se=new y.EscapeSequenceParser){super(),this._bufferService=K,this._charsetService=ne,this._coreService=re,this._logService=de,this._optionsService=Ue,this._oscLinkService=ze,this._coreMouseService=Qe,this._unicodeService=Ye,this._parser=Se,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new d.StringToUtf32,this._utf8Decoder=new d.Utf8ToUtf32,this._workCell=new p.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=s.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=s.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new f.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new f.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new f.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new f.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new f.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new f.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new f.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new f.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new f.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new f.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new f.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new f.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new se(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(ie=>this._activeBuffer=ie.activeBuffer)),this._parser.setCsiHandlerFallback((ie,Ne)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(ie),params:Ne.toArray()})}),this._parser.setEscHandlerFallback(ie=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(ie)})}),this._parser.setExecuteHandlerFallback(ie=>{this._logService.debug("Unknown EXECUTE code: ",{code:ie})}),this._parser.setOscHandlerFallback((ie,Ne,Pe)=>{this._logService.debug("Unknown OSC code: ",{identifier:ie,action:Ne,data:Pe})}),this._parser.setDcsHandlerFallback((ie,Ne,Pe)=>{"HOOK"===Ne&&(Pe=Pe.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(ie),action:Ne,payload:Pe})}),this._parser.setPrintHandler((ie,Ne,Pe)=>this.print(ie,Ne,Pe)),this._parser.registerCsiHandler({final:"@"},ie=>this.insertChars(ie)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},ie=>this.scrollLeft(ie)),this._parser.registerCsiHandler({final:"A"},ie=>this.cursorUp(ie)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},ie=>this.scrollRight(ie)),this._parser.registerCsiHandler({final:"B"},ie=>this.cursorDown(ie)),this._parser.registerCsiHandler({final:"C"},ie=>this.cursorForward(ie)),this._parser.registerCsiHandler({final:"D"},ie=>this.cursorBackward(ie)),this._parser.registerCsiHandler({final:"E"},ie=>this.cursorNextLine(ie)),this._parser.registerCsiHandler({final:"F"},ie=>this.cursorPrecedingLine(ie)),this._parser.registerCsiHandler({final:"G"},ie=>this.cursorCharAbsolute(ie)),this._parser.registerCsiHandler({final:"H"},ie=>this.cursorPosition(ie)),this._parser.registerCsiHandler({final:"I"},ie=>this.cursorForwardTab(ie)),this._parser.registerCsiHandler({final:"J"},ie=>this.eraseInDisplay(ie,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},ie=>this.eraseInDisplay(ie,!0)),this._parser.registerCsiHandler({final:"K"},ie=>this.eraseInLine(ie,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},ie=>this.eraseInLine(ie,!0)),this._parser.registerCsiHandler({final:"L"},ie=>this.insertLines(ie)),this._parser.registerCsiHandler({final:"M"},ie=>this.deleteLines(ie)),this._parser.registerCsiHandler({final:"P"},ie=>this.deleteChars(ie)),this._parser.registerCsiHandler({final:"S"},ie=>this.scrollUp(ie)),this._parser.registerCsiHandler({final:"T"},ie=>this.scrollDown(ie)),this._parser.registerCsiHandler({final:"X"},ie=>this.eraseChars(ie)),this._parser.registerCsiHandler({final:"Z"},ie=>this.cursorBackwardTab(ie)),this._parser.registerCsiHandler({final:"`"},ie=>this.charPosAbsolute(ie)),this._parser.registerCsiHandler({final:"a"},ie=>this.hPositionRelative(ie)),this._parser.registerCsiHandler({final:"b"},ie=>this.repeatPrecedingCharacter(ie)),this._parser.registerCsiHandler({final:"c"},ie=>this.sendDeviceAttributesPrimary(ie)),this._parser.registerCsiHandler({prefix:">",final:"c"},ie=>this.sendDeviceAttributesSecondary(ie)),this._parser.registerCsiHandler({final:"d"},ie=>this.linePosAbsolute(ie)),this._parser.registerCsiHandler({final:"e"},ie=>this.vPositionRelative(ie)),this._parser.registerCsiHandler({final:"f"},ie=>this.hVPosition(ie)),this._parser.registerCsiHandler({final:"g"},ie=>this.tabClear(ie)),this._parser.registerCsiHandler({final:"h"},ie=>this.setMode(ie)),this._parser.registerCsiHandler({prefix:"?",final:"h"},ie=>this.setModePrivate(ie)),this._parser.registerCsiHandler({final:"l"},ie=>this.resetMode(ie)),this._parser.registerCsiHandler({prefix:"?",final:"l"},ie=>this.resetModePrivate(ie)),this._parser.registerCsiHandler({final:"m"},ie=>this.charAttributes(ie)),this._parser.registerCsiHandler({final:"n"},ie=>this.deviceStatus(ie)),this._parser.registerCsiHandler({prefix:"?",final:"n"},ie=>this.deviceStatusPrivate(ie)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},ie=>this.softReset(ie)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},ie=>this.setCursorStyle(ie)),this._parser.registerCsiHandler({final:"r"},ie=>this.setScrollRegion(ie)),this._parser.registerCsiHandler({final:"s"},ie=>this.saveCursor(ie)),this._parser.registerCsiHandler({final:"t"},ie=>this.windowOptions(ie)),this._parser.registerCsiHandler({final:"u"},ie=>this.restoreCursor(ie)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},ie=>this.insertColumns(ie)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},ie=>this.deleteColumns(ie)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},ie=>this.selectProtected(ie)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},ie=>this.requestMode(ie,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},ie=>this.requestMode(ie,!1)),this._parser.setExecuteHandler(h.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(h.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(h.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(h.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(h.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(h.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(h.C1.IND,()=>this.index()),this._parser.setExecuteHandler(h.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(h.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new B.OscHandler(ie=>(this.setTitle(ie),this.setIconName(ie),!0))),this._parser.registerOscHandler(1,new B.OscHandler(ie=>this.setIconName(ie))),this._parser.registerOscHandler(2,new B.OscHandler(ie=>this.setTitle(ie))),this._parser.registerOscHandler(4,new B.OscHandler(ie=>this.setOrReportIndexedColor(ie))),this._parser.registerOscHandler(8,new B.OscHandler(ie=>this.setHyperlink(ie))),this._parser.registerOscHandler(10,new B.OscHandler(ie=>this.setOrReportFgColor(ie))),this._parser.registerOscHandler(11,new B.OscHandler(ie=>this.setOrReportBgColor(ie))),this._parser.registerOscHandler(12,new B.OscHandler(ie=>this.setOrReportCursorColor(ie))),this._parser.registerOscHandler(104,new B.OscHandler(ie=>this.restoreIndexedColor(ie))),this._parser.registerOscHandler(110,new B.OscHandler(ie=>this.restoreFgColor(ie))),this._parser.registerOscHandler(111,new B.OscHandler(ie=>this.restoreBgColor(ie))),this._parser.registerOscHandler(112,new B.OscHandler(ie=>this.restoreCursorColor(ie))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const ie in b.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:ie},()=>this.selectCharset("("+ie)),this._parser.registerEscHandler({intermediates:")",final:ie},()=>this.selectCharset(")"+ie)),this._parser.registerEscHandler({intermediates:"*",final:ie},()=>this.selectCharset("*"+ie)),this._parser.registerEscHandler({intermediates:"+",final:ie},()=>this.selectCharset("+"+ie)),this._parser.registerEscHandler({intermediates:"-",final:ie},()=>this.selectCharset("-"+ie)),this._parser.registerEscHandler({intermediates:".",final:ie},()=>this.selectCharset("."+ie)),this._parser.registerEscHandler({intermediates:"/",final:ie},()=>this.selectCharset("/"+ie));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(ie=>(this._logService.error("Parsing error: ",ie),ie)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new g.DcsHandler((ie,Ne)=>this.requestStatusString(ie,Ne)))}_preserveStack(K,ne,re,de){this._parseStack.paused=!0,this._parseStack.cursorStartX=K,this._parseStack.cursorStartY=ne,this._parseStack.decodedLength=re,this._parseStack.position=de}_logSlowResolvingAsync(K){this._logService.logLevel<=I.LogLevelEnum.WARN&&Promise.race([K,new Promise((ne,re)=>setTimeout(()=>re("#SLOW_TIMEOUT"),5e3))]).catch(ne=>{if("#SLOW_TIMEOUT"!==ne)throw ne;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(K,ne){let re,de=this._activeBuffer.x,Ue=this._activeBuffer.y,ze=0;const Qe=this._parseStack.paused;if(Qe){if(re=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,ne))return this._logSlowResolvingAsync(re),re;de=this._parseStack.cursorStartX,Ue=this._parseStack.cursorStartY,this._parseStack.paused=!1,K.length>k&&(ze=this._parseStack.position+k)}if(this._logService.logLevel<=I.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof K?` "${K}"`:` "${Array.prototype.map.call(K,ie=>String.fromCharCode(ie)).join("")}"`),"string"==typeof K?K.split("").map(ie=>ie.charCodeAt(0)):K),this._parseBuffer.length<K.length&&this._parseBuffer.length<k&&(this._parseBuffer=new Uint32Array(Math.min(K.length,k))),Qe||this._dirtyRowTracker.clearRange(),K.length>k)for(let ie=ze;ie<K.length;ie+=k){const Ne=ie+k<K.length?ie+k:K.length,Pe="string"==typeof K?this._stringDecoder.decode(K.substring(ie,Ne),this._parseBuffer):this._utf8Decoder.decode(K.subarray(ie,Ne),this._parseBuffer);if(re=this._parser.parse(this._parseBuffer,Pe))return this._preserveStack(de,Ue,Pe,ie),this._logSlowResolvingAsync(re),re}else if(!Qe){const ie="string"==typeof K?this._stringDecoder.decode(K,this._parseBuffer):this._utf8Decoder.decode(K,this._parseBuffer);if(re=this._parser.parse(this._parseBuffer,ie))return this._preserveStack(de,Ue,ie,0),this._logSlowResolvingAsync(re),re}this._activeBuffer.x===de&&this._activeBuffer.y===Ue||this._onCursorMove.fire();const Ye=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),Se=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);Se<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(Se,this._bufferService.rows-1),Math.min(Ye,this._bufferService.rows-1))}print(K,ne,re){let de,Ue;const ze=this._charsetService.charset,Qe=this._optionsService.rawOptions.screenReaderMode,Ye=this._bufferService.cols,Se=this._coreService.decPrivateModes.wraparound,ie=this._coreService.modes.insertMode,Ne=this._curAttrData;let Pe=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&re-ne>0&&2===Pe.getWidth(this._activeBuffer.x-1)&&Pe.setCellFromCodepoint(this._activeBuffer.x-1,0,1,Ne);let tt=this._parser.precedingJoinState;for(let et=ne;et<re;++et){if(de=K[et],de<127&&ze){const bt=ze[String.fromCharCode(de)];bt&&(de=bt.charCodeAt(0))}const Et=this._unicodeService.charProperties(de,tt);Ue=A.UnicodeService.extractWidth(Et);const Ot=A.UnicodeService.extractShouldJoin(Et),St=Ot?A.UnicodeService.extractWidth(tt):0;if(tt=Et,Qe&&this._onA11yChar.fire((0,d.stringFromCodePoint)(de)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+Ue-St>Ye)if(Se){const bt=Pe;let ht=this._activeBuffer.x-St;for(this._activeBuffer.x=St,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Pe=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),St>0&&Pe instanceof s.BufferLine&&Pe.copyCellsFrom(bt,ht,0,St,!1);ht<Ye;)bt.setCellFromCodepoint(ht++,0,1,Ne)}else if(this._activeBuffer.x=Ye-1,2===Ue)continue;if(Ot&&this._activeBuffer.x){const bt=Pe.getWidth(this._activeBuffer.x-1)?1:2;Pe.addCodepointToCell(this._activeBuffer.x-bt,de,Ue);for(let ht=Ue-St;--ht>=0;)Pe.setCellFromCodepoint(this._activeBuffer.x++,0,0,Ne)}else if(ie&&(Pe.insertCells(this._activeBuffer.x,Ue-St,this._activeBuffer.getNullCell(Ne)),2===Pe.getWidth(Ye-1)&&Pe.setCellFromCodepoint(Ye-1,u.NULL_CELL_CODE,u.NULL_CELL_WIDTH,Ne)),Pe.setCellFromCodepoint(this._activeBuffer.x++,de,Ue,Ne),Ue>0)for(;--Ue;)Pe.setCellFromCodepoint(this._activeBuffer.x++,0,0,Ne)}this._parser.precedingJoinState=tt,this._activeBuffer.x<Ye&&re-ne>0&&0===Pe.getWidth(this._activeBuffer.x)&&!Pe.hasContent(this._activeBuffer.x)&&Pe.setCellFromCodepoint(this._activeBuffer.x,0,1,Ne),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(K,ne){return this._parser.registerCsiHandler(K,"t"!==K.final||K.prefix||K.intermediates?ne:re=>!Y(re.params[0],this._optionsService.rawOptions.windowOptions)||ne(re))}registerDcsHandler(K,ne){return this._parser.registerDcsHandler(K,new g.DcsHandler(ne))}registerEscHandler(K,ne){return this._parser.registerEscHandler(K,ne)}registerOscHandler(K,ne){return this._parser.registerOscHandler(K,new B.OscHandler(ne))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);K.hasWidth(this._activeBuffer.x)&&!K.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const K=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-K),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(K=this._bufferService.cols-1){this._activeBuffer.x=Math.min(K,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(K,ne){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=K,this._activeBuffer.y=this._activeBuffer.scrollTop+ne):(this._activeBuffer.x=K,this._activeBuffer.y=ne),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(K,ne){this._restrictCursor(),this._setCursor(this._activeBuffer.x+K,this._activeBuffer.y+ne)}cursorUp(K){const ne=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,ne>=0?-Math.min(ne,K.params[0]||1):-(K.params[0]||1)),!0}cursorDown(K){const ne=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,ne>=0?Math.min(ne,K.params[0]||1):K.params[0]||1),!0}cursorForward(K){return this._moveCursor(K.params[0]||1,0),!0}cursorBackward(K){return this._moveCursor(-(K.params[0]||1),0),!0}cursorNextLine(K){return this.cursorDown(K),this._activeBuffer.x=0,!0}cursorPrecedingLine(K){return this.cursorUp(K),this._activeBuffer.x=0,!0}cursorCharAbsolute(K){return this._setCursor((K.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(K){return this._setCursor(K.length>=2?(K.params[1]||1)-1:0,(K.params[0]||1)-1),!0}charPosAbsolute(K){return this._setCursor((K.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(K){return this._moveCursor(K.params[0]||1,0),!0}linePosAbsolute(K){return this._setCursor(this._activeBuffer.x,(K.params[0]||1)-1),!0}vPositionRelative(K){return this._moveCursor(0,K.params[0]||1),!0}hVPosition(K){return this.cursorPosition(K),!0}tabClear(K){const ne=K.params[0];return 0===ne?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===ne&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(K){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let ne=K.params[0]||1;for(;ne--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(K){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let ne=K.params[0]||1;for(;ne--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(K){const ne=K.params[0];return 1===ne&&(this._curAttrData.bg|=536870912),2!==ne&&0!==ne||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(K,ne,re,de=!1,Ue=!1){const ze=this._activeBuffer.lines.get(this._activeBuffer.ybase+K);ze.replaceCells(ne,re,this._activeBuffer.getNullCell(this._eraseAttrData()),Ue),de&&(ze.isWrapped=!1)}_resetBufferLine(K,ne=!1){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+K);re&&(re.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),ne),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+K),re.isWrapped=!1)}eraseInDisplay(K,ne=!1){let re;switch(this._restrictCursor(this._bufferService.cols),K.params[0]){case 0:for(re=this._activeBuffer.y,this._dirtyRowTracker.markDirty(re),this._eraseInBufferLine(re++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,ne);re<this._bufferService.rows;re++)this._resetBufferLine(re,ne);this._dirtyRowTracker.markDirty(re);break;case 1:for(re=this._activeBuffer.y,this._dirtyRowTracker.markDirty(re),this._eraseInBufferLine(re,0,this._activeBuffer.x+1,!0,ne),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(re+1).isWrapped=!1);re--;)this._resetBufferLine(re,ne);this._dirtyRowTracker.markDirty(0);break;case 2:for(re=this._bufferService.rows,this._dirtyRowTracker.markDirty(re-1);re--;)this._resetBufferLine(re,ne);this._dirtyRowTracker.markDirty(0);break;case 3:const de=this._activeBuffer.lines.length-this._bufferService.rows;de>0&&(this._activeBuffer.lines.trimStart(de),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-de,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-de,0),this._onScroll.fire(0))}return!0}eraseInLine(K,ne=!1){switch(this._restrictCursor(this._bufferService.cols),K.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,ne);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,ne);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,ne)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(K){this._restrictCursor();let ne=K.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const re=this._activeBuffer.ybase+this._activeBuffer.y,Ue=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;for(;ne--;)this._activeBuffer.lines.splice(Ue-1,1),this._activeBuffer.lines.splice(re,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(K){this._restrictCursor();let ne=K.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const re=this._activeBuffer.ybase+this._activeBuffer.y;let de;for(de=this._bufferService.rows-1-this._activeBuffer.scrollBottom,de=this._bufferService.rows-1+this._activeBuffer.ybase-de;ne--;)this._activeBuffer.lines.splice(re,1),this._activeBuffer.lines.splice(de,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(K){this._restrictCursor();const ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return ne&&(ne.insertCells(this._activeBuffer.x,K.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(K){this._restrictCursor();const ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return ne&&(ne.deleteCells(this._activeBuffer.x,K.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(K){let ne=K.params[0]||1;for(;ne--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(K){let ne=K.params[0]||1;for(;ne--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(s.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(K){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const ne=K.params[0]||1;for(let re=this._activeBuffer.scrollTop;re<=this._activeBuffer.scrollBottom;++re){const de=this._activeBuffer.lines.get(this._activeBuffer.ybase+re);de.deleteCells(0,ne,this._activeBuffer.getNullCell(this._eraseAttrData())),de.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(K){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const ne=K.params[0]||1;for(let re=this._activeBuffer.scrollTop;re<=this._activeBuffer.scrollBottom;++re){const de=this._activeBuffer.lines.get(this._activeBuffer.ybase+re);de.insertCells(0,ne,this._activeBuffer.getNullCell(this._eraseAttrData())),de.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(K){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const ne=K.params[0]||1;for(let re=this._activeBuffer.scrollTop;re<=this._activeBuffer.scrollBottom;++re){const de=this._activeBuffer.lines.get(this._activeBuffer.ybase+re);de.insertCells(this._activeBuffer.x,ne,this._activeBuffer.getNullCell(this._eraseAttrData())),de.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(K){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const ne=K.params[0]||1;for(let re=this._activeBuffer.scrollTop;re<=this._activeBuffer.scrollBottom;++re){const de=this._activeBuffer.lines.get(this._activeBuffer.ybase+re);de.deleteCells(this._activeBuffer.x,ne,this._activeBuffer.getNullCell(this._eraseAttrData())),de.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(K){this._restrictCursor();const ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return ne&&(ne.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(K.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(K){const ne=this._parser.precedingJoinState;if(!ne)return!0;const re=K.params[0]||1,de=A.UnicodeService.extractWidth(ne),Ue=this._activeBuffer.x-de,ze=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(Ue),Qe=new Uint32Array(ze.length*re);let Ye=0;for(let ie=0;ie<ze.length;){const Ne=ze.codePointAt(ie)||0;Qe[Ye++]=Ne,ie+=Ne>65535?2:1}let Se=Ye;for(let ie=1;ie<re;++ie)Qe.copyWithin(Se,0,Ye),Se+=Ye;return this.print(Qe,0,Se),!0}sendDeviceAttributesPrimary(K){return K.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(K){return K.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(K.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0}_is(K){return 0===(this._optionsService.rawOptions.termName+"").indexOf(K)}setMode(K){for(let ne=0;ne<K.length;ne++)switch(K.params[ne]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(K){for(let ne=0;ne<K.length;ne++)switch(K.params[ne]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,b.DEFAULT_CHARSET),this._charsetService.setgCharset(1,b.DEFAULT_CHARSET),this._charsetService.setgCharset(2,b.DEFAULT_CHARSET),this._charsetService.setgCharset(3,b.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(K){for(let ne=0;ne<K.length;ne++)switch(K.params[ne]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(K){for(let ne=0;ne<K.length;ne++)switch(K.params[ne]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===K.params[ne]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(K,ne){const re=this._coreService.decPrivateModes,{activeProtocol:de,activeEncoding:Ue}=this._coreMouseService,ze=this._coreService,{buffers:Qe,cols:Ye}=this._bufferService,{active:Se,alt:ie}=Qe,Ne=this._optionsService.rawOptions,Pe=Ot=>Ot?1:2,tt=K.params[0];return et=tt,Et=ne?2===tt?4:4===tt?Pe(ze.modes.insertMode):12===tt?3:20===tt?Pe(Ne.convertEol):0:1===tt?Pe(re.applicationCursorKeys):3===tt?Ne.windowOptions.setWinLines?80===Ye?2:132===Ye?1:0:0:6===tt?Pe(re.origin):7===tt?Pe(re.wraparound):8===tt?3:9===tt?Pe("X10"===de):12===tt?Pe(Ne.cursorBlink):25===tt?Pe(!ze.isCursorHidden):45===tt?Pe(re.reverseWraparound):66===tt?Pe(re.applicationKeypad):67===tt?4:1e3===tt?Pe("VT200"===de):1002===tt?Pe("DRAG"===de):1003===tt?Pe("ANY"===de):1004===tt?Pe(re.sendFocus):1005===tt?4:1006===tt?Pe("SGR"===Ue):1015===tt?4:1016===tt?Pe("SGR_PIXELS"===Ue):1048===tt?1:47===tt||1047===tt||1049===tt?Pe(Se===ie):2004===tt?Pe(re.bracketedPasteMode):0,ze.triggerDataEvent(`${h.C0.ESC}[${ne?"":"?"}${et};${Et}$y`),!0;var et,Et}_updateAttrColor(K,ne,re,de,Ue){return 2===ne?(K|=50331648,K&=-16777216,K|=S.AttributeData.fromColorRGB([re,de,Ue])):5===ne&&(K&=-50331904,K|=33554432|255&re),K}_extractColor(K,ne,re){const de=[0,0,-1,0,0,0];let Ue=0,ze=0;do{if(de[ze+Ue]=K.params[ne+ze],K.hasSubParams(ne+ze)){const Qe=K.getSubParams(ne+ze);let Ye=0;do{5===de[1]&&(Ue=1),de[ze+Ye+1+Ue]=Qe[Ye]}while(++Ye<Qe.length&&Ye+ze+1+Ue<de.length);break}if(5===de[1]&&ze+Ue>=2||2===de[1]&&ze+Ue>=5)break;de[1]&&(Ue=1)}while(++ze+ne<K.length&&ze+Ue<de.length);for(let Qe=2;Qe<de.length;++Qe)-1===de[Qe]&&(de[Qe]=0);switch(de[0]){case 38:re.fg=this._updateAttrColor(re.fg,de[1],de[3],de[4],de[5]);break;case 48:re.bg=this._updateAttrColor(re.bg,de[1],de[3],de[4],de[5]);break;case 58:re.extended=re.extended.clone(),re.extended.underlineColor=this._updateAttrColor(re.extended.underlineColor,de[1],de[3],de[4],de[5])}return ze}_processUnderline(K,ne){ne.extended=ne.extended.clone(),(!~K||K>5)&&(K=1),ne.extended.underlineStyle=K,ne.fg|=268435456,0===K&&(ne.fg&=-268435457),ne.updateExtended()}_processSGR0(K){K.fg=s.DEFAULT_ATTR_DATA.fg,K.bg=s.DEFAULT_ATTR_DATA.bg,K.extended=K.extended.clone(),K.extended.underlineStyle=0,K.extended.underlineColor&=-67108864,K.updateExtended()}charAttributes(K){if(1===K.length&&0===K.params[0])return this._processSGR0(this._curAttrData),!0;const ne=K.length;let re;const de=this._curAttrData;for(let Ue=0;Ue<ne;Ue++)re=K.params[Ue],re>=30&&re<=37?(de.fg&=-50331904,de.fg|=16777216|re-30):re>=40&&re<=47?(de.bg&=-50331904,de.bg|=16777216|re-40):re>=90&&re<=97?(de.fg&=-50331904,de.fg|=16777224|re-90):re>=100&&re<=107?(de.bg&=-50331904,de.bg|=16777224|re-100):0===re?this._processSGR0(de):1===re?de.fg|=134217728:3===re?de.bg|=67108864:4===re?(de.fg|=268435456,this._processUnderline(K.hasSubParams(Ue)?K.getSubParams(Ue)[0]:1,de)):5===re?de.fg|=536870912:7===re?de.fg|=67108864:8===re?de.fg|=1073741824:9===re?de.fg|=2147483648:2===re?de.bg|=134217728:21===re?this._processUnderline(2,de):22===re?(de.fg&=-134217729,de.bg&=-134217729):23===re?de.bg&=-67108865:24===re?(de.fg&=-268435457,this._processUnderline(0,de)):25===re?de.fg&=-536870913:27===re?de.fg&=-67108865:28===re?de.fg&=-1073741825:29===re?de.fg&=2147483647:39===re?(de.fg&=-67108864,de.fg|=16777215&s.DEFAULT_ATTR_DATA.fg):49===re?(de.bg&=-67108864,de.bg|=16777215&s.DEFAULT_ATTR_DATA.bg):38===re||48===re||58===re?Ue+=this._extractColor(K,Ue,de):53===re?de.bg|=1073741824:55===re?de.bg&=-1073741825:59===re?(de.extended=de.extended.clone(),de.extended.underlineColor=-1,de.updateExtended()):100===re?(de.fg&=-67108864,de.fg|=16777215&s.DEFAULT_ATTR_DATA.fg,de.bg&=-67108864,de.bg|=16777215&s.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",re);return!0}deviceStatus(K){switch(K.params[0]){case 5:this._coreService.triggerDataEvent(`${h.C0.ESC}[0n`);break;case 6:this._coreService.triggerDataEvent(`${h.C0.ESC}[${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`)}return!0}deviceStatusPrivate(K){return 6===K.params[0]&&this._coreService.triggerDataEvent(`${h.C0.ESC}[?${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`),!0}softReset(K){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=s.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(K){const ne=K.params[0]||1;switch(ne){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=ne%2==1,!0}setScrollRegion(K){const ne=K.params[0]||1;let re;return(K.length<2||(re=K.params[1])>this._bufferService.rows||0===re)&&(re=this._bufferService.rows),re>ne&&(this._activeBuffer.scrollTop=ne-1,this._activeBuffer.scrollBottom=re-1,this._setCursor(0,0)),!0}windowOptions(K){if(!Y(K.params[0],this._optionsService.rawOptions.windowOptions))return!0;const ne=K.length>1?K.params[1]:0;switch(K.params[0]){case 14:2!==ne&&this._onRequestWindowsOptionsReport.fire(q.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(q.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${h.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==ne&&2!==ne||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==ne&&1!==ne||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==ne&&2!==ne||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==ne&&1!==ne||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(K){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(K){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(K){return this._windowTitle=K,this._onTitleChange.fire(K),!0}setIconName(K){return this._iconName=K,!0}setOrReportIndexedColor(K){const ne=[],re=K.split(";");for(;re.length>1;){const de=re.shift(),Ue=re.shift();if(/^\d+$/.exec(de)){const ze=parseInt(de);if(we(ze))if("?"===Ue)ne.push({type:0,index:ze});else{const Qe=(0,x.parseColor)(Ue);Qe&&ne.push({type:1,index:ze,color:Qe})}}}return ne.length&&this._onColor.fire(ne),!0}setHyperlink(K){const ne=K.split(";");return!(ne.length<2)&&(ne[1]?this._createHyperlink(ne[0],ne[1]):!ne[0]&&this._finishHyperlink())}_createHyperlink(K,ne){this._getCurrentLinkId()&&this._finishHyperlink();const re=K.split(":");let de;const Ue=re.findIndex(ze=>ze.startsWith("id="));return-1!==Ue&&(de=re[Ue].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:de,uri:ne}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(K,ne){const re=K.split(";");for(let de=0;de<re.length&&!(ne>=this._specialColors.length);++de,++ne)if("?"===re[de])this._onColor.fire([{type:0,index:this._specialColors[ne]}]);else{const Ue=(0,x.parseColor)(re[de]);Ue&&this._onColor.fire([{type:1,index:this._specialColors[ne],color:Ue}])}return!0}setOrReportFgColor(K){return this._setOrReportSpecialColor(K,0)}setOrReportBgColor(K){return this._setOrReportSpecialColor(K,1)}setOrReportCursorColor(K){return this._setOrReportSpecialColor(K,2)}restoreIndexedColor(K){if(!K)return this._onColor.fire([{type:2}]),!0;const ne=[],re=K.split(";");for(let de=0;de<re.length;++de)if(/^\d+$/.exec(re[de])){const Ue=parseInt(re[de]);we(Ue)&&ne.push({type:2,index:Ue})}return ne.length&&this._onColor.fire(ne),!0}restoreFgColor(K){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(K){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(K){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,b.DEFAULT_CHARSET),!0}selectCharset(K){return 2!==K.length?(this.selectDefaultCharset(),!0):("/"===K[0]||this._charsetService.setgCharset(V[K[0]],b.CHARSETS[K[1]]||b.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=s.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=s.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(K){return this._charsetService.setgLevel(K),!0}screenAlignmentPattern(){const K=new p.CellData;K.content=4194304|"E".charCodeAt(0),K.fg=this._curAttrData.fg,K.bg=this._curAttrData.bg,this._setCursor(0,0);for(let ne=0;ne<this._bufferService.rows;++ne){const de=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+ne);de&&(de.fill(K),de.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(K,ne){const re=this._bufferService.buffer,de=this._optionsService.rawOptions;return(Ue=>(this._coreService.triggerDataEvent(`${h.C0.ESC}${Ue}${h.C0.ESC}\\`),!0))('"q'===K?`P1$r${this._curAttrData.isProtected()?1:0}"q`:'"p'===K?'P1$r61;1"p':"r"===K?`P1$r${re.scrollTop+1};${re.scrollBottom+1}r`:"m"===K?"P1$r0m":" q"===K?`P1$r${{block:2,underline:4,bar:6}[de.cursorStyle]-(de.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(K,ne){this._dirtyRowTracker.markRangeDirty(K,ne)}};let se=class{constructor(ve){this._bufferService=ve,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(ve){ve<this.start?this.start=ve:ve>this.end&&(this.end=ve)}markRangeDirty(ve,K){ve>K&&(J=ve,ve=K,K=J),ve<this.start&&(this.start=ve),K>this.end&&(this.end=K)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function we(ve){return 0<=ve&&ve<256}se=m([w(0,I.IBufferService)],se)},844:(C,c)=>{function v(m){for(const w of m)w.dispose();m.length=0}Object.defineProperty(c,"__esModule",{value:!0}),c.getDisposeArrayDisposable=c.disposeArray=c.toDisposable=c.MutableDisposable=c.Disposable=void 0,c.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const m of this._disposables)m.dispose();this._disposables.length=0}register(m){return this._disposables.push(m),m}unregister(m){const w=this._disposables.indexOf(m);-1!==w&&this._disposables.splice(w,1)}},c.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(m){this._isDisposed||m===this._value||(this._value?.dispose(),this._value=m)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},c.toDisposable=function(m){return{dispose:m}},c.disposeArray=v,c.getDisposeArrayDisposable=function(m){return{dispose:()=>v(m)}}},1505:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FourKeyMap=c.TwoKeyMap=void 0;class v{constructor(){this._data={}}set(w,h,b){this._data[w]||(this._data[w]={}),this._data[w][h]=b}get(w,h){return this._data[w]?this._data[w][h]:void 0}clear(){this._data={}}}c.TwoKeyMap=v,c.FourKeyMap=class{constructor(){this._data=new v}set(m,w,h,b,y){this._data.get(m,w)||this._data.set(m,w,new v),this._data.get(m,w).set(h,b,y)}get(m,w,h,b){return this._data.get(m,w)?.get(h,b)}clear(){this._data.clear()}}},6114:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.isChromeOS=c.isLinux=c.isWindows=c.isIphone=c.isIpad=c.isMac=c.getSafariVersion=c.isSafari=c.isLegacyEdge=c.isFirefox=c.isNode=void 0,c.isNode=typeof process<"u"&&"title"in process;const v=c.isNode?"node":navigator.userAgent,m=c.isNode?"node":navigator.platform;c.isFirefox=v.includes("Firefox"),c.isLegacyEdge=v.includes("Edge"),c.isSafari=/^((?!chrome|android).)*safari/i.test(v),c.getSafariVersion=function(){if(!c.isSafari)return 0;const w=v.match(/Version\/(\d+)/);return null===w||w.length<2?0:parseInt(w[1])},c.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(m),c.isIpad="iPad"===m,c.isIphone="iPhone"===m,c.isWindows=["Windows","Win16","Win32","WinCE"].includes(m),c.isLinux=m.indexOf("Linux")>=0,c.isChromeOS=/\bCrOS\b/.test(v)},6106:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SortedList=void 0;let v=0;c.SortedList=class{constructor(m){this._getKey=m,this._array=[]}clear(){this._array.length=0}insert(m){0!==this._array.length?(v=this._search(this._getKey(m)),this._array.splice(v,0,m)):this._array.push(m)}delete(m){if(0===this._array.length)return!1;const w=this._getKey(m);if(void 0===w||(v=this._search(w),-1===v)||this._getKey(this._array[v])!==w)return!1;do{if(this._array[v]===m)return this._array.splice(v,1),!0}while(++v<this._array.length&&this._getKey(this._array[v])===w);return!1}*getKeyIterator(m){if(0!==this._array.length&&(v=this._search(m),!(v<0||v>=this._array.length)&&this._getKey(this._array[v])===m))do{yield this._array[v]}while(++v<this._array.length&&this._getKey(this._array[v])===m)}forEachByKey(m,w){if(0!==this._array.length&&(v=this._search(m),!(v<0||v>=this._array.length)&&this._getKey(this._array[v])===m))do{w(this._array[v])}while(++v<this._array.length&&this._getKey(this._array[v])===m)}values(){return[...this._array].values()}_search(m){let w=0,h=this._array.length-1;for(;h>=w;){let b=w+h>>1;const y=this._getKey(this._array[b]);if(y>m)h=b-1;else{if(!(y<m)){for(;b>0&&this._getKey(this._array[b-1])===m;)b--;return b}w=b+1}}return w}}},7226:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DebouncedIdleTask=c.IdleTaskQueue=c.PriorityTaskQueue=void 0;const m=v(6114);class w{constructor(){this._tasks=[],this._i=0}enqueue(y){this._tasks.push(y),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(y){this._idleCallback=void 0;let E=0,d=0,s=y.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(E=Date.now(),this._tasks[this._i]()||this._i++,E=Math.max(1,Date.now()-E),d=Math.max(E,d),f=y.timeRemaining(),1.5*d>f)return s-E<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(s-E))}ms`),void this._start();s=f}this.clear()}}class h extends w{_requestCallback(y){return setTimeout(()=>y(this._createDeadline(16)))}_cancelCallback(y){clearTimeout(y)}_createDeadline(y){const E=Date.now()+y;return{timeRemaining:()=>Math.max(0,E-Date.now())}}}c.PriorityTaskQueue=h,c.IdleTaskQueue=!m.isNode&&"requestIdleCallback"in window?class extends w{_requestCallback(b){return requestIdleCallback(b)}_cancelCallback(b){cancelIdleCallback(b)}}:h,c.DebouncedIdleTask=class{constructor(){this._queue=new c.IdleTaskQueue}set(b){this._queue.clear(),this._queue.enqueue(b)}flush(){this._queue.flush()}}},9282:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.updateWindowsModeWrappedState=void 0;const m=v(643);c.updateWindowsModeWrappedState=function(w){const b=w.buffer.lines.get(w.buffer.ybase+w.buffer.y-1)?.get(w.cols-1),y=w.buffer.lines.get(w.buffer.ybase+w.buffer.y);y&&b&&(y.isWrapped=b[m.CHAR_DATA_CODE_INDEX]!==m.NULL_CELL_CODE&&b[m.CHAR_DATA_CODE_INDEX]!==m.WHITESPACE_CELL_CODE)}},3734:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ExtendedAttrs=c.AttributeData=void 0;class v{constructor(){this.fg=0,this.bg=0,this.extended=new m}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new v;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}c.AttributeData=v;class m{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}get underlineVariantOffset(){const h=(3758096384&this._ext)>>29;return h<0?4294967288^h:h}set underlineVariantOffset(h){this._ext&=536870911,this._ext|=h<<29&3758096384}constructor(h=0,b=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=b}clone(){return new m(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}c.ExtendedAttrs=m},9092:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Buffer=c.MAX_BUFFER_SIZE=void 0;const m=v(6349),w=v(7226),h=v(3734),b=v(8437),y=v(4634),E=v(511),d=v(643),s=v(4863),f=v(7116);c.MAX_BUFFER_SIZE=4294967295,c.Buffer=class{constructor(u,p,S){this._hasScrollback=u,this._optionsService=p,this._bufferService=S,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=b.DEFAULT_ATTR_DATA.clone(),this.savedCharset=f.DEFAULT_CHARSET,this.markers=[],this._nullCell=E.CellData.fromCharData([0,d.NULL_CELL_CHAR,d.NULL_CELL_WIDTH,d.NULL_CELL_CODE]),this._whitespaceCell=E.CellData.fromCharData([0,d.WHITESPACE_CELL_CHAR,d.WHITESPACE_CELL_WIDTH,d.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new w.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new m.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(u){return u?(this._nullCell.fg=u.fg,this._nullCell.bg=u.bg,this._nullCell.extended=u.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell}getWhitespaceCell(u){return u?(this._whitespaceCell.fg=u.fg,this._whitespaceCell.bg=u.bg,this._whitespaceCell.extended=u.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell}getBlankLine(u,p){return new b.BufferLine(this._bufferService.cols,this.getNullCell(u),p)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const u=this.ybase+this.y-this.ydisp;return u>=0&&u<this._rows}_getCorrectBufferLength(u){if(!this._hasScrollback)return u;const p=u+this._optionsService.rawOptions.scrollback;return p>c.MAX_BUFFER_SIZE?c.MAX_BUFFER_SIZE:p}fillViewportRows(u){if(0===this.lines.length){void 0===u&&(u=b.DEFAULT_ATTR_DATA);let p=this._rows;for(;p--;)this.lines.push(this.getBlankLine(u))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new m.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(u,p){const S=this.getNullCell(b.DEFAULT_ATTR_DATA);let I=0;const A=this._getCorrectBufferLength(p);if(A>this.lines.maxLength&&(this.lines.maxLength=A),this.lines.length>0){if(this._cols<u)for(let g=0;g<this.lines.length;g++)I+=+this.lines.get(g).resize(u,S);let B=0;if(this._rows<p)for(let g=this._rows;g<p;g++)this.lines.length<p+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new b.BufferLine(u,S)):this.ybase>0&&this.lines.length<=this.ybase+this.y+B+1?(this.ybase--,B++,this.ydisp>0&&this.ydisp--):this.lines.push(new b.BufferLine(u,S)));else for(let g=this._rows;g>p;g--)this.lines.length>p+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(A<this.lines.maxLength){const g=this.lines.length-A;g>0&&(this.lines.trimStart(g),this.ybase=Math.max(this.ybase-g,0),this.ydisp=Math.max(this.ydisp-g,0),this.savedY=Math.max(this.savedY-g,0)),this.lines.maxLength=A}this.x=Math.min(this.x,u-1),this.y=Math.min(this.y,p-1),B&&(this.y+=B),this.savedX=Math.min(this.savedX,u-1),this.scrollTop=0}if(this.scrollBottom=p-1,this._isReflowEnabled&&(this._reflow(u,p),this._cols>u))for(let B=0;B<this.lines.length;B++)I+=+this.lines.get(B).resize(u,S);this._cols=u,this._rows=p,this._memoryCleanupQueue.clear(),I>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let u=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,u=!1);let p=0;for(;this._memoryCleanupPosition<this.lines.length;)if(p+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),p>100)return!0;return u}get _isReflowEnabled(){const u=this._optionsService.rawOptions.windowsPty;return u&&u.buildNumber?this._hasScrollback&&"conpty"===u.backend&&u.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(u,p){this._cols!==u&&(u>this._cols?this._reflowLarger(u,p):this._reflowSmaller(u,p))}_reflowLarger(u,p){const S=(0,y.reflowLargerGetLinesToRemove)(this.lines,this._cols,u,this.ybase+this.y,this.getNullCell(b.DEFAULT_ATTR_DATA));if(S.length>0){const I=(0,y.reflowLargerCreateNewLayout)(this.lines,S);(0,y.reflowLargerApplyNewLayout)(this.lines,I.layout),this._reflowLargerAdjustViewport(u,p,I.countRemoved)}}_reflowLargerAdjustViewport(u,p,S){const I=this.getNullCell(b.DEFAULT_ATTR_DATA);let A=S;for(;A-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<p&&this.lines.push(new b.BufferLine(u,I))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-S,0)}_reflowSmaller(u,p){const S=this.getNullCell(b.DEFAULT_ATTR_DATA),I=[];let A=0;for(let B=this.lines.length-1;B>=0;B--){let g=this.lines.get(B);if(!g||!g.isWrapped&&g.getTrimmedLength()<=u)continue;const x=[g];for(;g.isWrapped&&B>0;)g=this.lines.get(--B),x.unshift(g);const V=this.ybase+this.y;if(V>=B&&V<B+x.length)continue;const k=x[x.length-1].getTrimmedLength(),Y=(0,y.reflowSmallerGetNewLineLengths)(x,this._cols,u),q=Y.length-x.length;let J;J=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+q):Math.max(0,this.lines.length-this.lines.maxLength+q);const ae=[];for(let re=0;re<q;re++){const de=this.getBlankLine(b.DEFAULT_ATTR_DATA,!0);ae.push(de)}ae.length>0&&(I.push({start:B+x.length+A,newLines:ae}),A+=ae.length),x.push(...ae);let se=Y.length-1,we=Y[se];0===we&&(se--,we=Y[se]);let ve=x.length-q-1,K=k;for(;ve>=0;){const re=Math.min(K,we);if(void 0===x[se])break;if(x[se].copyCellsFrom(x[ve],K-re,we-re,re,!0),we-=re,0===we&&(se--,we=Y[se]),K-=re,0===K){ve--;const de=Math.max(ve,0);K=(0,y.getWrappedLineTrimmedLength)(x,de,this._cols)}}for(let re=0;re<x.length;re++)Y[re]<u&&x[re].setCell(Y[re],S);let ne=q-J;for(;ne-- >0;)0===this.ybase?this.y<p-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+A)-p&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+q,this.ybase+p-1)}if(I.length>0){const B=[],g=[];for(let se=0;se<this.lines.length;se++)g.push(this.lines.get(se));const x=this.lines.length;let V=x-1,k=0,Y=I[k];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+A);let q=0;for(let se=Math.min(this.lines.maxLength-1,x+A-1);se>=0;se--)if(Y&&Y.start>V+q){for(let we=Y.newLines.length-1;we>=0;we--)this.lines.set(se--,Y.newLines[we]);se++,B.push({index:V+1,amount:Y.newLines.length}),q+=Y.newLines.length,Y=I[++k]}else this.lines.set(se,g[V--]);let J=0;for(let se=B.length-1;se>=0;se--)B[se].index+=J,this.lines.onInsertEmitter.fire(B[se]),J+=B[se].amount;const ae=Math.max(0,x+A-this.lines.maxLength);ae>0&&this.lines.onTrimEmitter.fire(ae)}}translateBufferLineToString(u,p,S=0,I){const A=this.lines.get(u);return A?A.translateToString(p,S,I):""}getWrappedRangeForLine(u){let p=u,S=u;for(;p>0&&this.lines.get(p).isWrapped;)p--;for(;S+1<this.lines.length&&this.lines.get(S+1).isWrapped;)S++;return{first:p,last:S}}setupTabStops(u){for(null!=u?this.tabs[u]||(u=this.prevStop(u)):(this.tabs={},u=0);u<this._cols;u+=this._optionsService.rawOptions.tabStopWidth)this.tabs[u]=!0}prevStop(u){for(null==u&&(u=this.x);!this.tabs[--u]&&u>0;);return u>=this._cols?this._cols-1:u<0?0:u}nextStop(u){for(null==u&&(u=this.x);!this.tabs[++u]&&u<this._cols;);return u>=this._cols?this._cols-1:u<0?0:u}clearMarkers(u){this._isClearing=!0;for(let p=0;p<this.markers.length;p++)this.markers[p].line===u&&(this.markers[p].dispose(),this.markers.splice(p--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let u=0;u<this.markers.length;u++)this.markers[u].dispose(),this.markers.splice(u--,1);this._isClearing=!1}addMarker(u){const p=new s.Marker(u);return this.markers.push(p),p.register(this.lines.onTrim(S=>{p.line-=S,p.line<0&&p.dispose()})),p.register(this.lines.onInsert(S=>{p.line>=S.index&&(p.line+=S.amount)})),p.register(this.lines.onDelete(S=>{p.line>=S.index&&p.line<S.index+S.amount&&p.dispose(),p.line>S.index&&(p.line-=S.amount)})),p.register(p.onDispose(()=>this._removeMarker(p))),p}_removeMarker(u){this._isClearing||this.markers.splice(this.markers.indexOf(u),1)}}},8437:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferLine=c.DEFAULT_ATTR_DATA=void 0;const m=v(3734),w=v(511),h=v(643),b=v(482);c.DEFAULT_ATTR_DATA=Object.freeze(new m.AttributeData);let y=0;class E{constructor(s,f,u=!1){this.isWrapped=u,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*s);const p=f||w.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]);for(let S=0;S<s;++S)this.setCell(S,p);this.length=s}get(s){const f=this._data[3*s+0],u=2097151&f;return[this._data[3*s+1],2097152&f?this._combined[s]:u?(0,b.stringFromCodePoint)(u):"",f>>22,2097152&f?this._combined[s].charCodeAt(this._combined[s].length-1):u]}set(s,f){this._data[3*s+1]=f[h.CHAR_DATA_ATTR_INDEX],f[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[s]=f[1],this._data[3*s+0]=2097152|s|f[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*s+0]=f[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|f[h.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(s){return this._data[3*s+0]>>22}hasWidth(s){return 12582912&this._data[3*s+0]}getFg(s){return this._data[3*s+1]}getBg(s){return this._data[3*s+2]}hasContent(s){return 4194303&this._data[3*s+0]}getCodePoint(s){const f=this._data[3*s+0];return 2097152&f?this._combined[s].charCodeAt(this._combined[s].length-1):2097151&f}isCombined(s){return 2097152&this._data[3*s+0]}getString(s){const f=this._data[3*s+0];return 2097152&f?this._combined[s]:2097151&f?(0,b.stringFromCodePoint)(2097151&f):""}isProtected(s){return 536870912&this._data[3*s+2]}loadCell(s,f){return y=3*s,f.content=this._data[y+0],f.fg=this._data[y+1],f.bg=this._data[y+2],2097152&f.content&&(f.combinedData=this._combined[s]),268435456&f.bg&&(f.extended=this._extendedAttrs[s]),f}setCell(s,f){2097152&f.content&&(this._combined[s]=f.combinedData),268435456&f.bg&&(this._extendedAttrs[s]=f.extended),this._data[3*s+0]=f.content,this._data[3*s+1]=f.fg,this._data[3*s+2]=f.bg}setCellFromCodepoint(s,f,u,p){268435456&p.bg&&(this._extendedAttrs[s]=p.extended),this._data[3*s+0]=f|u<<22,this._data[3*s+1]=p.fg,this._data[3*s+2]=p.bg}addCodepointToCell(s,f,u){let p=this._data[3*s+0];2097152&p?this._combined[s]+=(0,b.stringFromCodePoint)(f):2097151&p?(this._combined[s]=(0,b.stringFromCodePoint)(2097151&p)+(0,b.stringFromCodePoint)(f),p&=-2097152,p|=2097152):p=4194304|f,u&&(p&=-12582913,p|=u<<22),this._data[3*s+0]=p}insertCells(s,f,u){if((s%=this.length)&&2===this.getWidth(s-1)&&this.setCellFromCodepoint(s-1,0,1,u),f<this.length-s){const p=new w.CellData;for(let S=this.length-s-f-1;S>=0;--S)this.setCell(s+f+S,this.loadCell(s+S,p));for(let S=0;S<f;++S)this.setCell(s+S,u)}else for(let p=s;p<this.length;++p)this.setCell(p,u);2===this.getWidth(this.length-1)&&this.setCellFromCodepoint(this.length-1,0,1,u)}deleteCells(s,f,u){if(f<this.length-(s%=this.length)){const p=new w.CellData;for(let S=0;S<this.length-s-f;++S)this.setCell(s+S,this.loadCell(s+f+S,p));for(let S=this.length-f;S<this.length;++S)this.setCell(S,u)}else for(let p=s;p<this.length;++p)this.setCell(p,u);s&&2===this.getWidth(s-1)&&this.setCellFromCodepoint(s-1,0,1,u),0!==this.getWidth(s)||this.hasContent(s)||this.setCellFromCodepoint(s,0,1,u)}replaceCells(s,f,u,p=!1){if(p)for(s&&2===this.getWidth(s-1)&&!this.isProtected(s-1)&&this.setCellFromCodepoint(s-1,0,1,u),f<this.length&&2===this.getWidth(f-1)&&!this.isProtected(f)&&this.setCellFromCodepoint(f,0,1,u);s<f&&s<this.length;)this.isProtected(s)||this.setCell(s,u),s++;else for(s&&2===this.getWidth(s-1)&&this.setCellFromCodepoint(s-1,0,1,u),f<this.length&&2===this.getWidth(f-1)&&this.setCellFromCodepoint(f,0,1,u);s<f&&s<this.length;)this.setCell(s++,u)}resize(s,f){if(s===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const u=3*s;if(s>this.length){if(this._data.buffer.byteLength>=4*u)this._data=new Uint32Array(this._data.buffer,0,u);else{const p=new Uint32Array(u);p.set(this._data),this._data=p}for(let p=this.length;p<s;++p)this.setCell(p,f)}else{this._data=this._data.subarray(0,u);const p=Object.keys(this._combined);for(let I=0;I<p.length;I++){const A=parseInt(p[I],10);A>=s&&delete this._combined[A]}const S=Object.keys(this._extendedAttrs);for(let I=0;I<S.length;I++){const A=parseInt(S[I],10);A>=s&&delete this._extendedAttrs[A]}}return this.length=s,4*u*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const s=new Uint32Array(this._data.length);return s.set(this._data),this._data=s,1}return 0}fill(s,f=!1){if(f)for(let u=0;u<this.length;++u)this.isProtected(u)||this.setCell(u,s);else{this._combined={},this._extendedAttrs={};for(let u=0;u<this.length;++u)this.setCell(u,s)}}copyFrom(s){this.length!==s.length?this._data=new Uint32Array(s._data):this._data.set(s._data),this.length=s.length,this._combined={};for(const f in s._combined)this._combined[f]=s._combined[f];this._extendedAttrs={};for(const f in s._extendedAttrs)this._extendedAttrs[f]=s._extendedAttrs[f];this.isWrapped=s.isWrapped}clone(){const s=new E(0);s._data=new Uint32Array(this._data),s.length=this.length;for(const f in this._combined)s._combined[f]=this._combined[f];for(const f in this._extendedAttrs)s._extendedAttrs[f]=this._extendedAttrs[f];return s.isWrapped=this.isWrapped,s}getTrimmedLength(){for(let s=this.length-1;s>=0;--s)if(4194303&this._data[3*s+0])return s+(this._data[3*s+0]>>22);return 0}getNoBgTrimmedLength(){for(let s=this.length-1;s>=0;--s)if(4194303&this._data[3*s+0]||50331648&this._data[3*s+2])return s+(this._data[3*s+0]>>22);return 0}copyCellsFrom(s,f,u,p,S){const I=s._data;if(S)for(let B=p-1;B>=0;B--){for(let g=0;g<3;g++)this._data[3*(u+B)+g]=I[3*(f+B)+g];268435456&I[3*(f+B)+2]&&(this._extendedAttrs[u+B]=s._extendedAttrs[f+B])}else for(let B=0;B<p;B++){for(let g=0;g<3;g++)this._data[3*(u+B)+g]=I[3*(f+B)+g];268435456&I[3*(f+B)+2]&&(this._extendedAttrs[u+B]=s._extendedAttrs[f+B])}const A=Object.keys(s._combined);for(let B=0;B<A.length;B++){const g=parseInt(A[B],10);g>=f&&(this._combined[g-f+u]=s._combined[g])}}translateToString(s,f,u,p){f=f??0,u=u??this.length,s&&(u=Math.min(u,this.getTrimmedLength())),p&&(p.length=0);let S="";for(;f<u;){const I=this._data[3*f+0],A=2097151&I,B=2097152&I?this._combined[f]:A?(0,b.stringFromCodePoint)(A):h.WHITESPACE_CELL_CHAR;if(S+=B,p)for(let g=0;g<B.length;++g)p.push(f);f+=I>>22||1}return p&&p.push(f),S}}c.BufferLine=E},4841:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.getRangeLength=void 0,c.getRangeLength=function(v,m){if(v.start.y>v.end.y)throw new Error(`Buffer range end (${v.end.x}, ${v.end.y}) cannot be before start (${v.start.x}, ${v.start.y})`);return m*(v.end.y-v.start.y)+(v.end.x-v.start.x+1)}},4634:(C,c)=>{function v(m,w,h){if(w===m.length-1)return m[w].getTrimmedLength();const b=!m[w].hasContent(h-1)&&1===m[w].getWidth(h-1),y=2===m[w+1].getWidth(0);return b&&y?h-1:h}Object.defineProperty(c,"__esModule",{value:!0}),c.getWrappedLineTrimmedLength=c.reflowSmallerGetNewLineLengths=c.reflowLargerApplyNewLayout=c.reflowLargerCreateNewLayout=c.reflowLargerGetLinesToRemove=void 0,c.reflowLargerGetLinesToRemove=function(m,w,h,b,y){const E=[];for(let d=0;d<m.length-1;d++){let s=d,f=m.get(++s);if(!f.isWrapped)continue;const u=[m.get(d)];for(;s<m.length&&f.isWrapped;)u.push(f),f=m.get(++s);if(b>=d&&b<s){d+=u.length-1;continue}let p=0,S=v(u,p,w),I=1,A=0;for(;I<u.length;){const g=v(u,I,w),k=Math.min(g-A,h-S);u[p].copyCellsFrom(u[I],A,S,k,!1),S+=k,S===h&&(p++,S=0),A+=k,A===g&&(I++,A=0),0===S&&0!==p&&2===u[p-1].getWidth(h-1)&&(u[p].copyCellsFrom(u[p-1],h-1,S++,1,!1),u[p-1].setCell(h-1,y))}u[p].replaceCells(S,h,y);let B=0;for(let g=u.length-1;g>0&&(g>p||0===u[g].getTrimmedLength());g--)B++;B>0&&(E.push(d+u.length-B),E.push(B)),d+=u.length-1}return E},c.reflowLargerCreateNewLayout=function(m,w){const h=[];let b=0,y=w[b],E=0;for(let d=0;d<m.length;d++)if(y===d){const s=w[++b];m.onDeleteEmitter.fire({index:d-E,amount:s}),d+=s-1,E+=s,y=w[++b]}else h.push(d);return{layout:h,countRemoved:E}},c.reflowLargerApplyNewLayout=function(m,w){const h=[];for(let b=0;b<w.length;b++)h.push(m.get(w[b]));for(let b=0;b<h.length;b++)m.set(b,h[b]);m.length=w.length},c.reflowSmallerGetNewLineLengths=function(m,w,h){const b=[],y=m.map((f,u)=>v(m,u,w)).reduce((f,u)=>f+u);let E=0,d=0,s=0;for(;s<y;){if(y-s<h){b.push(y-s);break}E+=h;const f=v(m,d,w);E>f&&(E-=f,d++);const u=2===m[d].getWidth(E-1);u&&E--;const p=u?h-1:h;b.push(p),s+=p}return b},c.getWrappedLineTrimmedLength=v},5295:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferSet=void 0;const m=v(8460),w=v(844),h=v(9092);c.BufferSet=class b extends w.Disposable{constructor(E,d){super(),this._optionsService=E,this._bufferService=d,this._onBufferActivate=this.register(new m.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(E){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(E),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(E,d){this._normal.resize(E,d),this._alt.resize(E,d),this.setupTabStops(E)}setupTabStops(E){this._normal.setupTabStops(E),this._alt.setupTabStops(E)}}},511:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CellData=void 0;const m=v(482),w=v(643),h=v(3734);class b extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(E){const d=new b;return d.setFromCharData(E),d}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,m.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(E){this.fg=E[w.CHAR_DATA_ATTR_INDEX],this.bg=0;let d=!1;if(E[w.CHAR_DATA_CHAR_INDEX].length>2)d=!0;else if(2===E[w.CHAR_DATA_CHAR_INDEX].length){const s=E[w.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=s&&s<=56319){const f=E[w.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(s-55296)+f-56320+65536|E[w.CHAR_DATA_WIDTH_INDEX]<<22:d=!0}else d=!0}else this.content=E[w.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|E[w.CHAR_DATA_WIDTH_INDEX]<<22;d&&(this.combinedData=E[w.CHAR_DATA_CHAR_INDEX],this.content=2097152|E[w.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}c.CellData=b},643:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WHITESPACE_CELL_CODE=c.WHITESPACE_CELL_WIDTH=c.WHITESPACE_CELL_CHAR=c.NULL_CELL_CODE=c.NULL_CELL_WIDTH=c.NULL_CELL_CHAR=c.CHAR_DATA_CODE_INDEX=c.CHAR_DATA_WIDTH_INDEX=c.CHAR_DATA_CHAR_INDEX=c.CHAR_DATA_ATTR_INDEX=c.DEFAULT_EXT=c.DEFAULT_ATTR=c.DEFAULT_COLOR=void 0,c.DEFAULT_COLOR=0,c.DEFAULT_ATTR=256|c.DEFAULT_COLOR<<9,c.DEFAULT_EXT=0,c.CHAR_DATA_ATTR_INDEX=0,c.CHAR_DATA_CHAR_INDEX=1,c.CHAR_DATA_WIDTH_INDEX=2,c.CHAR_DATA_CODE_INDEX=3,c.NULL_CELL_CHAR="",c.NULL_CELL_WIDTH=1,c.NULL_CELL_CODE=0,c.WHITESPACE_CELL_CHAR=" ",c.WHITESPACE_CELL_WIDTH=1,c.WHITESPACE_CELL_CODE=32},4863:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Marker=void 0;const m=v(8460),w=v(844);class h{get id(){return this._id}constructor(y){this.line=y,this.isDisposed=!1,this._disposables=[],this._id=h._nextId++,this._onDispose=this.register(new m.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,w.disposeArray)(this._disposables),this._disposables.length=0)}register(y){return this._disposables.push(y),y}}c.Marker=h,h._nextId=1},7116:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DEFAULT_CHARSET=c.CHARSETS=void 0,c.CHARSETS={},c.DEFAULT_CHARSET=c.CHARSETS.B,c.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},c.CHARSETS.A={"#":"\xa3"},c.CHARSETS.B=void 0,c.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},c.CHARSETS.C=c.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},c.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},c.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},c.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},c.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},c.CHARSETS.E=c.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},c.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},c.CHARSETS.H=c.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},c.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(C,c)=>{var v,m,w,h;Object.defineProperty(c,"__esModule",{value:!0}),c.C1_ESCAPED=c.C1=c.C0=void 0,(h=v||(c.C0=v={})).NUL="\0",h.SOH="\x01",h.STX="\x02",h.ETX="\x03",h.EOT="\x04",h.ENQ="\x05",h.ACK="\x06",h.BEL="\x07",h.BS="\b",h.HT="\t",h.LF="\n",h.VT="\v",h.FF="\f",h.CR="\r",h.SO="\x0e",h.SI="\x0f",h.DLE="\x10",h.DC1="\x11",h.DC2="\x12",h.DC3="\x13",h.DC4="\x14",h.NAK="\x15",h.SYN="\x16",h.ETB="\x17",h.CAN="\x18",h.EM="\x19",h.SUB="\x1a",h.ESC="\x1b",h.FS="\x1c",h.GS="\x1d",h.RS="\x1e",h.US="\x1f",h.SP=" ",h.DEL="\x7f",function(h){h.PAD="\x80",h.HOP="\x81",h.BPH="\x82",h.NBH="\x83",h.IND="\x84",h.NEL="\x85",h.SSA="\x86",h.ESA="\x87",h.HTS="\x88",h.HTJ="\x89",h.VTS="\x8a",h.PLD="\x8b",h.PLU="\x8c",h.RI="\x8d",h.SS2="\x8e",h.SS3="\x8f",h.DCS="\x90",h.PU1="\x91",h.PU2="\x92",h.STS="\x93",h.CCH="\x94",h.MW="\x95",h.SPA="\x96",h.EPA="\x97",h.SOS="\x98",h.SGCI="\x99",h.SCI="\x9a",h.CSI="\x9b",h.ST="\x9c",h.OSC="\x9d",h.PM="\x9e",h.APC="\x9f"}(m||(c.C1=m={})),function(h){h.ST=`${v.ESC}\\`}(w||(c.C1_ESCAPED=w={}))},7399:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.evaluateKeyboardEvent=void 0;const m=v(2584),w={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};c.evaluateKeyboardEvent=function(h,b,y,E){const d={type:0,cancel:!1,key:void 0},s=(h.shiftKey?1:0)|(h.altKey?2:0)|(h.ctrlKey?4:0)|(h.metaKey?8:0);switch(h.keyCode){case 0:"UIKeyInputUpArrow"===h.key?d.key=b?m.C0.ESC+"OA":m.C0.ESC+"[A":"UIKeyInputLeftArrow"===h.key?d.key=b?m.C0.ESC+"OD":m.C0.ESC+"[D":"UIKeyInputRightArrow"===h.key?d.key=b?m.C0.ESC+"OC":m.C0.ESC+"[C":"UIKeyInputDownArrow"===h.key&&(d.key=b?m.C0.ESC+"OB":m.C0.ESC+"[B");break;case 8:d.key=h.ctrlKey?"\b":m.C0.DEL,h.altKey&&(d.key=m.C0.ESC+d.key);break;case 9:if(h.shiftKey){d.key=m.C0.ESC+"[Z";break}d.key=m.C0.HT,d.cancel=!0;break;case 13:d.key=h.altKey?m.C0.ESC+m.C0.CR:m.C0.CR,d.cancel=!0;break;case 27:d.key=m.C0.ESC,h.altKey&&(d.key=m.C0.ESC+m.C0.ESC),d.cancel=!0;break;case 37:if(h.metaKey)break;s?(d.key=m.C0.ESC+"[1;"+(s+1)+"D",d.key===m.C0.ESC+"[1;3D"&&(d.key=m.C0.ESC+(y?"b":"[1;5D"))):d.key=b?m.C0.ESC+"OD":m.C0.ESC+"[D";break;case 39:if(h.metaKey)break;s?(d.key=m.C0.ESC+"[1;"+(s+1)+"C",d.key===m.C0.ESC+"[1;3C"&&(d.key=m.C0.ESC+(y?"f":"[1;5C"))):d.key=b?m.C0.ESC+"OC":m.C0.ESC+"[C";break;case 38:if(h.metaKey)break;s?(d.key=m.C0.ESC+"[1;"+(s+1)+"A",y||d.key!==m.C0.ESC+"[1;3A"||(d.key=m.C0.ESC+"[1;5A")):d.key=b?m.C0.ESC+"OA":m.C0.ESC+"[A";break;case 40:if(h.metaKey)break;s?(d.key=m.C0.ESC+"[1;"+(s+1)+"B",y||d.key!==m.C0.ESC+"[1;3B"||(d.key=m.C0.ESC+"[1;5B")):d.key=b?m.C0.ESC+"OB":m.C0.ESC+"[B";break;case 45:h.shiftKey||h.ctrlKey||(d.key=m.C0.ESC+"[2~");break;case 46:d.key=s?m.C0.ESC+"[3;"+(s+1)+"~":m.C0.ESC+"[3~";break;case 36:d.key=s?m.C0.ESC+"[1;"+(s+1)+"H":b?m.C0.ESC+"OH":m.C0.ESC+"[H";break;case 35:d.key=s?m.C0.ESC+"[1;"+(s+1)+"F":b?m.C0.ESC+"OF":m.C0.ESC+"[F";break;case 33:h.shiftKey?d.type=2:d.key=h.ctrlKey?m.C0.ESC+"[5;"+(s+1)+"~":m.C0.ESC+"[5~";break;case 34:h.shiftKey?d.type=3:d.key=h.ctrlKey?m.C0.ESC+"[6;"+(s+1)+"~":m.C0.ESC+"[6~";break;case 112:d.key=s?m.C0.ESC+"[1;"+(s+1)+"P":m.C0.ESC+"OP";break;case 113:d.key=s?m.C0.ESC+"[1;"+(s+1)+"Q":m.C0.ESC+"OQ";break;case 114:d.key=s?m.C0.ESC+"[1;"+(s+1)+"R":m.C0.ESC+"OR";break;case 115:d.key=s?m.C0.ESC+"[1;"+(s+1)+"S":m.C0.ESC+"OS";break;case 116:d.key=s?m.C0.ESC+"[15;"+(s+1)+"~":m.C0.ESC+"[15~";break;case 117:d.key=s?m.C0.ESC+"[17;"+(s+1)+"~":m.C0.ESC+"[17~";break;case 118:d.key=s?m.C0.ESC+"[18;"+(s+1)+"~":m.C0.ESC+"[18~";break;case 119:d.key=s?m.C0.ESC+"[19;"+(s+1)+"~":m.C0.ESC+"[19~";break;case 120:d.key=s?m.C0.ESC+"[20;"+(s+1)+"~":m.C0.ESC+"[20~";break;case 121:d.key=s?m.C0.ESC+"[21;"+(s+1)+"~":m.C0.ESC+"[21~";break;case 122:d.key=s?m.C0.ESC+"[23;"+(s+1)+"~":m.C0.ESC+"[23~";break;case 123:d.key=s?m.C0.ESC+"[24;"+(s+1)+"~":m.C0.ESC+"[24~";break;default:if(!h.ctrlKey||h.shiftKey||h.altKey||h.metaKey)if(y&&!E||!h.altKey||h.metaKey)!y||h.altKey||h.ctrlKey||h.shiftKey||!h.metaKey?h.key&&!h.ctrlKey&&!h.altKey&&!h.metaKey&&h.keyCode>=48&&1===h.key.length?d.key=h.key:h.key&&h.ctrlKey&&("_"===h.key&&(d.key=m.C0.US),"@"===h.key&&(d.key=m.C0.NUL)):65===h.keyCode&&(d.type=1);else{const u=w[h.keyCode]?.[h.shiftKey?1:0];if(u)d.key=m.C0.ESC+u;else if(h.keyCode>=65&&h.keyCode<=90){let S=String.fromCharCode(h.ctrlKey?h.keyCode-64:h.keyCode+32);h.shiftKey&&(S=S.toUpperCase()),d.key=m.C0.ESC+S}else if(32===h.keyCode)d.key=m.C0.ESC+(h.ctrlKey?m.C0.NUL:" ");else if("Dead"===h.key&&h.code.startsWith("Key")){let p=h.code.slice(3,4);h.shiftKey||(p=p.toLowerCase()),d.key=m.C0.ESC+p,d.cancel=!0}}else h.keyCode>=65&&h.keyCode<=90?d.key=String.fromCharCode(h.keyCode-64):32===h.keyCode?d.key=m.C0.NUL:h.keyCode>=51&&h.keyCode<=55?d.key=String.fromCharCode(h.keyCode-51+27):56===h.keyCode?d.key=m.C0.DEL:219===h.keyCode?d.key=m.C0.ESC:220===h.keyCode?d.key=m.C0.FS:221===h.keyCode&&(d.key=m.C0.GS)}return d}},482:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Utf8ToUtf32=c.StringToUtf32=c.utf32ToString=c.stringFromCodePoint=void 0,c.stringFromCodePoint=function(v){return v>65535?(v-=65536,String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):String.fromCharCode(v)},c.utf32ToString=function(v,m=0,w=v.length){let h="";for(let b=m;b<w;++b){let y=v[b];y>65535?(y-=65536,h+=String.fromCharCode(55296+(y>>10))+String.fromCharCode(y%1024+56320)):h+=String.fromCharCode(y)}return h},c.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(v,m){const w=v.length;if(!w)return 0;let h=0,b=0;if(this._interim){const y=v.charCodeAt(b++);56320<=y&&y<=57343?m[h++]=1024*(this._interim-55296)+y-56320+65536:(m[h++]=this._interim,m[h++]=y),this._interim=0}for(let y=b;y<w;++y){const E=v.charCodeAt(y);if(55296<=E&&E<=56319){if(++y>=w)return this._interim=E,h;const d=v.charCodeAt(y);56320<=d&&d<=57343?m[h++]=1024*(E-55296)+d-56320+65536:(m[h++]=E,m[h++]=d)}else 65279!==E&&(m[h++]=E)}return h}},c.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(v,m){const w=v.length;if(!w)return 0;let h,b,y,E,d=0,s=0,f=0;if(this.interim[0]){let S=!1,I=this.interim[0];I&=192==(224&I)?31:224==(240&I)?15:7;let A,B=0;for(;(A=63&this.interim[++B])&&B<4;)I<<=6,I|=A;const g=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,x=g-B;for(;f<x;){if(f>=w)return 0;if(A=v[f++],128!=(192&A)){f--,S=!0;break}this.interim[B++]=A,I<<=6,I|=63&A}S||(2===g?I<128?f--:m[d++]=I:3===g?I<2048||I>=55296&&I<=57343||65279===I||(m[d++]=I):I<65536||I>1114111||(m[d++]=I)),this.interim.fill(0)}const u=w-4;let p=f;for(;p<w;){for(;!(!(p<u)||128&(h=v[p])||128&(b=v[p+1])||128&(y=v[p+2])||128&(E=v[p+3]));)m[d++]=h,m[d++]=b,m[d++]=y,m[d++]=E,p+=4;if(h=v[p++],h<128)m[d++]=h;else if(192==(224&h)){if(p>=w)return this.interim[0]=h,d;if(b=v[p++],128!=(192&b)){p--;continue}if(s=(31&h)<<6|63&b,s<128){p--;continue}m[d++]=s}else if(224==(240&h)){if(p>=w)return this.interim[0]=h,d;if(b=v[p++],128!=(192&b)){p--;continue}if(p>=w)return this.interim[0]=h,this.interim[1]=b,d;if(y=v[p++],128!=(192&y)){p--;continue}if(s=(15&h)<<12|(63&b)<<6|63&y,s<2048||s>=55296&&s<=57343||65279===s)continue;m[d++]=s}else if(240==(248&h)){if(p>=w)return this.interim[0]=h,d;if(b=v[p++],128!=(192&b)){p--;continue}if(p>=w)return this.interim[0]=h,this.interim[1]=b,d;if(y=v[p++],128!=(192&y)){p--;continue}if(p>=w)return this.interim[0]=h,this.interim[1]=b,this.interim[2]=y,d;if(E=v[p++],128!=(192&E)){p--;continue}if(s=(7&h)<<18|(63&b)<<12|(63&y)<<6|63&E,s<65536||s>1114111)continue;m[d++]=s}}return d}}},225:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.UnicodeV6=void 0;const m=v(1480),w=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let b;c.UnicodeV6=class{constructor(){if(this.version="6",!b){b=new Uint8Array(65536),b.fill(1),b[0]=0,b.fill(0,1,32),b.fill(0,127,160),b.fill(2,4352,4448),b[9001]=2,b[9002]=2,b.fill(2,11904,42192),b[12351]=1,b.fill(2,44032,55204),b.fill(2,63744,64256),b.fill(2,65040,65050),b.fill(2,65072,65136),b.fill(2,65280,65377),b.fill(2,65504,65511);for(let y=0;y<w.length;++y)b.fill(0,w[y][0],w[y][1]+1)}}wcwidth(y){return y<32?0:y<127?1:y<65536?b[y]:function(E,d){let s,f=0,u=d.length-1;if(E<d[0][0]||E>d[u][1])return!1;for(;u>=f;)if(s=f+u>>1,E>d[s][1])f=s+1;else{if(!(E<d[s][0]))return!0;u=s-1}return!1}(y,h)?0:y>=131072&&y<=196605||y>=196608&&y<=262141?2:1}charProperties(y,E){let d=this.wcwidth(y),s=0===d&&0!==E;if(s){const f=m.UnicodeService.extractWidth(E);0===f?s=!1:f>d&&(d=f)}return m.UnicodeService.createPropertyValue(0,d,s)}}},5981:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WriteBuffer=void 0;const m=v(8460),w=v(844);c.WriteBuffer=class h extends w.Disposable{constructor(y){super(),this._action=y,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new m.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(y,E){if(void 0!==E&&this._syncCalls>E)return void(this._syncCalls=0);if(this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let d;for(this._isSyncWriting=!0;d=this._writeBuffer.shift();){this._action(d);const s=this._callbacks.shift();s&&s()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(y,E){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(E),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(E)}_innerWrite(y=0,E=!0){const d=y||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const s=this._writeBuffer[this._bufferOffset],f=this._action(s,E);if(f){const p=S=>Date.now()-d>=12?setTimeout(()=>this._innerWrite(0,S)):this._innerWrite(d,S);return void f.catch(S=>(queueMicrotask(()=>{throw S}),Promise.resolve(!1))).then(p)}const u=this._callbacks[this._bufferOffset];if(u&&u(),this._bufferOffset++,this._pendingData-=s.length,Date.now()-d>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.toRgbString=c.parseColor=void 0;const v=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,m=/^[\da-f]+$/;function w(h,b){const y=h.toString(16),E=y.length<2?"0"+y:y;switch(b){case 4:return y[0];case 8:return E;case 12:return(E+E).slice(0,3);default:return E+E}}c.parseColor=function(h){if(!h)return;let b=h.toLowerCase();if(0===b.indexOf("rgb:")){b=b.slice(4);const y=v.exec(b);if(y){const E=y[1]?15:y[4]?255:y[7]?4095:65535;return[Math.round(parseInt(y[1]||y[4]||y[7]||y[10],16)/E*255),Math.round(parseInt(y[2]||y[5]||y[8]||y[11],16)/E*255),Math.round(parseInt(y[3]||y[6]||y[9]||y[12],16)/E*255)]}}else if(0===b.indexOf("#")&&(b=b.slice(1),m.exec(b)&&[3,6,9,12].includes(b.length))){const y=b.length/3,E=[0,0,0];for(let d=0;d<3;++d){const s=parseInt(b.slice(y*d,y*d+y),16);E[d]=1===y?s<<4:2===y?s:3===y?s>>4:s>>8}return E}},c.toRgbString=function(h,b=16){const[y,E,d]=h;return`rgb:${w(y,b)}/${w(E,b)}/${w(d,b)}`}},5770:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PAYLOAD_LIMIT=void 0,c.PAYLOAD_LIMIT=1e7},6351:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DcsHandler=c.DcsParser=void 0;const m=v(482),w=v(8742),h=v(5770),b=[];c.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=b,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=b}registerHandler(E,d){void 0===this._handlers[E]&&(this._handlers[E]=[]);const s=this._handlers[E];return s.push(d),{dispose:()=>{const f=s.indexOf(d);-1!==f&&s.splice(f,1)}}}clearHandler(E){this._handlers[E]&&delete this._handlers[E]}setHandlerFallback(E){this._handlerFb=E}reset(){if(this._active.length)for(let E=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;E>=0;--E)this._active[E].unhook(!1);this._stack.paused=!1,this._active=b,this._ident=0}hook(E,d){if(this.reset(),this._ident=E,this._active=this._handlers[E]||b,this._active.length)for(let s=this._active.length-1;s>=0;s--)this._active[s].hook(d);else this._handlerFb(this._ident,"HOOK",d)}put(E,d,s){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(E,d,s);else this._handlerFb(this._ident,"PUT",(0,m.utf32ToString)(E,d,s))}unhook(E,d=!0){if(this._active.length){let s=!1,f=this._active.length-1,u=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,s=d,u=this._stack.fallThrough,this._stack.paused=!1),!u&&!1===s){for(;f>=0&&(s=this._active[f].unhook(E),!0!==s);f--)if(s instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,s;f--}for(;f>=0;f--)if(s=this._active[f].unhook(!1),s instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,s}else this._handlerFb(this._ident,"UNHOOK",E);this._active=b,this._ident=0}};const y=new w.Params;y.addParam(0),c.DcsHandler=class{constructor(E){this._handler=E,this._data="",this._params=y,this._hitLimit=!1}hook(E){this._params=E.length>1||E.params[0]?E.clone():y,this._data="",this._hitLimit=!1}put(E,d,s){this._hitLimit||(this._data+=(0,m.utf32ToString)(E,d,s),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(E){let d=!1;if(this._hitLimit)d=!1;else if(E&&(d=this._handler(this._data,this._params),d instanceof Promise))return d.then(s=>(this._params=y,this._data="",this._hitLimit=!1,s));return this._params=y,this._data="",this._hitLimit=!1,d}}},2015:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.EscapeSequenceParser=c.VT500_TRANSITION_TABLE=c.TransitionTable=void 0;const m=v(844),w=v(8742),h=v(6242),b=v(6351);class y{constructor(f){this.table=new Uint8Array(f)}setDefault(f,u){this.table.fill(f<<4|u)}add(f,u,p,S){this.table[u<<8|f]=p<<4|S}addMany(f,u,p,S){for(let I=0;I<f.length;I++)this.table[u<<8|f[I]]=p<<4|S}}c.TransitionTable=y;const E=160;c.VT500_TRANSITION_TABLE=function(){const s=new y(4095),f=Array.apply(null,Array(256)).map((B,g)=>g),u=(B,g)=>f.slice(B,g),p=u(32,127),S=u(0,24);S.push(25),S.push.apply(S,u(28,32));const I=u(0,14);let A;for(A in s.setDefault(1,0),s.addMany(p,0,2,0),I)s.addMany([24,26,153,154],A,3,0),s.addMany(u(128,144),A,3,0),s.addMany(u(144,152),A,3,0),s.add(156,A,0,0),s.add(27,A,11,1),s.add(157,A,4,8),s.addMany([152,158,159],A,0,7),s.add(155,A,11,3),s.add(144,A,11,9);return s.addMany(S,0,3,0),s.addMany(S,1,3,1),s.add(127,1,0,1),s.addMany(S,8,0,8),s.addMany(S,3,3,3),s.add(127,3,0,3),s.addMany(S,4,3,4),s.add(127,4,0,4),s.addMany(S,6,3,6),s.addMany(S,5,3,5),s.add(127,5,0,5),s.addMany(S,2,3,2),s.add(127,2,0,2),s.add(93,1,4,8),s.addMany(p,8,5,8),s.add(127,8,5,8),s.addMany([156,27,24,26,7],8,6,0),s.addMany(u(28,32),8,0,8),s.addMany([88,94,95],1,0,7),s.addMany(p,7,0,7),s.addMany(S,7,0,7),s.add(156,7,0,0),s.add(127,7,0,7),s.add(91,1,11,3),s.addMany(u(64,127),3,7,0),s.addMany(u(48,60),3,8,4),s.addMany([60,61,62,63],3,9,4),s.addMany(u(48,60),4,8,4),s.addMany(u(64,127),4,7,0),s.addMany([60,61,62,63],4,0,6),s.addMany(u(32,64),6,0,6),s.add(127,6,0,6),s.addMany(u(64,127),6,0,0),s.addMany(u(32,48),3,9,5),s.addMany(u(32,48),5,9,5),s.addMany(u(48,64),5,0,6),s.addMany(u(64,127),5,7,0),s.addMany(u(32,48),4,9,5),s.addMany(u(32,48),1,9,2),s.addMany(u(32,48),2,9,2),s.addMany(u(48,127),2,10,0),s.addMany(u(48,80),1,10,0),s.addMany(u(81,88),1,10,0),s.addMany([89,90,92],1,10,0),s.addMany(u(96,127),1,10,0),s.add(80,1,11,9),s.addMany(S,9,0,9),s.add(127,9,0,9),s.addMany(u(28,32),9,0,9),s.addMany(u(32,48),9,9,12),s.addMany(u(48,60),9,8,10),s.addMany([60,61,62,63],9,9,10),s.addMany(S,11,0,11),s.addMany(u(32,128),11,0,11),s.addMany(u(28,32),11,0,11),s.addMany(S,10,0,10),s.add(127,10,0,10),s.addMany(u(28,32),10,0,10),s.addMany(u(48,60),10,8,10),s.addMany([60,61,62,63],10,0,11),s.addMany(u(32,48),10,9,12),s.addMany(S,12,0,12),s.add(127,12,0,12),s.addMany(u(28,32),12,0,12),s.addMany(u(32,48),12,9,12),s.addMany(u(48,64),12,0,11),s.addMany(u(64,127),12,12,13),s.addMany(u(64,127),10,12,13),s.addMany(u(64,127),9,12,13),s.addMany(S,13,13,13),s.addMany(p,13,13,13),s.add(127,13,0,13),s.addMany([27,156,24,26],13,14,0),s.add(E,0,2,0),s.add(E,8,5,8),s.add(E,6,0,6),s.add(E,11,0,11),s.add(E,13,13,13),s}(),c.EscapeSequenceParser=class d extends m.Disposable{constructor(f=c.VT500_TRANSITION_TABLE){super(),this._transitions=f,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new w.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(u,p,S)=>{},this._executeHandlerFb=u=>{},this._csiHandlerFb=(u,p)=>{},this._escHandlerFb=u=>{},this._errorHandlerFb=u=>u,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,m.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new h.OscParser),this._dcsParser=this.register(new b.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(f,u=[64,126]){let p=0;if(f.prefix){if(f.prefix.length>1)throw new Error("only one byte as prefix supported");if(p=f.prefix.charCodeAt(0),p&&60>p||p>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(f.intermediates){if(f.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let I=0;I<f.intermediates.length;++I){const A=f.intermediates.charCodeAt(I);if(32>A||A>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");p<<=8,p|=A}}if(1!==f.final.length)throw new Error("final must be a single byte");const S=f.final.charCodeAt(0);if(u[0]>S||S>u[1])throw new Error(`final must be in range ${u[0]} .. ${u[1]}`);return p<<=8,p|=S,p}identToString(f){const u=[];for(;f;)u.push(String.fromCharCode(255&f)),f>>=8;return u.reverse().join("")}setPrintHandler(f){this._printHandler=f}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(f,u){const p=this._identifier(f,[48,126]);void 0===this._escHandlers[p]&&(this._escHandlers[p]=[]);const S=this._escHandlers[p];return S.push(u),{dispose:()=>{const I=S.indexOf(u);-1!==I&&S.splice(I,1)}}}clearEscHandler(f){this._escHandlers[this._identifier(f,[48,126])]&&delete this._escHandlers[this._identifier(f,[48,126])]}setEscHandlerFallback(f){this._escHandlerFb=f}setExecuteHandler(f,u){this._executeHandlers[f.charCodeAt(0)]=u}clearExecuteHandler(f){this._executeHandlers[f.charCodeAt(0)]&&delete this._executeHandlers[f.charCodeAt(0)]}setExecuteHandlerFallback(f){this._executeHandlerFb=f}registerCsiHandler(f,u){const p=this._identifier(f);void 0===this._csiHandlers[p]&&(this._csiHandlers[p]=[]);const S=this._csiHandlers[p];return S.push(u),{dispose:()=>{const I=S.indexOf(u);-1!==I&&S.splice(I,1)}}}clearCsiHandler(f){this._csiHandlers[this._identifier(f)]&&delete this._csiHandlers[this._identifier(f)]}setCsiHandlerFallback(f){this._csiHandlerFb=f}registerDcsHandler(f,u){return this._dcsParser.registerHandler(this._identifier(f),u)}clearDcsHandler(f){this._dcsParser.clearHandler(this._identifier(f))}setDcsHandlerFallback(f){this._dcsParser.setHandlerFallback(f)}registerOscHandler(f,u){return this._oscParser.registerHandler(f,u)}clearOscHandler(f){this._oscParser.clearHandler(f)}setOscHandlerFallback(f){this._oscParser.setHandlerFallback(f)}setErrorHandler(f){this._errorHandler=f}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(f,u,p,S,I){this._parseStack.state=f,this._parseStack.handlers=u,this._parseStack.handlerPos=p,this._parseStack.transition=S,this._parseStack.chunkPos=I}parse(f,u,p){let S,I=0,A=0,B=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,B=this._parseStack.chunkPos+1;else{if(void 0===p||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const g=this._parseStack.handlers;let x=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===p&&x>-1)for(;x>=0&&(S=g[x](this._params),!0!==S);x--)if(S instanceof Promise)return this._parseStack.handlerPos=x,S;this._parseStack.handlers=[];break;case 4:if(!1===p&&x>-1)for(;x>=0&&(S=g[x](),!0!==S);x--)if(S instanceof Promise)return this._parseStack.handlerPos=x,S;this._parseStack.handlers=[];break;case 6:if(I=f[this._parseStack.chunkPos],S=this._dcsParser.unhook(24!==I&&26!==I,p),S)return S;27===I&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(I=f[this._parseStack.chunkPos],S=this._oscParser.end(24!==I&&26!==I,p),S)return S;27===I&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,B=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let g=B;g<u;++g){switch(I=f[g],A=this._transitions.table[this.currentState<<8|(I<160?I:E)],A>>4){case 2:for(let q=g+1;;++q){if(q>=u||(I=f[q])<32||I>126&&I<E){this._printHandler(f,g,q),g=q-1;break}if(++q>=u||(I=f[q])<32||I>126&&I<E){this._printHandler(f,g,q),g=q-1;break}if(++q>=u||(I=f[q])<32||I>126&&I<E){this._printHandler(f,g,q),g=q-1;break}if(++q>=u||(I=f[q])<32||I>126&&I<E){this._printHandler(f,g,q),g=q-1;break}}break;case 3:this._executeHandlers[I]?this._executeHandlers[I]():this._executeHandlerFb(I),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:g,code:I,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const x=this._csiHandlers[this._collect<<8|I];let V=x?x.length-1:-1;for(;V>=0&&(S=x[V](this._params),!0!==S);V--)if(S instanceof Promise)return this._preserveStack(3,x,V,A,g),S;V<0&&this._csiHandlerFb(this._collect<<8|I,this._params),this.precedingJoinState=0;break;case 8:do{switch(I){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(I-48)}}while(++g<u&&(I=f[g])>47&&I<60);g--;break;case 9:this._collect<<=8,this._collect|=I;break;case 10:const k=this._escHandlers[this._collect<<8|I];let Y=k?k.length-1:-1;for(;Y>=0&&(S=k[Y](),!0!==S);Y--)if(S instanceof Promise)return this._preserveStack(4,k,Y,A,g),S;Y<0&&this._escHandlerFb(this._collect<<8|I),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|I,this._params);break;case 13:for(let q=g+1;;++q)if(q>=u||24===(I=f[q])||26===I||27===I||I>127&&I<E){this._dcsParser.put(f,g,q),g=q-1;break}break;case 14:if(S=this._dcsParser.unhook(24!==I&&26!==I),S)return this._preserveStack(6,[],0,A,g),S;27===I&&(A|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let q=g+1;;q++)if(q>=u||(I=f[q])<32||I>127&&I<E){this._oscParser.put(f,g,q),g=q-1;break}break;case 6:if(S=this._oscParser.end(24!==I&&26!==I),S)return this._preserveStack(5,[],0,A,g),S;27===I&&(A|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&A}}}},6242:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.OscHandler=c.OscParser=void 0;const m=v(5770),w=v(482),h=[];c.OscParser=class{constructor(){this._state=0,this._active=h,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(b,y){void 0===this._handlers[b]&&(this._handlers[b]=[]);const E=this._handlers[b];return E.push(y),{dispose:()=>{const d=E.indexOf(y);-1!==d&&E.splice(d,1)}}}clearHandler(b){this._handlers[b]&&delete this._handlers[b]}setHandlerFallback(b){this._handlerFb=b}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}reset(){if(2===this._state)for(let b=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;b>=0;--b)this._active[b].end(!1);this._stack.paused=!1,this._active=h,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||h,this._active.length)for(let b=this._active.length-1;b>=0;b--)this._active[b].start();else this._handlerFb(this._id,"START")}_put(b,y,E){if(this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].put(b,y,E);else this._handlerFb(this._id,"PUT",(0,w.utf32ToString)(b,y,E))}start(){this.reset(),this._state=1}put(b,y,E){if(3!==this._state){if(1===this._state)for(;y<E;){const d=b[y++];if(59===d){this._state=2,this._start();break}if(d<48||57<d)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+d-48}2===this._state&&E-y>0&&this._put(b,y,E)}}end(b,y=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let E=!1,d=this._active.length-1,s=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,E=y,s=this._stack.fallThrough,this._stack.paused=!1),!s&&!1===E){for(;d>=0&&(E=this._active[d].end(b),!0!==E);d--)if(E instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,E;d--}for(;d>=0;d--)if(E=this._active[d].end(!1),E instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,E}else this._handlerFb(this._id,"END",b);this._active=h,this._id=-1,this._state=0}}},c.OscHandler=class{constructor(b){this._handler=b,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(b,y,E){this._hitLimit||(this._data+=(0,w.utf32ToString)(b,y,E),this._data.length>m.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(b){let y=!1;if(this._hitLimit)y=!1;else if(b&&(y=this._handler(this._data),y instanceof Promise))return y.then(E=>(this._data="",this._hitLimit=!1,E));return this._data="",this._hitLimit=!1,y}}},8742:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Params=void 0;const v=2147483647;class m{static fromArray(h){const b=new m;if(!h.length)return b;for(let y=Array.isArray(h[0])?1:0;y<h.length;++y){const E=h[y];if(Array.isArray(E))for(let d=0;d<E.length;++d)b.addSubParam(E[d]);else b.addParam(E)}return b}constructor(h=32,b=32){if(this.maxLength=h,this.maxSubParamsLength=b,b>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(h),this.length=0,this._subParams=new Int32Array(b),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(h),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const h=new m(this.maxLength,this.maxSubParamsLength);return h.params.set(this.params),h.length=this.length,h._subParams.set(this._subParams),h._subParamsLength=this._subParamsLength,h._subParamsIdx.set(this._subParamsIdx),h._rejectDigits=this._rejectDigits,h._rejectSubDigits=this._rejectSubDigits,h._digitIsSub=this._digitIsSub,h}toArray(){const h=[];for(let b=0;b<this.length;++b){h.push(this.params[b]);const y=this._subParamsIdx[b]>>8,E=255&this._subParamsIdx[b];E-y>0&&h.push(Array.prototype.slice.call(this._subParams,y,E))}return h}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(h){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=h>v?v:h}}addSubParam(h){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=h>v?v:h,this._subParamsIdx[this.length-1]++}}hasSubParams(h){return(255&this._subParamsIdx[h])-(this._subParamsIdx[h]>>8)>0}getSubParams(h){const b=this._subParamsIdx[h]>>8,y=255&this._subParamsIdx[h];return y-b>0?this._subParams.subarray(b,y):null}getSubParamsAll(){const h={};for(let b=0;b<this.length;++b){const y=this._subParamsIdx[b]>>8,E=255&this._subParamsIdx[b];E-y>0&&(h[b]=this._subParams.slice(y,E))}return h}addDigit(h){let b;if(this._rejectDigits||!(b=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const y=this._digitIsSub?this._subParams:this.params,E=y[b-1];y[b-1]=~E?Math.min(10*E+h,v):h}}c.Params=m},5741:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AddonManager=void 0,c.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let v=this._addons.length-1;v>=0;v--)this._addons[v].instance.dispose()}loadAddon(v,m){const w={instance:m,dispose:m.dispose,isDisposed:!1};this._addons.push(w),m.dispose=()=>this._wrappedAddonDispose(w),m.activate(v)}_wrappedAddonDispose(v){if(v.isDisposed)return;let m=-1;for(let w=0;w<this._addons.length;w++)if(this._addons[w]===v){m=w;break}if(-1===m)throw new Error("Could not dispose an addon that has not been loaded");v.isDisposed=!0,v.dispose.apply(v.instance),this._addons.splice(m,1)}}},8771:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferApiView=void 0;const m=v(3785),w=v(511);c.BufferApiView=class{constructor(h,b){this._buffer=h,this.type=b}init(h){return this._buffer=h,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(h){const b=this._buffer.lines.get(h);if(b)return new m.BufferLineApiView(b)}getNullCell(){return new w.CellData}}},3785:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferLineApiView=void 0;const m=v(511);c.BufferLineApiView=class{constructor(w){this._line=w}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(w,h){if(!(w<0||w>=this._line.length))return h?(this._line.loadCell(w,h),h):this._line.loadCell(w,new m.CellData)}translateToString(w,h,b){return this._line.translateToString(w,h,b)}}},8285:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferNamespaceApi=void 0;const m=v(8771),w=v(8460),h=v(844);c.BufferNamespaceApi=class b extends h.Disposable{constructor(E){super(),this._core=E,this._onBufferChange=this.register(new w.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new m.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new m.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ParserApi=void 0,c.ParserApi=class{constructor(v){this._core=v}registerCsiHandler(v,m){return this._core.registerCsiHandler(v,w=>m(w.toArray()))}addCsiHandler(v,m){return this.registerCsiHandler(v,m)}registerDcsHandler(v,m){return this._core.registerDcsHandler(v,(w,h)=>m(w,h.toArray()))}addDcsHandler(v,m){return this.registerDcsHandler(v,m)}registerEscHandler(v,m){return this._core.registerEscHandler(v,m)}addEscHandler(v,m){return this.registerEscHandler(v,m)}registerOscHandler(v,m){return this._core.registerOscHandler(v,m)}addOscHandler(v,m){return this.registerOscHandler(v,m)}}},7090:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.UnicodeApi=void 0,c.UnicodeApi=class{constructor(v){this._core=v}register(v){this._core.unicodeService.register(v)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(v){this._core.unicodeService.activeVersion=v}}},744:function(C,c,v){var m=this&&this.__decorate||function(s,f,u,p){var S,I=arguments.length,A=I<3?f:null===p?p=Object.getOwnPropertyDescriptor(f,u):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(s,f,u,p);else for(var B=s.length-1;B>=0;B--)(S=s[B])&&(A=(I<3?S(A):I>3?S(f,u,A):S(f,u))||A);return I>3&&A&&Object.defineProperty(f,u,A),A},w=this&&this.__param||function(s,f){return function(u,p){f(u,p,s)}};Object.defineProperty(c,"__esModule",{value:!0}),c.BufferService=c.MINIMUM_ROWS=c.MINIMUM_COLS=void 0;const h=v(8460),b=v(844),y=v(5295),E=v(2585);c.MINIMUM_COLS=2,c.MINIMUM_ROWS=1;let d=c.BufferService=class extends b.Disposable{get buffer(){return this.buffers.active}constructor(s){super(),this.isUserScrolling=!1,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(s.rawOptions.cols||0,c.MINIMUM_COLS),this.rows=Math.max(s.rawOptions.rows||0,c.MINIMUM_ROWS),this.buffers=this.register(new y.BufferSet(s,this))}resize(s,f){this.cols=s,this.rows=f,this.buffers.resize(s,f),this._onResize.fire({cols:s,rows:f})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(s,f=!1){const u=this.buffer;let p;p=this._cachedBlankLine,p&&p.length===this.cols&&p.getFg(0)===s.fg&&p.getBg(0)===s.bg||(p=u.getBlankLine(s,f),this._cachedBlankLine=p),p.isWrapped=f;const S=u.ybase+u.scrollTop,I=u.ybase+u.scrollBottom;if(0===u.scrollTop){const A=u.lines.isFull;I===u.lines.length-1?A?u.lines.recycle().copyFrom(p):u.lines.push(p.clone()):u.lines.splice(I+1,0,p.clone()),A?this.isUserScrolling&&(u.ydisp=Math.max(u.ydisp-1,0)):(u.ybase++,this.isUserScrolling||u.ydisp++)}else u.lines.shiftElements(S+1,I-S+1-1,-1),u.lines.set(I,p.clone());this.isUserScrolling||(u.ydisp=u.ybase),this._onScroll.fire(u.ydisp)}scrollLines(s,f,u){const p=this.buffer;if(s<0){if(0===p.ydisp)return;this.isUserScrolling=!0}else s+p.ydisp>=p.ybase&&(this.isUserScrolling=!1);const S=p.ydisp;p.ydisp=Math.max(Math.min(p.ydisp+s,p.ybase),0),S!==p.ydisp&&(f||this._onScroll.fire(p.ydisp))}};c.BufferService=d=m([w(0,E.IOptionsService)],d)},7994:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CharsetService=void 0,c.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(v){this.glevel=v,this.charset=this._charsets[v]}setgCharset(v,m){this._charsets[v]=m,this.glevel===v&&(this.charset=m)}}},1753:function(C,c,v){var m=this&&this.__decorate||function(p,S,I,A){var B,g=arguments.length,x=g<3?S:null===A?A=Object.getOwnPropertyDescriptor(S,I):A;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(p,S,I,A);else for(var V=p.length-1;V>=0;V--)(B=p[V])&&(x=(g<3?B(x):g>3?B(S,I,x):B(S,I))||x);return g>3&&x&&Object.defineProperty(S,I,x),x},w=this&&this.__param||function(p,S){return function(I,A){S(I,A,p)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CoreMouseService=void 0;const h=v(2585),b=v(8460),y=v(844),E={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:p=>4!==p.button&&1===p.action&&(p.ctrl=!1,p.alt=!1,p.shift=!1,!0)},VT200:{events:19,restrict:p=>32!==p.action},DRAG:{events:23,restrict:p=>32!==p.action||3!==p.button},ANY:{events:31,restrict:p=>!0}};function d(p,S){let I=(p.ctrl?16:0)|(p.shift?4:0)|(p.alt?8:0);return 4===p.button?(I|=64,I|=p.action):(I|=3&p.button,4&p.button&&(I|=64),8&p.button&&(I|=128),32===p.action?I|=32:0!==p.action||S||(I|=3)),I}const s=String.fromCharCode,f={DEFAULT:p=>{const S=[d(p,!1)+32,p.col+32,p.row+32];return S[0]>255||S[1]>255||S[2]>255?"":`\x1b[M${s(S[0])}${s(S[1])}${s(S[2])}`},SGR:p=>{const S=0===p.action&&4!==p.button?"m":"M";return`\x1b[<${d(p,!0)};${p.col};${p.row}${S}`},SGR_PIXELS:p=>{const S=0===p.action&&4!==p.button?"m":"M";return`\x1b[<${d(p,!0)};${p.x};${p.y}${S}`}};let u=c.CoreMouseService=class extends y.Disposable{constructor(p,S){super(),this._bufferService=p,this._coreService=S,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new b.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const I of Object.keys(E))this.addProtocol(I,E[I]);for(const I of Object.keys(f))this.addEncoding(I,f[I]);this.reset()}addProtocol(p,S){this._protocols[p]=S}addEncoding(p,S){this._encodings[p]=S}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(p){if(!this._protocols[p])throw new Error(`unknown protocol "${p}"`);this._activeProtocol=p,this._onProtocolChange.fire(this._protocols[p].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(p){if(!this._encodings[p])throw new Error(`unknown encoding "${p}"`);this._activeEncoding=p}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(p){if(p.col<0||p.col>=this._bufferService.cols||p.row<0||p.row>=this._bufferService.rows||4===p.button&&32===p.action||3===p.button&&32!==p.action||4!==p.button&&(2===p.action||3===p.action)||(p.col++,p.row++,32===p.action&&this._lastEvent&&this._equalEvents(this._lastEvent,p,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(p))return!1;const S=this._encodings[this._activeEncoding](p);return S&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(S):this._coreService.triggerDataEvent(S,!0)),this._lastEvent=p,!0}explainEvents(p){return{down:!!(1&p),up:!!(2&p),drag:!!(4&p),move:!!(8&p),wheel:!!(16&p)}}_equalEvents(p,S,I){if(I){if(p.x!==S.x||p.y!==S.y)return!1}else if(p.col!==S.col||p.row!==S.row)return!1;return p.button===S.button&&p.action===S.action&&p.ctrl===S.ctrl&&p.alt===S.alt&&p.shift===S.shift}};c.CoreMouseService=u=m([w(0,h.IBufferService),w(1,h.ICoreService)],u)},6975:function(C,c,v){var m=this&&this.__decorate||function(u,p,S,I){var A,B=arguments.length,g=B<3?p:null===I?I=Object.getOwnPropertyDescriptor(p,S):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(u,p,S,I);else for(var x=u.length-1;x>=0;x--)(A=u[x])&&(g=(B<3?A(g):B>3?A(p,S,g):A(p,S))||g);return B>3&&g&&Object.defineProperty(p,S,g),g},w=this&&this.__param||function(u,p){return function(S,I){p(S,I,u)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CoreService=void 0;const h=v(1439),b=v(8460),y=v(844),E=v(2585),d=Object.freeze({insertMode:!1}),s=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let f=c.CoreService=class extends y.Disposable{constructor(u,p,S){super(),this._bufferService=u,this._logService=p,this._optionsService=S,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new b.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new b.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new b.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new b.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,h.clone)(d),this.decPrivateModes=(0,h.clone)(s)}reset(){this.modes=(0,h.clone)(d),this.decPrivateModes=(0,h.clone)(s)}triggerDataEvent(u,p=!1){if(this._optionsService.rawOptions.disableStdin)return;const S=this._bufferService.buffer;p&&this._optionsService.rawOptions.scrollOnUserInput&&S.ybase!==S.ydisp&&this._onRequestScrollToBottom.fire(),p&&this._onUserInput.fire(),this._logService.debug(`sending data "${u}"`,()=>u.split("").map(I=>I.charCodeAt(0))),this._onData.fire(u)}triggerBinaryEvent(u){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${u}"`,()=>u.split("").map(p=>p.charCodeAt(0))),this._onBinary.fire(u))}};c.CoreService=f=m([w(0,E.IBufferService),w(1,E.ILogService),w(2,E.IOptionsService)],f)},9074:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DecorationService=void 0;const m=v(8055),w=v(8460),h=v(844),b=v(6106);let y=0,E=0;c.DecorationService=class d extends h.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new b.SortedList(u=>u?.marker.line),this._onDecorationRegistered=this.register(new w.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new w.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,h.toDisposable)(()=>this.reset()))}registerDecoration(u){if(u.marker.isDisposed)return;const p=new s(u);if(p){const S=p.marker.onDispose(()=>p.dispose());p.onDispose(()=>{p&&(this._decorations.delete(p)&&this._onDecorationRemoved.fire(p),S.dispose())}),this._decorations.insert(p),this._onDecorationRegistered.fire(p)}return p}reset(){for(const u of this._decorations.values())u.dispose();this._decorations.clear()}*getDecorationsAtCell(u,p,S){let I=0,A=0;for(const B of this._decorations.getKeyIterator(p))I=B.options.x??0,A=I+(B.options.width??1),u>=I&&u<A&&(!S||(B.options.layer??"bottom")===S)&&(yield B)}forEachDecorationAtCell(u,p,S,I){this._decorations.forEachByKey(p,A=>{y=A.options.x??0,E=y+(A.options.width??1),u>=y&&u<E&&(!S||(A.options.layer??"bottom")===S)&&I(A)})}};class s extends h.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this._cachedBg=this.options.backgroundColor?m.css.toColor(this.options.backgroundColor):void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this._cachedFg=this.options.foregroundColor?m.css.toColor(this.options.foregroundColor):void 0),this._cachedFg}constructor(u){super(),this.options=u,this.onRenderEmitter=this.register(new w.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new w.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=u.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.InstantiationService=c.ServiceCollection=void 0;const m=v(2585),w=v(8343);class h{constructor(...y){this._entries=new Map;for(const[E,d]of y)this.set(E,d)}set(y,E){const d=this._entries.get(y);return this._entries.set(y,E),d}forEach(y){for(const[E,d]of this._entries.entries())y(E,d)}has(y){return this._entries.has(y)}get(y){return this._entries.get(y)}}c.ServiceCollection=h,c.InstantiationService=class{constructor(){this._services=new h,this._services.set(m.IInstantiationService,this)}setService(b,y){this._services.set(b,y)}getService(b){return this._services.get(b)}createInstance(b,...y){const E=(0,w.getServiceDependencies)(b).sort((f,u)=>f.index-u.index),d=[];for(const f of E){const u=this._services.get(f.id);if(!u)throw new Error(`[createInstance] ${b.name} depends on UNKNOWN service ${f.id}.`);d.push(u)}const s=E.length>0?E[0].index:y.length;if(y.length!==s)throw new Error(`[createInstance] First service dependency of ${b.name} at position ${s+1} conflicts with ${y.length} static arguments`);return new b(...y,...d)}}},7866:function(C,c,v){var m=this&&this.__decorate||function(s,f,u,p){var S,I=arguments.length,A=I<3?f:null===p?p=Object.getOwnPropertyDescriptor(f,u):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(s,f,u,p);else for(var B=s.length-1;B>=0;B--)(S=s[B])&&(A=(I<3?S(A):I>3?S(f,u,A):S(f,u))||A);return I>3&&A&&Object.defineProperty(f,u,A),A},w=this&&this.__param||function(s,f){return function(u,p){f(u,p,s)}};Object.defineProperty(c,"__esModule",{value:!0}),c.traceCall=c.setTraceLogger=c.LogService=void 0;const h=v(844),b=v(2585),y={trace:b.LogLevelEnum.TRACE,debug:b.LogLevelEnum.DEBUG,info:b.LogLevelEnum.INFO,warn:b.LogLevelEnum.WARN,error:b.LogLevelEnum.ERROR,off:b.LogLevelEnum.OFF};let E,d=c.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(s){super(),this._optionsService=s,this._logLevel=b.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),E=this}_updateLogLevel(){this._logLevel=y[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(s){for(let f=0;f<s.length;f++)"function"==typeof s[f]&&(s[f]=s[f]())}_log(s,f,u){this._evalLazyOptionalParams(u),s.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+f,...u)}trace(s,...f){this._logLevel<=b.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,s,f)}debug(s,...f){this._logLevel<=b.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,s,f)}info(s,...f){this._logLevel<=b.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,s,f)}warn(s,...f){this._logLevel<=b.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,s,f)}error(s,...f){this._logLevel<=b.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,s,f)}};c.LogService=d=m([w(0,b.IOptionsService)],d),c.setTraceLogger=function(s){E=s},c.traceCall=function(s,f,u){if("function"!=typeof u.value)throw new Error("not supported");const p=u.value;u.value=function(...S){if(E.logLevel!==b.LogLevelEnum.TRACE)return p.apply(this,S);E.trace(`GlyphRenderer#${p.name}(${S.map(A=>JSON.stringify(A)).join(", ")})`);const I=p.apply(this,S);return E.trace(`GlyphRenderer#${p.name} return`,I),I}}},7302:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.OptionsService=c.DEFAULT_OPTIONS=void 0;const m=v(8460),w=v(844),h=v(6114);c.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:h.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const b=["normal","bold","100","200","300","400","500","600","700","800","900"];c.OptionsService=class y extends w.Disposable{constructor(d){super(),this._onOptionChange=this.register(new m.EventEmitter),this.onOptionChange=this._onOptionChange.event;const s={...c.DEFAULT_OPTIONS};for(const f in d)if(f in s)try{s[f]=this._sanitizeAndValidateOption(f,d[f])}catch(u){console.error(u)}this.rawOptions=s,this.options={...s},this._setupOptions(),this.register((0,w.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(d,s){return this.onOptionChange(f=>{f===d&&s(this.rawOptions[d])})}onMultipleOptionChange(d,s){return this.onOptionChange(f=>{-1!==d.indexOf(f)&&s()})}_setupOptions(){const d=f=>{if(!(f in c.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);return this.rawOptions[f]},s=(f,u)=>{if(!(f in c.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);u=this._sanitizeAndValidateOption(f,u),this.rawOptions[f]!==u&&(this.rawOptions[f]=u,this._onOptionChange.fire(f))};for(const f in this.rawOptions){const u={get:d.bind(this,f),set:s.bind(this,f)};Object.defineProperty(this.options,f,u)}}_sanitizeAndValidateOption(d,s){switch(d){case"cursorStyle":if(s||(s=c.DEFAULT_OPTIONS[d]),"block"!==(f=s)&&"underline"!==f&&"bar"!==f)throw new Error(`"${s}" is not a valid value for ${d}`);break;case"wordSeparator":s||(s=c.DEFAULT_OPTIONS[d]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof s&&1<=s&&s<=1e3)break;s=b.includes(s)?s:c.DEFAULT_OPTIONS[d];break;case"cursorWidth":s=Math.floor(s);case"lineHeight":case"tabStopWidth":if(s<1)throw new Error(`${d} cannot be less than 1, value: ${s}`);break;case"minimumContrastRatio":s=Math.max(1,Math.min(21,Math.round(10*s)/10));break;case"scrollback":if((s=Math.min(s,4294967295))<0)throw new Error(`${d} cannot be less than 0, value: ${s}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(s<=0)throw new Error(`${d} cannot be less than or equal to 0, value: ${s}`);break;case"rows":case"cols":if(!s&&0!==s)throw new Error(`${d} must be numeric, value: ${s}`);break;case"windowsPty":s=s??{}}var f;return s}}},2660:function(C,c,v){var m=this&&this.__decorate||function(y,E,d,s){var f,u=arguments.length,p=u<3?E:null===s?s=Object.getOwnPropertyDescriptor(E,d):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(y,E,d,s);else for(var S=y.length-1;S>=0;S--)(f=y[S])&&(p=(u<3?f(p):u>3?f(E,d,p):f(E,d))||p);return u>3&&p&&Object.defineProperty(E,d,p),p},w=this&&this.__param||function(y,E){return function(d,s){E(d,s,y)}};Object.defineProperty(c,"__esModule",{value:!0}),c.OscLinkService=void 0;const h=v(2585);let b=c.OscLinkService=class{constructor(y){this._bufferService=y,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(y){const E=this._bufferService.buffer;if(void 0===y.id){const S=E.addMarker(E.ybase+E.y),I={data:y,id:this._nextId++,lines:[S]};return S.onDispose(()=>this._removeMarkerFromLink(I,S)),this._dataByLinkId.set(I.id,I),I.id}const d=y,s=this._getEntryIdKey(d),f=this._entriesWithId.get(s);if(f)return this.addLineToLink(f.id,E.ybase+E.y),f.id;const u=E.addMarker(E.ybase+E.y),p={id:this._nextId++,key:this._getEntryIdKey(d),data:d,lines:[u]};return u.onDispose(()=>this._removeMarkerFromLink(p,u)),this._entriesWithId.set(p.key,p),this._dataByLinkId.set(p.id,p),p.id}addLineToLink(y,E){const d=this._dataByLinkId.get(y);if(d&&d.lines.every(s=>s.line!==E)){const s=this._bufferService.buffer.addMarker(E);d.lines.push(s),s.onDispose(()=>this._removeMarkerFromLink(d,s))}}getLinkData(y){return this._dataByLinkId.get(y)?.data}_getEntryIdKey(y){return`${y.id};;${y.uri}`}_removeMarkerFromLink(y,E){const d=y.lines.indexOf(E);-1!==d&&(y.lines.splice(d,1),0===y.lines.length&&(void 0!==y.data.id&&this._entriesWithId.delete(y.key),this._dataByLinkId.delete(y.id)))}};c.OscLinkService=b=m([w(0,h.IBufferService)],b)},8343:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createDecorator=c.getServiceDependencies=c.serviceRegistry=void 0;const v="di$target",m="di$dependencies";c.serviceRegistry=new Map,c.getServiceDependencies=function(w){return w[m]||[]},c.createDecorator=function(w){if(c.serviceRegistry.has(w))return c.serviceRegistry.get(w);const h=function(b,y,E){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");var d,s,f;d=h,f=E,(s=b)[v]===s?s[m].push({id:d,index:f}):(s[m]=[{id:d,index:f}],s[v]=s)};return h.toString=()=>w,c.serviceRegistry.set(w,h),h}},2585:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.IDecorationService=c.IUnicodeService=c.IOscLinkService=c.IOptionsService=c.ILogService=c.LogLevelEnum=c.IInstantiationService=c.ICharsetService=c.ICoreService=c.ICoreMouseService=c.IBufferService=void 0;const m=v(8343);var w,h;c.IBufferService=(0,m.createDecorator)("BufferService"),c.ICoreMouseService=(0,m.createDecorator)("CoreMouseService"),c.ICoreService=(0,m.createDecorator)("CoreService"),c.ICharsetService=(0,m.createDecorator)("CharsetService"),c.IInstantiationService=(0,m.createDecorator)("InstantiationService"),(h=w||(c.LogLevelEnum=w={}))[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF",c.ILogService=(0,m.createDecorator)("LogService"),c.IOptionsService=(0,m.createDecorator)("OptionsService"),c.IOscLinkService=(0,m.createDecorator)("OscLinkService"),c.IUnicodeService=(0,m.createDecorator)("UnicodeService"),c.IDecorationService=(0,m.createDecorator)("DecorationService")},1480:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.UnicodeService=void 0;const m=v(8460),w=v(225);class h{static extractShouldJoin(y){return 0!=(1&y)}static extractWidth(y){return y>>1&3}static extractCharKind(y){return y>>3}static createPropertyValue(y,E,d=!1){return(16777215&y)<<3|(3&E)<<1|(d?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new m.EventEmitter,this.onChange=this._onChange.event;const y=new w.UnicodeV6;this.register(y),this._active=y.version,this._activeProvider=y}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(y){if(!this._providers[y])throw new Error(`unknown Unicode version "${y}"`);this._active=y,this._activeProvider=this._providers[y],this._onChange.fire(y)}register(y){this._providers[y.version]=y}wcwidth(y){return this._activeProvider.wcwidth(y)}getStringCellWidth(y){let E=0,d=0;const s=y.length;for(let f=0;f<s;++f){let u=y.charCodeAt(f);if(55296<=u&&u<=56319){if(++f>=s)return E+this.wcwidth(u);const I=y.charCodeAt(f);56320<=I&&I<=57343?u=1024*(u-55296)+I-56320+65536:E+=this.wcwidth(I)}const p=this.charProperties(u,d);let S=h.extractWidth(p);h.extractShouldJoin(p)&&(S-=h.extractWidth(d)),E+=S,d=p}return E}charProperties(y,E){return this._activeProvider.charProperties(y,E)}}c.UnicodeService=h}},Z={};function D(C){var c=Z[C];if(void 0!==c)return c.exports;var v=Z[C]={exports:{}};return Ve[C].call(v.exports,v,v.exports,D),v.exports}var $={};return(()=>{var C=$;Object.defineProperty(C,"__esModule",{value:!0}),C.Terminal=void 0;const c=D(9042),v=D(3236),m=D(844),w=D(5741),h=D(8285),b=D(7975),y=D(7090),E=["cols","rows"];C.Terminal=class d extends m.Disposable{constructor(f){super(),this._core=this.register(new v.Terminal(f)),this._addonManager=this.register(new w.AddonManager),this._publicOptions={...this._core.options};const u=S=>this._core.options[S],p=(S,I)=>{this._checkReadonlyOptions(S),this._core.options[S]=I};for(const S in this._core.options){const I={get:u.bind(this,S),set:p.bind(this,S)};Object.defineProperty(this._publicOptions,S,I)}}_checkReadonlyOptions(f){if(E.includes(f))throw new Error(`Option "${f}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new b.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new y.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new h.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const f=this._core.coreService.decPrivateModes;let u="none";switch(this._core.coreMouseService.activeProtocol){case"X10":u="x10";break;case"VT200":u="vt200";break;case"DRAG":u="drag";break;case"ANY":u="any"}return{applicationCursorKeysMode:f.applicationCursorKeys,applicationKeypadMode:f.applicationKeypad,bracketedPasteMode:f.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:u,originMode:f.origin,reverseWraparoundMode:f.reverseWraparound,sendFocusMode:f.sendFocus,wraparoundMode:f.wraparound}}get options(){return this._publicOptions}set options(f){for(const u in f)this._publicOptions[u]=f[u]}blur(){this._core.blur()}focus(){this._core.focus()}input(f,u=!0){this._core.input(f,u)}resize(f,u){this._verifyIntegers(f,u),this._core.resize(f,u)}open(f){this._core.open(f)}attachCustomKeyEventHandler(f){this._core.attachCustomKeyEventHandler(f)}attachCustomWheelEventHandler(f){this._core.attachCustomWheelEventHandler(f)}registerLinkProvider(f){return this._core.registerLinkProvider(f)}registerCharacterJoiner(f){return this._checkProposedApi(),this._core.registerCharacterJoiner(f)}deregisterCharacterJoiner(f){this._checkProposedApi(),this._core.deregisterCharacterJoiner(f)}registerMarker(f=0){return this._verifyIntegers(f),this._core.registerMarker(f)}registerDecoration(f){return this._checkProposedApi(),this._verifyPositiveIntegers(f.x??0,f.width??0,f.height??0),this._core.registerDecoration(f)}hasSelection(){return this._core.hasSelection()}select(f,u,p){this._verifyIntegers(f,u,p),this._core.select(f,u,p)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(f,u){this._verifyIntegers(f,u),this._core.selectLines(f,u)}dispose(){super.dispose()}scrollLines(f){this._verifyIntegers(f),this._core.scrollLines(f)}scrollPages(f){this._verifyIntegers(f),this._core.scrollPages(f)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(f){this._verifyIntegers(f),this._core.scrollToLine(f)}clear(){this._core.clear()}write(f,u){this._core.write(f,u)}writeln(f,u){this._core.write(f),this._core.write("\r\n",u)}paste(f){this._core.paste(f)}refresh(f,u){this._verifyIntegers(f,u),this._core.refresh(f,u)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(f){this._addonManager.loadAddon(this,f)}static get strings(){return c}_verifyIntegers(...f){for(const u of f)if(u===1/0||isNaN(u)||u%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...f){for(const u of f)if(u&&(u===1/0||isNaN(u)||u%1!=0||u<0))throw new Error("This API only accepts positive integers")}}})(),$})()},6224:(it,Ve,Z)=>{"use strict";Z.d(Ve,{Y:()=>b,s:()=>y});var D=Z(6895),$=Z(4650);function C(E,d){1&E&&$._UZ(0,"div",9)}function c(E,d){if(1&E&&($.TgZ(0,"span",10),$._uU(1),$.qZA()),2&E){const s=$.oxw().$implicit;$.xp6(1),$.Oqu(s.description)}}function v(E,d){if(1&E&&($.TgZ(0,"section",11),$._UZ(1,"ngx-json-viewer",12),$.qZA()),2&E){const s=$.oxw().$implicit,f=$.oxw();$.xp6(1),$.Q6J("json",s.value)("expanded",f.expanded)}}const m=function(E){return["segment",E]},w=function(E,d){return{"segment-main":!0,expandable:E,expanded:d}};function h(E,d){if(1&E){const s=$.EpF();$.TgZ(0,"section",2)(1,"section",3),$.NdJ("click",function(){const p=$.CHM(s).$implicit,S=$.oxw();return $.KtG(S.toggle(p))}),$.YNc(2,C,1,0,"div",4),$.TgZ(3,"span",5),$._uU(4),$.qZA(),$.TgZ(5,"span",6),$._uU(6,": "),$.qZA(),$.YNc(7,c,2,1,"span",7),$.qZA(),$.YNc(8,v,2,2,"section",8),$.qZA()}if(2&E){const s=d.$implicit,f=$.oxw();$.Q6J("ngClass",$.VKq(6,m,"segment-type-"+s.type)),$.xp6(1),$.Q6J("ngClass",$.WLB(8,w,f.isExpandable(s),s.expanded)),$.xp6(1),$.Q6J("ngIf",f.isExpandable(s)),$.xp6(2),$.Oqu(s.key),$.xp6(3),$.Q6J("ngIf",!s.expanded||!f.isExpandable(s)),$.xp6(1),$.Q6J("ngIf",s.expanded&&f.isExpandable(s))}}let b=(()=>{class E{constructor(){this.expanded=!0,this.cleanOnChange=!0,this.segments=[]}ngOnChanges(){this.cleanOnChange&&(this.segments=[]),"object"==typeof this.json?Object.keys(this.json).forEach(s=>{this.segments.push(this.parseKeyValue(s,this.json[s]))}):this.segments.push(this.parseKeyValue(`(${typeof this.json})`,this.json))}isExpandable(s){return"object"===s.type||"array"===s.type}toggle(s){this.isExpandable(s)&&(s.expanded=!s.expanded)}parseKeyValue(s,f){const u={key:s,value:f,type:void 0,description:""+f,expanded:this.expanded};switch(typeof u.value){case"number":u.type="number";break;case"boolean":u.type="boolean";break;case"function":u.type="function";break;case"string":u.type="string",u.description='"'+u.value+'"';break;case"undefined":u.type="undefined",u.description="undefined";break;case"object":null===u.value?(u.type="null",u.description="null"):Array.isArray(u.value)?(u.type="array",u.description="Array["+u.value.length+"] "+JSON.stringify(u.value)):u.value instanceof Date?u.type="date":(u.type="object",u.description="Object "+JSON.stringify(u.value))}return u}}return E.\u0275fac=function(s){return new(s||E)},E.\u0275cmp=$.Xpm({type:E,selectors:[["ngx-json-viewer"]],inputs:{expanded:"expanded",cleanOnChange:"cleanOnChange",json:"json"},features:[$.TTD],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded"]],template:function(s,f){1&s&&($.TgZ(0,"section",0),$.YNc(1,h,9,11,"section",1),$.qZA()),2&s&&($.xp6(1),$.Q6J("ngForOf",f.segments))},dependencies:[D.mk,D.sg,D.O5,E],styles:['@charset "UTF-8";\n    .ngx-json-viewer[_ngcontent-%COMP%] {\n      font-family: monospace;\n      font-size: 1em;\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n      position: relative; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%] {\n        padding: 2px;\n        margin: 1px 1px 1px 12px; }\n        .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%] {\n          word-wrap: break-word; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%] {\n            position: absolute;\n            margin-left: -14px;\n            margin-top: 3px;\n            font-size: .8em;\n            line-height: 1.2em;\n            vertical-align: middle;\n            color: #787878; }\n            .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]::after {\n              display: inline-block;\n              content: "\u25ba";\n              -webkit-transition: -webkit-transform 0.1s ease-in;\n              transition: -webkit-transform 0.1s ease-in;\n              transition: transform 0.1s ease-in;\n              transition: transform 0.1s ease-in, -webkit-transform 0.1s ease-in; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%] {\n            color: #4E187C; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%] {\n            color: #999; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%] {\n            color: #000; }\n        .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%] {\n          margin-left: 12px; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #FF6B6B; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #009688; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #b938a4; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #05668D; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #fff; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #fff; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        background-color: red; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-key[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        background-color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%] {\n        white-space: nowrap; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%]    > .toggler[_ngcontent-%COMP%]::after {\n        -webkit-transform: rotate(90deg);\n                transform: rotate(90deg); }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]    > .toggler[_ngcontent-%COMP%] {\n        cursor: pointer; }']}),E})(),y=(()=>{class E{}return E.\u0275fac=function(s){return new(s||E)},E.\u0275mod=$.oAB({type:E}),E.\u0275inj=$.cJS({imports:[D.ez]}),E})()},2916:(it,Ve,Z)=>{"use strict";Z.d(Ve,{y:()=>E});var D=Z(3489),C=Z(7668),c=Z(3292),m=Z(3821),w=Z(5379);var y=Z(2830);let E=(()=>{class s{constructor(u){this._isScalar=!1,u&&(this._subscribe=u)}lift(u){const p=new s;return p.source=this,p.operator=u,p}subscribe(u,p,S){const{operator:I}=this,A=function v(s,f,u){if(s){if(s instanceof D.L)return s;if(s[C.b])return s[C.b]()}return s||f||u?new D.L(s,f,u):new D.L(c.c)}(u,p,S);if(A.add(I?I.call(A,this.source):this.source||y.v.useDeprecatedSynchronousErrorHandling&&!A.syncErrorThrowable?this._subscribe(A):this._trySubscribe(A)),y.v.useDeprecatedSynchronousErrorHandling&&A.syncErrorThrowable&&(A.syncErrorThrowable=!1,A.syncErrorThrown))throw A.syncErrorValue;return A}_trySubscribe(u){try{return this._subscribe(u)}catch(p){y.v.useDeprecatedSynchronousErrorHandling&&(u.syncErrorThrown=!0,u.syncErrorValue=p),function $(s){for(;s;){const{closed:f,destination:u,isStopped:p}=s;if(f||p)return!1;s=u&&u instanceof D.L?u:null}return!0}(u)?u.error(p):console.warn(p)}}forEach(u,p){return new(p=d(p))((S,I)=>{let A;A=this.subscribe(B=>{try{u(B)}catch(g){I(g),A&&A.unsubscribe()}},I,S)})}_subscribe(u){const{source:p}=this;return p&&p.subscribe(u)}[m.L](){return this}pipe(...u){return 0===u.length?this:function b(s){return 0===s.length?w.y:1===s.length?s[0]:function(u){return s.reduce((p,S)=>S(p),u)}}(u)(this)}toPromise(u){return new(u=d(u))((p,S)=>{let I;this.subscribe(A=>I=A,A=>S(A),()=>p(I))})}}return s.create=f=>new s(f),s})();function d(s){if(s||(s=y.v.Promise||Promise),!s)throw new Error("no Promise impl found");return s}},3292:(it,Ve,Z)=>{"use strict";Z.d(Ve,{c:()=>C});var D=Z(2830),$=Z(2782);const C={closed:!0,next(c){},error(c){if(D.v.useDeprecatedSynchronousErrorHandling)throw c;(0,$.z)(c)},complete(){}}},5529:(it,Ve,Z)=>{"use strict";Z.d(Ve,{xQ:()=>h,Yc:()=>w});var D=Z(2916),$=Z(3489),C=Z(2654),c=Z(5279);class v extends C.w{constructor(E,d){super(),this.subject=E,this.subscriber=d,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const E=this.subject,d=E.observers;if(this.subject=null,!d||0===d.length||E.isStopped||E.closed)return;const s=d.indexOf(this.subscriber);-1!==s&&d.splice(s,1)}}var m=Z(7668);class w extends $.L{constructor(E){super(E),this.destination=E}}let h=(()=>{class y extends D.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[m.b](){return new w(this)}lift(d){const s=new b(this,this);return s.operator=d,s}next(d){if(this.closed)throw new c.N;if(!this.isStopped){const{observers:s}=this,f=s.length,u=s.slice();for(let p=0;p<f;p++)u[p].next(d)}}error(d){if(this.closed)throw new c.N;this.hasError=!0,this.thrownError=d,this.isStopped=!0;const{observers:s}=this,f=s.length,u=s.slice();for(let p=0;p<f;p++)u[p].error(d);this.observers.length=0}complete(){if(this.closed)throw new c.N;this.isStopped=!0;const{observers:d}=this,s=d.length,f=d.slice();for(let u=0;u<s;u++)f[u].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(d){if(this.closed)throw new c.N;return super._trySubscribe(d)}_subscribe(d){if(this.closed)throw new c.N;return this.hasError?(d.error(this.thrownError),C.w.EMPTY):this.isStopped?(d.complete(),C.w.EMPTY):(this.observers.push(d),new v(this,d))}asObservable(){const d=new D.y;return d.source=this,d}}return y.create=(E,d)=>new b(E,d),y})();class b extends h{constructor(E,d){super(),this.destination=E,this.source=d}next(E){const{destination:d}=this;d&&d.next&&d.next(E)}error(E){const{destination:d}=this;d&&d.error&&this.destination.error(E)}complete(){const{destination:E}=this;E&&E.complete&&this.destination.complete()}_subscribe(E){const{source:d}=this;return d?this.source.subscribe(E):C.w.EMPTY}}},3489:(it,Ve,Z)=>{"use strict";Z.d(Ve,{L:()=>w});var D=Z(7043),$=Z(3292),C=Z(2654),c=Z(7668),v=Z(2830),m=Z(2782);class w extends C.w{constructor(y,E,d){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=$.c;break;case 1:if(!y){this.destination=$.c;break}if("object"==typeof y){y instanceof w?(this.syncErrorThrowable=y.syncErrorThrowable,this.destination=y,y.add(this)):(this.syncErrorThrowable=!0,this.destination=new h(this,y));break}default:this.syncErrorThrowable=!0,this.destination=new h(this,y,E,d)}}[c.b](){return this}static create(y,E,d){const s=new w(y,E,d);return s.syncErrorThrowable=!1,s}next(y){this.isStopped||this._next(y)}error(y){this.isStopped||(this.isStopped=!0,this._error(y))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(y){this.destination.next(y)}_error(y){this.destination.error(y),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:y}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=y,this}}class h extends w{constructor(y,E,d,s){super(),this._parentSubscriber=y;let f,u=this;(0,D.m)(E)?f=E:E&&(f=E.next,d=E.error,s=E.complete,E!==$.c&&(u=Object.create(E),(0,D.m)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=f,this._error=d,this._complete=s}next(y){if(!this.isStopped&&this._next){const{_parentSubscriber:E}=this;v.v.useDeprecatedSynchronousErrorHandling&&E.syncErrorThrowable?this.__tryOrSetError(E,this._next,y)&&this.unsubscribe():this.__tryOrUnsub(this._next,y)}}error(y){if(!this.isStopped){const{_parentSubscriber:E}=this,{useDeprecatedSynchronousErrorHandling:d}=v.v;if(this._error)d&&E.syncErrorThrowable?(this.__tryOrSetError(E,this._error,y),this.unsubscribe()):(this.__tryOrUnsub(this._error,y),this.unsubscribe());else if(E.syncErrorThrowable)d?(E.syncErrorValue=y,E.syncErrorThrown=!0):(0,m.z)(y),this.unsubscribe();else{if(this.unsubscribe(),d)throw y;(0,m.z)(y)}}}complete(){if(!this.isStopped){const{_parentSubscriber:y}=this;if(this._complete){const E=()=>this._complete.call(this._context);v.v.useDeprecatedSynchronousErrorHandling&&y.syncErrorThrowable?(this.__tryOrSetError(y,E),this.unsubscribe()):(this.__tryOrUnsub(E),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(y,E){try{y.call(this._context,E)}catch(d){if(this.unsubscribe(),v.v.useDeprecatedSynchronousErrorHandling)throw d;(0,m.z)(d)}}__tryOrSetError(y,E,d){if(!v.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{E.call(this._context,d)}catch(s){return v.v.useDeprecatedSynchronousErrorHandling?(y.syncErrorValue=s,y.syncErrorThrown=!0,!0):((0,m.z)(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:y}=this;this._context=null,this._parentSubscriber=null,y.unsubscribe()}}},2654:(it,Ve,Z)=>{"use strict";Z.d(Ve,{w:()=>m});var D=Z(6688),$=Z(7830),C=Z(7043);const v=(()=>{function h(b){return Error.call(this),this.message=b?`${b.length} errors occurred during unsubscription:\n${b.map((y,E)=>`${E+1}) ${y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=b,this}return h.prototype=Object.create(Error.prototype),h})();class m{constructor(b){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,b&&(this._ctorUnsubscribe=!0,this._unsubscribe=b)}unsubscribe(){let b;if(this.closed)return;let{_parentOrParents:y,_ctorUnsubscribe:E,_unsubscribe:d,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,y instanceof m)y.remove(this);else if(null!==y)for(let f=0;f<y.length;++f)y[f].remove(this);if((0,C.m)(d)){E&&(this._unsubscribe=void 0);try{d.call(this)}catch(f){b=f instanceof v?w(f.errors):[f]}}if((0,D.k)(s)){let f=-1,u=s.length;for(;++f<u;){const p=s[f];if((0,$.K)(p))try{p.unsubscribe()}catch(S){b=b||[],S instanceof v?b=b.concat(w(S.errors)):b.push(S)}}}if(b)throw new v(b)}add(b){let y=b;if(!b)return m.EMPTY;switch(typeof b){case"function":y=new m(b);case"object":if(y===this||y.closed||"function"!=typeof y.unsubscribe)return y;if(this.closed)return y.unsubscribe(),y;if(!(y instanceof m)){const s=y;y=new m,y._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+b+" added to Subscription.")}let{_parentOrParents:E}=y;if(null===E)y._parentOrParents=this;else if(E instanceof m){if(E===this)return y;y._parentOrParents=[E,this]}else{if(-1!==E.indexOf(this))return y;E.push(this)}const d=this._subscriptions;return null===d?this._subscriptions=[y]:d.push(y),y}remove(b){const y=this._subscriptions;if(y){const E=y.indexOf(b);-1!==E&&y.splice(E,1)}}}var h;function w(h){return h.reduce((b,y)=>b.concat(y instanceof v?y.errors:y),[])}m.EMPTY=((h=new m).closed=!0,h)},2830:(it,Ve,Z)=>{"use strict";Z.d(Ve,{v:()=>$});let D=!1;const $={Promise:void 0,set useDeprecatedSynchronousErrorHandling(C){if(C){const c=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+c.stack)}else D&&console.log("RxJS: Back to a better error behavior. Thank you. <3");D=C},get useDeprecatedSynchronousErrorHandling(){return D}}},1177:(it,Ve,Z)=>{"use strict";Z.d(Ve,{Ds:()=>m,IY:()=>c,ft:()=>h});var D=Z(3489),$=Z(2916),C=Z(9249);class c extends D.L{constructor(y){super(),this.parent=y}_next(y){this.parent.notifyNext(y)}_error(y){this.parent.notifyError(y),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class m extends D.L{notifyNext(y){this.destination.next(y)}notifyError(y){this.destination.error(y)}notifyComplete(){this.destination.complete()}}function h(b,y){if(y.closed)return;if(b instanceof $.y)return b.subscribe(y);let E;try{E=(0,C.s)(b)(y)}catch(d){y.error(d)}return E}},1221:(it,Ve,Z)=>{"use strict";Z.d(Ve,{z:()=>c});var D=Z(1086),$=Z(9146);function c(...v){return function C(){return(0,$.J)(1)}()((0,D.of)(...v))}},8896:(it,Ve,Z)=>{"use strict";Z.d(Ve,{E:()=>$,c:()=>C});var D=Z(2916);const $=new D.y(v=>v.complete());function C(v){return v?function c(v){return new D.y(m=>v.schedule(()=>m.complete()))}(v):$}},5254:(it,Ve,Z)=>{"use strict";Z.d(Ve,{D:()=>u});var D=Z(2916),$=Z(9249),C=Z(2654),c=Z(3821),w=Z(6454),h=Z(5430),E=Z(8955),d=Z(8515);function u(p,S){return S?function f(p,S){if(null!=p){if(function y(p){return p&&"function"==typeof p[c.L]}(p))return function v(p,S){return new D.y(I=>{const A=new C.w;return A.add(S.schedule(()=>{const B=p[c.L]();A.add(B.subscribe({next(g){A.add(S.schedule(()=>I.next(g)))},error(g){A.add(S.schedule(()=>I.error(g)))},complete(){A.add(S.schedule(()=>I.complete()))}}))})),A})}(p,S);if((0,E.t)(p))return function m(p,S){return new D.y(I=>{const A=new C.w;return A.add(S.schedule(()=>p.then(B=>{A.add(S.schedule(()=>{I.next(B),A.add(S.schedule(()=>I.complete()))}))},B=>{A.add(S.schedule(()=>I.error(B)))}))),A})}(p,S);if((0,d.z)(p))return(0,w.r)(p,S);if(function s(p){return p&&"function"==typeof p[h.hZ]}(p)||"string"==typeof p)return function b(p,S){if(!p)throw new Error("Iterable cannot be null");return new D.y(I=>{const A=new C.w;let B;return A.add(()=>{B&&"function"==typeof B.return&&B.return()}),A.add(S.schedule(()=>{B=p[h.hZ](),A.add(S.schedule(function(){if(I.closed)return;let g,x;try{const V=B.next();g=V.value,x=V.done}catch(V){return void I.error(V)}x?I.complete():(I.next(g),this.schedule())}))})),A})}(p,S)}throw new TypeError((null!==p&&typeof p||p)+" is not observable")}(p,S):p instanceof D.y?p:new D.y((0,$.s)(p))}},3009:(it,Ve,Z)=>{"use strict";Z.d(Ve,{n:()=>c});var D=Z(2916),$=Z(3650),C=Z(6454);function c(v,m){return m?(0,C.r)(v,m):new D.y((0,$.V)(v))}},3753:(it,Ve,Z)=>{"use strict";Z.d(Ve,{R:()=>m});var D=Z(2916),$=Z(6688),C=Z(7043),c=Z(4850);function m(E,d,s,f){return(0,C.m)(s)&&(f=s,s=void 0),f?m(E,d,s).pipe((0,c.U)(u=>(0,$.k)(u)?f(...u):f(u))):new D.y(u=>{w(E,d,function p(S){u.next(arguments.length>1?Array.prototype.slice.call(arguments):S)},u,s)})}function w(E,d,s,f,u){let p;if(function y(E){return E&&"function"==typeof E.addEventListener&&"function"==typeof E.removeEventListener}(E)){const S=E;E.addEventListener(d,s,u),p=()=>S.removeEventListener(d,s,u)}else if(function b(E){return E&&"function"==typeof E.on&&"function"==typeof E.off}(E)){const S=E;E.on(d,s),p=()=>S.off(d,s)}else if(function h(E){return E&&"function"==typeof E.addListener&&"function"==typeof E.removeListener}(E)){const S=E;E.addListener(d,s),p=()=>S.removeListener(d,s)}else{if(!E||!E.length)throw new TypeError("Invalid event target");for(let S=0,I=E.length;S<I;S++)w(E[S],d,s,f,u)}f.add(p)}},6787:(it,Ve,Z)=>{"use strict";Z.d(Ve,{T:()=>v});var D=Z(2916),$=Z(2866),C=Z(9146),c=Z(3009);function v(...m){let w=Number.POSITIVE_INFINITY,h=null,b=m[m.length-1];return(0,$.K)(b)?(h=m.pop(),m.length>1&&"number"==typeof m[m.length-1]&&(w=m.pop())):"number"==typeof b&&(w=m.pop()),null===h&&1===m.length&&m[0]instanceof D.y?m[0]:(0,C.J)(w)((0,c.n)(m,h))}},1086:(it,Ve,Z)=>{"use strict";Z.d(Ve,{of:()=>c});var D=Z(2866),$=Z(3009),C=Z(6454);function c(...v){let m=v[v.length-1];return(0,D.K)(m)?(v.pop(),(0,C.r)(v,m)):(0,$.n)(v)}},13:(it,Ve,Z)=>{"use strict";Z.d(Ve,{b:()=>C});var D=Z(3489),$=Z(353);function C(w,h=$.P){return b=>b.lift(new c(w,h))}class c{constructor(h,b){this.dueTime=h,this.scheduler=b}call(h,b){return b.subscribe(new v(h,this.dueTime,this.scheduler))}}class v extends D.L{constructor(h,b,y){super(h),this.dueTime=b,this.scheduler=y,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(h){this.clearDebounce(),this.lastValue=h,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(m,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:h}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(h)}}clearDebounce(){const h=this.debouncedSubscription;null!==h&&(this.remove(h),h.unsubscribe(),this.debouncedSubscription=null)}}function m(w){w.debouncedNext()}},5778:(it,Ve,Z)=>{"use strict";Z.d(Ve,{x:()=>$});var D=Z(3489);function $(v,m){return w=>w.lift(new C(v,m))}class C{constructor(m,w){this.compare=m,this.keySelector=w}call(m,w){return w.subscribe(new c(m,this.compare,this.keySelector))}}class c extends D.L{constructor(m,w,h){super(m),this.keySelector=h,this.hasKey=!1,"function"==typeof w&&(this.compare=w)}compare(m,w){return m===w}_next(m){let w;try{const{keySelector:b}=this;w=b?b(m):m}catch(b){return this.destination.error(b)}let h=!1;if(this.hasKey)try{const{compare:b}=this;h=b(this.key,w)}catch(b){return this.destination.error(b)}else this.hasKey=!0;h||(this.key=w,this.destination.next(m))}}},2198:(it,Ve,Z)=>{"use strict";Z.d(Ve,{h:()=>$});var D=Z(3489);function $(v,m){return function(h){return h.lift(new C(v,m))}}class C{constructor(m,w){this.predicate=m,this.thisArg=w}call(m,w){return w.subscribe(new c(m,this.predicate,this.thisArg))}}class c extends D.L{constructor(m,w,h){super(m),this.predicate=w,this.thisArg=h,this.count=0}_next(m){let w;try{w=this.predicate.call(this.thisArg,m,this.count++)}catch(h){return void this.destination.error(h)}w&&this.destination.next(m)}}},4850:(it,Ve,Z)=>{"use strict";Z.d(Ve,{U:()=>$});var D=Z(3489);function $(v,m){return function(h){if("function"!=typeof v)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return h.lift(new C(v,m))}}class C{constructor(m,w){this.project=m,this.thisArg=w}call(m,w){return w.subscribe(new c(m,this.project,this.thisArg))}}class c extends D.L{constructor(m,w,h){super(m),this.project=w,this.count=0,this.thisArg=h||this}_next(m){let w;try{w=this.project.call(this.thisArg,m,this.count++)}catch(h){return void this.destination.error(h)}this.destination.next(w)}}},9146:(it,Ve,Z)=>{"use strict";Z.d(Ve,{J:()=>C});var D=Z(1709),$=Z(5379);function C(c=Number.POSITIVE_INFINITY){return(0,D.zg)($.y,c)}},1709:(it,Ve,Z)=>{"use strict";Z.d(Ve,{zg:()=>c});var D=Z(4850),$=Z(5254),C=Z(1177);function c(h,b,y=Number.POSITIVE_INFINITY){return"function"==typeof b?E=>E.pipe(c((d,s)=>(0,$.D)(h(d,s)).pipe((0,D.U)((f,u)=>b(d,f,s,u))),y)):("number"==typeof b&&(y=b),E=>E.lift(new v(h,y)))}class v{constructor(b,y=Number.POSITIVE_INFINITY){this.project=b,this.concurrent=y}call(b,y){return y.subscribe(new m(b,this.project,this.concurrent))}}class m extends C.Ds{constructor(b,y,E=Number.POSITIVE_INFINITY){super(b),this.project=y,this.concurrent=E,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(b){this.active<this.concurrent?this._tryNext(b):this.buffer.push(b)}_tryNext(b){let y;const E=this.index++;try{y=this.project(b,E)}catch(d){return void this.destination.error(d)}this.active++,this._innerSub(y)}_innerSub(b){const y=new C.IY(this),E=this.destination;E.add(y);const d=(0,C.ft)(b,y);d!==y&&E.add(d)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(b){this.destination.next(b)}notifyComplete(){const b=this.buffer;this.active--,b.length>0?this._next(b.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6606:(it,Ve,Z)=>{"use strict";Z.d(Ve,{B:()=>p});var D=Z(5529),$=Z(2916),C=Z(2654),c=Z(3489);function v(){return function(I){return I.lift(new m(I))}}class m{constructor(I){this.connectable=I}call(I,A){const{connectable:B}=this;B._refCount++;const g=new w(I,B),x=A.subscribe(g);return g.closed||(g.connection=B.connect()),x}}class w extends c.L{constructor(I,A){super(I),this.connectable=A}_unsubscribe(){const{connectable:I}=this;if(!I)return void(this.connection=null);this.connectable=null;const A=I._refCount;if(A<=0)return void(this.connection=null);if(I._refCount=A-1,A>1)return void(this.connection=null);const{connection:B}=this,g=I._connection;this.connection=null,g&&(!B||g===B)&&g.unsubscribe()}}class h extends $.y{constructor(I,A){super(),this.source=I,this.subjectFactory=A,this._refCount=0,this._isComplete=!1}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let I=this._connection;return I||(this._isComplete=!1,I=this._connection=new C.w,I.add(this.source.subscribe(new y(this.getSubject(),this))),I.closed&&(this._connection=null,I=C.w.EMPTY)),I}refCount(){return v()(this)}}const b=(()=>{const S=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:S._subscribe},_isComplete:{value:S._isComplete,writable:!0},getSubject:{value:S.getSubject},connect:{value:S.connect},refCount:{value:S.refCount}}})();class y extends D.Yc{constructor(I,A){super(I),this.connectable=A}_error(I){this._unsubscribe(),super._error(I)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const I=this.connectable;if(I){this.connectable=null;const A=I._connection;I._refCount=0,I._subject=null,I._connection=null,A&&A.unsubscribe()}}}class f{constructor(I,A){this.subjectFactory=I,this.selector=A}call(I,A){const{selector:B}=this,g=this.subjectFactory(),x=B(g).subscribe(I);return x.add(A.subscribe(g)),x}}function u(){return new D.xQ}function p(){return S=>v()(function s(S,I){return function(B){let g;if(g="function"==typeof S?S:function(){return S},"function"==typeof I)return B.lift(new f(g,I));const x=Object.create(B,b);return x.source=B,x.subjectFactory=g,x}}(u)(S))}},1307:(it,Ve,Z)=>{"use strict";Z.d(Ve,{T:()=>$});var D=Z(3489);function $(v){return m=>m.lift(new C(v))}class C{constructor(m){this.total=m}call(m,w){return w.subscribe(new c(m,this.total))}}class c extends D.L{constructor(m,w){super(m),this.total=w,this.count=0}_next(m){++this.count>this.total&&this.destination.next(m)}}},1059:(it,Ve,Z)=>{"use strict";Z.d(Ve,{O:()=>C});var D=Z(1221),$=Z(2866);function C(...c){const v=c[c.length-1];return(0,$.K)(v)?(c.pop(),m=>(0,D.z)(c,m,v)):m=>(0,D.z)(c,m)}},5632:(it,Ve,Z)=>{"use strict";Z.d(Ve,{q:()=>v});var D=Z(3489);const C=(()=>{function h(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return h.prototype=Object.create(Error.prototype),h})();var c=Z(8896);function v(h){return b=>0===h?(0,c.c)():b.lift(new m(h))}class m{constructor(b){if(this.total=b,this.total<0)throw new C}call(b,y){return y.subscribe(new w(b,this.total))}}class w extends D.L{constructor(b,y){super(b),this.total=y,this.count=0}_next(b){const y=this.total,E=++this.count;E<=y&&(this.destination.next(b),E===y&&(this.destination.complete(),this.unsubscribe()))}}},7625:(it,Ve,Z)=>{"use strict";Z.d(Ve,{R:()=>$});var D=Z(1177);function $(v){return m=>m.lift(new C(v))}class C{constructor(m){this.notifier=m}call(m,w){const h=new c(m),b=(0,D.ft)(this.notifier,new D.IY(h));return b&&!h.seenValue?(h.add(b),w.subscribe(h)):h}}class c extends D.Ds{constructor(m){super(m),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},2868:(it,Ve,Z)=>{"use strict";Z.d(Ve,{b:()=>c});var D=Z(3489);function $(){}var C=Z(7043);function c(w,h,b){return function(E){return E.lift(new v(w,h,b))}}class v{constructor(h,b,y){this.nextOrObserver=h,this.error=b,this.complete=y}call(h,b){return b.subscribe(new m(h,this.nextOrObserver,this.error,this.complete))}}class m extends D.L{constructor(h,b,y,E){super(h),this._tapNext=$,this._tapError=$,this._tapComplete=$,this._tapError=y||$,this._tapComplete=E||$,(0,C.m)(b)?(this._context=this,this._tapNext=b):b&&(this._context=b,this._tapNext=b.next||$,this._tapError=b.error||$,this._tapComplete=b.complete||$)}_next(h){try{this._tapNext.call(this._context,h)}catch(b){return void this.destination.error(b)}this.destination.next(h)}_error(h){try{this._tapError.call(this._context,h)}catch(b){return void this.destination.error(b)}this.destination.error(h)}_complete(){try{this._tapComplete.call(this._context)}catch(h){return void this.destination.error(h)}return this.destination.complete()}}},6454:(it,Ve,Z)=>{"use strict";Z.d(Ve,{r:()=>C});var D=Z(2916),$=Z(2654);function C(c,v){return new D.y(m=>{const w=new $.w;let h=0;return w.add(v.schedule(function(){h!==c.length?(m.next(c[h++]),m.closed||w.add(this.schedule())):m.complete()})),w})}},6686:(it,Ve,Z)=>{"use strict";Z.d(Ve,{o:()=>C});var D=Z(2654);class $ extends D.w{constructor(v,m){super()}schedule(v,m=0){return this}}class C extends ${constructor(v,m){super(v,m),this.scheduler=v,this.work=m,this.pending=!1}schedule(v,m=0){if(this.closed)return this;this.state=v;const w=this.id,h=this.scheduler;return null!=w&&(this.id=this.recycleAsyncId(h,w,m)),this.pending=!0,this.delay=m,this.id=this.id||this.requestAsyncId(h,this.id,m),this}requestAsyncId(v,m,w=0){return setInterval(v.flush.bind(v,this),w)}recycleAsyncId(v,m,w=0){if(null!==w&&this.delay===w&&!1===this.pending)return m;clearInterval(m)}execute(v,m){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const w=this._execute(v,m);if(w)return w;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(v,m){let h,w=!1;try{this.work(v)}catch(b){w=!0,h=!!b&&b||new Error(b)}if(w)return this.unsubscribe(),h}_unsubscribe(){const v=this.id,m=this.scheduler,w=m.actions,h=w.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==h&&w.splice(h,1),null!=v&&(this.id=this.recycleAsyncId(m,v,null)),this.delay=null}}},2268:(it,Ve,Z)=>{"use strict";Z.d(Ve,{v:()=>$});let D=(()=>{class C{constructor(v,m=C.now){this.SchedulerAction=v,this.now=m}schedule(v,m=0,w){return new this.SchedulerAction(this,v).schedule(w,m)}}return C.now=()=>Date.now(),C})();class $ extends D{constructor(c,v=D.now){super(c,()=>$.delegate&&$.delegate!==this?$.delegate.now():v()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(c,v=0,m){return $.delegate&&$.delegate!==this?$.delegate.schedule(c,v,m):super.schedule(c,v,m)}flush(c){const{actions:v}=this;if(this.active)return void v.push(c);let m;this.active=!0;do{if(m=c.execute(c.state,c.delay))break}while(c=v.shift());if(this.active=!1,m){for(;c=v.shift();)c.unsubscribe();throw m}}}},353:(it,Ve,Z)=>{"use strict";Z.d(Ve,{P:()=>c});var D=Z(6686);const c=new(Z(2268).v)(D.o)},5430:(it,Ve,Z)=>{"use strict";Z.d(Ve,{hZ:()=>$});const $=function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(it,Ve,Z)=>{"use strict";Z.d(Ve,{L:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(it,Ve,Z)=>{"use strict";Z.d(Ve,{b:()=>D});const D="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(it,Ve,Z)=>{"use strict";Z.d(Ve,{N:()=>$});const $=(()=>{function C(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return C.prototype=Object.create(Error.prototype),C})()},2782:(it,Ve,Z)=>{"use strict";function D($){setTimeout(()=>{throw $},0)}Z.d(Ve,{z:()=>D})},5379:(it,Ve,Z)=>{"use strict";function D($){return $}Z.d(Ve,{y:()=>D})},6688:(it,Ve,Z)=>{"use strict";Z.d(Ve,{k:()=>D});const D=Array.isArray||($=>$&&"number"==typeof $.length)},8515:(it,Ve,Z)=>{"use strict";Z.d(Ve,{z:()=>D});const D=$=>$&&"number"==typeof $.length&&"function"!=typeof $},7043:(it,Ve,Z)=>{"use strict";function D($){return"function"==typeof $}Z.d(Ve,{m:()=>D})},7830:(it,Ve,Z)=>{"use strict";function D($){return null!==$&&"object"==typeof $}Z.d(Ve,{K:()=>D})},8955:(it,Ve,Z)=>{"use strict";function D($){return!!$&&"function"!=typeof $.subscribe&&"function"==typeof $.then}Z.d(Ve,{t:()=>D})},2866:(it,Ve,Z)=>{"use strict";function D($){return $&&"function"==typeof $.schedule}Z.d(Ve,{K:()=>D})},9249:(it,Ve,Z)=>{"use strict";Z.d(Ve,{s:()=>E});var D=Z(3650),$=Z(2782),c=Z(5430),m=Z(3821),h=Z(8515),b=Z(8955),y=Z(7830);const E=d=>{if(d&&"function"==typeof d[m.L])return(d=>s=>{const f=d[m.L]();if("function"!=typeof f.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return f.subscribe(s)})(d);if((0,h.z)(d))return(0,D.V)(d);if((0,b.t)(d))return(d=>s=>(d.then(f=>{s.closed||(s.next(f),s.complete())},f=>s.error(f)).then(null,$.z),s))(d);if(d&&"function"==typeof d[c.hZ])return(d=>s=>{const f=d[c.hZ]();for(;;){let u;try{u=f.next()}catch(p){return s.error(p),s}if(u.done){s.complete();break}if(s.next(u.value),s.closed)break}return"function"==typeof f.return&&s.add(()=>{f.return&&f.return()}),s})(d);{const f=`You provided ${(0,y.K)(d)?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(f)}}},3650:(it,Ve,Z)=>{"use strict";Z.d(Ve,{V:()=>D});const D=$=>C=>{for(let c=0,v=$.length;c<v&&!C.closed;c++)C.next($[c]);C.complete()}},6239:it=>{self,it.exports=(()=>{"use strict";var Ve={965:function(C,c,v){var m=this&&this.__decorate||function(B,g,x,V){var k,Y=arguments.length,q=Y<3?g:null===V?V=Object.getOwnPropertyDescriptor(g,x):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(B,g,x,V);else for(var J=B.length-1;J>=0;J--)(k=B[J])&&(q=(Y<3?k(q):Y>3?k(g,x,q):k(g,x))||q);return Y>3&&q&&Object.defineProperty(g,x,q),q};Object.defineProperty(c,"__esModule",{value:!0}),c.GlyphRenderer=void 0;const w=v(374),h=v(509),b=v(855),y=v(859),E=v(776),d=v(381),s=11,f=s*Float32Array.BYTES_PER_ELEMENT;let u,p=0,S=0,I=0;class A extends y.Disposable{constructor(g,x,V){super(),this._terminal=g,this._gl=x,this._dimensions=V,this._activeBuffer=0,this._vertices={count:0,attributes:new Float32Array(0),attributesBuffers:[new Float32Array(0),new Float32Array(0)]};const k=this._gl;void 0===h.TextureAtlas.maxAtlasPages&&(h.TextureAtlas.maxAtlasPages=Math.min(32,(0,w.throwIfFalsy)(k.getParameter(k.MAX_TEXTURE_IMAGE_UNITS))),h.TextureAtlas.maxTextureSize=(0,w.throwIfFalsy)(k.getParameter(k.MAX_TEXTURE_SIZE))),this._program=(0,w.throwIfFalsy)((0,d.createProgram)(k,"#version 300 es\nlayout (location = 0) in vec2 a_unitquad;\nlayout (location = 1) in vec2 a_cellpos;\nlayout (location = 2) in vec2 a_offset;\nlayout (location = 3) in vec2 a_size;\nlayout (location = 4) in float a_texpage;\nlayout (location = 5) in vec2 a_texcoord;\nlayout (location = 6) in vec2 a_texsize;\n\nuniform mat4 u_projection;\nuniform vec2 u_resolution;\n\nout vec2 v_texcoord;\nflat out int v_texpage;\n\nvoid main() {\n  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\n  v_texpage = int(a_texpage);\n  v_texcoord = a_texcoord + a_unitquad * a_texsize;\n}",function(we){let ve="";for(let K=1;K<we;K++)ve+=` else if (v_texpage == ${K}) { outColor = texture(u_texture[${K}], v_texcoord); }`;return`#version 300 es\nprecision lowp float;\n\nin vec2 v_texcoord;\nflat in int v_texpage;\n\nuniform sampler2D u_texture[${we}];\n\nout vec4 outColor;\n\nvoid main() {\n  if (v_texpage == 0) {\n    outColor = texture(u_texture[0], v_texcoord);\n  } ${ve}\n}`}(h.TextureAtlas.maxAtlasPages))),this.register((0,y.toDisposable)(()=>k.deleteProgram(this._program))),this._projectionLocation=(0,w.throwIfFalsy)(k.getUniformLocation(this._program,"u_projection")),this._resolutionLocation=(0,w.throwIfFalsy)(k.getUniformLocation(this._program,"u_resolution")),this._textureLocation=(0,w.throwIfFalsy)(k.getUniformLocation(this._program,"u_texture")),this._vertexArrayObject=k.createVertexArray(),k.bindVertexArray(this._vertexArrayObject);const Y=new Float32Array([0,0,1,0,0,1,1,1]),q=k.createBuffer();this.register((0,y.toDisposable)(()=>k.deleteBuffer(q))),k.bindBuffer(k.ARRAY_BUFFER,q),k.bufferData(k.ARRAY_BUFFER,Y,k.STATIC_DRAW),k.enableVertexAttribArray(0),k.vertexAttribPointer(0,2,this._gl.FLOAT,!1,0,0);const J=new Uint8Array([0,1,2,3]),ae=k.createBuffer();this.register((0,y.toDisposable)(()=>k.deleteBuffer(ae))),k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,ae),k.bufferData(k.ELEMENT_ARRAY_BUFFER,J,k.STATIC_DRAW),this._attributesBuffer=(0,w.throwIfFalsy)(k.createBuffer()),this.register((0,y.toDisposable)(()=>k.deleteBuffer(this._attributesBuffer))),k.bindBuffer(k.ARRAY_BUFFER,this._attributesBuffer),k.enableVertexAttribArray(2),k.vertexAttribPointer(2,2,k.FLOAT,!1,f,0),k.vertexAttribDivisor(2,1),k.enableVertexAttribArray(3),k.vertexAttribPointer(3,2,k.FLOAT,!1,f,2*Float32Array.BYTES_PER_ELEMENT),k.vertexAttribDivisor(3,1),k.enableVertexAttribArray(4),k.vertexAttribPointer(4,1,k.FLOAT,!1,f,4*Float32Array.BYTES_PER_ELEMENT),k.vertexAttribDivisor(4,1),k.enableVertexAttribArray(5),k.vertexAttribPointer(5,2,k.FLOAT,!1,f,5*Float32Array.BYTES_PER_ELEMENT),k.vertexAttribDivisor(5,1),k.enableVertexAttribArray(6),k.vertexAttribPointer(6,2,k.FLOAT,!1,f,7*Float32Array.BYTES_PER_ELEMENT),k.vertexAttribDivisor(6,1),k.enableVertexAttribArray(1),k.vertexAttribPointer(1,2,k.FLOAT,!1,f,9*Float32Array.BYTES_PER_ELEMENT),k.vertexAttribDivisor(1,1),k.useProgram(this._program);const se=new Int32Array(h.TextureAtlas.maxAtlasPages);for(let we=0;we<h.TextureAtlas.maxAtlasPages;we++)se[we]=we;k.uniform1iv(this._textureLocation,se),k.uniformMatrix4fv(this._projectionLocation,!1,d.PROJECTION_MATRIX),this._atlasTextures=[];for(let we=0;we<h.TextureAtlas.maxAtlasPages;we++){const ve=new d.GLTexture((0,w.throwIfFalsy)(k.createTexture()));this.register((0,y.toDisposable)(()=>k.deleteTexture(ve.texture))),k.activeTexture(k.TEXTURE0+we),k.bindTexture(k.TEXTURE_2D,ve.texture),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE),k.texImage2D(k.TEXTURE_2D,0,k.RGBA,1,1,0,k.RGBA,k.UNSIGNED_BYTE,new Uint8Array([255,0,0,255])),this._atlasTextures[we]=ve}k.enable(k.BLEND),k.blendFunc(k.SRC_ALPHA,k.ONE_MINUS_SRC_ALPHA),this.handleResize()}beginFrame(){return!this._atlas||this._atlas.beginFrame()}updateCell(g,x,V,k,Y,q,J,ae){this._updateCell(this._vertices.attributes,g,x,V,k,Y,q,J,ae)}_updateCell(g,x,V,k,Y,q,J,ae,se){p=(V*this._terminal.cols+x)*s,k!==b.NULL_CELL_CODE&&void 0!==k?this._atlas&&(u=ae&&ae.length>1?this._atlas.getRasterizedGlyphCombinedChar(ae,Y,q,J,!1):this._atlas.getRasterizedGlyph(k,Y,q,J,!1),S=Math.floor((this._dimensions.device.cell.width-this._dimensions.device.char.width)/2),Y!==se&&u.offset.x>S?(I=u.offset.x-S,g[p]=-(u.offset.x-I)+this._dimensions.device.char.left,g[p+1]=-u.offset.y+this._dimensions.device.char.top,g[p+2]=(u.size.x-I)/this._dimensions.device.canvas.width,g[p+3]=u.size.y/this._dimensions.device.canvas.height,g[p+4]=u.texturePage,g[p+5]=u.texturePositionClipSpace.x+I/this._atlas.pages[u.texturePage].canvas.width,g[p+6]=u.texturePositionClipSpace.y,g[p+7]=u.sizeClipSpace.x-I/this._atlas.pages[u.texturePage].canvas.width,g[p+8]=u.sizeClipSpace.y):(g[p]=-u.offset.x+this._dimensions.device.char.left,g[p+1]=-u.offset.y+this._dimensions.device.char.top,g[p+2]=u.size.x/this._dimensions.device.canvas.width,g[p+3]=u.size.y/this._dimensions.device.canvas.height,g[p+4]=u.texturePage,g[p+5]=u.texturePositionClipSpace.x,g[p+6]=u.texturePositionClipSpace.y,g[p+7]=u.sizeClipSpace.x,g[p+8]=u.sizeClipSpace.y)):g.fill(0,p,p+s-1-2)}clear(){const g=this._terminal,x=g.cols*g.rows*s;this._vertices.count!==x?this._vertices.attributes=new Float32Array(x):this._vertices.attributes.fill(0);let V=0;for(;V<this._vertices.attributesBuffers.length;V++)this._vertices.count!==x?this._vertices.attributesBuffers[V]=new Float32Array(x):this._vertices.attributesBuffers[V].fill(0);this._vertices.count=x,V=0;for(let k=0;k<g.rows;k++)for(let Y=0;Y<g.cols;Y++)this._vertices.attributes[V+9]=Y/g.cols,this._vertices.attributes[V+10]=k/g.rows,V+=s}handleResize(){const g=this._gl;g.useProgram(this._program),g.viewport(0,0,g.canvas.width,g.canvas.height),g.uniform2f(this._resolutionLocation,g.canvas.width,g.canvas.height),this.clear()}render(g){if(!this._atlas)return;const x=this._gl;x.useProgram(this._program),x.bindVertexArray(this._vertexArrayObject),this._activeBuffer=(this._activeBuffer+1)%2;const V=this._vertices.attributesBuffers[this._activeBuffer];let k=0;for(let Y=0;Y<g.lineLengths.length;Y++){const q=Y*this._terminal.cols*s,J=this._vertices.attributes.subarray(q,q+g.lineLengths[Y]*s);V.set(J,k),k+=J.length}x.bindBuffer(x.ARRAY_BUFFER,this._attributesBuffer),x.bufferData(x.ARRAY_BUFFER,V.subarray(0,k),x.STREAM_DRAW);for(let Y=0;Y<this._atlas.pages.length;Y++)this._atlas.pages[Y].version!==this._atlasTextures[Y].version&&this._bindAtlasPageTexture(x,this._atlas,Y);x.drawElementsInstanced(x.TRIANGLE_STRIP,4,x.UNSIGNED_BYTE,0,k/s)}setAtlas(g){this._atlas=g;for(const x of this._atlasTextures)x.version=-1}_bindAtlasPageTexture(g,x,V){g.activeTexture(g.TEXTURE0+V),g.bindTexture(g.TEXTURE_2D,this._atlasTextures[V].texture),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,x.pages[V].canvas),g.generateMipmap(g.TEXTURE_2D),this._atlasTextures[V].version=x.pages[V].version}setDimensions(g){this._dimensions=g}}c.GlyphRenderer=A,m([E.traceCall],A.prototype,"updateCell",null)},742:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.RectangleRenderer=void 0;const m=v(374),w=v(859),h=v(310),b=v(381),y=8*Float32Array.BYTES_PER_ELEMENT;class E{constructor(){this.attributes=new Float32Array(160),this.count=0}}let d=0,s=0,f=0,u=0,p=0,S=0,I=0;c.RectangleRenderer=class A extends w.Disposable{constructor(g,x,V,k){super(),this._terminal=g,this._gl=x,this._dimensions=V,this._themeService=k,this._vertices=new E,this._verticesCursor=new E;const Y=this._gl;this._program=(0,m.throwIfFalsy)((0,b.createProgram)(Y,"#version 300 es\nlayout (location = 0) in vec2 a_position;\nlayout (location = 1) in vec2 a_size;\nlayout (location = 2) in vec4 a_color;\nlayout (location = 3) in vec2 a_unitquad;\n\nuniform mat4 u_projection;\n\nout vec4 v_color;\n\nvoid main() {\n  vec2 zeroToOne = a_position + (a_unitquad * a_size);\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\n  v_color = a_color;\n}","#version 300 es\nprecision lowp float;\n\nin vec4 v_color;\n\nout vec4 outColor;\n\nvoid main() {\n  outColor = v_color;\n}")),this.register((0,w.toDisposable)(()=>Y.deleteProgram(this._program))),this._projectionLocation=(0,m.throwIfFalsy)(Y.getUniformLocation(this._program,"u_projection")),this._vertexArrayObject=Y.createVertexArray(),Y.bindVertexArray(this._vertexArrayObject);const q=new Float32Array([0,0,1,0,0,1,1,1]),J=Y.createBuffer();this.register((0,w.toDisposable)(()=>Y.deleteBuffer(J))),Y.bindBuffer(Y.ARRAY_BUFFER,J),Y.bufferData(Y.ARRAY_BUFFER,q,Y.STATIC_DRAW),Y.enableVertexAttribArray(3),Y.vertexAttribPointer(3,2,this._gl.FLOAT,!1,0,0);const ae=new Uint8Array([0,1,2,3]),se=Y.createBuffer();this.register((0,w.toDisposable)(()=>Y.deleteBuffer(se))),Y.bindBuffer(Y.ELEMENT_ARRAY_BUFFER,se),Y.bufferData(Y.ELEMENT_ARRAY_BUFFER,ae,Y.STATIC_DRAW),this._attributesBuffer=(0,m.throwIfFalsy)(Y.createBuffer()),this.register((0,w.toDisposable)(()=>Y.deleteBuffer(this._attributesBuffer))),Y.bindBuffer(Y.ARRAY_BUFFER,this._attributesBuffer),Y.enableVertexAttribArray(0),Y.vertexAttribPointer(0,2,Y.FLOAT,!1,y,0),Y.vertexAttribDivisor(0,1),Y.enableVertexAttribArray(1),Y.vertexAttribPointer(1,2,Y.FLOAT,!1,y,2*Float32Array.BYTES_PER_ELEMENT),Y.vertexAttribDivisor(1,1),Y.enableVertexAttribArray(2),Y.vertexAttribPointer(2,4,Y.FLOAT,!1,y,4*Float32Array.BYTES_PER_ELEMENT),Y.vertexAttribDivisor(2,1),this._updateCachedColors(k.colors),this.register(this._themeService.onChangeColors(we=>{this._updateCachedColors(we),this._updateViewportRectangle()}))}renderBackgrounds(){this._renderVertices(this._vertices)}renderCursor(){this._renderVertices(this._verticesCursor)}_renderVertices(g){const x=this._gl;x.useProgram(this._program),x.bindVertexArray(this._vertexArrayObject),x.uniformMatrix4fv(this._projectionLocation,!1,b.PROJECTION_MATRIX),x.bindBuffer(x.ARRAY_BUFFER,this._attributesBuffer),x.bufferData(x.ARRAY_BUFFER,g.attributes,x.DYNAMIC_DRAW),x.drawElementsInstanced(this._gl.TRIANGLE_STRIP,4,x.UNSIGNED_BYTE,0,g.count)}handleResize(){this._updateViewportRectangle()}setDimensions(g){this._dimensions=g}_updateCachedColors(g){this._bgFloat=this._colorToFloat32Array(g.background),this._cursorFloat=this._colorToFloat32Array(g.cursor)}_updateViewportRectangle(){this._addRectangleFloat(this._vertices.attributes,0,0,0,this._terminal.cols*this._dimensions.device.cell.width,this._terminal.rows*this._dimensions.device.cell.height,this._bgFloat)}updateBackgrounds(g){const x=this._terminal,V=this._vertices;let k,Y,q,J,ae,se,we,ve,K,ne,re,de=1;for(k=0;k<x.rows;k++){for(q=-1,J=0,ae=0,se=!1,Y=0;Y<x.cols;Y++)we=(k*x.cols+Y)*h.RENDER_MODEL_INDICIES_PER_CELL,ve=g.cells[we+h.RENDER_MODEL_BG_OFFSET],K=g.cells[we+h.RENDER_MODEL_FG_OFFSET],ne=!!(67108864&K),(ve!==J||K!==ae&&(se||ne))&&((0!==J||se&&0!==ae)&&(re=8*de++,this._updateRectangle(V,re,ae,J,q,Y,k)),q=Y,J=ve,ae=K,se=ne);(0!==J||se&&0!==ae)&&(re=8*de++,this._updateRectangle(V,re,ae,J,q,x.cols,k))}V.count=de}updateCursor(g){const x=this._verticesCursor,V=g.cursor;if(!V||"block"===V.style)return void(x.count=0);let k,Y=0;"bar"!==V.style&&"outline"!==V.style||(k=8*Y++,this._addRectangleFloat(x.attributes,k,V.x*this._dimensions.device.cell.width,V.y*this._dimensions.device.cell.height,"bar"===V.style?V.dpr*V.cursorWidth:V.dpr,this._dimensions.device.cell.height,this._cursorFloat)),"underline"!==V.style&&"outline"!==V.style||(k=8*Y++,this._addRectangleFloat(x.attributes,k,V.x*this._dimensions.device.cell.width,(V.y+1)*this._dimensions.device.cell.height-V.dpr,V.width*this._dimensions.device.cell.width,V.dpr,this._cursorFloat)),"outline"===V.style&&(k=8*Y++,this._addRectangleFloat(x.attributes,k,V.x*this._dimensions.device.cell.width,V.y*this._dimensions.device.cell.height,V.width*this._dimensions.device.cell.width,V.dpr,this._cursorFloat),k=8*Y++,this._addRectangleFloat(x.attributes,k,(V.x+V.width)*this._dimensions.device.cell.width-V.dpr,V.y*this._dimensions.device.cell.height,V.dpr,this._dimensions.device.cell.height,this._cursorFloat)),x.count=Y}_updateRectangle(g,x,V,k,Y,q,J){if(67108864&V)switch(50331648&V){case 16777216:case 33554432:d=this._themeService.colors.ansi[255&V].rgba;break;case 50331648:d=(16777215&V)<<8;break;default:d=this._themeService.colors.foreground.rgba}else switch(50331648&k){case 16777216:case 33554432:d=this._themeService.colors.ansi[255&k].rgba;break;case 50331648:d=(16777215&k)<<8;break;default:d=this._themeService.colors.background.rgba}g.attributes.length<x+4&&(g.attributes=(0,b.expandFloat32Array)(g.attributes,this._terminal.rows*this._terminal.cols*8)),s=Y*this._dimensions.device.cell.width,f=J*this._dimensions.device.cell.height,u=(d>>24&255)/255,p=(d>>16&255)/255,S=(d>>8&255)/255,I=1,this._addRectangle(g.attributes,x,s,f,(q-Y)*this._dimensions.device.cell.width,this._dimensions.device.cell.height,u,p,S,I)}_addRectangle(g,x,V,k,Y,q,J,ae,se,we){g[x]=V/this._dimensions.device.canvas.width,g[x+1]=k/this._dimensions.device.canvas.height,g[x+2]=Y/this._dimensions.device.canvas.width,g[x+3]=q/this._dimensions.device.canvas.height,g[x+4]=J,g[x+5]=ae,g[x+6]=se,g[x+7]=we}_addRectangleFloat(g,x,V,k,Y,q,J){g[x]=V/this._dimensions.device.canvas.width,g[x+1]=k/this._dimensions.device.canvas.height,g[x+2]=Y/this._dimensions.device.canvas.width,g[x+3]=q/this._dimensions.device.canvas.height,g[x+4]=J[0],g[x+5]=J[1],g[x+6]=J[2],g[x+7]=J[3]}_colorToFloat32Array(g){return new Float32Array([(g.rgba>>24&255)/255,(g.rgba>>16&255)/255,(g.rgba>>8&255)/255,(255&g.rgba)/255])}}},310:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.RenderModel=c.COMBINED_CHAR_BIT_MASK=c.RENDER_MODEL_EXT_OFFSET=c.RENDER_MODEL_FG_OFFSET=c.RENDER_MODEL_BG_OFFSET=c.RENDER_MODEL_INDICIES_PER_CELL=void 0;const m=v(296);c.RENDER_MODEL_INDICIES_PER_CELL=4,c.RENDER_MODEL_BG_OFFSET=1,c.RENDER_MODEL_FG_OFFSET=2,c.RENDER_MODEL_EXT_OFFSET=3,c.COMBINED_CHAR_BIT_MASK=2147483648,c.RenderModel=class{constructor(){this.cells=new Uint32Array(0),this.lineLengths=new Uint32Array(0),this.selection=(0,m.createSelectionRenderModel)()}resize(w,h){const b=w*h*c.RENDER_MODEL_INDICIES_PER_CELL;b!==this.cells.length&&(this.cells=new Uint32Array(b),this.lineLengths=new Uint32Array(h))}clear(){this.cells.fill(0,0),this.lineLengths.fill(0,0)}}},666:function(C,c,v){var m=this&&this.__decorate||function(q,J,ae,se){var we,ve=arguments.length,K=ve<3?J:null===se?se=Object.getOwnPropertyDescriptor(J,ae):se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(q,J,ae,se);else for(var ne=q.length-1;ne>=0;ne--)(we=q[ne])&&(K=(ve<3?we(K):ve>3?we(J,ae,K):we(J,ae))||K);return ve>3&&K&&Object.defineProperty(J,ae,K),K};Object.defineProperty(c,"__esModule",{value:!0}),c.JoinedCellData=c.WebglRenderer=void 0;const w=v(820),h=v(274),b=v(627),y=v(457),E=v(56),d=v(374),s=v(345),f=v(859),u=v(147),p=v(782),S=v(855),I=v(776),A=v(965),B=v(742),g=v(310),x=v(733);class V extends f.Disposable{constructor(J,ae,se,we,ve,K,ne,re,de){if(super(),this._terminal=J,this._characterJoinerService=ae,this._charSizeService=se,this._coreBrowserService=we,this._coreService=ve,this._decorationService=K,this._optionsService=ne,this._themeService=re,this._cursorBlinkStateManager=new f.MutableDisposable,this._charAtlasDisposable=this.register(new f.MutableDisposable),this._model=new g.RenderModel,this._workCell=new p.CellData,this._rectangleRenderer=this.register(new f.MutableDisposable),this._glyphRenderer=this.register(new f.MutableDisposable),this._onChangeTextureAtlas=this.register(new s.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new s.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new s.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onRequestRedraw=this.register(new s.EventEmitter),this.onRequestRedraw=this._onRequestRedraw.event,this._onContextLoss=this.register(new s.EventEmitter),this.onContextLoss=this._onContextLoss.event,this.register(this._themeService.onChangeColors(()=>this._handleColorChange())),this._cellColorResolver=new h.CellColorResolver(this._terminal,this._model.selection,this._decorationService,this._coreBrowserService,this._themeService),this._core=this._terminal._core,this._renderLayers=[new x.LinkRenderLayer(this._core.screenElement,2,this._terminal,this._core.linkifier2,this._coreBrowserService,ne,this._themeService)],this.dimensions=(0,d.createRenderDimensions)(),this._devicePixelRatio=this._coreBrowserService.dpr,this._updateDimensions(),this._updateCursorBlink(),this.register(ne.onOptionChange(()=>this._handleOptionsChanged())),this._canvas=document.createElement("canvas"),this._gl=this._canvas.getContext("webgl2",{antialias:!1,depth:!1,preserveDrawingBuffer:de}),!this._gl)throw new Error("WebGL2 not supported "+this._gl);this.register((0,w.addDisposableDomListener)(this._canvas,"webglcontextlost",ze=>{console.log("webglcontextlost event received"),ze.preventDefault(),this._contextRestorationTimeout=setTimeout(()=>{this._contextRestorationTimeout=void 0,console.warn("webgl context not restored; firing onContextLoss"),this._onContextLoss.fire(ze)},3e3)})),this.register((0,w.addDisposableDomListener)(this._canvas,"webglcontextrestored",ze=>{console.warn("webglcontextrestored event received"),clearTimeout(this._contextRestorationTimeout),this._contextRestorationTimeout=void 0,(0,b.removeTerminalFromCache)(this._terminal),this._initializeWebGLState(),this._requestRedrawViewport()})),this.register((0,E.observeDevicePixelDimensions)(this._canvas,this._coreBrowserService.window,(ze,Qe)=>this._setCanvasDevicePixelDimensions(ze,Qe))),this._core.screenElement.appendChild(this._canvas),[this._rectangleRenderer.value,this._glyphRenderer.value]=this._initializeWebGLState(),this._isAttached=this._coreBrowserService.window.document.body.contains(this._core.screenElement),this.register((0,f.toDisposable)(()=>{var ze;for(const Qe of this._renderLayers)Qe.dispose();null===(ze=this._canvas.parentElement)||void 0===ze||ze.removeChild(this._canvas),(0,b.removeTerminalFromCache)(this._terminal)}))}get textureAtlas(){var J;return null===(J=this._charAtlas)||void 0===J?void 0:J.pages[0].canvas}_handleColorChange(){this._refreshCharAtlas(),this._clearModel(!0)}handleDevicePixelRatioChange(){this._devicePixelRatio!==this._coreBrowserService.dpr&&(this._devicePixelRatio=this._coreBrowserService.dpr,this.handleResize(this._terminal.cols,this._terminal.rows))}handleResize(J,ae){var se,we,ve,K;this._updateDimensions(),this._model.resize(this._terminal.cols,this._terminal.rows);for(const ne of this._renderLayers)ne.resize(this._terminal,this.dimensions);this._canvas.width=this.dimensions.device.canvas.width,this._canvas.height=this.dimensions.device.canvas.height,this._canvas.style.width=`${this.dimensions.css.canvas.width}px`,this._canvas.style.height=`${this.dimensions.css.canvas.height}px`,this._core.screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._core.screenElement.style.height=`${this.dimensions.css.canvas.height}px`,null===(se=this._rectangleRenderer.value)||void 0===se||se.setDimensions(this.dimensions),null===(we=this._rectangleRenderer.value)||void 0===we||we.handleResize(),null===(ve=this._glyphRenderer.value)||void 0===ve||ve.setDimensions(this.dimensions),null===(K=this._glyphRenderer.value)||void 0===K||K.handleResize(),this._refreshCharAtlas(),this._clearModel(!1)}handleCharSizeChanged(){this.handleResize(this._terminal.cols,this._terminal.rows)}handleBlur(){var J;for(const ae of this._renderLayers)ae.handleBlur(this._terminal);null===(J=this._cursorBlinkStateManager.value)||void 0===J||J.pause(),this._requestRedrawViewport()}handleFocus(){var J;for(const ae of this._renderLayers)ae.handleFocus(this._terminal);null===(J=this._cursorBlinkStateManager.value)||void 0===J||J.resume(),this._requestRedrawViewport()}handleSelectionChanged(J,ae,se){for(const we of this._renderLayers)we.handleSelectionChanged(this._terminal,J,ae,se);this._model.selection.update(this._terminal,J,ae,se),this._requestRedrawViewport()}handleCursorMove(){var J;for(const ae of this._renderLayers)ae.handleCursorMove(this._terminal);null===(J=this._cursorBlinkStateManager.value)||void 0===J||J.restartBlinkAnimation()}_handleOptionsChanged(){this._updateDimensions(),this._refreshCharAtlas(),this._updateCursorBlink()}_initializeWebGLState(){return this._rectangleRenderer.value=new B.RectangleRenderer(this._terminal,this._gl,this.dimensions,this._themeService),this._glyphRenderer.value=new A.GlyphRenderer(this._terminal,this._gl,this.dimensions),this.handleCharSizeChanged(),[this._rectangleRenderer.value,this._glyphRenderer.value]}_refreshCharAtlas(){var J;if(this.dimensions.device.char.width<=0&&this.dimensions.device.char.height<=0)return void(this._isAttached=!1);const ae=(0,b.acquireTextureAtlas)(this._terminal,this._optionsService.rawOptions,this._themeService.colors,this.dimensions.device.cell.width,this.dimensions.device.cell.height,this.dimensions.device.char.width,this.dimensions.device.char.height,this._coreBrowserService.dpr);this._charAtlas!==ae&&(this._onChangeTextureAtlas.fire(ae.pages[0].canvas),this._charAtlasDisposable.value=(0,f.getDisposeArrayDisposable)([(0,s.forwardEvent)(ae.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas),(0,s.forwardEvent)(ae.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)])),this._charAtlas=ae,this._charAtlas.warmUp(),null===(J=this._glyphRenderer.value)||void 0===J||J.setAtlas(this._charAtlas)}_clearModel(J){var ae;this._model.clear(),J&&(null===(ae=this._glyphRenderer.value)||void 0===ae||ae.clear())}clearTextureAtlas(){var J;null===(J=this._charAtlas)||void 0===J||J.clearTexture(),this._clearModel(!0),this._requestRedrawViewport()}clear(){var J;this._clearModel(!0);for(const ae of this._renderLayers)ae.reset(this._terminal);null===(J=this._cursorBlinkStateManager.value)||void 0===J||J.restartBlinkAnimation(),this._updateCursorBlink()}registerCharacterJoiner(J){return-1}deregisterCharacterJoiner(J){return!1}renderRows(J,ae){if(!this._isAttached){if(!(this._coreBrowserService.window.document.body.contains(this._core.screenElement)&&this._charSizeService.width&&this._charSizeService.height))return;this._updateDimensions(),this._refreshCharAtlas(),this._isAttached=!0}for(const se of this._renderLayers)se.handleGridChanged(this._terminal,J,ae);this._glyphRenderer.value&&this._rectangleRenderer.value&&(this._glyphRenderer.value.beginFrame()?(this._clearModel(!0),this._updateModel(0,this._terminal.rows-1)):this._updateModel(J,ae),this._rectangleRenderer.value.renderBackgrounds(),this._glyphRenderer.value.render(this._model),this._cursorBlinkStateManager.value&&!this._cursorBlinkStateManager.value.isCursorVisible||this._rectangleRenderer.value.renderCursor())}_updateCursorBlink(){this._terminal.options.cursorBlink?this._cursorBlinkStateManager.value=new y.CursorBlinkStateManager(()=>{this._requestRedrawCursor()},this._coreBrowserService):this._cursorBlinkStateManager.clear(),this._requestRedrawCursor()}_updateModel(J,ae){const se=this._core;let we,ve,K,ne,re,de,Ue,ze,Qe,Ye,Se,ie,Ne,Pe=this._workCell;J=Y(J,se.rows-1,0),ae=Y(ae,se.rows-1,0);const tt=this._terminal.buffer.active.baseY+this._terminal.buffer.active.cursorY,et=Math.min(this._terminal.buffer.active.cursorX,se.cols-1);let Et=-1;const Ot=this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden&&(!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isCursorVisible);this._model.cursor=void 0;let St=!1;for(ve=J;ve<=ae;ve++)for(K=ve+se.buffer.ydisp,ne=se.buffer.lines.get(K),this._model.lineLengths[ve]=0,re=this._characterJoinerService.getJoinedCharacters(K),ie=0;ie<se.cols;ie++)if(we=this._cellColorResolver.result.bg,ne.loadCell(ie,Pe),0===ie&&(we=this._cellColorResolver.result.bg),de=!1,Ue=ie,re.length>0&&ie===re[0][0]&&(de=!0,ze=re.shift(),Pe=new k(Pe,ne.translateToString(!0,ze[0],ze[1]),ze[1]-ze[0]),Ue=ze[1]-1),Qe=Pe.getChars(),Ye=Pe.getCode(),Se=(ve*se.cols+ie)*g.RENDER_MODEL_INDICIES_PER_CELL,this._cellColorResolver.resolve(Pe,ie,K),Ot&&K===tt&&(ie===et&&(this._model.cursor={x:et,y:this._terminal.buffer.active.cursorY,width:Pe.getWidth(),style:this._coreBrowserService.isFocused?se.options.cursorStyle||"block":se.options.cursorInactiveStyle,cursorWidth:se.options.cursorWidth,dpr:this._devicePixelRatio},Et=et+Pe.getWidth()-1),ie>=et&&ie<=Et&&(this._coreBrowserService.isFocused&&"block"===(se.options.cursorStyle||"block")||!1===this._coreBrowserService.isFocused&&"block"===se.options.cursorInactiveStyle)&&(this._cellColorResolver.result.fg=50331648|this._themeService.colors.cursorAccent.rgba>>8&16777215,this._cellColorResolver.result.bg=50331648|this._themeService.colors.cursor.rgba>>8&16777215)),Ye!==S.NULL_CELL_CODE&&(this._model.lineLengths[ve]=ie+1),(this._model.cells[Se]!==Ye||this._model.cells[Se+g.RENDER_MODEL_BG_OFFSET]!==this._cellColorResolver.result.bg||this._model.cells[Se+g.RENDER_MODEL_FG_OFFSET]!==this._cellColorResolver.result.fg||this._model.cells[Se+g.RENDER_MODEL_EXT_OFFSET]!==this._cellColorResolver.result.ext)&&(St=!0,Qe.length>1&&(Ye|=g.COMBINED_CHAR_BIT_MASK),this._model.cells[Se]=Ye,this._model.cells[Se+g.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[Se+g.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[Se+g.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext,this._glyphRenderer.value.updateCell(ie,ve,Ye,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,Qe,we),de))for(Pe=this._workCell,ie++;ie<Ue;ie++)Ne=(ve*se.cols+ie)*g.RENDER_MODEL_INDICIES_PER_CELL,this._glyphRenderer.value.updateCell(ie,ve,S.NULL_CELL_CODE,0,0,0,S.NULL_CELL_CHAR,0),this._model.cells[Ne]=S.NULL_CELL_CODE,this._model.cells[Ne+g.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[Ne+g.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[Ne+g.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext;St&&this._rectangleRenderer.value.updateBackgrounds(this._model),this._rectangleRenderer.value.updateCursor(this._model)}_updateDimensions(){this._charSizeService.width&&this._charSizeService.height&&(this.dimensions.device.char.width=Math.floor(this._charSizeService.width*this._devicePixelRatio),this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*this._devicePixelRatio),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.top=1===this._optionsService.rawOptions.lineHeight?0:Math.round((this.dimensions.device.cell.height-this.dimensions.device.char.height)/2),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.char.left=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.device.canvas.height=this._terminal.rows*this.dimensions.device.cell.height,this.dimensions.device.canvas.width=this._terminal.cols*this.dimensions.device.cell.width,this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/this._devicePixelRatio),this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/this._devicePixelRatio),this.dimensions.css.cell.height=this.dimensions.device.cell.height/this._devicePixelRatio,this.dimensions.css.cell.width=this.dimensions.device.cell.width/this._devicePixelRatio)}_setCanvasDevicePixelDimensions(J,ae){this._canvas.width===J&&this._canvas.height===ae||(this._canvas.width=J,this._canvas.height=ae,this._requestRedrawViewport())}_requestRedrawViewport(){this._onRequestRedraw.fire({start:0,end:this._terminal.rows-1})}_requestRedrawCursor(){const J=this._terminal.buffer.active.cursorY;this._onRequestRedraw.fire({start:J,end:J})}}c.WebglRenderer=V,m([I.traceCall],V.prototype,"renderRows",null);class k extends u.AttributeData{constructor(J,ae,se){super(),this.content=0,this.combinedData="",this.fg=J.fg,this.bg=J.bg,this.combinedData=ae,this._width=se}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(J){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}function Y(q,J,ae=0){return Math.max(Math.min(q,J),ae)}c.JoinedCellData=k},381:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GLTexture=c.expandFloat32Array=c.createShader=c.createProgram=c.PROJECTION_MATRIX=void 0;const m=v(374);function w(h,b,y){const E=(0,m.throwIfFalsy)(h.createShader(b));if(h.shaderSource(E,y),h.compileShader(E),h.getShaderParameter(E,h.COMPILE_STATUS))return E;console.error(h.getShaderInfoLog(E)),h.deleteShader(E)}c.PROJECTION_MATRIX=new Float32Array([2,0,0,0,0,-2,0,0,0,0,1,0,-1,1,0,1]),c.createProgram=function(h,b,y){const E=(0,m.throwIfFalsy)(h.createProgram());if(h.attachShader(E,(0,m.throwIfFalsy)(w(h,h.VERTEX_SHADER,b))),h.attachShader(E,(0,m.throwIfFalsy)(w(h,h.FRAGMENT_SHADER,y))),h.linkProgram(E),h.getProgramParameter(E,h.LINK_STATUS))return E;console.error(h.getProgramInfoLog(E)),h.deleteProgram(E)},c.createShader=w,c.expandFloat32Array=function(h,b){const y=Math.min(2*h.length,b),E=new Float32Array(y);for(let d=0;d<h.length;d++)E[d]=h[d];return E},c.GLTexture=class{constructor(h){this.texture=h,this.version=-1}}},592:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BaseRenderLayer=void 0;const m=v(627),w=v(237),h=v(374),b=v(859);c.BaseRenderLayer=class y extends b.Disposable{constructor(d,s,f,u,p,S,I,A){super(),this._container=s,this._alpha=p,this._coreBrowserService=S,this._optionsService=I,this._themeService=A,this._deviceCharWidth=0,this._deviceCharHeight=0,this._deviceCellWidth=0,this._deviceCellHeight=0,this._deviceCharLeft=0,this._deviceCharTop=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add(`xterm-${f}-layer`),this._canvas.style.zIndex=u.toString(),this._initCanvas(),this._container.appendChild(this._canvas),this.register(this._themeService.onChangeColors(B=>{this._refreshCharAtlas(d,B),this.reset(d)})),this.register((0,b.toDisposable)(()=>{this._canvas.remove()}))}_initCanvas(){this._ctx=(0,h.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()}handleBlur(d){}handleFocus(d){}handleCursorMove(d){}handleGridChanged(d,s,f){}handleSelectionChanged(d,s,f,u=!1){}_setTransparency(d,s){if(s===this._alpha)return;const f=this._canvas;this._alpha=s,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,f),this._refreshCharAtlas(d,this._themeService.colors),this.handleGridChanged(d,0,d.rows-1)}_refreshCharAtlas(d,s){this._deviceCharWidth<=0&&this._deviceCharHeight<=0||(this._charAtlas=(0,m.acquireTextureAtlas)(d,this._optionsService.rawOptions,s,this._deviceCellWidth,this._deviceCellHeight,this._deviceCharWidth,this._deviceCharHeight,this._coreBrowserService.dpr),this._charAtlas.warmUp())}resize(d,s){this._deviceCellWidth=s.device.cell.width,this._deviceCellHeight=s.device.cell.height,this._deviceCharWidth=s.device.char.width,this._deviceCharHeight=s.device.char.height,this._deviceCharLeft=s.device.char.left,this._deviceCharTop=s.device.char.top,this._canvas.width=s.device.canvas.width,this._canvas.height=s.device.canvas.height,this._canvas.style.width=`${s.css.canvas.width}px`,this._canvas.style.height=`${s.css.canvas.height}px`,this._alpha||this._clearAll(),this._refreshCharAtlas(d,this._themeService.colors)}_fillBottomLineAtCells(d,s,f=1){this._ctx.fillRect(d*this._deviceCellWidth,(s+1)*this._deviceCellHeight-this._coreBrowserService.dpr-1,f*this._deviceCellWidth,this._coreBrowserService.dpr)}_clearAll(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))}_clearCells(d,s,f,u){this._alpha?this._ctx.clearRect(d*this._deviceCellWidth,s*this._deviceCellHeight,f*this._deviceCellWidth,u*this._deviceCellHeight):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(d*this._deviceCellWidth,s*this._deviceCellHeight,f*this._deviceCellWidth,u*this._deviceCellHeight))}_fillCharTrueColor(d,s,f,u){this._ctx.font=this._getFont(d,!1,!1),this._ctx.textBaseline=w.TEXT_BASELINE,this._clipCell(f,u,s.getWidth()),this._ctx.fillText(s.getChars(),f*this._deviceCellWidth+this._deviceCharLeft,u*this._deviceCellHeight+this._deviceCharTop+this._deviceCharHeight)}_clipCell(d,s,f){this._ctx.beginPath(),this._ctx.rect(d*this._deviceCellWidth,s*this._deviceCellHeight,f*this._deviceCellWidth,this._deviceCellHeight),this._ctx.clip()}_getFont(d,s,f){return`${f?"italic":""} ${s?d.options.fontWeightBold:d.options.fontWeight} ${d.options.fontSize*this._coreBrowserService.dpr}px ${d.options.fontFamily}`}}},733:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.LinkRenderLayer=void 0;const m=v(197),w=v(237),h=v(592);c.LinkRenderLayer=class b extends h.BaseRenderLayer{constructor(E,d,s,f,u,p,S){super(s,E,"link",d,!0,u,p,S),this.register(f.onShowLinkUnderline(I=>this._handleShowLinkUnderline(I))),this.register(f.onHideLinkUnderline(I=>this._handleHideLinkUnderline(I)))}resize(E,d){super.resize(E,d),this._state=void 0}reset(E){this._clearCurrentLink()}_clearCurrentLink(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);const E=this._state.y2-this._state.y1-1;E>0&&this._clearCells(0,this._state.y1+1,this._state.cols,E),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}}_handleShowLinkUnderline(E){if(this._ctx.fillStyle=E.fg===w.INVERTED_DEFAULT_COLOR?this._themeService.colors.background.css:void 0!==E.fg&&(0,m.is256Color)(E.fg)?this._themeService.colors.ansi[E.fg].css:this._themeService.colors.foreground.css,E.y1===E.y2)this._fillBottomLineAtCells(E.x1,E.y1,E.x2-E.x1);else{this._fillBottomLineAtCells(E.x1,E.y1,E.cols-E.x1);for(let d=E.y1+1;d<E.y2;d++)this._fillBottomLineAtCells(0,d,E.cols);this._fillBottomLineAtCells(0,E.y2,E.x2)}this._state=E}_handleHideLinkUnderline(E){this._clearCurrentLink()}}},820:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.addDisposableDomListener=void 0,c.addDisposableDomListener=function(v,m,w,h){v.addEventListener(m,w,h);let b=!1;return{dispose:()=>{b||(b=!0,v.removeEventListener(m,w,h))}}}},274:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CellColorResolver=void 0;let v,m=0,w=0,h=!1,b=!1,y=!1;c.CellColorResolver=class{constructor(E,d,s,f,u){this._terminal=E,this._selectionRenderModel=d,this._decorationService=s,this._coreBrowserService=f,this._themeService=u,this.result={fg:0,bg:0,ext:0}}resolve(E,d,s){this.result.bg=E.bg,this.result.fg=E.fg,this.result.ext=268435456&E.bg?E.extended.ext:0,w=0,m=0,b=!1,h=!1,y=!1,v=this._themeService.colors,this._decorationService.forEachDecorationAtCell(d,s,"bottom",f=>{f.backgroundColorRGB&&(w=f.backgroundColorRGB.rgba>>8&16777215,b=!0),f.foregroundColorRGB&&(m=f.foregroundColorRGB.rgba>>8&16777215,h=!0)}),y=this._selectionRenderModel.isCellSelected(this._terminal,d,s),y&&(w=(this._coreBrowserService.isFocused?v.selectionBackgroundOpaque:v.selectionInactiveBackgroundOpaque).rgba>>8&16777215,b=!0,v.selectionForeground&&(m=v.selectionForeground.rgba>>8&16777215,h=!0)),this._decorationService.forEachDecorationAtCell(d,s,"top",f=>{f.backgroundColorRGB&&(w=f.backgroundColorRGB.rgba>>8&16777215,b=!0),f.foregroundColorRGB&&(m=f.foregroundColorRGB.rgba>>8&16777215,h=!0)}),b&&(w=y?-16777216&E.bg&-134217729|w|50331648:-16777216&E.bg|w|50331648),h&&(m=-16777216&E.fg&-67108865|m|50331648),67108864&this.result.fg&&(b&&!h&&(m=50331648&this.result.bg?-134217728&this.result.fg|67108863&this.result.bg:-134217728&this.result.fg|16777215&v.background.rgba>>8|50331648,h=!0),!b&&h&&(w=50331648&this.result.fg?-67108864&this.result.bg|67108863&this.result.fg:-67108864&this.result.bg|16777215&v.foreground.rgba>>8|50331648,b=!0)),v=void 0,this.result.bg=b?w:this.result.bg,this.result.fg=h?m:this.result.fg}}},627:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.removeTerminalFromCache=c.acquireTextureAtlas=void 0;const m=v(509),w=v(197),h=[];c.acquireTextureAtlas=function(b,y,E,d,s,f,u,p){const S=(0,w.generateConfig)(d,s,f,u,y,E,p);for(let B=0;B<h.length;B++){const g=h[B],x=g.ownedBy.indexOf(b);if(x>=0){if((0,w.configEquals)(g.config,S))return g.atlas;1===g.ownedBy.length?(g.atlas.dispose(),h.splice(B,1)):g.ownedBy.splice(x,1);break}}for(let B=0;B<h.length;B++){const g=h[B];if((0,w.configEquals)(g.config,S))return g.ownedBy.push(b),g.atlas}const A={atlas:new m.TextureAtlas(document,S,b._core.unicodeService),config:S,ownedBy:[b]};return h.push(A),A.atlas},c.removeTerminalFromCache=function(b){for(let y=0;y<h.length;y++){const E=h[y].ownedBy.indexOf(b);if(-1!==E){1===h[y].ownedBy.length?(h[y].atlas.dispose(),h.splice(y,1)):h[y].ownedBy.splice(E,1);break}}}},197:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.is256Color=c.configEquals=c.generateConfig=void 0;const m=v(160);c.generateConfig=function(w,h,b,y,E,d,s){const f={foreground:d.foreground,background:d.background,cursor:m.NULL_COLOR,cursorAccent:m.NULL_COLOR,selectionForeground:m.NULL_COLOR,selectionBackgroundTransparent:m.NULL_COLOR,selectionBackgroundOpaque:m.NULL_COLOR,selectionInactiveBackgroundTransparent:m.NULL_COLOR,selectionInactiveBackgroundOpaque:m.NULL_COLOR,ansi:d.ansi.slice(),contrastCache:d.contrastCache,halfContrastCache:d.halfContrastCache};return{customGlyphs:E.customGlyphs,devicePixelRatio:s,letterSpacing:E.letterSpacing,lineHeight:E.lineHeight,deviceCellWidth:w,deviceCellHeight:h,deviceCharWidth:b,deviceCharHeight:y,fontFamily:E.fontFamily,fontSize:E.fontSize,fontWeight:E.fontWeight,fontWeightBold:E.fontWeightBold,allowTransparency:E.allowTransparency,drawBoldTextInBrightColors:E.drawBoldTextInBrightColors,minimumContrastRatio:E.minimumContrastRatio,colors:f}},c.configEquals=function(w,h){for(let b=0;b<w.colors.ansi.length;b++)if(w.colors.ansi[b].rgba!==h.colors.ansi[b].rgba)return!1;return w.devicePixelRatio===h.devicePixelRatio&&w.customGlyphs===h.customGlyphs&&w.lineHeight===h.lineHeight&&w.letterSpacing===h.letterSpacing&&w.fontFamily===h.fontFamily&&w.fontSize===h.fontSize&&w.fontWeight===h.fontWeight&&w.fontWeightBold===h.fontWeightBold&&w.allowTransparency===h.allowTransparency&&w.deviceCharWidth===h.deviceCharWidth&&w.deviceCharHeight===h.deviceCharHeight&&w.drawBoldTextInBrightColors===h.drawBoldTextInBrightColors&&w.minimumContrastRatio===h.minimumContrastRatio&&w.colors.foreground.rgba===h.colors.foreground.rgba&&w.colors.background.rgba===h.colors.background.rgba},c.is256Color=function(w){return 16777216==(50331648&w)||33554432==(50331648&w)}},237:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TEXT_BASELINE=c.DIM_OPACITY=c.INVERTED_DEFAULT_COLOR=void 0;const m=v(399);c.INVERTED_DEFAULT_COLOR=257,c.DIM_OPACITY=.5,c.TEXT_BASELINE=m.isFirefox||m.isLegacyEdge?"bottom":"ideographic"},457:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CursorBlinkStateManager=void 0,c.CursorBlinkStateManager=class{constructor(v,m){this._renderCallback=v,this._coreBrowserService=m,this.isCursorVisible=!0,this._coreBrowserService.isFocused&&this._restartInterval()}get isPaused(){return!(this._blinkStartTimeout||this._blinkInterval)}dispose(){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}restartBlinkAnimation(){this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})))}_restartInterval(v=600){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=this._coreBrowserService.window.setTimeout(()=>{if(this._animationTimeRestarted){const m=600-(Date.now()-this._animationTimeRestarted);if(this._animationTimeRestarted=void 0,m>0)return void this._restartInterval(m)}this.isCursorVisible=!1,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0}),this._blinkInterval=this._coreBrowserService.window.setInterval(()=>{if(this._animationTimeRestarted){const m=600-(Date.now()-this._animationTimeRestarted);return this._animationTimeRestarted=void 0,void this._restartInterval(m)}this.isCursorVisible=!this.isCursorVisible,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})},600)},v)}pause(){this.isCursorVisible=!0,this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}resume(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()}}},860:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.tryDrawCustomChar=c.powerlineDefinitions=c.boxDrawingDefinitions=c.blockElementDefinitions=void 0;const m=v(374);c.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258a":[{x:0,y:0,w:6,h:8}],"\u258b":[{x:0,y:0,w:5,h:8}],"\u258c":[{x:0,y:0,w:4,h:8}],"\u258d":[{x:0,y:0,w:3,h:8}],"\u258e":[{x:0,y:0,w:2,h:8}],"\u258f":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:8,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259a":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259b":[{x:0,y:0,w:4,h:8},{x:4,y:0,w:4,h:4}],"\u259c":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259d":[{x:4,y:0,w:4,h:4}],"\u259e":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259f":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u{1fb70}":[{x:1,y:0,w:1,h:8}],"\u{1fb71}":[{x:2,y:0,w:1,h:8}],"\u{1fb72}":[{x:3,y:0,w:1,h:8}],"\u{1fb73}":[{x:4,y:0,w:1,h:8}],"\u{1fb74}":[{x:5,y:0,w:1,h:8}],"\u{1fb75}":[{x:6,y:0,w:1,h:8}],"\u{1fb76}":[{x:0,y:1,w:8,h:1}],"\u{1fb77}":[{x:0,y:2,w:8,h:1}],"\u{1fb78}":[{x:0,y:3,w:8,h:1}],"\u{1fb79}":[{x:0,y:4,w:8,h:1}],"\u{1fb7a}":[{x:0,y:5,w:8,h:1}],"\u{1fb7b}":[{x:0,y:6,w:8,h:1}],"\u{1fb7c}":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1fb7d}":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1fb7e}":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1fb7f}":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1fb80}":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1fb81}":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1fb82}":[{x:0,y:0,w:8,h:2}],"\u{1fb83}":[{x:0,y:0,w:8,h:3}],"\u{1fb84}":[{x:0,y:0,w:8,h:5}],"\u{1fb85}":[{x:0,y:0,w:8,h:6}],"\u{1fb86}":[{x:0,y:0,w:8,h:7}],"\u{1fb87}":[{x:6,y:0,w:2,h:8}],"\u{1fb88}":[{x:5,y:0,w:3,h:8}],"\u{1fb89}":[{x:3,y:0,w:5,h:8}],"\u{1fb8a}":[{x:2,y:0,w:6,h:8}],"\u{1fb8b}":[{x:1,y:0,w:7,h:8}],"\u{1fb95}":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\u{1fb96}":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\u{1fb97}":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};const w={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};c.boxDrawingDefinitions={"\u2500":{1:"M0,.5 L1,.5"},"\u2501":{3:"M0,.5 L1,.5"},"\u2502":{1:"M.5,0 L.5,1"},"\u2503":{3:"M.5,0 L.5,1"},"\u250c":{1:"M0.5,1 L.5,.5 L1,.5"},"\u250f":{3:"M0.5,1 L.5,.5 L1,.5"},"\u2510":{1:"M0,.5 L.5,.5 L.5,1"},"\u2513":{3:"M0,.5 L.5,.5 L.5,1"},"\u2514":{1:"M.5,0 L.5,.5 L1,.5"},"\u2517":{3:"M.5,0 L.5,.5 L1,.5"},"\u2518":{1:"M.5,0 L.5,.5 L0,.5"},"\u251b":{3:"M.5,0 L.5,.5 L0,.5"},"\u251c":{1:"M.5,0 L.5,1 M.5,.5 L1,.5"},"\u2523":{3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"\u2524":{1:"M.5,0 L.5,1 M.5,.5 L0,.5"},"\u252b":{3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"\u252c":{1:"M0,.5 L1,.5 M.5,.5 L.5,1"},"\u2533":{3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"\u2534":{1:"M0,.5 L1,.5 M.5,.5 L.5,0"},"\u253b":{3:"M0,.5 L1,.5 M.5,.5 L.5,0"},"\u253c":{1:"M0,.5 L1,.5 M.5,0 L.5,1"},"\u254b":{3:"M0,.5 L1,.5 M.5,0 L.5,1"},"\u2574":{1:"M.5,.5 L0,.5"},"\u2578":{3:"M.5,.5 L0,.5"},"\u2575":{1:"M.5,.5 L.5,0"},"\u2579":{3:"M.5,.5 L.5,0"},"\u2576":{1:"M.5,.5 L1,.5"},"\u257a":{3:"M.5,.5 L1,.5"},"\u2577":{1:"M.5,.5 L.5,1"},"\u257b":{3:"M.5,.5 L.5,1"},"\u2550":{1:(d,s)=>`M0,${.5-s} L1,${.5-s} M0,${.5+s} L1,${.5+s}`},"\u2551":{1:(d,s)=>`M${.5-d},0 L${.5-d},1 M${.5+d},0 L${.5+d},1`},"\u2552":{1:(d,s)=>`M.5,1 L.5,${.5-s} L1,${.5-s} M.5,${.5+s} L1,${.5+s}`},"\u2553":{1:(d,s)=>`M${.5-d},1 L${.5-d},.5 L1,.5 M${.5+d},.5 L${.5+d},1`},"\u2554":{1:(d,s)=>`M1,${.5-s} L${.5-d},${.5-s} L${.5-d},1 M1,${.5+s} L${.5+d},${.5+s} L${.5+d},1`},"\u2555":{1:(d,s)=>`M0,${.5-s} L.5,${.5-s} L.5,1 M0,${.5+s} L.5,${.5+s}`},"\u2556":{1:(d,s)=>`M${.5+d},1 L${.5+d},.5 L0,.5 M${.5-d},.5 L${.5-d},1`},"\u2557":{1:(d,s)=>`M0,${.5+s} L${.5-d},${.5+s} L${.5-d},1 M0,${.5-s} L${.5+d},${.5-s} L${.5+d},1`},"\u2558":{1:(d,s)=>`M.5,0 L.5,${.5+s} L1,${.5+s} M.5,${.5-s} L1,${.5-s}`},"\u2559":{1:(d,s)=>`M1,.5 L${.5-d},.5 L${.5-d},0 M${.5+d},.5 L${.5+d},0`},"\u255a":{1:(d,s)=>`M1,${.5-s} L${.5+d},${.5-s} L${.5+d},0 M1,${.5+s} L${.5-d},${.5+s} L${.5-d},0`},"\u255b":{1:(d,s)=>`M0,${.5+s} L.5,${.5+s} L.5,0 M0,${.5-s} L.5,${.5-s}`},"\u255c":{1:(d,s)=>`M0,.5 L${.5+d},.5 L${.5+d},0 M${.5-d},.5 L${.5-d},0`},"\u255d":{1:(d,s)=>`M0,${.5-s} L${.5-d},${.5-s} L${.5-d},0 M0,${.5+s} L${.5+d},${.5+s} L${.5+d},0`},"\u255e":{1:(d,s)=>`M.5,0 L.5,1 M.5,${.5-s} L1,${.5-s} M.5,${.5+s} L1,${.5+s}`},"\u255f":{1:(d,s)=>`M${.5-d},0 L${.5-d},1 M${.5+d},0 L${.5+d},1 M${.5+d},.5 L1,.5`},"\u2560":{1:(d,s)=>`M${.5-d},0 L${.5-d},1 M1,${.5+s} L${.5+d},${.5+s} L${.5+d},1 M1,${.5-s} L${.5+d},${.5-s} L${.5+d},0`},"\u2561":{1:(d,s)=>`M.5,0 L.5,1 M0,${.5-s} L.5,${.5-s} M0,${.5+s} L.5,${.5+s}`},"\u2562":{1:(d,s)=>`M0,.5 L${.5-d},.5 M${.5-d},0 L${.5-d},1 M${.5+d},0 L${.5+d},1`},"\u2563":{1:(d,s)=>`M${.5+d},0 L${.5+d},1 M0,${.5+s} L${.5-d},${.5+s} L${.5-d},1 M0,${.5-s} L${.5-d},${.5-s} L${.5-d},0`},"\u2564":{1:(d,s)=>`M0,${.5-s} L1,${.5-s} M0,${.5+s} L1,${.5+s} M.5,${.5+s} L.5,1`},"\u2565":{1:(d,s)=>`M0,.5 L1,.5 M${.5-d},.5 L${.5-d},1 M${.5+d},.5 L${.5+d},1`},"\u2566":{1:(d,s)=>`M0,${.5-s} L1,${.5-s} M0,${.5+s} L${.5-d},${.5+s} L${.5-d},1 M1,${.5+s} L${.5+d},${.5+s} L${.5+d},1`},"\u2567":{1:(d,s)=>`M.5,0 L.5,${.5-s} M0,${.5-s} L1,${.5-s} M0,${.5+s} L1,${.5+s}`},"\u2568":{1:(d,s)=>`M0,.5 L1,.5 M${.5-d},.5 L${.5-d},0 M${.5+d},.5 L${.5+d},0`},"\u2569":{1:(d,s)=>`M0,${.5+s} L1,${.5+s} M0,${.5-s} L${.5-d},${.5-s} L${.5-d},0 M1,${.5-s} L${.5+d},${.5-s} L${.5+d},0`},"\u256a":{1:(d,s)=>`M.5,0 L.5,1 M0,${.5-s} L1,${.5-s} M0,${.5+s} L1,${.5+s}`},"\u256b":{1:(d,s)=>`M0,.5 L1,.5 M${.5-d},0 L${.5-d},1 M${.5+d},0 L${.5+d},1`},"\u256c":{1:(d,s)=>`M0,${.5+s} L${.5-d},${.5+s} L${.5-d},1 M1,${.5+s} L${.5+d},${.5+s} L${.5+d},1 M0,${.5-s} L${.5-d},${.5-s} L${.5-d},0 M1,${.5-s} L${.5+d},${.5-s} L${.5+d},0`},"\u2571":{1:"M1,0 L0,1"},"\u2572":{1:"M0,0 L1,1"},"\u2573":{1:"M1,0 L0,1 M0,0 L1,1"},"\u257c":{1:"M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"\u257d":{1:"M.5,.5 L.5,0",3:"M.5,.5 L.5,1"},"\u257e":{1:"M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u257f":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"\u250d":{1:"M.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"\u250e":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2511":{1:"M.5,.5 L.5,1",3:"M.5,.5 L0,.5"},"\u2512":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"\u2515":{1:"M.5,.5 L.5,0",3:"M.5,.5 L1,.5"},"\u2516":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"\u2519":{1:"M.5,.5 L.5,0",3:"M.5,.5 L0,.5"},"\u251a":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,0"},"\u251d":{1:"M.5,0 L.5,1",3:"M.5,.5 L1,.5"},"\u251e":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"\u251f":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2520":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1"},"\u2521":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"\u2522":{1:"M.5,.5 L.5,0",3:"M0.5,1 L.5,.5 L1,.5"},"\u2525":{1:"M.5,0 L.5,1",3:"M.5,.5 L0,.5"},"\u2526":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"\u2527":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"\u2528":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1"},"\u2529":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L0,.5"},"\u252a":{1:"M.5,.5 L.5,0",3:"M0,.5 L.5,.5 L.5,1"},"\u252d":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u252e":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"\u252f":{1:"M.5,.5 L.5,1",3:"M0,.5 L1,.5"},"\u2530":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2531":{1:"M.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"\u2532":{1:"M.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"\u2535":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u2536":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"\u2537":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5"},"\u2538":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,0"},"\u2539":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"\u253a":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,.5 L1,.5"},"\u253d":{1:"M.5,0 L.5,1 M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u253e":{1:"M.5,0 L.5,1 M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"\u253f":{1:"M.5,0 L.5,1",3:"M0,.5 L1,.5"},"\u2540":{1:"M0,.5 L1,.5 M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"\u2541":{1:"M.5,.5 L.5,0 M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2542":{1:"M0,.5 L1,.5",3:"M.5,0 L.5,1"},"\u2543":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"\u2544":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"\u2545":{1:"M.5,0 L.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"\u2546":{1:"M.5,0 L.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"\u2547":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0 M0,.5 L1,.5"},"\u2548":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"\u2549":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"\u254a":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"\u254c":{1:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"\u254d":{3:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"\u2504":{1:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"\u2505":{3:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"\u2508":{1:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"\u2509":{3:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"\u254e":{1:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"\u254f":{3:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"\u2506":{1:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"\u2507":{3:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"\u250a":{1:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"\u250b":{3:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"\u256d":{1:(d,s)=>`M.5,1 L.5,${.5+s/.15*.5} C.5,${.5+s/.15*.5},.5,.5,1,.5`},"\u256e":{1:(d,s)=>`M.5,1 L.5,${.5+s/.15*.5} C.5,${.5+s/.15*.5},.5,.5,0,.5`},"\u256f":{1:(d,s)=>`M.5,0 L.5,${.5-s/.15*.5} C.5,${.5-s/.15*.5},.5,.5,0,.5`},"\u2570":{1:(d,s)=>`M.5,0 L.5,${.5-s/.15*.5} C.5,${.5-s/.15*.5},.5,.5,1,.5`}},c.powerlineDefinitions={"\ue0b0":{d:"M0,0 L1,.5 L0,1",type:0,rightPadding:2},"\ue0b1":{d:"M-1,-.5 L1,.5 L-1,1.5",type:1,leftPadding:1,rightPadding:1},"\ue0b2":{d:"M1,0 L0,.5 L1,1",type:0,leftPadding:2},"\ue0b3":{d:"M2,-.5 L0,.5 L2,1.5",type:1,leftPadding:1,rightPadding:1},"\ue0b4":{d:"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0",type:0,rightPadding:1},"\ue0b5":{d:"M.2,1 C.422,1,.8,.826,.78,.5 C.8,.174,0.422,0,.2,0",type:1,rightPadding:1},"\ue0b6":{d:"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0",type:0,leftPadding:1},"\ue0b7":{d:"M.8,1 C0.578,1,0.2,.826,.22,.5 C0.2,0.174,0.578,0,0.8,0",type:1,leftPadding:1},"\ue0b8":{d:"M-.5,-.5 L1.5,1.5 L-.5,1.5",type:0},"\ue0b9":{d:"M-.5,-.5 L1.5,1.5",type:1,leftPadding:1,rightPadding:1},"\ue0ba":{d:"M1.5,-.5 L-.5,1.5 L1.5,1.5",type:0},"\ue0bc":{d:"M1.5,-.5 L-.5,1.5 L-.5,-.5",type:0},"\ue0bd":{d:"M1.5,-.5 L-.5,1.5",type:1,leftPadding:1,rightPadding:1},"\ue0be":{d:"M-.5,-.5 L1.5,1.5 L1.5,-.5",type:0}},c.powerlineDefinitions["\ue0bb"]=c.powerlineDefinitions["\ue0bd"],c.powerlineDefinitions["\ue0bf"]=c.powerlineDefinitions["\ue0b9"],c.tryDrawCustomChar=function(d,s,f,u,p,S,I,A){const B=c.blockElementDefinitions[s];if(B)return function(k,Y,q,J,ae,se){for(let we=0;we<Y.length;we++){const ve=Y[we],K=ae/8,ne=se/8;k.fillRect(q+ve.x*K,J+ve.y*ne,ve.w*K,ve.h*ne)}}(d,B,f,u,p,S),!0;const g=w[s];if(g)return function(k,Y,q,J,ae,se){let we=h.get(Y);we||(we=new Map,h.set(Y,we));const ve=k.fillStyle;if("string"!=typeof ve)throw new Error(`Unexpected fillStyle type "${ve}"`);let K=we.get(ve);if(!K){const ne=Y[0].length,re=Y.length,de=document.createElement("canvas");de.width=ne,de.height=re;const Ue=(0,m.throwIfFalsy)(de.getContext("2d")),ze=new ImageData(ne,re);let Qe,Ye,Se,ie;if(ve.startsWith("#"))Qe=parseInt(ve.slice(1,3),16),Ye=parseInt(ve.slice(3,5),16),Se=parseInt(ve.slice(5,7),16),ie=ve.length>7&&parseInt(ve.slice(7,9),16)||1;else{if(!ve.startsWith("rgba"))throw new Error(`Unexpected fillStyle color format "${ve}" when drawing pattern glyph`);[Qe,Ye,Se,ie]=ve.substring(5,ve.length-1).split(",").map(Ne=>parseFloat(Ne))}for(let Ne=0;Ne<re;Ne++)for(let Pe=0;Pe<ne;Pe++)ze.data[4*(Ne*ne+Pe)]=Qe,ze.data[4*(Ne*ne+Pe)+1]=Ye,ze.data[4*(Ne*ne+Pe)+2]=Se,ze.data[4*(Ne*ne+Pe)+3]=Y[Ne][Pe]*(255*ie);Ue.putImageData(ze,0,0),K=(0,m.throwIfFalsy)(k.createPattern(de,null)),we.set(ve,K)}k.fillStyle=K,k.fillRect(q,J,ae,se)}(d,g,f,u,p,S),!0;const x=c.boxDrawingDefinitions[s];if(x)return function(k,Y,q,J,ae,se,we){k.strokeStyle=k.fillStyle;for(const[ve,K]of Object.entries(Y)){let ne;k.beginPath(),k.lineWidth=we*Number.parseInt(ve),ne="function"==typeof K?K(.15,.15/se*ae):K;for(const re of ne.split(" ")){const de=re[0],Ue=y[de];if(!Ue){console.error(`Could not find drawing instructions for "${de}"`);continue}const ze=re.substring(1).split(",");ze[0]&&ze[1]&&Ue(k,E(ze,ae,se,q,J,!0,we))}k.stroke(),k.closePath()}}(d,x,f,u,p,S,A),!0;const V=c.powerlineDefinitions[s];return!!V&&(function(k,Y,q,J,ae,se,we,ve){var K,ne;const re=new Path2D;re.rect(q,J,ae,se),k.clip(re),k.beginPath();const de=we/12;k.lineWidth=ve*de;for(const Ue of Y.d.split(" ")){const ze=Ue[0],Qe=y[ze];if(!Qe){console.error(`Could not find drawing instructions for "${ze}"`);continue}const Ye=Ue.substring(1).split(",");Ye[0]&&Ye[1]&&Qe(k,E(Ye,ae,se,q,J,!1,ve,(null!==(K=Y.leftPadding)&&void 0!==K?K:0)*(de/2),(null!==(ne=Y.rightPadding)&&void 0!==ne?ne:0)*(de/2)))}1===Y.type?(k.strokeStyle=k.fillStyle,k.stroke()):k.fill(),k.closePath()}(d,V,f,u,p,S,I,A),!0)};const h=new Map;function b(d,s,f=0){return Math.max(Math.min(d,s),f)}const y={C:(d,s)=>d.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]),L:(d,s)=>d.lineTo(s[0],s[1]),M:(d,s)=>d.moveTo(s[0],s[1])};function E(d,s,f,u,p,S,I,A=0,B=0){const g=d.map(x=>parseFloat(x)||parseInt(x));if(g.length<2)throw new Error("Too few arguments for instruction");for(let x=0;x<g.length;x+=2)g[x]*=s-A*I-B*I,S&&0!==g[x]&&(g[x]=b(Math.round(g[x]+.5)-.5,s,0)),g[x]+=u+A*I;for(let x=1;x<g.length;x+=2)g[x]*=f,S&&0!==g[x]&&(g[x]=b(Math.round(g[x]+.5)-.5,f,0)),g[x]+=p;return g}},56:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.observeDevicePixelDimensions=void 0;const m=v(859);c.observeDevicePixelDimensions=function(w,h,b){let y=new h.ResizeObserver(E=>{const d=E.find(u=>u.target===w);if(!d)return;if(!("devicePixelContentBoxSize"in d))return y?.disconnect(),void(y=void 0);const s=d.devicePixelContentBoxSize[0].inlineSize,f=d.devicePixelContentBoxSize[0].blockSize;s>0&&f>0&&b(s,f)});try{y.observe(w,{box:["device-pixel-content-box"]})}catch{y.disconnect(),y=void 0}return(0,m.toDisposable)(()=>y?.disconnect())}},374:(C,c)=>{function v(m){return 57508<=m&&m<=57558}Object.defineProperty(c,"__esModule",{value:!0}),c.createRenderDimensions=c.excludeFromContrastRatioDemands=c.isRestrictedPowerlineGlyph=c.isPowerlineGlyph=c.throwIfFalsy=void 0,c.throwIfFalsy=function(m){if(!m)throw new Error("value must not be falsy");return m},c.isPowerlineGlyph=v,c.isRestrictedPowerlineGlyph=function(m){return 57520<=m&&m<=57527},c.excludeFromContrastRatioDemands=function(m){return v(m)||9472<=(w=m)&&w<=9631;var w},c.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},296:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createSelectionRenderModel=void 0;class v{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(w,h,b,y=!1){if(this.selectionStart=h,this.selectionEnd=b,!h||!b||h[0]===b[0]&&h[1]===b[1])return void this.clear();const E=h[1]-w.buffer.active.viewportY,d=b[1]-w.buffer.active.viewportY,s=Math.max(E,0),f=Math.min(d,w.rows-1);s>=w.rows||f<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=y,this.viewportStartRow=E,this.viewportEndRow=d,this.viewportCappedStartRow=s,this.viewportCappedEndRow=f,this.startCol=h[0],this.endCol=b[0])}isCellSelected(w,h,b){return!!this.hasSelection&&(b-=w.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?h>=this.startCol&&b>=this.viewportCappedStartRow&&h<this.endCol&&b<=this.viewportCappedEndRow:h<this.startCol&&b>=this.viewportCappedStartRow&&h>=this.endCol&&b<=this.viewportCappedEndRow:b>this.viewportStartRow&&b<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&b===this.viewportStartRow&&h>=this.startCol&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&b===this.viewportEndRow&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&b===this.viewportStartRow&&h>=this.startCol)}}c.createSelectionRenderModel=function(){return new v}},509:function(C,c,v){var m=this&&this.__decorate||function(V,k,Y,q){var J,ae=arguments.length,se=ae<3?k:null===q?q=Object.getOwnPropertyDescriptor(k,Y):q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)se=Reflect.decorate(V,k,Y,q);else for(var we=V.length-1;we>=0;we--)(J=V[we])&&(se=(ae<3?J(se):ae>3?J(k,Y,se):J(k,Y))||se);return ae>3&&se&&Object.defineProperty(k,Y,se),se};Object.defineProperty(c,"__esModule",{value:!0}),c.TextureAtlas=void 0;const w=v(237),h=v(860),b=v(374),y=v(160),E=v(345),d=v(485),s=v(385),f=v(147),u=v(855),p=v(776),S={texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},offset:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}};let I;class A{get pages(){return this._pages}constructor(k,Y,q){this._document=k,this._config=Y,this._unicodeService=q,this._didWarmUp=!1,this._cacheMap=new d.FourKeyMap,this._cacheMapCombined=new d.FourKeyMap,this._pages=[],this._activePages=[],this._workBoundingBox={top:0,left:0,bottom:0,right:0},this._workAttributeData=new f.AttributeData,this._textureSize=512,this._onAddTextureAtlasCanvas=new E.EventEmitter,this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=new E.EventEmitter,this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._requestClearModel=!1,this._createNewPage(),this._tmpCanvas=x(k,4*this._config.deviceCellWidth+4,this._config.deviceCellHeight+4),this._tmpCtx=(0,b.throwIfFalsy)(this._tmpCanvas.getContext("2d",{alpha:this._config.allowTransparency,willReadFrequently:!0}))}dispose(){for(const k of this.pages)k.canvas.remove();this._onAddTextureAtlasCanvas.dispose()}warmUp(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)}_doWarmUp(){const k=new s.IdleTaskQueue;for(let Y=33;Y<126;Y++)k.enqueue(()=>{if(!this._cacheMap.get(Y,u.DEFAULT_COLOR,u.DEFAULT_COLOR,u.DEFAULT_EXT)){const q=this._drawToCache(Y,u.DEFAULT_COLOR,u.DEFAULT_COLOR,u.DEFAULT_EXT);this._cacheMap.set(Y,u.DEFAULT_COLOR,u.DEFAULT_COLOR,u.DEFAULT_EXT,q)}})}beginFrame(){return this._requestClearModel}clearTexture(){if(0!==this._pages[0].currentRow.x||0!==this._pages[0].currentRow.y){for(const k of this._pages)k.clear();this._cacheMap.clear(),this._cacheMapCombined.clear(),this._didWarmUp=!1}}_createNewPage(){if(A.maxAtlasPages&&this._pages.length>=Math.max(4,A.maxAtlasPages)){const Y=this._pages.filter(K=>2*K.canvas.width<=(A.maxTextureSize||4096)).sort((K,ne)=>ne.canvas.width!==K.canvas.width?ne.canvas.width-K.canvas.width:ne.percentageUsed-K.percentageUsed);let q=-1,J=0;for(let K=0;K<Y.length;K++)if(Y[K].canvas.width!==J)q=K,J=Y[K].canvas.width;else if(K-q==3)break;const ae=Y.slice(q,q+4),se=ae.map(K=>K.glyphs[0].texturePage).sort((K,ne)=>K>ne?1:-1),ve=this._mergePages(ae,this.pages.length-ae.length);ve.version++;for(let K=se.length-1;K>=0;K--)this._deletePage(se[K]);this.pages.push(ve),this._requestClearModel=!0,this._onAddTextureAtlasCanvas.fire(ve.canvas)}const k=new B(this._document,this._textureSize);return this._pages.push(k),this._activePages.push(k),this._onAddTextureAtlasCanvas.fire(k.canvas),k}_mergePages(k,Y){const q=2*k[0].canvas.width,J=new B(this._document,q,k);for(const[ae,se]of k.entries()){const we=ae*se.canvas.width%q,ve=Math.floor(ae/2)*se.canvas.height;J.ctx.drawImage(se.canvas,we,ve);for(const ne of se.glyphs)ne.texturePage=Y,ne.sizeClipSpace.x=ne.size.x/q,ne.sizeClipSpace.y=ne.size.y/q,ne.texturePosition.x+=we,ne.texturePosition.y+=ve,ne.texturePositionClipSpace.x=ne.texturePosition.x/q,ne.texturePositionClipSpace.y=ne.texturePosition.y/q;this._onRemoveTextureAtlasCanvas.fire(se.canvas);const K=this._activePages.indexOf(se);-1!==K&&this._activePages.splice(K,1)}return J}_deletePage(k){this._pages.splice(k,1);for(let Y=k;Y<this._pages.length;Y++){const q=this._pages[Y];for(const J of q.glyphs)J.texturePage--;q.version++}}getRasterizedGlyphCombinedChar(k,Y,q,J,ae){return this._getFromCacheMap(this._cacheMapCombined,k,Y,q,J,ae)}getRasterizedGlyph(k,Y,q,J,ae){return this._getFromCacheMap(this._cacheMap,k,Y,q,J,ae)}_getFromCacheMap(k,Y,q,J,ae,se=!1){return I=k.get(Y,q,J,ae),I||(I=this._drawToCache(Y,q,J,ae,se),k.set(Y,q,J,ae,I)),I}_getColorFromAnsiIndex(k){if(k>=this._config.colors.ansi.length)throw new Error("No color found for idx "+k);return this._config.colors.ansi[k]}_getBackgroundColor(k,Y,q,J){if(this._config.allowTransparency)return y.NULL_COLOR;let ae;switch(k){case 16777216:case 33554432:ae=this._getColorFromAnsiIndex(Y);break;case 50331648:const se=f.AttributeData.toColorRGB(Y);ae=y.rgba.toColor(se[0],se[1],se[2]);break;default:ae=q?y.color.opaque(this._config.colors.foreground):this._config.colors.background}return ae}_getForegroundColor(k,Y,q,J,ae,se,we,ve,K,ne){const re=this._getMinimumContrastColor(k,Y,q,J,ae,se,!1,K,ve,ne);if(re)return re;let de;switch(ae){case 16777216:case 33554432:this._config.drawBoldTextInBrightColors&&K&&se<8&&(se+=8),de=this._getColorFromAnsiIndex(se);break;case 50331648:const Ue=f.AttributeData.toColorRGB(se);de=y.rgba.toColor(Ue[0],Ue[1],Ue[2]);break;default:de=we?this._config.colors.background:this._config.colors.foreground}return this._config.allowTransparency&&(de=y.color.opaque(de)),ve&&(de=y.color.multiplyOpacity(de,w.DIM_OPACITY)),de}_resolveBackgroundRgba(k,Y,q){switch(k){case 16777216:case 33554432:return this._getColorFromAnsiIndex(Y).rgba;case 50331648:return Y<<8;default:return q?this._config.colors.foreground.rgba:this._config.colors.background.rgba}}_resolveForegroundRgba(k,Y,q,J){switch(k){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&J&&Y<8&&(Y+=8),this._getColorFromAnsiIndex(Y).rgba;case 50331648:return Y<<8;default:return q?this._config.colors.background.rgba:this._config.colors.foreground.rgba}}_getMinimumContrastColor(k,Y,q,J,ae,se,we,ve,K,ne){if(1===this._config.minimumContrastRatio||ne)return;const re=this._getContrastCache(K),de=re.getColor(k,J);if(void 0!==de)return de||void 0;const Ue=this._resolveBackgroundRgba(Y,q,we),ze=this._resolveForegroundRgba(ae,se,we,ve),Qe=y.rgba.ensureContrastRatio(Ue,ze,this._config.minimumContrastRatio/(K?2:1));if(!Qe)return void re.setColor(k,J,null);const Ye=y.rgba.toColor(Qe>>24&255,Qe>>16&255,Qe>>8&255);return re.setColor(k,J,Ye),Ye}_getContrastCache(k){return k?this._config.colors.halfContrastCache:this._config.colors.contrastCache}_drawToCache(k,Y,q,J,ae=!1){const se="number"==typeof k?String.fromCharCode(k):k,we=Math.min(this._config.deviceCellWidth*Math.max(se.length,2)+4,this._textureSize);this._tmpCanvas.width<we&&(this._tmpCanvas.width=we);const ve=Math.min(this._config.deviceCellHeight+8,this._textureSize);if(this._tmpCanvas.height<ve&&(this._tmpCanvas.height=ve),this._tmpCtx.save(),this._workAttributeData.fg=q,this._workAttributeData.bg=Y,this._workAttributeData.extended.ext=J,this._workAttributeData.isInvisible())return S;const K=!!this._workAttributeData.isBold(),ne=!!this._workAttributeData.isInverse(),re=!!this._workAttributeData.isDim(),de=!!this._workAttributeData.isItalic(),Ue=!!this._workAttributeData.isUnderline(),ze=!!this._workAttributeData.isStrikethrough(),Qe=!!this._workAttributeData.isOverline();let Ye=this._workAttributeData.getFgColor(),Se=this._workAttributeData.getFgColorMode(),ie=this._workAttributeData.getBgColor(),Ne=this._workAttributeData.getBgColorMode();if(ne){const Te=Ye;Ye=ie,ie=Te;const Ke=Se;Se=Ne,Ne=Ke}const Pe=this._getBackgroundColor(Ne,ie,ne,re);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=Pe.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation="source-over",this._tmpCtx.font=`${de?"italic":""} ${K?this._config.fontWeightBold:this._config.fontWeight} ${this._config.fontSize*this._config.devicePixelRatio}px ${this._config.fontFamily}`,this._tmpCtx.textBaseline=w.TEXT_BASELINE;const Et=1===se.length&&(0,b.isPowerlineGlyph)(se.charCodeAt(0)),Ot=1===se.length&&(0,b.isRestrictedPowerlineGlyph)(se.charCodeAt(0)),St=this._getForegroundColor(Y,Ne,ie,q,Se,Ye,ne,re,K,(0,b.excludeFromContrastRatioDemands)(se.charCodeAt(0)));this._tmpCtx.fillStyle=St.css;const bt=Ot?0:4;let ht=!1;!1!==this._config.customGlyphs&&(ht=(0,h.tryDrawCustomChar)(this._tmpCtx,se,bt,bt,this._config.deviceCellWidth,this._config.deviceCellHeight,this._config.fontSize,this._config.devicePixelRatio));let qt,dt=!Et;if(qt="number"==typeof k?this._unicodeService.wcwidth(k):this._unicodeService.getStringCellWidth(k),Ue){this._tmpCtx.save();const Te=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),Ke=Te%2==1?.5:0;if(this._tmpCtx.lineWidth=Te,this._workAttributeData.isUnderlineColorDefault())this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle;else if(this._workAttributeData.isUnderlineColorRGB())dt=!1,this._tmpCtx.strokeStyle=`rgb(${f.AttributeData.toColorRGB(this._workAttributeData.getUnderlineColor()).join(",")})`;else{dt=!1;let Re=this._workAttributeData.getUnderlineColor();this._config.drawBoldTextInBrightColors&&this._workAttributeData.isBold()&&Re<8&&(Re+=8),this._tmpCtx.strokeStyle=this._getColorFromAnsiIndex(Re).css}this._tmpCtx.beginPath();const ge=bt,ye=Math.ceil(bt+this._config.deviceCharHeight)-Ke-(ae?2*Te:0),fe=ye+Te,Me=ye+2*Te;for(let Re=0;Re<qt;Re++){this._tmpCtx.save();const ke=ge+Re*this._config.deviceCellWidth,Xe=ge+(Re+1)*this._config.deviceCellWidth,lt=ke+this._config.deviceCellWidth/2;switch(this._workAttributeData.extended.underlineStyle){case 2:this._tmpCtx.moveTo(ke,ye),this._tmpCtx.lineTo(Xe,ye),this._tmpCtx.moveTo(ke,Me),this._tmpCtx.lineTo(Xe,Me);break;case 3:const rn=Te<=1?Me:Math.ceil(bt+this._config.deviceCharHeight-Te/2)-Ke,wt=Te<=1?ye:Math.ceil(bt+this._config.deviceCharHeight+Te/2)-Ke,qe=new Path2D;qe.rect(ke,ye,this._config.deviceCellWidth,Me-ye),this._tmpCtx.clip(qe),this._tmpCtx.moveTo(ke-this._config.deviceCellWidth/2,fe),this._tmpCtx.bezierCurveTo(ke-this._config.deviceCellWidth/2,wt,ke,wt,ke,fe),this._tmpCtx.bezierCurveTo(ke,rn,lt,rn,lt,fe),this._tmpCtx.bezierCurveTo(lt,wt,Xe,wt,Xe,fe),this._tmpCtx.bezierCurveTo(Xe,rn,Xe+this._config.deviceCellWidth/2,rn,Xe+this._config.deviceCellWidth/2,fe);break;case 4:this._tmpCtx.setLineDash([Math.round(Te),Math.round(Te)]),this._tmpCtx.moveTo(ke,ye),this._tmpCtx.lineTo(Xe,ye);break;case 5:this._tmpCtx.setLineDash([4*this._config.devicePixelRatio,3*this._config.devicePixelRatio]),this._tmpCtx.moveTo(ke,ye),this._tmpCtx.lineTo(Xe,ye);break;default:this._tmpCtx.moveTo(ke,ye),this._tmpCtx.lineTo(Xe,ye)}this._tmpCtx.stroke(),this._tmpCtx.restore()}if(this._tmpCtx.restore(),!ht&&this._config.fontSize>=12&&!this._config.allowTransparency&&" "!==se){this._tmpCtx.save(),this._tmpCtx.textBaseline="alphabetic";const Re=this._tmpCtx.measureText(se);if(this._tmpCtx.restore(),"actualBoundingBoxDescent"in Re&&Re.actualBoundingBoxDescent>0){this._tmpCtx.save();const ke=new Path2D;ke.rect(ge,ye-Math.ceil(Te/2),this._config.deviceCellWidth*qt,Me-ye+Math.ceil(Te/2)),this._tmpCtx.clip(ke),this._tmpCtx.lineWidth=3*this._config.devicePixelRatio,this._tmpCtx.strokeStyle=Pe.css,this._tmpCtx.strokeText(se,bt,bt+this._config.deviceCharHeight),this._tmpCtx.restore()}}}if(Qe){const Te=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),Ke=Te%2==1?.5:0;this._tmpCtx.lineWidth=Te,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(bt,bt+Ke),this._tmpCtx.lineTo(bt+this._config.deviceCharWidth*qt,bt+Ke),this._tmpCtx.stroke()}if(ht||this._tmpCtx.fillText(se,bt,bt+this._config.deviceCharHeight),"_"===se&&!this._config.allowTransparency){let Te=g(this._tmpCtx.getImageData(bt,bt,this._config.deviceCellWidth,this._config.deviceCellHeight),Pe,St,dt);if(Te)for(let Ke=1;Ke<=5&&(this._tmpCtx.save(),this._tmpCtx.fillStyle=Pe.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.restore(),this._tmpCtx.fillText(se,bt,bt+this._config.deviceCharHeight-Ke),Te=g(this._tmpCtx.getImageData(bt,bt,this._config.deviceCellWidth,this._config.deviceCellHeight),Pe,St,dt),Te);Ke++);}if(ze){const Te=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/10)),Ke=this._tmpCtx.lineWidth%2==1?.5:0;this._tmpCtx.lineWidth=Te,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(bt,bt+Math.floor(this._config.deviceCharHeight/2)-Ke),this._tmpCtx.lineTo(bt+this._config.deviceCharWidth*qt,bt+Math.floor(this._config.deviceCharHeight/2)-Ke),this._tmpCtx.stroke()}this._tmpCtx.restore();const Pt=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height);let jt;if(jt=this._config.allowTransparency?function(Te){for(let Ke=0;Ke<Te.data.length;Ke+=4)if(Te.data[Ke+3]>0)return!1;return!0}(Pt):g(Pt,Pe,St,dt),jt)return S;const nt=this._findGlyphBoundingBox(Pt,this._workBoundingBox,we,Ot,ht,bt);let We,ot;for(;;){if(0===this._activePages.length){const Te=this._createNewPage();We=Te,ot=Te.currentRow,ot.height=nt.size.y;break}We=this._activePages[this._activePages.length-1],ot=We.currentRow;for(const Te of this._activePages)nt.size.y<=Te.currentRow.height&&(We=Te,ot=Te.currentRow);for(let Te=this._activePages.length-1;Te>=0;Te--)for(const Ke of this._activePages[Te].fixedRows)Ke.height<=ot.height&&nt.size.y<=Ke.height&&(We=this._activePages[Te],ot=Ke);if(ot.y+nt.size.y>=We.canvas.height||ot.height>nt.size.y+2){let Te=!1;if(We.currentRow.y+We.currentRow.height+nt.size.y>=We.canvas.height){let Ke;for(const ge of this._activePages)if(ge.currentRow.y+ge.currentRow.height+nt.size.y<ge.canvas.height){Ke=ge;break}if(Ke)We=Ke;else if(A.maxAtlasPages&&this._pages.length>=A.maxAtlasPages&&ot.y+nt.size.y<=We.canvas.height&&ot.height>=nt.size.y&&ot.x+nt.size.x<=We.canvas.width)Te=!0;else{const ge=this._createNewPage();We=ge,ot=ge.currentRow,ot.height=nt.size.y,Te=!0}}Te||(We.currentRow.height>0&&We.fixedRows.push(We.currentRow),ot={x:0,y:We.currentRow.y+We.currentRow.height,height:nt.size.y},We.fixedRows.push(ot),We.currentRow={x:0,y:ot.y+ot.height,height:0})}if(ot.x+nt.size.x<=We.canvas.width)break;ot===We.currentRow?(ot.x=0,ot.y+=ot.height,ot.height=0):We.fixedRows.splice(We.fixedRows.indexOf(ot),1)}return nt.texturePage=this._pages.indexOf(We),nt.texturePosition.x=ot.x,nt.texturePosition.y=ot.y,nt.texturePositionClipSpace.x=ot.x/We.canvas.width,nt.texturePositionClipSpace.y=ot.y/We.canvas.height,nt.sizeClipSpace.x/=We.canvas.width,nt.sizeClipSpace.y/=We.canvas.height,ot.height=Math.max(ot.height,nt.size.y),ot.x+=nt.size.x,We.ctx.putImageData(Pt,nt.texturePosition.x-this._workBoundingBox.left,nt.texturePosition.y-this._workBoundingBox.top,this._workBoundingBox.left,this._workBoundingBox.top,nt.size.x,nt.size.y),We.addGlyph(nt),We.version++,nt}_findGlyphBoundingBox(k,Y,q,J,ae,se){Y.top=0;const we=J?this._config.deviceCellHeight:this._tmpCanvas.height,ve=J?this._config.deviceCellWidth:q;let K=!1;for(let ne=0;ne<we;ne++){for(let re=0;re<ve;re++)if(0!==k.data[ne*this._tmpCanvas.width*4+4*re+3]){Y.top=ne,K=!0;break}if(K)break}Y.left=0,K=!1;for(let ne=0;ne<se+ve;ne++){for(let re=0;re<we;re++)if(0!==k.data[re*this._tmpCanvas.width*4+4*ne+3]){Y.left=ne,K=!0;break}if(K)break}Y.right=ve,K=!1;for(let ne=se+ve-1;ne>=se;ne--){for(let re=0;re<we;re++)if(0!==k.data[re*this._tmpCanvas.width*4+4*ne+3]){Y.right=ne,K=!0;break}if(K)break}Y.bottom=we,K=!1;for(let ne=we-1;ne>=0;ne--){for(let re=0;re<ve;re++)if(0!==k.data[ne*this._tmpCanvas.width*4+4*re+3]){Y.bottom=ne,K=!0;break}if(K)break}return{texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:Y.right-Y.left+1,y:Y.bottom-Y.top+1},sizeClipSpace:{x:Y.right-Y.left+1,y:Y.bottom-Y.top+1},offset:{x:-Y.left+se+(J||ae?Math.floor((this._config.deviceCellWidth-this._config.deviceCharWidth)/2):0),y:-Y.top+se+(J||ae?1===this._config.lineHeight?0:Math.round((this._config.deviceCellHeight-this._config.deviceCharHeight)/2):0)}}}}c.TextureAtlas=A,m([p.traceCall],A.prototype,"_drawToCache",null);class B{get percentageUsed(){return this._usedPixels/(this.canvas.width*this.canvas.height)}get glyphs(){return this._glyphs}addGlyph(k){this._glyphs.push(k),this._usedPixels+=k.size.x*k.size.y}constructor(k,Y,q){if(this._usedPixels=0,this._glyphs=[],this.version=0,this.currentRow={x:0,y:0,height:0},this.fixedRows=[],q)for(const J of q)this._glyphs.push(...J.glyphs),this._usedPixels+=J._usedPixels;this.canvas=x(k,Y,Y),this.ctx=(0,b.throwIfFalsy)(this.canvas.getContext("2d",{alpha:!0}))}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.currentRow.x=0,this.currentRow.y=0,this.currentRow.height=0,this.fixedRows.length=0,this.version++}}function g(V,k,Y,q){const J=k.rgba>>>24,ae=k.rgba>>>16&255,se=k.rgba>>>8&255,ve=Y.rgba>>>16&255,K=Y.rgba>>>8&255,ne=Math.floor((Math.abs(J-(Y.rgba>>>24))+Math.abs(ae-ve)+Math.abs(se-K))/12);let re=!0;for(let de=0;de<V.data.length;de+=4)V.data[de]===J&&V.data[de+1]===ae&&V.data[de+2]===se||q&&Math.abs(V.data[de]-J)+Math.abs(V.data[de+1]-ae)+Math.abs(V.data[de+2]-se)<ne?V.data[de+3]=0:re=!1;return re}function x(V,k,Y){const q=V.createElement("canvas");return q.width=k,q.height=Y,q}},160:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.contrastRatio=c.toPaddedHex=c.rgba=c.rgb=c.css=c.color=c.channels=c.NULL_COLOR=void 0;const m=v(399);let w=0,h=0,b=0,y=0;var E,d,s,f,u,I;function p(I){const A=I.toString(16);return A.length<2?"0"+A:A}function S(I,A){return I<A?(A+.05)/(I+.05):(I+.05)/(A+.05)}c.NULL_COLOR={css:"#00000000",rgba:0},(I=E||(c.channels=E={})).toCss=function(A,B,g,x){return void 0!==x?`#${p(A)}${p(B)}${p(g)}${p(x)}`:`#${p(A)}${p(B)}${p(g)}`},I.toRgba=function(A,B,g,x=255){return(A<<24|B<<16|g<<8|x)>>>0},function(I){function A(B,g){return y=Math.round(255*g),[w,h,b]=u.toChannels(B.rgba),{css:E.toCss(w,h,b,y),rgba:E.toRgba(w,h,b,y)}}I.blend=function(B,g){if(y=(255&g.rgba)/255,1===y)return{css:g.css,rgba:g.rgba};const V=g.rgba>>16&255,k=g.rgba>>8&255,Y=B.rgba>>24&255,q=B.rgba>>16&255,J=B.rgba>>8&255;return w=Y+Math.round(((g.rgba>>24&255)-Y)*y),h=q+Math.round((V-q)*y),b=J+Math.round((k-J)*y),{css:E.toCss(w,h,b),rgba:E.toRgba(w,h,b)}},I.isOpaque=function(B){return 255==(255&B.rgba)},I.ensureContrastRatio=function(B,g,x){const V=u.ensureContrastRatio(B.rgba,g.rgba,x);if(V)return u.toColor(V>>24&255,V>>16&255,V>>8&255)},I.opaque=function(B){const g=(255|B.rgba)>>>0;return[w,h,b]=u.toChannels(g),{css:E.toCss(w,h,b),rgba:g}},I.opacity=A,I.multiplyOpacity=function(B,g){return y=255&B.rgba,A(B,y*g/255)},I.toColorRGB=function(B){return[B.rgba>>24&255,B.rgba>>16&255,B.rgba>>8&255]}}(d||(c.color=d={})),function(I){let A,B;if(!m.isNode){const g=document.createElement("canvas");g.width=1,g.height=1;const x=g.getContext("2d",{willReadFrequently:!0});x&&(A=x,A.globalCompositeOperation="copy",B=A.createLinearGradient(0,0,1,1))}I.toColor=function(g){if(g.match(/#[\da-f]{3,8}/i))switch(g.length){case 4:return w=parseInt(g.slice(1,2).repeat(2),16),h=parseInt(g.slice(2,3).repeat(2),16),b=parseInt(g.slice(3,4).repeat(2),16),u.toColor(w,h,b);case 5:return w=parseInt(g.slice(1,2).repeat(2),16),h=parseInt(g.slice(2,3).repeat(2),16),b=parseInt(g.slice(3,4).repeat(2),16),y=parseInt(g.slice(4,5).repeat(2),16),u.toColor(w,h,b,y);case 7:return{css:g,rgba:(parseInt(g.slice(1),16)<<8|255)>>>0};case 9:return{css:g,rgba:parseInt(g.slice(1),16)>>>0}}const x=g.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(x)return w=parseInt(x[1]),h=parseInt(x[2]),b=parseInt(x[3]),y=Math.round(255*(void 0===x[5]?1:parseFloat(x[5]))),u.toColor(w,h,b,y);if(!A||!B)throw new Error("css.toColor: Unsupported css format");if(A.fillStyle=B,A.fillStyle=g,"string"!=typeof A.fillStyle)throw new Error("css.toColor: Unsupported css format");if(A.fillRect(0,0,1,1),[w,h,b,y]=A.getImageData(0,0,1,1).data,255!==y)throw new Error("css.toColor: Unsupported css format");return{rgba:E.toRgba(w,h,b,y),css:g}}}(s||(c.css=s={})),function(I){function A(B,g,x){const V=B/255,k=g/255,Y=x/255;return.2126*(V<=.03928?V/12.92:Math.pow((V+.055)/1.055,2.4))+.7152*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))+.0722*(Y<=.03928?Y/12.92:Math.pow((Y+.055)/1.055,2.4))}I.relativeLuminance=function(B){return A(B>>16&255,B>>8&255,255&B)},I.relativeLuminance2=A}(f||(c.rgb=f={})),function(I){function A(g,x,V){const k=g>>24&255,Y=g>>16&255,q=g>>8&255;let J=x>>24&255,ae=x>>16&255,se=x>>8&255,we=S(f.relativeLuminance2(J,ae,se),f.relativeLuminance2(k,Y,q));for(;we<V&&(J>0||ae>0||se>0);)J-=Math.max(0,Math.ceil(.1*J)),ae-=Math.max(0,Math.ceil(.1*ae)),se-=Math.max(0,Math.ceil(.1*se)),we=S(f.relativeLuminance2(J,ae,se),f.relativeLuminance2(k,Y,q));return(J<<24|ae<<16|se<<8|255)>>>0}function B(g,x,V){const k=g>>24&255,Y=g>>16&255,q=g>>8&255;let J=x>>24&255,ae=x>>16&255,se=x>>8&255,we=S(f.relativeLuminance2(J,ae,se),f.relativeLuminance2(k,Y,q));for(;we<V&&(J<255||ae<255||se<255);)J=Math.min(255,J+Math.ceil(.1*(255-J))),ae=Math.min(255,ae+Math.ceil(.1*(255-ae))),se=Math.min(255,se+Math.ceil(.1*(255-se))),we=S(f.relativeLuminance2(J,ae,se),f.relativeLuminance2(k,Y,q));return(J<<24|ae<<16|se<<8|255)>>>0}I.ensureContrastRatio=function(g,x,V){const k=f.relativeLuminance(g>>8),Y=f.relativeLuminance(x>>8);if(S(k,Y)<V){if(Y<k){const ae=A(g,x,V),se=S(k,f.relativeLuminance(ae>>8));if(se<V){const we=B(g,x,V);return se>S(k,f.relativeLuminance(we>>8))?ae:we}return ae}const q=B(g,x,V),J=S(k,f.relativeLuminance(q>>8));if(J<V){const ae=A(g,x,V);return J>S(k,f.relativeLuminance(ae>>8))?q:ae}return q}},I.reduceLuminance=A,I.increaseLuminance=B,I.toChannels=function(g){return[g>>24&255,g>>16&255,g>>8&255,255&g]},I.toColor=function(g,x,V,k){return{css:E.toCss(g,x,V,k),rgba:E.toRgba(g,x,V,k)}}}(u||(c.rgba=u={})),c.toPaddedHex=p,c.contrastRatio=S},345:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.forwardEvent=c.EventEmitter=void 0,c.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=v=>(this._listeners.push(v),{dispose:()=>{if(!this._disposed)for(let m=0;m<this._listeners.length;m++)if(this._listeners[m]===v)return void this._listeners.splice(m,1)}})),this._event}fire(v,m){const w=[];for(let h=0;h<this._listeners.length;h++)w.push(this._listeners[h]);for(let h=0;h<w.length;h++)w[h].call(void 0,v,m)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},c.forwardEvent=function(v,m){return v(w=>m.fire(w))}},859:(C,c)=>{function v(m){for(const w of m)w.dispose();m.length=0}Object.defineProperty(c,"__esModule",{value:!0}),c.getDisposeArrayDisposable=c.disposeArray=c.toDisposable=c.MutableDisposable=c.Disposable=void 0,c.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const m of this._disposables)m.dispose();this._disposables.length=0}register(m){return this._disposables.push(m),m}unregister(m){const w=this._disposables.indexOf(m);-1!==w&&this._disposables.splice(w,1)}},c.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(m){var w;this._isDisposed||m===this._value||(null===(w=this._value)||void 0===w||w.dispose(),this._value=m)}clear(){this.value=void 0}dispose(){var m;this._isDisposed=!0,null===(m=this._value)||void 0===m||m.dispose(),this._value=void 0}},c.toDisposable=function(m){return{dispose:m}},c.disposeArray=v,c.getDisposeArrayDisposable=function(m){return{dispose:()=>v(m)}}},485:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FourKeyMap=c.TwoKeyMap=void 0;class v{constructor(){this._data={}}set(w,h,b){this._data[w]||(this._data[w]={}),this._data[w][h]=b}get(w,h){return this._data[w]?this._data[w][h]:void 0}clear(){this._data={}}}c.TwoKeyMap=v,c.FourKeyMap=class{constructor(){this._data=new v}set(m,w,h,b,y){this._data.get(m,w)||this._data.set(m,w,new v),this._data.get(m,w).set(h,b,y)}get(m,w,h,b){var y;return null===(y=this._data.get(m,w))||void 0===y?void 0:y.get(h,b)}clear(){this._data.clear()}}},399:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.isChromeOS=c.isLinux=c.isWindows=c.isIphone=c.isIpad=c.isMac=c.getSafariVersion=c.isSafari=c.isLegacyEdge=c.isFirefox=c.isNode=void 0,c.isNode=typeof navigator>"u";const v=c.isNode?"node":navigator.userAgent,m=c.isNode?"node":navigator.platform;c.isFirefox=v.includes("Firefox"),c.isLegacyEdge=v.includes("Edge"),c.isSafari=/^((?!chrome|android).)*safari/i.test(v),c.getSafariVersion=function(){if(!c.isSafari)return 0;const w=v.match(/Version\/(\d+)/);return null===w||w.length<2?0:parseInt(w[1])},c.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(m),c.isIpad="iPad"===m,c.isIphone="iPhone"===m,c.isWindows=["Windows","Win16","Win32","WinCE"].includes(m),c.isLinux=m.indexOf("Linux")>=0,c.isChromeOS=/\bCrOS\b/.test(v)},385:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DebouncedIdleTask=c.IdleTaskQueue=c.PriorityTaskQueue=void 0;const m=v(399);class w{constructor(){this._tasks=[],this._i=0}enqueue(y){this._tasks.push(y),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(y){this._idleCallback=void 0;let E=0,d=0,s=y.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(E=Date.now(),this._tasks[this._i]()||this._i++,E=Math.max(1,Date.now()-E),d=Math.max(E,d),f=y.timeRemaining(),1.5*d>f)return s-E<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(s-E))}ms`),void this._start();s=f}this.clear()}}class h extends w{_requestCallback(y){return setTimeout(()=>y(this._createDeadline(16)))}_cancelCallback(y){clearTimeout(y)}_createDeadline(y){const E=Date.now()+y;return{timeRemaining:()=>Math.max(0,E-Date.now())}}}c.PriorityTaskQueue=h,c.IdleTaskQueue=!m.isNode&&"requestIdleCallback"in window?class extends w{_requestCallback(b){return requestIdleCallback(b)}_cancelCallback(b){cancelIdleCallback(b)}}:h,c.DebouncedIdleTask=class{constructor(){this._queue=new c.IdleTaskQueue}set(b){this._queue.clear(),this._queue.enqueue(b)}flush(){this._queue.flush()}}},147:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ExtendedAttrs=c.AttributeData=void 0;class v{constructor(){this.fg=0,this.bg=0,this.extended=new m}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new v;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}c.AttributeData=v;class m{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}constructor(h=0,b=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=b}clone(){return new m(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}c.ExtendedAttrs=m},782:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CellData=void 0;const m=v(133),w=v(855),h=v(147);class b extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(E){const d=new b;return d.setFromCharData(E),d}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,m.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(E){this.fg=E[w.CHAR_DATA_ATTR_INDEX],this.bg=0;let d=!1;if(E[w.CHAR_DATA_CHAR_INDEX].length>2)d=!0;else if(2===E[w.CHAR_DATA_CHAR_INDEX].length){const s=E[w.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=s&&s<=56319){const f=E[w.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(s-55296)+f-56320+65536|E[w.CHAR_DATA_WIDTH_INDEX]<<22:d=!0}else d=!0}else this.content=E[w.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|E[w.CHAR_DATA_WIDTH_INDEX]<<22;d&&(this.combinedData=E[w.CHAR_DATA_CHAR_INDEX],this.content=2097152|E[w.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}c.CellData=b},855:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WHITESPACE_CELL_CODE=c.WHITESPACE_CELL_WIDTH=c.WHITESPACE_CELL_CHAR=c.NULL_CELL_CODE=c.NULL_CELL_WIDTH=c.NULL_CELL_CHAR=c.CHAR_DATA_CODE_INDEX=c.CHAR_DATA_WIDTH_INDEX=c.CHAR_DATA_CHAR_INDEX=c.CHAR_DATA_ATTR_INDEX=c.DEFAULT_EXT=c.DEFAULT_ATTR=c.DEFAULT_COLOR=void 0,c.DEFAULT_COLOR=0,c.DEFAULT_ATTR=256|c.DEFAULT_COLOR<<9,c.DEFAULT_EXT=0,c.CHAR_DATA_ATTR_INDEX=0,c.CHAR_DATA_CHAR_INDEX=1,c.CHAR_DATA_WIDTH_INDEX=2,c.CHAR_DATA_CODE_INDEX=3,c.NULL_CELL_CHAR="",c.NULL_CELL_WIDTH=1,c.NULL_CELL_CODE=0,c.WHITESPACE_CELL_CHAR=" ",c.WHITESPACE_CELL_WIDTH=1,c.WHITESPACE_CELL_CODE=32},133:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Utf8ToUtf32=c.StringToUtf32=c.utf32ToString=c.stringFromCodePoint=void 0,c.stringFromCodePoint=function(v){return v>65535?(v-=65536,String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):String.fromCharCode(v)},c.utf32ToString=function(v,m=0,w=v.length){let h="";for(let b=m;b<w;++b){let y=v[b];y>65535?(y-=65536,h+=String.fromCharCode(55296+(y>>10))+String.fromCharCode(y%1024+56320)):h+=String.fromCharCode(y)}return h},c.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(v,m){const w=v.length;if(!w)return 0;let h=0,b=0;if(this._interim){const y=v.charCodeAt(b++);56320<=y&&y<=57343?m[h++]=1024*(this._interim-55296)+y-56320+65536:(m[h++]=this._interim,m[h++]=y),this._interim=0}for(let y=b;y<w;++y){const E=v.charCodeAt(y);if(55296<=E&&E<=56319){if(++y>=w)return this._interim=E,h;const d=v.charCodeAt(y);56320<=d&&d<=57343?m[h++]=1024*(E-55296)+d-56320+65536:(m[h++]=E,m[h++]=d)}else 65279!==E&&(m[h++]=E)}return h}},c.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(v,m){const w=v.length;if(!w)return 0;let h,b,y,E,d=0,s=0,f=0;if(this.interim[0]){let S=!1,I=this.interim[0];I&=192==(224&I)?31:224==(240&I)?15:7;let A,B=0;for(;(A=63&this.interim[++B])&&B<4;)I<<=6,I|=A;const g=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,x=g-B;for(;f<x;){if(f>=w)return 0;if(A=v[f++],128!=(192&A)){f--,S=!0;break}this.interim[B++]=A,I<<=6,I|=63&A}S||(2===g?I<128?f--:m[d++]=I:3===g?I<2048||I>=55296&&I<=57343||65279===I||(m[d++]=I):I<65536||I>1114111||(m[d++]=I)),this.interim.fill(0)}const u=w-4;let p=f;for(;p<w;){for(;!(!(p<u)||128&(h=v[p])||128&(b=v[p+1])||128&(y=v[p+2])||128&(E=v[p+3]));)m[d++]=h,m[d++]=b,m[d++]=y,m[d++]=E,p+=4;if(h=v[p++],h<128)m[d++]=h;else if(192==(224&h)){if(p>=w)return this.interim[0]=h,d;if(b=v[p++],128!=(192&b)){p--;continue}if(s=(31&h)<<6|63&b,s<128){p--;continue}m[d++]=s}else if(224==(240&h)){if(p>=w)return this.interim[0]=h,d;if(b=v[p++],128!=(192&b)){p--;continue}if(p>=w)return this.interim[0]=h,this.interim[1]=b,d;if(y=v[p++],128!=(192&y)){p--;continue}if(s=(15&h)<<12|(63&b)<<6|63&y,s<2048||s>=55296&&s<=57343||65279===s)continue;m[d++]=s}else if(240==(248&h)){if(p>=w)return this.interim[0]=h,d;if(b=v[p++],128!=(192&b)){p--;continue}if(p>=w)return this.interim[0]=h,this.interim[1]=b,d;if(y=v[p++],128!=(192&y)){p--;continue}if(p>=w)return this.interim[0]=h,this.interim[1]=b,this.interim[2]=y,d;if(E=v[p++],128!=(192&E)){p--;continue}if(s=(7&h)<<18|(63&b)<<12|(63&y)<<6|63&E,s<65536||s>1114111)continue;m[d++]=s}}return d}}},776:function(C,c,v){var m=this&&this.__decorate||function(s,f,u,p){var S,I=arguments.length,A=I<3?f:null===p?p=Object.getOwnPropertyDescriptor(f,u):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(s,f,u,p);else for(var B=s.length-1;B>=0;B--)(S=s[B])&&(A=(I<3?S(A):I>3?S(f,u,A):S(f,u))||A);return I>3&&A&&Object.defineProperty(f,u,A),A},w=this&&this.__param||function(s,f){return function(u,p){f(u,p,s)}};Object.defineProperty(c,"__esModule",{value:!0}),c.traceCall=c.setTraceLogger=c.LogService=void 0;const h=v(859),b=v(97),y={trace:b.LogLevelEnum.TRACE,debug:b.LogLevelEnum.DEBUG,info:b.LogLevelEnum.INFO,warn:b.LogLevelEnum.WARN,error:b.LogLevelEnum.ERROR,off:b.LogLevelEnum.OFF};let E,d=c.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(s){super(),this._optionsService=s,this._logLevel=b.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),E=this}_updateLogLevel(){this._logLevel=y[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(s){for(let f=0;f<s.length;f++)"function"==typeof s[f]&&(s[f]=s[f]())}_log(s,f,u){this._evalLazyOptionalParams(u),s.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+f,...u)}trace(s,...f){var u,p;this._logLevel<=b.LogLevelEnum.TRACE&&this._log(null!==(p=null===(u=this._optionsService.options.logger)||void 0===u?void 0:u.trace.bind(this._optionsService.options.logger))&&void 0!==p?p:console.log,s,f)}debug(s,...f){var u,p;this._logLevel<=b.LogLevelEnum.DEBUG&&this._log(null!==(p=null===(u=this._optionsService.options.logger)||void 0===u?void 0:u.debug.bind(this._optionsService.options.logger))&&void 0!==p?p:console.log,s,f)}info(s,...f){var u,p;this._logLevel<=b.LogLevelEnum.INFO&&this._log(null!==(p=null===(u=this._optionsService.options.logger)||void 0===u?void 0:u.info.bind(this._optionsService.options.logger))&&void 0!==p?p:console.info,s,f)}warn(s,...f){var u,p;this._logLevel<=b.LogLevelEnum.WARN&&this._log(null!==(p=null===(u=this._optionsService.options.logger)||void 0===u?void 0:u.warn.bind(this._optionsService.options.logger))&&void 0!==p?p:console.warn,s,f)}error(s,...f){var u,p;this._logLevel<=b.LogLevelEnum.ERROR&&this._log(null!==(p=null===(u=this._optionsService.options.logger)||void 0===u?void 0:u.error.bind(this._optionsService.options.logger))&&void 0!==p?p:console.error,s,f)}};c.LogService=d=m([w(0,b.IOptionsService)],d),c.setTraceLogger=function(s){E=s},c.traceCall=function(s,f,u){if("function"!=typeof u.value)throw new Error("not supported");const p=u.value;u.value=function(...S){if(E.logLevel!==b.LogLevelEnum.TRACE)return p.apply(this,S);E.trace(`GlyphRenderer#${p.name}(${S.map(A=>JSON.stringify(A)).join(", ")})`);const I=p.apply(this,S);return E.trace(`GlyphRenderer#${p.name} return`,I),I}}},726:(C,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createDecorator=c.getServiceDependencies=c.serviceRegistry=void 0;const v="di$target",m="di$dependencies";c.serviceRegistry=new Map,c.getServiceDependencies=function(w){return w[m]||[]},c.createDecorator=function(w){if(c.serviceRegistry.has(w))return c.serviceRegistry.get(w);const h=function(b,y,E){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");var d,s,f;d=h,f=E,(s=b)[v]===s?s[m].push({id:d,index:f}):(s[m]=[{id:d,index:f}],s[v]=s)};return h.toString=()=>w,c.serviceRegistry.set(w,h),h}},97:(C,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.IDecorationService=c.IUnicodeService=c.IOscLinkService=c.IOptionsService=c.ILogService=c.LogLevelEnum=c.IInstantiationService=c.ICharsetService=c.ICoreService=c.ICoreMouseService=c.IBufferService=void 0;const m=v(726);var w,h;c.IBufferService=(0,m.createDecorator)("BufferService"),c.ICoreMouseService=(0,m.createDecorator)("CoreMouseService"),c.ICoreService=(0,m.createDecorator)("CoreService"),c.ICharsetService=(0,m.createDecorator)("CharsetService"),c.IInstantiationService=(0,m.createDecorator)("InstantiationService"),(h=w||(c.LogLevelEnum=w={}))[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF",c.ILogService=(0,m.createDecorator)("LogService"),c.IOptionsService=(0,m.createDecorator)("OptionsService"),c.IOscLinkService=(0,m.createDecorator)("OscLinkService"),c.IUnicodeService=(0,m.createDecorator)("UnicodeService"),c.IDecorationService=(0,m.createDecorator)("DecorationService")}},Z={};function D(C){var c=Z[C];if(void 0!==c)return c.exports;var v=Z[C]={exports:{}};return Ve[C].call(v.exports,v,v.exports,D),v.exports}var $={};return(()=>{var C=$;Object.defineProperty(C,"__esModule",{value:!0}),C.WebglAddon=void 0;const c=D(345),v=D(859),m=D(399),w=D(666),h=D(776);C.WebglAddon=class b extends v.Disposable{constructor(E){if(m.isSafari&&(0,m.getSafariVersion)()<16)throw new Error("Webgl2 is only supported on Safari 16 and above");super(),this._preserveDrawingBuffer=E,this._onChangeTextureAtlas=this.register(new c.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new c.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new c.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onContextLoss=this.register(new c.EventEmitter),this.onContextLoss=this._onContextLoss.event}activate(E){const d=E._core;if(!E.element)return void this.register(d.onWillOpen(()=>this.activate(E)));this._terminal=E;const s=d.coreService,f=d.optionsService,p=d._renderService,S=d._characterJoinerService,I=d._charSizeService,A=d._coreBrowserService,B=d._decorationService,x=d._themeService;(0,h.setTraceLogger)(d._logService),this._renderer=this.register(new w.WebglRenderer(E,S,I,A,s,B,f,x,this._preserveDrawingBuffer)),this.register((0,c.forwardEvent)(this._renderer.onContextLoss,this._onContextLoss)),this.register((0,c.forwardEvent)(this._renderer.onChangeTextureAtlas,this._onChangeTextureAtlas)),this.register((0,c.forwardEvent)(this._renderer.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas)),this.register((0,c.forwardEvent)(this._renderer.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)),p.setRenderer(this._renderer),this.register((0,v.toDisposable)(()=>{const V=this._terminal._core._renderService;V.setRenderer(this._terminal._core._createRenderer()),V.handleResize(E.cols,E.rows)}))}get textureAtlas(){var E;return null===(E=this._renderer)||void 0===E?void 0:E.textureAtlas}clearTextureAtlas(){var E;null===(E=this._renderer)||void 0===E||E.clearTextureAtlas()}}})(),$})()},4486:(it,Ve,Z)=>{"use strict";Z.d(Ve,{vd:()=>Pt,M0:()=>Ke,Eo:()=>ht,qZ:()=>qt});var D=Z(4650),$=Z(8426),C=Z(5298),c=Z(5529),v=Z(6895),m=Z(6787),w=Z(2916),h=Z(3753),b=Z(2868),y=Z(6606),E=Z(1709),d=Z(5632),s=Z(4850),f=Z(3489);class p{call(ye,fe){return fe.subscribe(new S(ye))}}class S extends f.L{constructor(ye){super(ye),this.hasPrev=!1}_next(ye){let fe;this.hasPrev?fe=[this.prev,ye]:this.hasPrev=!0,this.prev=ye,fe&&this.destination.next(fe)}}var I=Z(2198),A=Z(7625);const B=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function x(ge,ye,fe,Me){const Re=ye.querySelectorAll(ge);if(Re.length){const ke=fe.querySelectorAll(ge);for(let Xe=0;Xe<Re.length;Xe++)Me(Re[Xe],ke[Xe])}}let V=0;function k(ge,ye){"file"!==ye.type&&(ye.value=ge.value),"radio"===ye.type&&ye.name&&(ye.name=`mat-clone-${ye.name}-${V++}`)}function Y(ge,ye){const fe=ye.getContext("2d");if(fe)try{fe.drawImage(ge,0,0)}catch{}}function q(ge,ye,fe,Me){const Re={top:ge.top,bottom:ge.bottom,left:ge.left,right:ge.right};return ye.top&&(Re.top+=Me),ye.bottom&&(Re.bottom+=Me),ye.left&&(Re.left+=fe),ye.right&&(Re.right+=fe),Re.height=Re.bottom-Re.top,Re.width=Re.right-Re.left,Re}const ae=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function se(ge,ye){return ge.left&&ge.top?ye.topLeft:ge.right&&ge.top?ye.topRight:ge.left&&ge.bottom?ye.bottomLeft:ge.right&&ge.bottom?ye.bottomRight:ge.left||ge.right?ye.leftOrRight:ge.top||ge.bottom?ye.topOrBottom:""}function we({edges:ge,initialRectangle:ye,newRectangle:fe}){const Me={};return Object.keys(ge).forEach(Re=>{Me[Re]=(fe[Re]||0)-(ye[Re]||0)}),Me}const ve="resize-active";let re=(()=>{class ge{constructor(fe,Me,Re,ke){this.platformId=fe,this.renderer=Me,this.elm=Re,this.zone=ke,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=ae,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new D.vpe,this.resizing=new D.vpe,this.resizeEnd=new D.vpe,this.mouseup=new c.xQ,this.mousedown=new c.xQ,this.mousemove=new c.xQ,this.destroy$=new c.xQ,this.pointerEventListeners=de.getInstance(Me,ke)}ngOnInit(){const fe=(0,m.T)(this.pointerEventListeners.pointerDown,this.mousedown),Me=(0,m.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,b.b)(({event:wt})=>{if(ke)try{wt.preventDefault()}catch{}}),(0,y.B)()),Re=(0,m.T)(this.pointerEventListeners.pointerUp,this.mouseup);let ke;const Xe=()=>{ke&&ke.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(ke.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},lt=()=>Object.assign(Object.assign({},ae),this.resizeCursors);fe.pipe((0,E.zg)(wt=>{function qe(Be){return{clientX:Be.clientX-wt.clientX,clientY:Be.clientY-wt.clientY}}const be=()=>{const Be={x:1,y:1};return ke&&(this.resizeSnapGrid.left&&ke.edges.left?Be.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&ke.edges.right&&(Be.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&ke.edges.top?Be.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&ke.edges.bottom&&(Be.y=+this.resizeSnapGrid.bottom)),Be};function De(Be,_t){return{x:Math.ceil(Be.clientX/_t.x),y:Math.ceil(Be.clientY/_t.y)}}return(0,m.T)(Me.pipe((0,d.q)(1)).pipe((0,s.U)(Be=>[,Be])),Me.pipe(function u(){return ge=>ge.lift(new p)}())).pipe((0,s.U)(([Be,_t])=>[Be&&qe(Be),qe(_t)])).pipe((0,I.h)(([Be,_t])=>{if(!Be)return!0;const It=be(),bn=De(Be,It),$n=De(_t,It);return bn.x!==$n.x||bn.y!==$n.y})).pipe((0,s.U)(([,Be])=>{const _t=be();return{clientX:Math.round(Be.clientX/_t.x)*_t.x,clientY:Math.round(Be.clientY/_t.y)*_t.y}})).pipe((0,A.R)((0,m.T)(Re,fe)))})).pipe((0,I.h)(()=>!!ke)).pipe((0,s.U)(({clientX:wt,clientY:qe})=>q(ke.startingRect,ke.edges,wt,qe))).pipe((0,I.h)(wt=>this.allowNegativeResizes||!!(wt.height&&wt.width&&wt.height>0&&wt.width>0))).pipe((0,I.h)(wt=>!this.validateResize||this.validateResize({rectangle:wt,edges:we({edges:ke.edges,initialRectangle:ke.startingRect,newRectangle:wt})})),(0,A.R)(this.destroy$)).subscribe(wt=>{ke&&ke.clonedNode&&(this.renderer.setStyle(ke.clonedNode,"height",`${wt.height}px`),this.renderer.setStyle(ke.clonedNode,"width",`${wt.width}px`),this.renderer.setStyle(ke.clonedNode,"top",`${wt.top}px`),this.renderer.setStyle(ke.clonedNode,"left",`${wt.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:we({edges:ke.edges,initialRectangle:ke.startingRect,newRectangle:wt}),rectangle:wt})}),ke.currentRect=wt}),fe.pipe((0,s.U)(({edges:wt})=>wt||{}),(0,I.h)(wt=>Object.keys(wt).length>0),(0,A.R)(this.destroy$)).subscribe(wt=>{ke&&Xe();const qe=function J(ge,ye){let fe=0,Me=0;const Re=ge.nativeElement.style,Xe=["transform","-ms-transform","-moz-transform","-o-transform"].map(lt=>Re[lt]).find(lt=>!!lt);if(Xe&&Xe.includes("translate")&&(fe=Xe.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),Me=Xe.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===ye)return{height:ge.nativeElement.offsetHeight,width:ge.nativeElement.offsetWidth,top:ge.nativeElement.offsetTop-Me,bottom:ge.nativeElement.offsetHeight+ge.nativeElement.offsetTop-Me,left:ge.nativeElement.offsetLeft-fe,right:ge.nativeElement.offsetWidth+ge.nativeElement.offsetLeft-fe};{const lt=ge.nativeElement.getBoundingClientRect();return{height:lt.height,width:lt.width,top:lt.top-Me,bottom:lt.bottom-Me,left:lt.left-fe,right:lt.right-fe,scrollTop:ge.nativeElement.scrollTop,scrollLeft:ge.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);ke={edges:wt,startingRect:qe,currentRect:qe};const be=lt(),De=se(ke.edges,be);this.renderer.setStyle(document.body,"cursor",De),this.setElementClass(this.elm,ve,!0),this.enableGhostResize&&(ke.clonedNode=function g(ge){const ye=ge.cloneNode(!0),fe=ye.querySelectorAll("[id]"),Me=ge.nodeName.toLowerCase();return ye.removeAttribute("id"),fe.forEach(Re=>{Re.removeAttribute("id")}),"canvas"===Me?Y(ge,ye):("input"===Me||"select"===Me||"textarea"===Me)&&k(ge,ye),x("canvas",ge,ye,Y),x("input, textarea, select",ge,ye,k),ye}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(ke.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(ke.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(ke.clonedNode,"left",`${ke.startingRect.left}px`),this.renderer.setStyle(ke.clonedNode,"top",`${ke.startingRect.top}px`),this.renderer.setStyle(ke.clonedNode,"height",`${ke.startingRect.height}px`),this.renderer.setStyle(ke.clonedNode,"width",`${ke.startingRect.width}px`),this.renderer.setStyle(ke.clonedNode,"cursor",se(ke.edges,be)),this.renderer.addClass(ke.clonedNode,"resize-ghost-element"),ke.clonedNode.scrollTop=ke.startingRect.scrollTop,ke.clonedNode.scrollLeft=ke.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:we({edges:wt,initialRectangle:qe,newRectangle:qe}),rectangle:q(qe,{},0,0)})})}),Re.pipe((0,A.R)(this.destroy$)).subscribe(()=>{ke&&(this.renderer.removeClass(this.elm.nativeElement,ve),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:we({edges:ke.edges,initialRectangle:ke.startingRect,newRectangle:ke.currentRect}),rectangle:ke.currentRect})}),Xe(),ke=null)})}ngOnDestroy(){(0,v.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(fe,Me,Re){Re?this.renderer.addClass(fe.nativeElement,Me):this.renderer.removeClass(fe.nativeElement,Me)}}return ge.\u0275fac=function(fe){return new(fe||ge)(D.Y36(D.Lbi),D.Y36(D.Qsj),D.Y36(D.SBq),D.Y36(D.R0b))},ge.\u0275dir=D.lG2({type:ge,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),ge})();class de{constructor(ye,fe){this.pointerDown=new w.y(Me=>{let Re,ke;return fe.runOutsideAngular(()=>{Re=ye.listen("document","mousedown",Xe=>{Me.next({clientX:Xe.clientX,clientY:Xe.clientY,event:Xe})}),B&&(ke=ye.listen("document","touchstart",Xe=>{Me.next({clientX:Xe.touches[0].clientX,clientY:Xe.touches[0].clientY,event:Xe})}))}),()=>{Re(),B&&ke()}}).pipe((0,y.B)()),this.pointerMove=new w.y(Me=>{let Re,ke;return fe.runOutsideAngular(()=>{Re=ye.listen("document","mousemove",Xe=>{Me.next({clientX:Xe.clientX,clientY:Xe.clientY,event:Xe})}),B&&(ke=ye.listen("document","touchmove",Xe=>{Me.next({clientX:Xe.targetTouches[0].clientX,clientY:Xe.targetTouches[0].clientY,event:Xe})}))}),()=>{Re(),B&&ke()}}).pipe((0,y.B)()),this.pointerUp=new w.y(Me=>{let Re,ke,Xe;return fe.runOutsideAngular(()=>{Re=ye.listen("document","mouseup",lt=>{Me.next({clientX:lt.clientX,clientY:lt.clientY,event:lt})}),B&&(ke=ye.listen("document","touchend",lt=>{Me.next({clientX:lt.changedTouches[0].clientX,clientY:lt.changedTouches[0].clientY,event:lt})}),Xe=ye.listen("document","touchcancel",lt=>{Me.next({clientX:lt.changedTouches[0].clientX,clientY:lt.changedTouches[0].clientY,event:lt})}))}),()=>{Re(),B&&(ke(),Xe())}}).pipe((0,y.B)())}static getInstance(ye,fe){return de.instance||(de.instance=new de(ye,fe)),de.instance}}let Ue=(()=>{class ge{constructor(fe,Me,Re,ke){this.renderer=fe,this.element=Me,this.zone=Re,this.resizableDirective=ke,this.resizeEdges={},this.eventListeners={},this.destroy$=new c.xQ}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(fe=>{this.onMousedown(fe,fe.clientX,fe.clientY)}),this.listenOnTheHost("mouseup").subscribe(fe=>{this.onMouseup(fe.clientX,fe.clientY)}),B&&(this.listenOnTheHost("touchstart").subscribe(fe=>{this.onMousedown(fe,fe.touches[0].clientX,fe.touches[0].clientY)}),(0,m.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(fe=>{this.onMouseup(fe.changedTouches[0].clientX,fe.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(fe,Me,Re){fe.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",ke=>{this.onMousemove(ke,ke.targetTouches[0].clientX,ke.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",ke=>{this.onMousemove(ke,ke.clientX,ke.clientY)})),this.resizable.mousedown.next({clientX:Me,clientY:Re,edges:this.resizeEdges})}onMouseup(fe,Me){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:fe,clientY:Me,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(fe,Me,Re){this.resizable.mousemove.next({clientX:Me,clientY:Re,edges:this.resizeEdges,event:fe})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(fe=>{this.eventListeners[fe](),delete this.eventListeners[fe]})}listenOnTheHost(fe){return(0,h.R)(this.element.nativeElement,fe).pipe((0,A.R)(this.destroy$))}}return ge.\u0275fac=function(fe){return new(fe||ge)(D.Y36(D.Qsj),D.Y36(D.SBq),D.Y36(D.R0b),D.Y36(re,8))},ge.\u0275dir=D.lG2({type:ge,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),ge})(),ze=(()=>{class ge{}return ge.\u0275fac=function(fe){return new(fe||ge)},ge.\u0275mod=D.oAB({type:ge}),ge.\u0275inj=D.cJS({}),ge})();const Qe=["terminal"],Ye=["resizeBox"],Se=["detectBox"],ie=function(ge){return{"handle-active":ge}},Ne=function(){return{top:!1}},Pe=function(){return{left:!1}},tt=function(){return{right:!0}},et=function(){return{right:!1}},Et=function(){return{bottom:!0}},Ot=function(){return{bottom:!1}};let St=(()=>{class ge{constructor(fe){this.hostRef=fe,this.handlerToCheckElementConnection=void 0,this.propertyChangeQueue=[],this.itemsToBeHandled=new c.xQ,this.handleImmediate=()=>{if(!this.handlerToCheckElementConnection){let Me=this.propertyChangeQueue.splice(0,1);1==Me.length&&this.itemsToBeHandled.next(Me[0])}}}get renderObservable(){return this.itemsToBeHandled}handleNextOne(fe=!1){!this.hostRef.nativeElement.isConnected||fe?this.pollAndHandle(this.hostRef.nativeElement.isConnected?"LAZY":"NOT_CONNECTED_ELEMENT"):this.handleImmediate()}pushAndHandle(fe,Me=!1){let Re={...fe};this.propertyChangeQueue.push(Re),this.handleNextOne(Me)}pollAndHandle(fe){(()=>{if(this.handlerToCheckElementConnection)return;const Re=setInterval(()=>{this.hostRef.nativeElement.isConnected&&(clearInterval(Re),this.handlerToCheckElementConnection=void 0,this.handleImmediate())},"NOT_CONNECTED_ELEMENT"===fe?500:30);this.handlerToCheckElementConnection=Re})()}ngOnDestroy(){this.handlerToCheckElementConnection&&clearInterval(this.handlerToCheckElementConnection)}}return ge.\u0275fac=function(fe){return new(fe||ge)(D.LFG(D.SBq))},ge.\u0275prov=D.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),bt=(()=>{class ge{constructor(){}ngOnInit(){}}return ge.\u0275fac=function(fe){return new(fe||ge)},ge.\u0275cmp=D.Xpm({type:ge,selectors:[["global-style"]],decls:0,vars:0,template:function(fe,Me){},styles:['/**\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n * @license MIT\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author\'s permission):\n *   Fabrice Bellard\'s javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;inset:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;inset:0;z-index:10;color:transparent;pointer-events:none}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{-webkit-text-decoration:double underline;text-decoration:double underline}.xterm-underline-3{-webkit-text-decoration:wavy underline;text-decoration:wavy underline}.xterm-underline-4{-webkit-text-decoration:dotted underline;text-decoration:dotted underline}.xterm-underline-5{-webkit-text-decoration:dashed underline;text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{-webkit-text-decoration:overline double underline;text-decoration:overline double underline}.xterm-overline.xterm-underline-3{-webkit-text-decoration:overline wavy underline;text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{-webkit-text-decoration:overline dotted underline;text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{-webkit-text-decoration:overline dashed underline;text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}\n'],encapsulation:2}),ge})(),ht=(()=>{class ge{set _dataSource(fe){fe&&(null!=this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.dataSource=fe,this.dataSourceSubscription=this.dataSource.subscribe(Me=>this.write(Me)))}set draggable(fe){this._draggable=fe}get draggable(){return this._draggable}setMinWidth(fe){this._minWidthInput=fe}setMinHeight(fe){this._minHeightInput=fe}setDraggable(fe){this._draggable=fe,this.lastDraggedPosition=void 0}setXtermOptions(fe){this._xtermOptions=fe,this.linearRender.pushAndHandle({time:new Date,type:"none"})}setRows(fe){this._rowsInput!=fe&&(this._rowsInput=fe,this.linearRender.pushAndHandle({time:new Date,type:"rowChanged"}))}setCols(fe){this._colsInput!=fe&&(this._colsInput=fe,this.linearRender.pushAndHandle({time:new Date,type:"columnChanged"}))}setStyle(fe){JSON.stringify(this._stylesInput??{})!=JSON.stringify(fe??{})&&(this._stylesInput=fe,this.linearRender.pushAndHandle({time:new Date,type:"none"}))}constructor(fe,Me){this.renderer=fe,this.hostRef=Me,this.dataSubject=new c.xQ,this.keySubject=new c.xQ,this.keyInputSubjectSubscription=void 0,this.keyEventSubjectSubscription=void 0,this.allLogsSubjectSubscription=void 0,this.dataSourceSubscription=void 0,this.resizableObservers=[],this.dataSource=void 0,this.paddingSize=5,this.stylesForResizeBox={display:"block"},this.keyInputEmitter=new D.vpe,this.keyEventEmitter=new D.vpe,this.dataEmitter=this.keyInputEmitter,this.keyEmitter=this.keyEventEmitter,this._xtermOptions={},this.lastDraggedPosition=void 0,this._draggable=!1,this._stylesInput={},this.handleToCheckLazyContainer=void 0,this.lastDetectedWidth=0,this.linearRender=new St(Me)}setup(){this.xterm&&(this.xterm.onData(fe=>{this.dataSubject.next(fe)}),this.xterm.onKey(fe=>{this.keySubject.next(fe)})),this.keyInputSubjectSubscription=this.dataSubject.subscribe(fe=>{this.keyInputEmitter.emit(fe)}),this.keyEventSubjectSubscription=this.keySubject.subscribe(fe=>{this.keyEventEmitter.emit(fe)}),this.setupResizeObservers(),this.allLogsSubjectSubscription=this.linearRender.renderObservable.subscribe(fe=>{this.coordinateOuterAndTerminal(fe),this.linearRender.handleNextOne()}),this.linearRender.handleNextOne()}setOuterDimensions(fe,Me,Re,ke){this.linearRender.pushAndHandle({time:new Date,type:"dragged",dragged:{draggedWidth:`${Re}px`,draggedHeight:`${ke}px`}})}applyStylesToResizeBox(){Object.keys(this.stylesForResizeBox).map(fe=>({key:fe,value:this.stylesForResizeBox[fe]})).forEach(({key:fe,value:Me})=>{this.resizeBox&&(Me?this.renderer.setStyle(this.resizeBox.nativeElement,fe,Me):this.renderer.removeStyle(this.resizeBox.nativeElement,fe))}),this.stylesForResizeBox=this.stylesForResizeBox}ngOnInit(){}ngAfterViewInit(){this.fitAddon=new C.FitAddon,this.xterm=new $.Terminal({allowProposedApi:!0}),this.terminalOuter.nativeElement.isConnected?(this.xterm.open(this.terminalOuter.nativeElement),this.xterm.loadAddon(this.fitAddon),this.setup(),this.linearRender.pushAndHandle({time:new Date,type:"none"})):this.handleToCheckLazyContainer=setInterval(()=>{if(this.terminalOuter.nativeElement.isConnected)try{console.debug("The container's been connected."),this.xterm.open(this.terminalOuter.nativeElement),this.xterm.loadAddon(this.fitAddon),this.setup(),this.linearRender.pushAndHandle({time:new Date,type:"none"})}finally{this.handleToCheckLazyContainer&&clearInterval(this.handleToCheckLazyContainer)}},500)}ngOnChanges(fe){console.group("onChanges"),console.debug("prop: ",fe),console.groupEnd(),fe?._rowsInput&&fe?._rowsInput?.previousValue!=fe?._rowsInput?.currentValue&&this.linearRender.pushAndHandle({time:new Date,type:"rowChanged"}),fe?._colsInput&&fe?._colsInput?.previousValue!=fe?._colsInput?.currentValue&&this.linearRender.pushAndHandle({time:new Date,type:"columnChanged"}),fe?.draggable&&this.linearRender.pushAndHandle({time:new Date,type:"none"})}coordinateOuterAndTerminal(fe){console.debug(`changeList: ${JSON.stringify(fe)}`),this.xterm&&(null!==this.hostRef.nativeElement?.offsetParent?(this.doUpdateXtermStyles(),this.doAdjustDimensionOfResizeBox(fe),this.doAdjustSizeOfXtermScreen(fe),this.doUpdateViewportAndResizeBoxWithPixcelUnit()):console.debug("`display` of host element was set to `none`"))}doUpdateXtermStyles(){this.xterm&&(this.xterm.options={...this._xtermOptions},this._xtermOptions.theme?.background&&(this.resizeHandleStyleRule||(this.resizeHandleStyleRule=this.findCssStyleRule(".resize-handle[")),this.resizeHandleStyleRule&&(this.resizeHandleStyleRule.style.backgroundColor=this._xtermOptions.theme.background)),this._xtermOptions.theme?.border&&(this.resizeHandleActiveStyleRule||(this.resizeHandleActiveStyleRule=this.findCssStyleRule(".handle-active")),this.resizeHandleActiveStyleRule&&(this.resizeHandleActiveStyleRule.style.backgroundColor=this._xtermOptions.theme.border)))}doAdjustDimensionOfResizeBox(fe){if(this.stylesForResizeBox={...this.stylesForResizeBox,...this._stylesInput,width:this.stylesForResizeBox.width,height:this.stylesForResizeBox.height},"dragged"===fe.type){const Me=this._minWidthInput??24,Re=this._minHeightInput??24,ke=parseInt(fe.dragged.draggedWidth)>Me?fe.dragged.draggedWidth:`${Me}px`,Xe=parseInt(fe.dragged.draggedHeight)>Re?fe.dragged.draggedHeight:`${Re}px`;this.stylesForResizeBox.width=ke,this.stylesForResizeBox.height=Xe,this.lastDraggedPosition={width:ke,height:Xe},this.applyStylesToResizeBox()}else if(!this.draggable||!this.lastDraggedPosition){const Me=getComputedStyle(this.hostRef.nativeElement).width,Re=getComputedStyle(this.detectBox.nativeElement).width;let ke=!1;parseFloat(Re)<parseFloat(Me)&&(ke=!0),ke?(this.stylesForResizeBox.width=`${parseFloat(Re)}px`,this.applyStylesToResizeBox()):(this._rowsInput||(this.stylesForResizeBox.height="100%"),this._colsInput||(this.stylesForResizeBox.width="100%"),this.applyStylesToResizeBox())}}doAdjustSizeOfXtermScreen(fe){this.xterm&&("rowChanged"==fe.type&&this._rowsInput||"columnChanged"==fe.type&&this._colsInput?this.xterm.resize(this._colsInput??this.xterm.cols,this._rowsInput??this.xterm.rows):this.xterm.element&&(this.xterm.element.style.paddingLeft=`${this.paddingSize}px`,this.printDimension("Before fitAddon.fit() of Xterm"),this.fitAddon?.fit(),this.printDimension("After fitAddon.fit() of Xterm"),this.xterm.element.style.paddingLeft="0px"))}doUpdateViewportAndResizeBoxWithPixcelUnit(){if(this.xterm?.element){let fe=this.xterm.element.getElementsByClassName("xterm-screen")[0],Me=this.xterm.element.getElementsByClassName("xterm-viewport")[0];const Re=fe.clientWidth,ke=fe.clientHeight,lt=this.underlying._core.viewport.scrollBarWidth;parseInt(getComputedStyle(this.hostRef.nativeElement).width),this.renderer.setStyle(Me,"width",`${Re+lt}px`);const wt=Re+lt+2*this.paddingSize,be=parseInt(getComputedStyle(this.hostRef.nativeElement).width);this.stylesForResizeBox={...this.stylesForResizeBox,width:`${wt>be?be:wt}px`,height:`${ke+2*this.paddingSize}px`},this.applyStylesToResizeBox(),this.printDimension("After update the dimensions for all boxes with pixel values")}}printDimension(fe){if((0,D.X6Q)()&&this.xterm?.element){let Me=this.resizeBox.nativeElement,Re=this.xterm.element.getElementsByClassName("xterm-screen")[0],ke=this.xterm.element.getElementsByClassName("xterm-viewport")[0];const Xe=Re.clientWidth,lt=Re.clientHeight;console.group(`${fe}`),console.debug(`width(resizeBox): ${getComputedStyle(Me).width},\nwidth(viewport): ${getComputedStyle(ke).width},\nwidth(screen): ${Xe}\nscrollBarWidth: ${this.scrollBarWidth}`),console.debug(`height(resizeBox): ${getComputedStyle(Me).height},\nheight(viewport) ${getComputedStyle(ke).height},\nheight(screen): ${lt}`),console.groupEnd()}}setupResizeObservers(){this.resizableObservers=[];let fe=this.observeXtermViewportDimension(),Me=this.observeHostDimension();fe&&this.resizableObservers.push(fe),Me&&this.resizableObservers.push(Me)}observeXtermViewportDimension(){let fe=this.terminalOuter.nativeElement.querySelector(".xterm-viewport");if(fe){const Me=new ResizeObserver(Re=>{const ke=this.terminalOuter.nativeElement?.clientWidth,Xe=this.terminalOuter.nativeElement?.clientHeight;for(let lt of Re)if(lt.contentBoxSize.length>0){let rn=lt.target.clientWidth,wt=lt.target.clientHeight;(ke&&rn>ke||Xe&&wt>Xe)&&(console.debug("Changes on a xterm viewport element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"xtermViewportExceedingOuterDiv",xtermViewportExceedingOuterDiv:{width:`${rn}`,height:`${wt}`,outerDivWidth:`${ke}`,outerDivHeight:`${Xe}`}},!0))}});return Me.observe(fe),Me}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}observeHostDimension(){let fe=this.hostRef.nativeElement,Me=this.detectBox.nativeElement;if(fe&&Me){const Re=new ResizeObserver(ke=>{for(let Xe of ke){if(Xe.target===fe&&Xe.contentBoxSize.length>0){let lt=getComputedStyle(Xe.target).width,rn=getComputedStyle(Xe.target).height;parseInt(lt)>=0&&parseInt(rn)>=0&&(console.debug("Changes on a host element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"hostResized",hostResized:{width:`${lt}`,height:`${rn}`}},!0))}if(Xe.target===Me&&Xe.contentBoxSize.length>0){let lt=getComputedStyle(Xe.target).width;parseInt(lt)>=0&&parseInt(lt)<=this.lastDetectedWidth&&(console.debug("Changes on a detect-box element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"detectBoxResized",detectBoxResized:{width:`${lt}`}},!0)),this.lastDetectedWidth=parseInt(lt)}}});return Re.observe(fe),Re.observe(Me),Re}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}ngOnDestroy(){this.resizableObservers.forEach(fe=>fe.disconnect()),this.keyInputSubjectSubscription&&this.keyInputSubjectSubscription.unsubscribe(),this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.keyEventSubjectSubscription&&this.keyEventSubjectSubscription.unsubscribe(),this.allLogsSubjectSubscription&&this.allLogsSubjectSubscription.unsubscribe(),this.handleToCheckLazyContainer&&clearInterval(this.handleToCheckLazyContainer),this.xterm&&this.xterm.dispose(),console.debug("All resources has been cleaned up.")}write(fe){this.xterm?.write(fe)}get keyInput(){return this.dataSubject}onData(){return this.dataSubject}get keyEventInput(){return this.keySubject}onKey(){return this.keySubject}get underlying(){return this.xterm}get isDraggableOnEdgeActivated(){return this._draggable}get scrollBarWidth(){return this.underlying._core.viewport.scrollBarWidth}onResizeEnd(fe,Me,Re,ke){this.setOuterDimensions(fe,Me,Re,ke)}validatorFactory(){return Me=>!!this._draggable}findCssStyleRule(fe){for(let Me=0;Me<document.styleSheets.length;Me++){let Re=document.styleSheets.item(Me);if(Re)for(let ke=0;ke<Re.cssRules.length;ke++){let Xe=Re.cssRules.item(ke);if("selectorText"in Xe&&Xe.selectorText.includes(fe))return Xe}}}}return ge.\u0275fac=function(fe){return new(fe||ge)(D.Y36(D.Qsj),D.Y36(D.SBq))},ge.\u0275cmp=D.Xpm({type:ge,selectors:[["ng-terminal"]],viewQuery:function(fe,Me){if(1&fe&&(D.Gf(Qe,7),D.Gf(Ye,7),D.Gf(Se,7)),2&fe){let Re;D.iGM(Re=D.CRH())&&(Me.terminalOuter=Re.first),D.iGM(Re=D.CRH())&&(Me.resizeBox=Re.first),D.iGM(Re=D.CRH())&&(Me.detectBox=Re.first)}},inputs:{_dataSource:["dataSource","_dataSource"],_rowsInput:["rows","_rowsInput"],_colsInput:["cols","_colsInput"],_minWidthInput:["minWidth","_minWidthInput"],_minHeightInput:["minHeight","_minHeightInput"],draggable:"draggable",_xtermOptions:["xtermOptions","_xtermOptions"]},outputs:{keyInputEmitter:"keyInput",keyEventEmitter:"keyEvent",dataEmitter:"data",keyEmitter:"key"},features:[D._Bn([St]),D.TTD],decls:11,vars:24,consts:[["mwlResizable","",1,"resize-box",3,"validateResize","enableGhostResize","resizeEnd"],["resizeBox",""],[1,"terminal-outer"],["terminal",""],["mwlResizeHandle","",1,"resize-handle","resize-handle-top",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-left",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-right",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-bottom",3,"ngClass","resizeEdges"],[2,"width","100%","height","0px","position","absolute"],["detectBox",""]],template:function(fe,Me){1&fe&&(D._UZ(0,"global-style"),D.TgZ(1,"div",0,1),D.NdJ("resizeEnd",function(ke){let Xe;return Me.onResizeEnd(ke.rectangle.left,ke.rectangle.top,null!==(Xe=ke.rectangle.width)&&void 0!==Xe?Xe:0,null!==(Xe=ke.rectangle.height)&&void 0!==Xe?Xe:0)}),D._UZ(3,"div",2,3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),D.qZA(),D._UZ(9,"div",8,9)),2&fe&&(D.xp6(1),D.Q6J("validateResize",Me.validatorFactory())("enableGhostResize",!0),D.xp6(4),D.Q6J("ngClass",D.VKq(10,ie,Me.isDraggableOnEdgeActivated))("resizeEdges",D.DdM(12,Ne)),D.xp6(1),D.Q6J("ngClass",D.VKq(13,ie,Me.isDraggableOnEdgeActivated))("resizeEdges",D.DdM(15,Pe)),D.xp6(1),D.Q6J("ngClass",D.VKq(16,ie,Me.isDraggableOnEdgeActivated))("resizeEdges",Me.isDraggableOnEdgeActivated?D.DdM(18,tt):D.DdM(19,et)),D.xp6(1),D.Q6J("ngClass",D.VKq(20,ie,Me.isDraggableOnEdgeActivated))("resizeEdges",Me.isDraggableOnEdgeActivated?D.DdM(22,Et):D.DdM(23,Ot)))},dependencies:[re,Ue,v.mk,bt],styles:[".terminal-outer[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;padding:5px}[_nghost-%COMP%]{display:block;height:100%;width:100%}.resize-box[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;position:relative}div[_ngcontent-%COMP%] > .handle-active[_ngcontent-%COMP%]{z-index:100;background-color:#85858a!important}.resize-handle[_ngcontent-%COMP%]{background-color:#000}.resize-handle-top.handle-active[_ngcontent-%COMP%], .resize-handle-bottom.handle-active[_ngcontent-%COMP%]{cursor:row-resize}.resize-handle-left.handle-active[_ngcontent-%COMP%], .resize-handle-right.handle-active[_ngcontent-%COMP%]{cursor:col-resize}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%]{position:absolute;height:5px;width:100%}.resize-handle-top[_ngcontent-%COMP%]{top:0}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:0}.resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;height:100%;width:5px}.resize-handle-left[_ngcontent-%COMP%]{left:0;top:0}.resize-handle-right[_ngcontent-%COMP%]{right:0;top:0}"],changeDetection:0}),ge})(),qt=(()=>{class ge{}return ge.\u0275fac=function(fe){return new(fe||ge)},ge.\u0275mod=D.oAB({type:ge}),ge.\u0275inj=D.cJS({imports:[ze,v.ez]}),ge})(),dt="\x9b";class Pt{static get CSI(){return dt}static insertBlank(ye){return`${dt}${ye}@`}static cursorUp(ye){return`${dt}${ye}A`}static cursorDown(ye){return`${dt}${ye}B`}static cursorForward(ye){return`${dt}${ye}C`}static cursorBackward(ye){return`${dt}${ye}D`}static cursorNextLine(ye){return`${dt}${ye}E`}static cursorPrecedingLine(ye){return`${dt}${ye}F`}static cursorColumn(ye){return`${dt}${ye}G`}static cursorPosition(ye,fe){return`${dt}${ye};${fe}H`}static eraseInDisplay(ye){return`${dt}${ye}J`}static eraseSelectiveThingsInDisplay(ye){return`${dt}?${ye}J`}static eraseInLine(ye){return`${dt}${ye}K`}static eraseSelectiveThingsInLine(ye){return`${dt}?${ye}K`}static insertLines(ye){return`${dt}${ye}L`}static deleteLines(ye){return`${dt}${ye}M`}static deleteCharacter(ye){return`${dt}${ye}P`}static scrollUpLines(ye){return`${dt}${ye}S`}static scrollDownLines(ye){return`${dt}${ye}T`}static eraseCharacters(ye){return`${dt}${ye}X`}static cursorBackwardTabulationPstabstops(ye){return`${dt}${ye}Z`}static scrolldownPslines(ye){return`${dt}${ye}^`}static characterPositionAbsolute(ye){return`${dt}${ye}\``}static characterPositionRelative(ye){return`${dt}${ye}a`}static repeatThePrecedingGraphicCharacter(ye){return`${dt}${ye}b`}static linePositionAbsolute(ye){return`${dt}${ye}d`}static linePositionRelative(ye){return`${dt}${ye}e`}static horizontalandVerticalPosition(ye,fe){return`${dt}${ye};${fe}f`}static setMode(ye,...fe){const Me=[ye,...fe??[]];return`${dt}${Me.join(";")}h`}static resetMode(ye,...fe){const Me=[ye,...fe??[]];return`${dt}${Me.join(";")}l`}static characterAttributes(ye,...fe){const Me=[ye,...fe??[]];return`${dt}${Me.join(";")}m`}}var Ke=(()=>{return(ge=Ke||(Ke={}))[ge.Normal=0]="Normal",ge[ge.Bold=1]="Bold",ge[ge.Faint=2]="Faint",ge[ge.Italicized=3]="Italicized",ge[ge.Underlined=4]="Underlined",ge[ge.Blink=5]="Blink",ge[ge.Inverse=7]="Inverse",ge[ge.Invisible=8]="Invisible",ge[ge.CrossedOutcharacters=9]="CrossedOutcharacters",ge[ge.DoublyUnderlined=21]="DoublyUnderlined",ge[ge.NormalNeitherBoldNorFaint=22]="NormalNeitherBoldNorFaint",ge[ge.Notitalicized=23]="Notitalicized",ge[ge.Notunderlined=24]="Notunderlined",ge[ge.Steady=25]="Steady",ge[ge.Positive=27]="Positive",ge[ge.Visible=28]="Visible",ge[ge.NotcrossedOut=29]="NotcrossedOut",ge[ge.SetforegroundcolortoBlack=30]="SetforegroundcolortoBlack",ge[ge.SetforegroundcolortoRed=31]="SetforegroundcolortoRed",ge[ge.SetforegroundcolortoGreen=32]="SetforegroundcolortoGreen",ge[ge.SetforegroundcolortoYellow=33]="SetforegroundcolortoYellow",ge[ge.SetforegroundcolortoBlue=34]="SetforegroundcolortoBlue",ge[ge.SetforegroundcolortoMagenta=35]="SetforegroundcolortoMagenta",ge[ge.SetforegroundcolortoCyan=36]="SetforegroundcolortoCyan",ge[ge.SetforegroundcolortoWhite=37]="SetforegroundcolortoWhite",ge[ge.Setforegroundcolortodefault=39]="Setforegroundcolortodefault",ge[ge.SetbackgroundcolortoBlack=40]="SetbackgroundcolortoBlack",ge[ge.SetbackgroundcolortoRed=41]="SetbackgroundcolortoRed",ge[ge.SetbackgroundcolortoGreen=42]="SetbackgroundcolortoGreen",ge[ge.SetbackgroundcolortoYellow=43]="SetbackgroundcolortoYellow",ge[ge.SetbackgroundcolortoBlue=44]="SetbackgroundcolortoBlue",ge[ge.SetbackgroundcolortoMagenta=45]="SetbackgroundcolortoMagenta",ge[ge.SetbackgroundcolortoCyan=46]="SetbackgroundcolortoCyan",ge[ge.SetbackgroundcolortoWhite=47]="SetbackgroundcolortoWhite",ge[ge.SetbackgroundcolortoDefault=49]="SetbackgroundcolortoDefault",Ke;var ge})()},7340:(it,Ve,Z)=>{"use strict";Z.d(Ve,{LC:()=>$,SB:()=>b,X$:()=>c,ZE:()=>A,ZN:()=>I,_j:()=>D,eR:()=>E,jt:()=>v,k1:()=>B,l3:()=>C,oB:()=>h,vP:()=>w});class D{}class ${}const C="*";function c(g,x){return{type:7,name:g,definitions:x,options:{}}}function v(g,x=null){return{type:4,styles:x,timings:g}}function w(g,x=null){return{type:2,steps:g,options:x}}function h(g){return{type:6,styles:g,offset:null}}function b(g,x,V){return{type:0,name:g,styles:x,options:V}}function E(g,x,V=null){return{type:1,expr:g,animation:x,options:V}}function S(g){Promise.resolve().then(g)}class I{constructor(x=0,V=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=x+V}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(x=>x()),this._onDoneFns=[])}onStart(x){this._originalOnStartFns.push(x),this._onStartFns.push(x)}onDone(x){this._originalOnDoneFns.push(x),this._onDoneFns.push(x)}onDestroy(x){this._onDestroyFns.push(x)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){S(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(x=>x()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(x=>x()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(x){this._position=this.totalTime?x*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(x){const V="start"==x?this._onStartFns:this._onDoneFns;V.forEach(k=>k()),V.length=0}}class A{constructor(x){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=x;let V=0,k=0,Y=0;const q=this.players.length;0==q?S(()=>this._onFinish()):this.players.forEach(J=>{J.onDone(()=>{++V==q&&this._onFinish()}),J.onDestroy(()=>{++k==q&&this._onDestroy()}),J.onStart(()=>{++Y==q&&this._onStart()})}),this.totalTime=this.players.reduce((J,ae)=>Math.max(J,ae.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(x=>x()),this._onDoneFns=[])}init(){this.players.forEach(x=>x.init())}onStart(x){this._onStartFns.push(x)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(x=>x()),this._onStartFns=[])}onDone(x){this._onDoneFns.push(x)}onDestroy(x){this._onDestroyFns.push(x)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(x=>x.play())}pause(){this.players.forEach(x=>x.pause())}restart(){this.players.forEach(x=>x.restart())}finish(){this._onFinish(),this.players.forEach(x=>x.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(x=>x.destroy()),this._onDestroyFns.forEach(x=>x()),this._onDestroyFns=[])}reset(){this.players.forEach(x=>x.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(x){const V=x*this.totalTime;this.players.forEach(k=>{const Y=k.totalTime?Math.min(1,V/k.totalTime):1;k.setPosition(Y)})}getPosition(){const x=this.players.reduce((V,k)=>null===V||k.totalTime>V.totalTime?k:V,null);return null!=x?x.getPosition():0}beforeDestroy(){this.players.forEach(x=>{x.beforeDestroy&&x.beforeDestroy()})}triggerCallback(x){const V="start"==x?this._onStartFns:this._onDoneFns;V.forEach(k=>k()),V.length=0}}const B="!"},4632:(it,Ve,Z)=>{"use strict";Z.d(Ve,{rt:()=>hi,kH:()=>xi,Em:()=>ot,tE:()=>Yt,qm:()=>Jn,X6:()=>Qt,yG:()=>Nn});var D=Z(6895),$=Z(4650),C=Z(3353),c=Z(5529),v=Z(2654),m=Z(5279);class w extends c.xQ{constructor(he){super(),this._value=he}get value(){return this.getValue()}_subscribe(he){const ce=super._subscribe(he);return ce&&!ce.closed&&he.next(this._value),ce}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new m.N;return this._value}next(he){super.next(this._value=he)}}var h=Z(1086),b=Z(9521),y=Z(2868),E=Z(13),d=Z(2198),s=Z(4850),f=Z(1307),u=Z(5778),p=Z(7625),S=Z(1281),I=Z(9643),A=Z(2866),B=Z(6688),g=Z(3489);class x extends g.L{notifyNext(he,ce,Ae,Fe,st){this.destination.next(ce)}notifyError(he,ce){this.destination.error(he)}notifyComplete(he){this.destination.complete()}}class V extends g.L{constructor(he,ce,Ae){super(),this.parent=he,this.outerValue=ce,this.outerIndex=Ae,this.index=0}_next(he){this.parent.notifyNext(this.outerValue,he,this.outerIndex,this.index++,this)}_error(he){this.parent.notifyError(he,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var k=Z(9249),Y=Z(2916);function q(Le,he,ce,Ae,Fe=new V(Le,ce,Ae)){if(!Fe.closed)return he instanceof Y.y?he.subscribe(Fe):(0,k.s)(he)(Fe)}var J=Z(3009);const ae={};class we{constructor(he){this.resultSelector=he}call(he,ce){return ce.subscribe(new ve(he,this.resultSelector))}}class ve extends x{constructor(he,ce){super(he),this.resultSelector=ce,this.active=0,this.values=[],this.observables=[]}_next(he){this.values.push(ae),this.observables.push(he)}_complete(){const he=this.observables,ce=he.length;if(0===ce)this.destination.complete();else{this.active=ce,this.toRespond=ce;for(let Ae=0;Ae<ce;Ae++)this.add(q(this,he[Ae],void 0,Ae))}}notifyComplete(he){0==(this.active-=1)&&this.destination.complete()}notifyNext(he,ce,Ae){const Fe=this.values,yt=this.toRespond?Fe[Ae]===ae?--this.toRespond:this.toRespond:0;Fe[Ae]=ce,0===yt&&(this.resultSelector?this._tryResultSelector(Fe):this.destination.next(Fe.slice()))}_tryResultSelector(he){let ce;try{ce=this.resultSelector.apply(this,he)}catch(Ae){return void this.destination.error(Ae)}this.destination.next(ce)}}var K=Z(1221),ne=Z(5632),re=Z(1059);const Ue=new Set;let ze,Qe=(()=>{class Le{constructor(ce){this._platform=ce,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Se}matchMedia(ce){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ye(Le){if(!Ue.has(Le))try{ze||(ze=document.createElement("style"),ze.setAttribute("type","text/css"),document.head.appendChild(ze)),ze.sheet&&(ze.sheet.insertRule(`@media ${Le} {body{ }}`,0),Ue.add(Le))}catch(he){console.error(he)}}(ce),this._matchMedia(ce)}}return Le.\u0275fac=function(ce){return new(ce||Le)($.LFG(C.t4))},Le.\u0275prov=$.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();function Se(Le){return{matches:"all"===Le||""===Le,media:Le,addListener:()=>{},removeListener:()=>{}}}let ie=(()=>{class Le{constructor(ce,Ae){this._mediaMatcher=ce,this._zone=Ae,this._queries=new Map,this._destroySubject=new c.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ce){return Ne((0,S.Eq)(ce)).some(Fe=>this._registerQuery(Fe).mql.matches)}observe(ce){let st=function se(...Le){let he,ce;return(0,A.K)(Le[Le.length-1])&&(ce=Le.pop()),"function"==typeof Le[Le.length-1]&&(he=Le.pop()),1===Le.length&&(0,B.k)(Le[0])&&(Le=Le[0]),(0,J.n)(Le,ce).lift(new we(he))}(Ne((0,S.Eq)(ce)).map(yt=>this._registerQuery(yt).observable));return st=(0,K.z)(st.pipe((0,ne.q)(1)),st.pipe((0,f.T)(1),(0,E.b)(0))),st.pipe((0,s.U)(yt=>{const Gt={matches:!1,breakpoints:{}};return yt.forEach(({matches:sn,query:oi})=>{Gt.matches=Gt.matches||sn,Gt.breakpoints[oi]=sn}),Gt}))}_registerQuery(ce){if(this._queries.has(ce))return this._queries.get(ce);const Ae=this._mediaMatcher.matchMedia(ce),st={observable:new Y.y(yt=>{const Gt=sn=>this._zone.run(()=>yt.next(sn));return Ae.addListener(Gt),()=>{Ae.removeListener(Gt)}}).pipe((0,re.O)(Ae),(0,s.U)(({matches:yt})=>({query:ce,matches:yt})),(0,p.R)(this._destroySubject)),mql:Ae};return this._queries.set(ce,st),st}}return Le.\u0275fac=function(ce){return new(ce||Le)($.LFG(Qe),$.LFG($.R0b))},Le.\u0275prov=$.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();function Ne(Le){return Le.map(he=>he.split(",")).reduce((he,ce)=>he.concat(ce)).map(he=>he.trim())}class nt{constructor(he){this._items=he,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new c.xQ,this._typeaheadSubscription=v.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=ce=>ce.disabled,this._pressedLetters=[],this.tabOut=new c.xQ,this.change=new c.xQ,he instanceof $.n_E&&he.changes.subscribe(ce=>{if(this._activeItem){const Fe=ce.toArray().indexOf(this._activeItem);Fe>-1&&Fe!==this._activeItemIndex&&(this._activeItemIndex=Fe)}})}skipPredicate(he){return this._skipPredicateFn=he,this}withWrap(he=!0){return this._wrap=he,this}withVerticalOrientation(he=!0){return this._vertical=he,this}withHorizontalOrientation(he){return this._horizontal=he,this}withAllowedModifierKeys(he){return this._allowedModifierKeys=he,this}withTypeAhead(he=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,y.b)(ce=>this._pressedLetters.push(ce)),(0,E.b)(he),(0,d.h)(()=>this._pressedLetters.length>0),(0,s.U)(()=>this._pressedLetters.join(""))).subscribe(ce=>{const Ae=this._getItemsArray();for(let Fe=1;Fe<Ae.length+1;Fe++){const st=(this._activeItemIndex+Fe)%Ae.length,yt=Ae[st];if(!this._skipPredicateFn(yt)&&0===yt.getLabel().toUpperCase().trim().indexOf(ce)){this.setActiveItem(st);break}}this._pressedLetters=[]}),this}withHomeAndEnd(he=!0){return this._homeAndEnd=he,this}setActiveItem(he){const ce=this._activeItem;this.updateActiveItem(he),this._activeItem!==ce&&this.change.next(this._activeItemIndex)}onKeydown(he){const ce=he.keyCode,Fe=["altKey","ctrlKey","metaKey","shiftKey"].every(st=>!he[st]||this._allowedModifierKeys.indexOf(st)>-1);switch(ce){case b.Mf:return void this.tabOut.next();case b.JH:if(this._vertical&&Fe){this.setNextItemActive();break}return;case b.LH:if(this._vertical&&Fe){this.setPreviousItemActive();break}return;case b.SV:if(this._horizontal&&Fe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case b.oh:if(this._horizontal&&Fe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case b.Sd:if(this._homeAndEnd&&Fe){this.setFirstItemActive();break}return;case b.uR:if(this._homeAndEnd&&Fe){this.setLastItemActive();break}return;default:return void((Fe||(0,b.Vb)(he,"shiftKey"))&&(he.key&&1===he.key.length?this._letterKeyStream.next(he.key.toLocaleUpperCase()):(ce>=b.A&&ce<=b.Z||ce>=b.xE&&ce<=b.aO)&&this._letterKeyStream.next(String.fromCharCode(ce))))}this._pressedLetters=[],he.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(he){const ce=this._getItemsArray(),Ae="number"==typeof he?he:ce.indexOf(he);this._activeItem=ce[Ae]??null,this._activeItemIndex=Ae}_setActiveItemByDelta(he){this._wrap?this._setActiveInWrapMode(he):this._setActiveInDefaultMode(he)}_setActiveInWrapMode(he){const ce=this._getItemsArray();for(let Ae=1;Ae<=ce.length;Ae++){const Fe=(this._activeItemIndex+he*Ae+ce.length)%ce.length;if(!this._skipPredicateFn(ce[Fe]))return void this.setActiveItem(Fe)}}_setActiveInDefaultMode(he){this._setActiveItemByIndex(this._activeItemIndex+he,he)}_setActiveItemByIndex(he,ce){const Ae=this._getItemsArray();if(Ae[he]){for(;this._skipPredicateFn(Ae[he]);)if(!Ae[he+=ce])return;this.setActiveItem(he)}}_getItemsArray(){return this._items instanceof $.n_E?this._items.toArray():this._items}}class ot extends nt{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(he){return this._origin=he,this}setActiveItem(he){super.setActiveItem(he),this.activeItem&&this.activeItem.focus(this._origin)}}function Qt(Le){return 0===Le.buttons||0===Le.offsetX&&0===Le.offsetY}function Nn(Le){const he=Le.touches&&Le.touches[0]||Le.changedTouches&&Le.changedTouches[0];return!(!he||-1!==he.identifier||null!=he.radiusX&&1!==he.radiusX||null!=he.radiusY&&1!==he.radiusY)}const bi=new $.OlP("cdk-input-modality-detector-options"),Yi={ignoreKeys:[b.zL,b.jx,b.b2,b.MW,b.JU]},Xt=(0,C.i$)({passive:!0,capture:!0});let En=(()=>{class Le{constructor(ce,Ae,Fe,st){this._platform=ce,this._mostRecentTarget=null,this._modality=new w(null),this._lastTouchMs=0,this._onKeydown=yt=>{this._options?.ignoreKeys?.some(Gt=>Gt===yt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,C.sA)(yt))},this._onMousedown=yt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Qt(yt)?"keyboard":"mouse"),this._mostRecentTarget=(0,C.sA)(yt))},this._onTouchstart=yt=>{Nn(yt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,C.sA)(yt))},this._options={...Yi,...st},this.modalityDetected=this._modality.pipe((0,f.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,u.x)()),ce.isBrowser&&Ae.runOutsideAngular(()=>{Fe.addEventListener("keydown",this._onKeydown,Xt),Fe.addEventListener("mousedown",this._onMousedown,Xt),Fe.addEventListener("touchstart",this._onTouchstart,Xt)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Xt),document.removeEventListener("mousedown",this._onMousedown,Xt),document.removeEventListener("touchstart",this._onTouchstart,Xt))}}return Le.\u0275fac=function(ce){return new(ce||Le)($.LFG(C.t4),$.LFG($.R0b),$.LFG(D.K0),$.LFG(bi,8))},Le.\u0275prov=$.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();const Ni=new $.OlP("cdk-focus-monitor-default-options"),pn=(0,C.i$)({passive:!0,capture:!0});let Yt=(()=>{class Le{constructor(ce,Ae,Fe,st,yt){this._ngZone=ce,this._platform=Ae,this._inputModalityDetector=Fe,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new c.xQ,this._rootNodeFocusAndBlurListener=Gt=>{for(let oi=(0,C.sA)(Gt);oi;oi=oi.parentElement)"focus"===Gt.type?this._onFocus(Gt,oi):this._onBlur(Gt,oi)},this._document=st,this._detectionMode=yt?.detectionMode||0}monitor(ce,Ae=!1){const Fe=(0,S.fI)(ce);if(!this._platform.isBrowser||1!==Fe.nodeType)return(0,h.of)(null);const st=(0,C.kV)(Fe)||this._getDocument(),yt=this._elementInfo.get(Fe);if(yt)return Ae&&(yt.checkChildren=!0),yt.subject;const Gt={checkChildren:Ae,subject:new c.xQ,rootNode:st};return this._elementInfo.set(Fe,Gt),this._registerGlobalListeners(Gt),Gt.subject}stopMonitoring(ce){const Ae=(0,S.fI)(ce),Fe=this._elementInfo.get(Ae);Fe&&(Fe.subject.complete(),this._setClasses(Ae),this._elementInfo.delete(Ae),this._removeGlobalListeners(Fe))}focusVia(ce,Ae,Fe){const st=(0,S.fI)(ce);st===this._getDocument().activeElement?this._getClosestElementsInfo(st).forEach(([Gt,sn])=>this._originChanged(Gt,Ae,sn)):(this._setOrigin(Ae),"function"==typeof st.focus&&st.focus(Fe))}ngOnDestroy(){this._elementInfo.forEach((ce,Ae)=>this.stopMonitoring(Ae))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(ce){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(ce)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:ce&&this._isLastInteractionFromInputLabel(ce)?"mouse":"program"}_shouldBeAttributedToTouch(ce){return 1===this._detectionMode||!!ce?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(ce,Ae){ce.classList.toggle("cdk-focused",!!Ae),ce.classList.toggle("cdk-touch-focused","touch"===Ae),ce.classList.toggle("cdk-keyboard-focused","keyboard"===Ae),ce.classList.toggle("cdk-mouse-focused","mouse"===Ae),ce.classList.toggle("cdk-program-focused","program"===Ae)}_setOrigin(ce,Ae=!1){this._ngZone.runOutsideAngular(()=>{this._origin=ce,this._originFromTouchInteraction="touch"===ce&&Ae,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(ce,Ae){const Fe=this._elementInfo.get(Ae),st=(0,C.sA)(ce);!Fe||!Fe.checkChildren&&Ae!==st||this._originChanged(Ae,this._getFocusOrigin(st),Fe)}_onBlur(ce,Ae){const Fe=this._elementInfo.get(Ae);!Fe||Fe.checkChildren&&ce.relatedTarget instanceof Node&&Ae.contains(ce.relatedTarget)||(this._setClasses(Ae),this._emitOrigin(Fe,null))}_emitOrigin(ce,Ae){ce.subject.observers.length&&this._ngZone.run(()=>ce.subject.next(Ae))}_registerGlobalListeners(ce){if(!this._platform.isBrowser)return;const Ae=ce.rootNode,Fe=this._rootNodeFocusListenerCount.get(Ae)||0;Fe||this._ngZone.runOutsideAngular(()=>{Ae.addEventListener("focus",this._rootNodeFocusAndBlurListener,pn),Ae.addEventListener("blur",this._rootNodeFocusAndBlurListener,pn)}),this._rootNodeFocusListenerCount.set(Ae,Fe+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,p.R)(this._stopInputModalityDetector)).subscribe(st=>{this._setOrigin(st,!0)}))}_removeGlobalListeners(ce){const Ae=ce.rootNode;if(this._rootNodeFocusListenerCount.has(Ae)){const Fe=this._rootNodeFocusListenerCount.get(Ae);Fe>1?this._rootNodeFocusListenerCount.set(Ae,Fe-1):(Ae.removeEventListener("focus",this._rootNodeFocusAndBlurListener,pn),Ae.removeEventListener("blur",this._rootNodeFocusAndBlurListener,pn),this._rootNodeFocusListenerCount.delete(Ae))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(ce,Ae,Fe){this._setClasses(ce,Ae),this._emitOrigin(Fe,Ae),this._lastFocusOrigin=Ae}_getClosestElementsInfo(ce){const Ae=[];return this._elementInfo.forEach((Fe,st)=>{(st===ce||Fe.checkChildren&&st.contains(ce))&&Ae.push([st,Fe])}),Ae}_isLastInteractionFromInputLabel(ce){const{_mostRecentTarget:Ae,mostRecentModality:Fe}=this._inputModalityDetector;if("mouse"!==Fe||!Ae||Ae===ce||"INPUT"!==ce.nodeName&&"TEXTAREA"!==ce.nodeName||ce.disabled)return!1;const st=ce.labels;if(st)for(let yt=0;yt<st.length;yt++)if(st[yt].contains(Ae))return!0;return!1}}return Le.\u0275fac=function(ce){return new(ce||Le)($.LFG($.R0b),$.LFG(C.t4),$.LFG(En),$.LFG(D.K0,8),$.LFG(Ni,8))},Le.\u0275prov=$.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),xi=(()=>{class Le{constructor(ce,Ae){this._elementRef=ce,this._focusMonitor=Ae,this._focusOrigin=null,this.cdkFocusChange=new $.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const ce=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(ce,1===ce.nodeType&&ce.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Ae=>{this._focusOrigin=Ae,this.cdkFocusChange.emit(Ae)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return Le.\u0275fac=function(ce){return new(ce||Le)($.Y36($.SBq),$.Y36(Yt))},Le.\u0275dir=$.lG2({type:Le,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),Le})();const Qn="cdk-high-contrast-black-on-white",Xn="cdk-high-contrast-white-on-black",si="cdk-high-contrast-active";let Jn=(()=>{class Le{constructor(ce,Ae){this._platform=ce,this._document=Ae,this._breakpointSubscription=(0,$.f3M)(ie).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const ce=this._document.createElement("div");ce.style.backgroundColor="rgb(1,2,3)",ce.style.position="absolute",this._document.body.appendChild(ce);const Ae=this._document.defaultView||window,Fe=Ae&&Ae.getComputedStyle?Ae.getComputedStyle(ce):null,st=(Fe&&Fe.backgroundColor||"").replace(/ /g,"");switch(ce.remove(),st){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const ce=this._document.body.classList;ce.remove(si,Qn,Xn),this._hasCheckedHighContrastMode=!0;const Ae=this.getHighContrastMode();1===Ae?ce.add(si,Qn):2===Ae&&ce.add(si,Xn)}}}return Le.\u0275fac=function(ce){return new(ce||Le)($.LFG(C.t4),$.LFG(D.K0))},Le.\u0275prov=$.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),hi=(()=>{class Le{constructor(ce){ce._applyBodyHighContrastModeCssClasses()}}return Le.\u0275fac=function(ce){return new(ce||Le)($.LFG(Jn))},Le.\u0275mod=$.oAB({type:Le}),Le.\u0275inj=$.cJS({imports:[I.Q8]}),Le})()},445:(it,Ve,Z)=>{"use strict";Z.d(Ve,{Is:()=>w,vT:()=>b});var D=Z(4650),$=Z(6895);const C=new D.OlP("cdk-dir-doc",{providedIn:"root",factory:function c(){return(0,D.f3M)($.K0)}}),v=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let w=(()=>{class y{constructor(d){this.value="ltr",this.change=new D.vpe,d&&(this.value=function m(y){const E=y?.toLowerCase()||"";return"auto"===E&&typeof navigator<"u"&&navigator?.language?v.test(navigator.language)?"rtl":"ltr":"rtl"===E?"rtl":"ltr"}((d.body?d.body.dir:null)||(d.documentElement?d.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return y.\u0275fac=function(d){return new(d||y)(D.LFG(C,8))},y.\u0275prov=D.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),b=(()=>{class y{}return y.\u0275fac=function(d){return new(d||y)},y.\u0275mod=D.oAB({type:y}),y.\u0275inj=D.cJS({}),y})()},1281:(it,Ve,Z)=>{"use strict";Z.d(Ve,{Eq:()=>v,Ig:()=>$,fI:()=>w,su:()=>C});var D=Z(4650);function $(b){return null!=b&&"false"!=`${b}`}function C(b,y=0){return function c(b){return!isNaN(parseFloat(b))&&!isNaN(Number(b))}(b)?Number(b):y}function v(b){return Array.isArray(b)?b:[b]}function w(b){return b instanceof D.SBq?b.nativeElement:b}},9521:(it,Ve,Z)=>{"use strict";Z.d(Ve,{A:()=>Ye,JH:()=>B,JU:()=>m,K5:()=>v,LH:()=>I,L_:()=>d,MW:()=>ke,Mf:()=>C,SV:()=>A,Sd:()=>p,Vb:()=>Ii,Z:()=>Re,aO:()=>re,b2:()=>_n,jx:()=>w,oh:()=>S,uR:()=>u,xE:()=>Y,zL:()=>h});const C=9,v=13,m=16,w=17,h=18,d=32,u=35,p=36,S=37,I=38,A=39,B=40,Y=48,re=57,Ye=65,Re=90,ke=91,_n=224;function Ii(Zt,...Wn){return Wn.length?Wn.some(ai=>Zt[ai]):Zt.altKey||Zt.shiftKey||Zt.ctrlKey||Zt.metaKey}},9643:(it,Ve,Z)=>{"use strict";Z.d(Ve,{Q8:()=>b,wD:()=>h});var D=Z(1281),$=Z(4650),C=Z(2916),c=Z(5529),v=Z(13);let m=(()=>{class y{create(d){return typeof MutationObserver>"u"?null:new MutationObserver(d)}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275prov=$.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),w=(()=>{class y{constructor(d){this._mutationObserverFactory=d,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((d,s)=>this._cleanupObserver(s))}observe(d){const s=(0,D.fI)(d);return new C.y(f=>{const p=this._observeElement(s).subscribe(f);return()=>{p.unsubscribe(),this._unobserveElement(s)}})}_observeElement(d){if(this._observedElements.has(d))this._observedElements.get(d).count++;else{const s=new c.xQ,f=this._mutationObserverFactory.create(u=>s.next(u));f&&f.observe(d,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(d,{observer:f,stream:s,count:1})}return this._observedElements.get(d).stream}_unobserveElement(d){this._observedElements.has(d)&&(this._observedElements.get(d).count--,this._observedElements.get(d).count||this._cleanupObserver(d))}_cleanupObserver(d){if(this._observedElements.has(d)){const{observer:s,stream:f}=this._observedElements.get(d);s&&s.disconnect(),f.complete(),this._observedElements.delete(d)}}}return y.\u0275fac=function(d){return new(d||y)($.LFG(m))},y.\u0275prov=$.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),h=(()=>{class y{constructor(d,s,f){this._contentObserver=d,this._elementRef=s,this._ngZone=f,this.event=new $.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(d){this._disabled=(0,D.Ig)(d),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(d){this._debounce=(0,D.su)(d),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const d=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?d.pipe((0,v.b)(this.debounce)):d).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return y.\u0275fac=function(d){return new(d||y)($.Y36(w),$.Y36($.SBq),$.Y36($.R0b))},y.\u0275dir=$.lG2({type:y,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),y})(),b=(()=>{class y{}return y.\u0275fac=function(d){return new(d||y)},y.\u0275mod=$.oAB({type:y}),y.\u0275inj=$.cJS({providers:[m]}),y})()},3353:(it,Ve,Z)=>{"use strict";Z.d(Ve,{Oy:()=>g,i$:()=>E,kV:()=>I,qK:()=>h,sA:()=>B,t4:()=>c});var D=Z(4650),$=Z(6895);let C;try{C=typeof Intl<"u"&&Intl.v8BreakIterator}catch{C=!1}let m,c=(()=>{class x{constructor(k){this._platformId=k,this.isBrowser=this._platformId?(0,$.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!C)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return x.\u0275fac=function(k){return new(k||x)(D.LFG(D.Lbi))},x.\u0275prov=D.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const w=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function h(){if(m)return m;if("object"!=typeof document||!document)return m=new Set(w),m;let x=document.createElement("input");return m=new Set(w.filter(V=>(x.setAttribute("type",V),x.type===V))),m}let b,p;function E(x){return function y(){if(null==b&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>b=!0}))}finally{b=b||!1}return b}()?x:!!x.capture}function I(x){if(function S(){if(null==p){const x=typeof document<"u"?document.head:null;p=!(!x||!x.createShadowRoot&&!x.attachShadow)}return p}()){const V=x.getRootNode?x.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&V instanceof ShadowRoot)return V}return null}function B(x){return x.composedPath?x.composedPath()[0]:x.target}function g(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6895:(it,Ve,Z)=>{"use strict";Z.d(Ve,{HT:()=>c,JF:()=>Xi,K0:()=>m,Mx:()=>Ai,NF:()=>_s,O5:()=>ai,RF:()=>sr,bD:()=>Gr,ez:()=>Oi,mk:()=>Tt,n9:()=>Ri,q:()=>C,sg:()=>Ii,w_:()=>v});var D=Z(4650);let $=null;function C(){return $}function c(L){$||($=L)}class v{}const m=new D.OlP("DocumentToken");function Ai(L,G){G=encodeURIComponent(G);for(const N of L.split(";")){const te=N.indexOf("="),[_e,He]=-1==te?[N,""]:[N.slice(0,te),N.slice(te+1)];if(_e.trim()===G)return decodeURIComponent(He)}return null}const ei=/\s+/,ct=[];let Tt=(()=>{class L{constructor(N,te,_e,He){this._iterableDiffers=N,this._keyValueDiffers=te,this._ngEl=_e,this._renderer=He,this.initialClasses=ct,this.stateMap=new Map}set klass(N){this.initialClasses=null!=N?N.trim().split(ei):ct}set ngClass(N){this.rawClass="string"==typeof N?N.trim().split(ei):N}ngDoCheck(){for(const te of this.initialClasses)this._updateState(te,!0);const N=this.rawClass;if(Array.isArray(N)||N instanceof Set)for(const te of N)this._updateState(te,!0);else if(null!=N)for(const te of Object.keys(N))this._updateState(te,Boolean(N[te]));this._applyStateDiff()}_updateState(N,te){const _e=this.stateMap.get(N);void 0!==_e?(_e.enabled!==te&&(_e.changed=!0,_e.enabled=te),_e.touched=!0):this.stateMap.set(N,{enabled:te,changed:!0,touched:!0})}_applyStateDiff(){for(const N of this.stateMap){const te=N[0],_e=N[1];_e.changed?(this._toggleClass(te,_e.enabled),_e.changed=!1):_e.touched||(_e.enabled&&this._toggleClass(te,!1),this.stateMap.delete(te)),_e.touched=!1}}_toggleClass(N,te){(N=N.trim()).length>0&&N.split(ei).forEach(_e=>{te?this._renderer.addClass(this._ngEl.nativeElement,_e):this._renderer.removeClass(this._ngEl.nativeElement,_e)})}}return L.\u0275fac=function(N){return new(N||L)(D.Y36(D.ZZ4),D.Y36(D.aQg),D.Y36(D.SBq),D.Y36(D.Qsj))},L.\u0275dir=D.lG2({type:L,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),L})();class _n{constructor(G,N,te,_e){this.$implicit=G,this.ngForOf=N,this.index=te,this.count=_e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ii=(()=>{class L{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,te,_e){this._viewContainer=N,this._template=te,this._differs=_e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const te=this._viewContainer;N.forEachOperation((_e,He,Ze)=>{if(null==_e.previousIndex)te.createEmbeddedView(this._template,new _n(_e.item,this._ngForOf,-1,-1),null===Ze?void 0:Ze);else if(null==Ze)te.remove(null===He?void 0:He);else if(null!==He){const ft=te.get(He);te.move(ft,Ze),Zt(ft,_e)}});for(let _e=0,He=te.length;_e<He;_e++){const ft=te.get(_e).context;ft.index=_e,ft.count=He,ft.ngForOf=this._ngForOf}N.forEachIdentityChange(_e=>{Zt(te.get(_e.currentIndex),_e)})}static ngTemplateContextGuard(N,te){return!0}}return L.\u0275fac=function(N){return new(N||L)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(D.ZZ4))},L.\u0275dir=D.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),L})();function Zt(L,G){L.context.$implicit=G.item}let ai=(()=>{class L{constructor(N,te){this._viewContainer=N,this._context=new kt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Bi("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Bi("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,te){return!0}}return L.\u0275fac=function(N){return new(N||L)(D.Y36(D.s_b),D.Y36(D.Rgc))},L.\u0275dir=D.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),L})();class kt{constructor(){this.$implicit=null,this.ngIf=null}}function Bi(L,G){if(G&&!G.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,D.AaK)(G)}'.`)}class li{constructor(G,N){this._viewContainerRef=G,this._templateRef=N,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(G){G&&!this._created?this.create():!G&&this._created&&this.destroy()}}let sr=(()=>{class L{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(N){this._ngSwitch=N,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(N){this._defaultViews.push(N)}_matchCase(N){const te=N==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||te,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),te}_updateDefaultCases(N){if(this._defaultViews.length>0&&N!==this._defaultUsed){this._defaultUsed=N;for(const te of this._defaultViews)te.enforceState(N)}}}return L.\u0275fac=function(N){return new(N||L)},L.\u0275dir=D.lG2({type:L,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),L})(),Ri=(()=>{class L{constructor(N,te,_e){this.ngSwitch=_e,_e._addCase(),this._view=new li(N,te)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return L.\u0275fac=function(N){return new(N||L)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(sr,9))},L.\u0275dir=D.lG2({type:L,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),L})(),Oi=(()=>{class L{}return L.\u0275fac=function(N){return new(N||L)},L.\u0275mod=D.oAB({type:L}),L.\u0275inj=D.cJS({}),L})();const Gr="browser";function _s(L){return L===Gr}class Xi{}},4650:(it,Ve,Z)=>{"use strict";Z.d(Ve,{$8M:()=>Ba,$Z:()=>nh,AFp:()=>i_,AaK:()=>h,BQk:()=>dl,CHM:()=>Ct,CRH:()=>Op,CZH:()=>Sl,CqO:()=>Fh,D6c:()=>PC,DdM:()=>mp,EJc:()=>Q0,EpF:()=>kh,F$t:()=>Uh,F4k:()=>Ph,FYo:()=>Pd,G48:()=>mC,Gf:()=>Rp,GfV:()=>Fd,Gpc:()=>E,Hsn:()=>$h,Ikx:()=>Xc,JOm:()=>Vr,KtG:()=>hn,LFG:()=>It,Lbi:()=>Y0,Lck:()=>$y,MAs:()=>Lh,NdJ:()=>zc,OlP:()=>fn,Oqu:()=>Qc,Q6J:()=>Vc,QGY:()=>$c,QbO:()=>q0,Qsj:()=>um,R0b:()=>br,RDi:()=>Mg,Rgc:()=>Ea,SBq:()=>ca,Suo:()=>Lp,TTD:()=>Kr,TgZ:()=>ll,VKq:()=>vp,W1O:()=>Np,WLB:()=>bp,X6Q:()=>gC,Xpm:()=>Qn,Y36:()=>Mo,YNc:()=>Rh,Yjl:()=>Ae,Yz7:()=>Pe,ZZ4:()=>Iu,_Bn:()=>lp,_UZ:()=>Uc,_Vd:()=>la,_c5:()=>OC,_uU:()=>_f,aQg:()=>Ru,cJS:()=>et,cg1:()=>Jc,dDg:()=>aC,dqk:()=>ye,eFA:()=>__,ekj:()=>qc,eoX:()=>h_,f3M:()=>$n,g9A:()=>s_,h0i:()=>Vo,hGG:()=>kC,hij:()=>pl,iGM:()=>Ip,ifc:()=>En,ip1:()=>n_,kL8:()=>kf,kYT:()=>Le,lG2:()=>ce,lri:()=>u_,n5z:()=>po,n_E:()=>bl,oAB:()=>hi,oxw:()=>jh,qLn:()=>ua,qOj:()=>Fc,qZA:()=>cl,rWj:()=>d_,sBO:()=>vC,s_b:()=>Cl,soG:()=>Dl,uIk:()=>Hc,vHH:()=>S,vpe:()=>Wr,wAp:()=>At,xp6:()=>$d,ynx:()=>ul,z2F:()=>Ml,zSh:()=>fc,zs3:()=>Xs});var D=Z(5529),$=Z(2654),C=Z(2916),c=Z(6787),v=Z(6606);function m(e){for(let t in e)if(e[t]===m)return t;throw Error("Could not find renamed property on target object.")}function w(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function h(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(h).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function b(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const y=m({__forward_ref__:m});function E(e){return e.__forward_ref__=E,e.toString=function(){return h(this())},e}function d(e){return s(e)?e():e}function s(e){return"function"==typeof e&&e.hasOwnProperty(y)&&e.__forward_ref__===E}function f(e){return e&&!!e.\u0275providers}class S extends Error{constructor(t,n){super(I(t,n)),this.code=t}}function I(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function A(e){return"string"==typeof e?e:null==e?"":String(e)}function k(e,t){throw new S(-201,!1)}function Qe(e,t){null==e&&function Ye(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function Pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function et(e){return{providers:e.providers||[],imports:e.imports||[]}}function Et(e){return St(e,qt)||St(e,Pt)}function St(e,t){return e.hasOwnProperty(t)?e[t]:null}function ht(e){return e&&(e.hasOwnProperty(dt)||e.hasOwnProperty(jt))?e[dt]:null}const qt=m({\u0275prov:m}),dt=m({\u0275inj:m}),Pt=m({ngInjectableDef:m}),jt=m({ngInjectorDef:m});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let We;function Te(e){const t=We;return We=e,t}function Ke(e,t,n){const i=Et(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&nt.Optional?null:void 0!==t?t:void k(h(e))}const ye=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ke={},Xe="__NG_DI_FLAG__",lt="ngTempTokenPath",rn="ngTokenPath",wt=/\n/gm,qe="\u0275",be="__source";let De;function Be(e){const t=De;return De=e,t}function _t(e,t=nt.Default){if(void 0===De)throw new S(-203,!1);return null===De?Ke(e,void 0,t):De.get(e,t&nt.Optional?null:void 0,t)}function It(e,t=nt.Default){return(function ot(){return We}()||_t)(d(e),t)}function $n(e,t=nt.Default){return It(e,qn(t))}function qn(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Zn(e){const t=[];for(let n=0;n<e.length;n++){const i=d(e[n]);if(Array.isArray(i)){if(0===i.length)throw new S(900,!1);let r,o=nt.Default;for(let _=0;_<i.length;_++){const M=i[_],R=Nn(M);"number"==typeof R?-1===R?r=M.token:o|=R:r=M}t.push(It(r,o))}else t.push(It(i))}return t}function Qt(e,t){return e[Xe]=t,e.prototype[Xe]=t,e}function Nn(e){return e[Xe]}function dn(e){return{toString:e}.toString()}var Xt=(()=>((Xt=Xt||{})[Xt.OnPush=0]="OnPush",Xt[Xt.Default=1]="Default",Xt))(),En=(()=>{return(e=En||(En={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",En;var e})();const Ln={},Ut=[],Ti=m({\u0275cmp:m}),Fi=m({\u0275dir:m}),rr=m({\u0275pipe:m}),Ni=m({\u0275mod:m}),pn=m({\u0275fac:m}),Yt=m({__NG_ELEMENT_ID__:m});let xi=0;function Qn(e){return dn(()=>{const t=oi(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||En.Emulated,id:"c"+xi++,styles:e.styles||Ut,_:null,schemas:e.schemas||null,tView:null};Lr(n);const i=e.dependencies;return n.directiveDefs=Ai(i,!1),n.pipeDefs=Ai(i,!0),n})}function si(e){return Fe(e)||st(e)}function Jn(e){return null!==e}function hi(e){return dn(()=>({type:e.type,bootstrap:e.bootstrap||Ut,declarations:e.declarations||Ut,imports:e.imports||Ut,exports:e.exports||Ut,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Le(e,t){return dn(()=>{const n=sn(e,!0);n.declarations=t.declarations||Ut,n.imports=t.imports||Ut,n.exports=t.exports||Ut})}function he(e,t){if(null==e)return Ln;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}function ce(e){return dn(()=>{const t=oi(e);return Lr(t),t})}function Ae(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Fe(e){return e[Ti]||null}function st(e){return e[Fi]||null}function yt(e){return e[rr]||null}function sn(e,t){const n=e[Ni]||null;if(!n&&!0===t)throw new Error(`Type ${h(e)} does not have '\u0275mod' property.`);return n}function oi(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Ut,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:he(e.inputs,t),outputs:he(e.outputs)}}function Lr(e){e.features?.forEach(t=>t(e))}function Ai(e,t){if(!e)return null;const n=t?yt:si;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(Jn)}const ei=0,ct=1,Tt=2,ln=3,On=4,zn=5,_n=6,Ii=7,Zt=8,Wn=9,ai=10,kt=11,Bi=12,li=13,sr=14,Ri=15,yn=16,yr=17,Li=18,yi=19,or=20,ar=21,Kt=22,Hi=1,qi=2,Vi=7,Sn=8,fi=9,Cn=10;function An(e){return Array.isArray(e)&&"object"==typeof e[Hi]}function Bn(e){return Array.isArray(e)&&!0===e[Hi]}function Or(e){return 0!=(4&e.flags)}function lr(e){return e.componentOffset>-1}function ci(e){return 1==(1&e.flags)}function Hn(e){return!!e.template}function ds(e){return 0!=(256&e[Tt])}function Ci(e,t){return e.hasOwnProperty(pn)?e[pn]:null}class gs{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Kr(){return ji}function ji(e){return e.type.prototype.ngOnChanges&&(e.setInput=Pr),Qi}function Qi(){const e=_i(this),t=e?.current;if(t){const n=e.previous;if(n===Ln)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Pr(e,t,n,i){const r=this.declaredInputs[n],o=_i(e)||function Xi(e,t){return e[Yr]=t}(e,{previous:Ln,current:null}),_=o.current||(o.current={}),M=o.previous,R=M[r];_[r]=new gs(R&&R.currentValue,t,M===Ln),e[i]=t}Kr.ngInherit=!0;const Yr="__ngSimpleChanges__";function _i(e){return e[Yr]||null}const Vn=function(e,t,n){};function gn(e){for(;Array.isArray(e);)e=e[ei];return e}function ur(e,t){return gn(t[e])}function Rn(e,t){return gn(t[e.index])}function Zr(e,t){return e.data[t]}function Gn(e,t){const n=t[e];return An(n)?n:n[ei]}function er(e){return 64==(64&e[Tt])}function dr(e,t){return null==t?null:e[t]}function As(e){e[Li]=0}function Is(e,t){e[zn]+=t;let n=e,i=e[ln];for(;null!==i&&(1===t&&1===n[zn]||-1===t&&0===n[zn]);)i[zn]+=t,n=i,i=i[ln]}const Ft={lFrame:Wo(null),bindingsEnabled:!0};function H(){return Ft.bindingsEnabled}function z(){return Ft.lFrame.lView}function xe(){return Ft.lFrame.tView}function Ct(e){return Ft.lFrame.contextLView=e,e[Zt]}function hn(e){return Ft.lFrame.contextLView=null,e}function Jt(){let e=hr();for(;null!==e&&64===e.type;)e=e.parent;return e}function hr(){return Ft.lFrame.currentTNode}function jn(e,t){const n=Ft.lFrame;n.currentTNode=e,n.isParent=t}function ms(){return Ft.lFrame.isParent}function Ui(){Ft.lFrame.isParent=!1}function ni(){const e=Ft.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Jr(){return Ft.lFrame.bindingIndex++}function Os(e,t){const n=Ft.lFrame;n.bindingIndex=n.bindingRootIndex=e,Hr(t)}function Hr(e){Ft.lFrame.currentDirectiveIndex=e}function ao(){return Ft.lFrame.currentQueryIndex}function lo(e){Ft.lFrame.currentQueryIndex=e}function Il(e){const t=e[ct];return 2===t.type?t.declTNode:1===t.type?e[_n]:null}function ks(e,t,n){if(n&nt.SkipSelf){let r=t,o=e;for(;!(r=r.parent,null!==r||n&nt.Host||(r=Il(o),null===r||(o=o[Ri],10&r.type))););if(null===r)return!1;t=r,e=o}const i=Ft.lFrame=zo();return i.currentTNode=t,i.lView=e,!0}function $o(e){const t=zo(),n=e[ct];Ft.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function zo(){const e=Ft.lFrame,t=null===e?null:e.child;return null===t?Wo(e):t}function Wo(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function co(){const e=Ft.lFrame;return Ft.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ps=co;function Fs(){const e=co();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ii(){return Ft.lFrame.selectedIndex}function Er(e){Ft.lFrame.selectedIndex=e}function mn(){const e=Ft.lFrame;return Zr(e.tView,e.selectedIndex)}function Ns(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:M,ngAfterViewInit:R,ngAfterViewChecked:W,ngOnDestroy:X}=o;_&&(e.contentHooks??(e.contentHooks=[])).push(-n,_),M&&((e.contentHooks??(e.contentHooks=[])).push(n,M),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,M)),R&&(e.viewHooks??(e.viewHooks=[])).push(-n,R),W&&((e.viewHooks??(e.viewHooks=[])).push(n,W),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,W)),null!=X&&(e.destroyHooks??(e.destroyHooks=[])).push(n,X)}}function es(e,t,n){G(e,t,3,n)}function Bs(e,t,n,i){(3&e[Tt])===n&&G(e,t,n,i)}function L(e,t){let n=e[Tt];(3&n)===t&&(n&=2047,n+=1,e[Tt]=n)}function G(e,t,n,i){const o=i??-1,_=t.length-1;let M=0;for(let R=void 0!==i?65535&e[Li]:0;R<_;R++)if("number"==typeof t[R+1]){if(M=t[R],null!=i&&M>=i)break}else t[R]<0&&(e[Li]+=65536),(M<o||-1==o)&&(N(e,n,t,R),e[Li]=(4294901760&e[Li])+R+2),R++}function N(e,t,n,i){const r=n[i]<0,o=n[i+1],M=e[r?-n[i]:n[i]];if(r){if(e[Tt]>>11<e[Li]>>16&&(3&e[Tt])===t){e[Tt]+=2048,Vn(4,M,o);try{o.call(M)}finally{Vn(5,M,o)}}}else{Vn(4,M,o);try{o.call(M)}finally{Vn(5,M,o)}}}const te=-1;class _e{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function an(e,t,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const o=n[i++],_=n[i++],M=n[i++];e.setAttribute(t,_,M,o)}else{const o=r,_=n[++i];tr(o)?e.setProperty(t,o,_):e.setAttribute(t,o,_),i++}}return i}function vn(e){return 3===e||4===e||6===e}function tr(e){return 64===e.charCodeAt(0)}function ui(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||pr(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function pr(e,t,n,i,r){let o=0,_=e.length;if(-1===t)_=-1;else for(;o<e.length;){const M=e[o++];if("number"==typeof M){if(M===t){_=-1;break}if(M>t){_=o-1;break}}}for(;o<e.length;){const M=e[o];if("number"==typeof M)break;if(M===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==_&&(e.splice(_,0,t),o=_+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function gi(e){return e!==te}function wn(e){return 32767&e}function nr(e,t){let n=function Ei(e){return e>>16}(e),i=t;for(;n>0;)i=i[Ri],n--;return i}let Yo=!0;function Hs(e){const t=Yo;return Yo=e,t}const qo=255,Vs=5;let Rl=0;const _r={};function uo(e,t){const n=La(e,t);if(-1!==n)return n;const i=t[ct];i.firstCreatePass&&(e.injectorIndex=t.length,ho(i.data,e),ho(t,null),ho(i.blueprint,null));const r=Qo(e,t),o=e.injectorIndex;if(gi(r)){const _=wn(r),M=nr(r,t),R=M[ct].data;for(let W=0;W<8;W++)t[o+W]=M[_+W]|R[_+W]}return t[o+8]=r,o}function ho(e,t){e.push(0,0,0,0,0,0,0,0,t)}function La(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Qo(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){if(i=Pl(r),null===i)return te;if(n++,r=r[Ri],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return te}function Xo(e,t,n){!function Zo(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Yt)&&(i=n[Yt]),null==i&&(i=n[Yt]=Rl++);const r=i&qo;t.data[e+(r>>Vs)]|=1<<r}(e,t,n)}function Jo(e,t,n){if(n&nt.Optional||void 0!==e)return e;k()}function js(e,t,n,i){if(n&nt.Optional&&void 0===i&&(i=null),!(n&(nt.Self|nt.Host))){const r=e[Wn],o=Te(void 0);try{return r?r.get(t,i,n&nt.Optional):Ke(t,i,n&nt.Optional)}finally{Te(o)}}return Jo(i,0,n)}function ea(e,t,n,i=nt.Default,r){if(null!==e){if(1024&t[Tt]){const _=function kl(e,t,n,i,r){let o=e,_=t;for(;null!==o&&null!==_&&1024&_[Tt]&&!(256&_[Tt]);){const M=Oa(o,_,n,i|nt.Self,_r);if(M!==_r)return M;let R=o.parent;if(!R){const W=_[ar];if(W){const X=W.get(n,_r,i);if(X!==_r)return X}R=Pl(_),_=_[Ri]}o=R}return r}(e,t,n,i,_r);if(_!==_r)return _}const o=Oa(e,t,n,i,_r);if(o!==_r)return o}return js(t,n,i,r)}function Oa(e,t,n,i,r){const o=function Ol(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Yt)?e[Yt]:void 0;return"number"==typeof t?t>=0?t&qo:Na:t}(n);if("function"==typeof o){if(!ks(t,e,i))return i&nt.Host?Jo(r,0,i):js(t,n,i,r);try{const _=o(i);if(null!=_||i&nt.Optional)return _;k()}finally{Ps()}}else if("number"==typeof o){let _=null,M=La(e,t),R=te,W=i&nt.Host?t[yn][_n]:null;for((-1===M||i&nt.SkipSelf)&&(R=-1===M?Qo(e,t):t[M+8],R!==te&&Fa(i,!1)?(_=t[ct],M=wn(R),t=nr(R,t)):M=-1);-1!==M;){const X=t[ct];if(Pa(o,M,X.data)){const le=ka(M,t,n,_,i,W);if(le!==_r)return le}R=t[M+8],R!==te&&Fa(i,t[ct].data[M+8]===W)&&Pa(o,M,t)?(_=X,M=wn(R),t=nr(R,t)):M=-1}}return r}function ka(e,t,n,i,r,o){const _=t[ct],M=_.data[e+8],X=fo(M,_,n,null==i?lr(M)&&Yo:i!=_&&0!=(3&M.type),r&nt.Host&&o===M);return null!==X?ts(t,_,X,M):_r}function fo(e,t,n,i,r){const o=e.providerIndexes,_=t.data,M=1048575&o,R=e.directiveStart,X=o>>20,Ee=r?M+X:e.directiveEnd;for(let Oe=i?M:M+X;Oe<Ee;Oe++){const Ge=_[Oe];if(Oe<R&&n===Ge||Oe>=R&&Ge.type===n)return Oe}if(r){const Oe=_[R];if(Oe&&Hn(Oe)&&Oe.type===n)return R}return null}function ts(e,t,n,i){let r=e[n];const o=t.data;if(function He(e){return e instanceof _e}(r)){const _=r;_.resolving&&function g(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new S(-200,`Circular dependency in DI detected for ${e}${n}`)}(function B(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():A(e)}(o[n]));const M=Hs(_.canSeeViewProviders);_.resolving=!0;const R=_.injectImpl?Te(_.injectImpl):null;ks(e,i,nt.Default);try{r=e[n]=_.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function Ko(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const _=ji(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,_),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,_)}r&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,r),o&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==R&&Te(R),Hs(M),_.resolving=!1,Ps()}}return r}function Pa(e,t,n){return!!(n[t+(e>>Vs)]&1<<e)}function Fa(e,t){return!(e&nt.Self||e&nt.Host&&t)}class ys{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return ea(this._tNode,this._lView,t,qn(i),n)}}function Na(){return new ys(Jt(),z())}function po(e){return dn(()=>{const t=e.prototype.constructor,n=t[pn]||_o(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const o=r[pn]||_o(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function _o(e){return s(e)?()=>{const t=_o(d(e));return t&&t()}:Ci(e)}function Pl(e){const t=e[ct],n=t.type;return 2===n?t.declTNode:1===n?e[_n]:null}function Ba(e){return function Ll(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let r=0;for(;r<i;){const o=n[r];if(vn(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===t)return n[r+1];r+=2}}}return null}(Jt(),e)}const ns="__parameters__";function zs(e,t,n){return dn(()=>{const i=function Ha(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const _=new r(...o);return M.annotation=_,M;function M(R,W,X){const le=R.hasOwnProperty(ns)?R[ns]:Object.defineProperty(R,ns,{value:[]})[ns];for(;le.length<=X;)le.push(null);return(le[X]=le[X]||[]).push(_),R}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}class fn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function is(e,t){e.forEach(n=>Array.isArray(n)?is(n,t):t(n))}function ja(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function vo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ws(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function zi(e,t,n){let i=Gs(e,t);return i>=0?e[1|i]=n:(i=~i,function ku(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function Ua(e,t){const n=Gs(e,t);if(n>=0)return e[1|n]}function Gs(e,t){return function $a(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){const o=i+(r-i>>1),_=e[o<<n];if(t===_)return o<<n;_>t?r=o:i=o+1}return~(r<<n)}(e,t,1)}const pe=Qt(zs("Optional"),8),$e=Qt(zs("SkipSelf"),4);var Vr=(()=>((Vr=Vr||{})[Vr.Important=1]="Important",Vr[Vr.DashCase=2]="DashCase",Vr))();const Ul=new Map;let q_=0;const zl="__ngContext__";function Di(e,t){An(t)?(e[zl]=t[or],function Q_(e){Ul.set(e[or],e)}(t)):e[zl]=t}let Wl;function Gl(e,t){return Wl(e,t)}function ia(e){const t=e[ln];return Bn(t)?t[ln]:t}function Kl(e){return Yu(e[li])}function Yl(e){return Yu(e[On])}function Yu(e){for(;null!==e&&!Bn(e);)e=e[On];return e}function bo(e,t,n,i,r){if(null!=i){let o,_=!1;Bn(i)?o=i:An(i)&&(_=!0,i=i[ei]);const M=gn(i);0===e&&null!==n?null==r?ed(t,n,M):Zs(t,n,M,r||null,!0):1===e&&null!==n?Zs(t,n,M,r||null,!0):2===e?function tc(e,t,n){const i=za(e,t);i&&function mg(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,M,_):3===e&&t.destroyNode(M),null!=o&&function yg(e,t,n,i,r){const o=n[Vi];o!==gn(n)&&bo(t,e,i,o,r);for(let M=Cn;M<n.length;M++){const R=n[M];ra(R[ct],R,e,t,i,o)}}(t,e,o,n,r)}}function Zl(e,t,n){return e.createElement(t,n)}function Zu(e,t){const n=e[fi],i=n.indexOf(t),r=t[ln];512&t[Tt]&&(t[Tt]&=-513,Is(r,-1)),n.splice(i,1)}function Ql(e,t){if(e.length<=Cn)return;const n=Cn+t,i=e[n];if(i){const r=i[yr];null!==r&&r!==e&&Zu(r,i),t>0&&(e[n-1][On]=i[On]);const o=vo(e,Cn+t);!function cg(e,t){ra(e,t,t[kt],2,null,null),t[ei]=null,t[_n]=null}(i[ct],i);const _=o[yi];null!==_&&_.detachView(o[ct]),i[ln]=null,i[On]=null,i[Tt]&=-65}return i}function Qu(e,t){if(!(128&t[Tt])){const n=t[kt];n.destroyNode&&ra(e,t,n,3,null,null),function hg(e){let t=e[li];if(!t)return Xl(e[ct],e);for(;t;){let n=null;if(An(t))n=t[li];else{const i=t[Cn];i&&(n=i)}if(!n){for(;t&&!t[On]&&t!==e;)An(t)&&Xl(t[ct],t),t=t[ln];null===t&&(t=e),An(t)&&Xl(t[ct],t),n=t&&t[On]}t=n}}(t)}}function Xl(e,t){if(!(128&t[Tt])){t[Tt]&=-65,t[Tt]|=128,function gg(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof _e)){const o=n[i+1];if(Array.isArray(o))for(let _=0;_<o.length;_+=2){const M=r[o[_]],R=o[_+1];Vn(4,M,R);try{R.call(M)}finally{Vn(5,M,R)}}else{Vn(4,r,o);try{o.call(r)}finally{Vn(5,r,o)}}}}}(e,t),function _g(e,t){const n=e.cleanup,i=t[Ii];let r=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const _=n[o+3];_>=0?i[r=_]():i[r=-_].unsubscribe(),o+=2}else{const _=i[r=n[o+1]];n[o].call(_)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();t[Ii]=null}}(e,t),1===t[ct].type&&t[kt].destroy();const n=t[yr];if(null!==n&&Bn(t[ln])){n!==t[ln]&&Zu(n,t);const i=t[yi];null!==i&&i.detachView(e)}!function X_(e){Ul.delete(e[or])}(t)}}function Xu(e,t,n){return function Ju(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[ei];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=e.data[i.directiveStart+r];if(o===En.None||o===En.Emulated)return null}return Rn(i,n)}}(e,t.parent,n)}function Zs(e,t,n,i,r){e.insertBefore(t,n,i,r)}function ed(e,t,n){e.appendChild(t,n)}function td(e,t,n,i,r){null!==i?Zs(e,t,n,i,r):ed(e,t,n)}function za(e,t){return e.parentNode(t)}function nd(e,t,n){return rd(e,t,n)}let Jl,rc,rd=function id(e,t,n){return 40&e.type?Rn(e,n):null};function Wa(e,t,n,i){const r=Xu(e,i,t),o=t[kt],M=nd(i.parent||t[_n],i,t);if(null!=r)if(Array.isArray(n))for(let R=0;R<n.length;R++)td(o,r,n[R],M,!1);else td(o,r,n,M,!1);void 0!==Jl&&Jl(o,i,t,n,r)}function Ga(e,t){if(null!==t){const n=t.type;if(3&n)return Rn(t,e);if(4&n)return ec(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return Ga(e,i);{const r=e[t.index];return Bn(r)?ec(-1,r):gn(r)}}if(32&n)return Gl(t,e)()||gn(e[t.index]);{const i=od(e,t);return null!==i?Array.isArray(i)?i[0]:Ga(ia(e[yn]),i):Ga(e,t.next)}}return null}function od(e,t){return null!==t?e[yn][_n].projection[t.projection]:null}function ec(e,t){const n=Cn+e+1;if(n<t.length){const i=t[n],r=i[ct].firstChild;if(null!==r)return Ga(i,r)}return t[Vi]}function nc(e,t,n,i,r,o,_){for(;null!=n;){const M=i[n.index],R=n.type;if(_&&0===t&&(M&&Di(gn(M),i),n.flags|=2),32!=(32&n.flags))if(8&R)nc(e,t,n.child,i,r,o,!1),bo(t,e,r,M,o);else if(32&R){const W=Gl(n,i);let X;for(;X=W();)bo(t,e,r,X,o);bo(t,e,r,M,o)}else 16&R?ad(e,t,i,n,r,o):bo(t,e,r,M,o);n=_?n.projectionNext:n.next}}function ra(e,t,n,i,r,o){nc(n,i,e.firstChild,t,r,o,!1)}function ad(e,t,n,i,r,o){const _=n[yn],R=_[_n].projection[i.projection];if(Array.isArray(R))for(let W=0;W<R.length;W++)bo(t,e,r,R[W],o);else nc(e,t,R,_[ln],r,o,!0)}function ld(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function cd(e,t,n){const{mergedAttrs:i,classes:r,styles:o}=n;null!==i&&an(e,t,i),null!==r&&ld(e,t,r),null!==o&&function wg(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function Mg(e){rc=e}class pd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Ed=new fn("ENVIRONMENT_INITIALIZER"),Sd=new fn("INJECTOR",-1),Dd=new fn("INJECTOR_DEF_TYPES");class Md{get(t,n=ke){if(n===ke){const i=new Error(`NullInjectorError: No provider for ${h(t)}!`);throw i.name="NullInjectorError",i}return n}}function Zg(...e){return{\u0275providers:Td(0,e),\u0275fromNgModule:!0}}function Td(e,...t){const n=[],i=new Set;let r;return is(t,o=>{const _=o;uc(_,n,[],i)&&(r||(r=[]),r.push(_))}),void 0!==r&&xd(r,n),n}function xd(e,t){for(let n=0;n<e.length;n++){const{providers:r}=e[n];dc(r,o=>{t.push(o)})}}function uc(e,t,n,i){if(!(e=d(e)))return!1;let r=null,o=ht(e);const _=!o&&Fe(e);if(o||_){if(_&&!_.standalone)return!1;r=e}else{const R=e.ngModule;if(o=ht(R),!o)return!1;r=R}const M=i.has(r);if(_){if(M)return!1;if(i.add(r),_.dependencies){const R="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const W of R)uc(W,t,n,i)}}else{if(!o)return!1;{if(null!=o.imports&&!M){let W;i.add(r);try{is(o.imports,X=>{uc(X,t,n,i)&&(W||(W=[]),W.push(X))})}finally{}void 0!==W&&xd(W,t)}if(!M){const W=Ci(r)||(()=>new r);t.push({provide:r,useFactory:W,deps:Ut},{provide:Dd,useValue:r,multi:!0},{provide:Ed,useValue:()=>It(r),multi:!0})}const R=o.providers;null==R||M||dc(R,X=>{t.push(X)})}}return r!==e&&void 0!==e.providers}function dc(e,t){for(let n of e)f(n)&&(n=n.\u0275providers),Array.isArray(n)?dc(n,t):t(n)}const Qg=m({provide:String,useValue:m});function hc(e){return null!==e&&"object"==typeof e&&Qg in e}function Qs(e){return"function"==typeof e}const fc=new fn("Set Injector scope."),Za={},Jg={};let pc;function Qa(){return void 0===pc&&(pc=new Md),pc}class Co{}class Rd extends Co{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gc(t,_=>this.processProvider(_)),this.records.set(Sd,wo(void 0,this)),r.has("environment")&&this.records.set(Co,wo(void 0,this));const o=this.records.get(fc);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Dd.multi,Ut,nt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Be(this),i=Te(void 0);try{return t()}finally{Be(n),Te(i)}}get(t,n=ke,i=nt.Default){this.assertNotDestroyed(),i=qn(i);const r=Be(this),o=Te(void 0);try{if(!(i&nt.SkipSelf)){let M=this.records.get(t);if(void 0===M){const R=function rm(e){return"function"==typeof e||"object"==typeof e&&e instanceof fn}(t)&&Et(t);M=R&&this.injectableDefInScope(R)?wo(_c(t),Za):null,this.records.set(t,M)}if(null!=M)return this.hydrate(t,M)}return(i&nt.Self?Qa():this.parent).get(t,n=i&nt.Optional&&n===ke?null:n)}catch(_){if("NullInjectorError"===_.name){if((_[lt]=_[lt]||[]).unshift(h(t)),r)throw _;return function bi(e,t,n,i){const r=e[lt];throw t[be]&&r.unshift(t[be]),e.message=function Yi(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==qe?e.slice(2):e;let r=h(t);if(Array.isArray(t))r=t.map(h).join(" -> ");else if("object"==typeof t){let o=[];for(let _ in t)if(t.hasOwnProperty(_)){let M=t[_];o.push(_+":"+("string"==typeof M?JSON.stringify(M):h(M)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(wt,"\n  ")}`}("\n"+e.message,r,n,i),e[rn]=r,e[lt]=null,e}(_,t,"R3InjectorError",this.source)}throw _}finally{Te(o),Be(r)}}resolveInjectorInitializers(){const t=Be(this),n=Te(void 0);try{const i=this.get(Ed.multi,Ut,nt.Self);for(const r of i)r()}finally{Be(t),Te(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(h(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(t){let n=Qs(t=d(t))?t:d(t&&t.provide);const i=function tm(e){return hc(e)?wo(void 0,e.useValue):wo(Ld(e),Za)}(t);if(Qs(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=wo(void 0,Za,!0),r.factory=()=>Zn(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===Za&&(n.value=Jg,n.value=n.factory()),"object"==typeof n.value&&n.value&&function im(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=d(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function _c(e){const t=Et(e),n=null!==t?t.factory:Ci(e);if(null!==n)return n;if(e instanceof fn)throw new S(204,!1);if(e instanceof Function)return function em(e){const t=e.length;if(t>0)throw Ws(t,"?"),new S(204,!1);const n=function bt(e){return e&&(e[qt]||e[Pt])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new S(204,!1)}function Ld(e,t,n){let i;if(Qs(e)){const r=d(e);return Ci(r)||_c(r)}if(hc(e))i=()=>d(e.useValue);else if(function Id(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...Zn(e.deps||[]));else if(function Ad(e){return!(!e||!e.useExisting)}(e))i=()=>It(d(e.useExisting));else{const r=d(e&&(e.useClass||e.provide));if(!function nm(e){return!!e.deps}(e))return Ci(r)||_c(r);i=()=>new r(...Zn(e.deps))}return i}function wo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function gc(e,t){for(const n of e)Array.isArray(n)?gc(n,t):n&&f(n)?gc(n.\u0275providers,t):t(n)}class sm{}class Od{}class am{resolveComponentFactory(t){throw function om(e){const t=Error(`No component factory found for ${h(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let la=(()=>{class e{}return e.NULL=new am,e})();function lm(){return Eo(Jt(),z())}function Eo(e,t){return new ca(Rn(e,t))}let ca=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=lm,e})();function cm(e){return e instanceof ca?e.nativeElement:e}class Pd{}let um=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function dm(){const e=z(),n=Gn(Jt().index,e);return(An(n)?n:e)[kt]}(),e})(),hm=(()=>{class e{}return e.\u0275prov=Pe({token:e,providedIn:"root",factory:()=>null}),e})();class Fd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const fm=new Fd("15.2.10"),mc={},vc="ngOriginalError";function bc(e){return e[vc]}class ua{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&bc(t);for(;n&&bc(n);)n=bc(n);return n||null}}function Bd(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}const Hd="ng-template";function Sm(e,t,n){let i=0,r=!0;for(;i<e.length;){let o=e[i++];if("string"==typeof o&&r){const _=e[i++];if(n&&"class"===o&&-1!==Bd(_.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<e.length&&"string"==typeof(o=e[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Vd(e){return 4===e.type&&e.value!==Hd}function Dm(e,t,n){return t===(4!==e.type||n?e.value:Hd)}function Mm(e,t,n){let i=4;const r=e.attrs||[],o=function Am(e){for(let t=0;t<e.length;t++)if(vn(e[t]))return t;return e.length}(r);let _=!1;for(let M=0;M<t.length;M++){const R=t[M];if("number"!=typeof R){if(!_)if(4&i){if(i=2|1&i,""!==R&&!Dm(e,R,n)||""===R&&1===t.length){if(xr(i))return!1;_=!0}}else{const W=8&i?R:t[++M];if(8&i&&null!==e.attrs){if(!Sm(e.attrs,W,n)){if(xr(i))return!1;_=!0}continue}const le=Tm(8&i?"class":R,r,Vd(e),n);if(-1===le){if(xr(i))return!1;_=!0;continue}if(""!==W){let Ee;Ee=le>o?"":r[le+1].toLowerCase();const Oe=8&i?Ee:null;if(Oe&&-1!==Bd(Oe,W,0)||2&i&&W!==Ee){if(xr(i))return!1;_=!0}}}}else{if(!_&&!xr(i)&&!xr(R))return!1;if(_&&xr(R))continue;_=!1,i=R|1&i}}return xr(i)||_}function xr(e){return 0==(1&e)}function Tm(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){const _=t[r];if(_===e)return r;if(3===_||6===_)o=!0;else{if(1===_||2===_){let M=t[++r];for(;"string"==typeof M;)M=t[++r];continue}if(4===_)break;if(0===_){r+=4;continue}}r+=o?1:2}return-1}return function Im(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function jd(e,t,n=!1){for(let i=0;i<t.length;i++)if(Mm(e,t[i],n))return!0;return!1}function Rm(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Ud(e,t){return e?":not("+t.trim()+")":t}function Lm(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let _=e[n];if("string"==typeof _)if(2&i){const M=e[++n];r+="["+_+(M.length>0?'="'+M+'"':"")+"]"}else 8&i?r+="."+_:4&i&&(r+=" "+_);else""!==r&&!xr(_)&&(t+=Ud(o,r),r=""),i=_,o=o||!xr(i);n++}return""!==r&&(t+=Ud(o,r)),t}const $t={};function $d(e){zd(xe(),z(),ii()+e,!1)}function zd(e,t,n,i){if(!i)if(3==(3&t[Tt])){const o=e.preOrderCheckHooks;null!==o&&es(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Bs(t,o,0,n)}Er(n)}function Yd(e,t=null,n=null,i){const r=qd(e,t,n,i);return r.resolveInjectorInitializers(),r}function qd(e,t=null,n=null,i,r=new Set){const o=[n||Ut,Zg(e)];return i=i||("object"==typeof e?void 0:h(e)),new Rd(o,t||Qa(),i||null,r)}let Xs=(()=>{class e{static create(n,i){if(Array.isArray(n))return Yd({name:""},i,n,"");{const r=n.name??"";return Yd({name:r},n.parent,n.providers,r)}}}return e.THROW_IF_NOT_FOUND=ke,e.NULL=new Md,e.\u0275prov=Pe({token:e,providedIn:"any",factory:()=>It(Sd)}),e.__NG_ELEMENT_ID__=-1,e})();function Mo(e,t=nt.Default){const n=z();return null===n?It(e,t):ea(Jt(),n,d(e),t)}function nh(){throw new Error("invalid")}function ih(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const _=e.data[o];lo(n[i]),_.contentQueries(2,t[o],o)}}}function Ja(e,t,n,i,r,o,_,M,R,W,X){const le=t.blueprint.slice();return le[ei]=r,le[Tt]=76|i,(null!==X||e&&1024&e[Tt])&&(le[Tt]|=1024),As(le),le[ln]=le[Ri]=e,le[Zt]=n,le[ai]=_||e&&e[ai],le[kt]=M||e&&e[kt],le[Bi]=R||e&&e[Bi]||null,le[Wn]=W||e&&e[Wn]||null,le[_n]=o,le[or]=function Z_(){return q_++}(),le[ar]=X,le[yn]=2==t.type?e[yn]:le,le}function To(e,t,n,i,r){let o=e.data[t];if(null===o)o=function Sc(e,t,n,i,r){const o=hr(),_=ms(),R=e.data[t]=function rv(e,t,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?o:o&&o.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=R),null!==o&&(_?null==o.child&&null!==R.parent&&(o.child=R):null===o.next&&(o.next=R,R.prev=o)),R}(e,t,n,i,r),function vs(){return Ft.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const _=function wi(){const e=Ft.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===_?-1:_.injectorIndex}return jn(o,!0),o}function da(e,t,n,i){if(0===n)return-1;const r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Dc(e,t,n){$o(t);try{const i=e.viewQuery;null!==i&&kc(1,i,n);const r=e.template;null!==r&&rh(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ih(e,t),e.staticViewQueries&&kc(2,e.viewQuery,n);const o=e.components;null!==o&&function tv(e,t){for(let n=0;n<t.length;n++)Sv(e,t[n])}(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[Tt]&=-5,Fs()}}function el(e,t,n,i){const r=t[Tt];if(128!=(128&r)){$o(t);try{As(t),function Br(e){return Ft.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&rh(e,t,n,2,i);const _=3==(3&r);if(_){const W=e.preOrderCheckHooks;null!==W&&es(t,W,null)}else{const W=e.preOrderHooks;null!==W&&Bs(t,W,0,null),L(t,0)}if(function wv(e){for(let t=Kl(e);null!==t;t=Yl(t)){if(!t[qi])continue;const n=t[fi];for(let i=0;i<n.length;i++){const r=n[i];512&r[Tt]||Is(r[ln],1),r[Tt]|=512}}}(t),function Cv(e){for(let t=Kl(e);null!==t;t=Yl(t))for(let n=Cn;n<t.length;n++){const i=t[n],r=i[ct];er(i)&&el(r,i,r.template,i[Zt])}}(t),null!==e.contentQueries&&ih(e,t),_){const W=e.contentCheckHooks;null!==W&&es(t,W)}else{const W=e.contentHooks;null!==W&&Bs(t,W,1),L(t,1)}!function Jm(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)Er(~r);else{const o=r,_=n[++i],M=n[++i];Os(_,o),M(2,t[o])}}}finally{Er(-1)}}(e,t);const M=e.components;null!==M&&function ev(e,t){for(let n=0;n<t.length;n++)Ev(e,t[n])}(t,M);const R=e.viewQuery;if(null!==R&&kc(2,R,i),_){const W=e.viewCheckHooks;null!==W&&es(t,W)}else{const W=e.viewHooks;null!==W&&Bs(t,W,2),L(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Tt]&=-41,512&t[Tt]&&(t[Tt]&=-513,Is(t[ln],-1))}finally{Fs()}}}function rh(e,t,n,i,r){const o=ii(),_=2&i;try{Er(-1),_&&t.length>Kt&&zd(e,t,Kt,!1),Vn(_?2:0,r),n(i,r)}finally{Er(o),Vn(_?3:1,r)}}function Mc(e,t,n){if(Or(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const _=e.data[o];_.contentQueries&&_.contentQueries(1,n[o],o)}}}function Tc(e,t,n){H()&&(function dv(e,t,n,i){const r=n.directiveStart,o=n.directiveEnd;lr(n)&&function vv(e,t,n){const i=Rn(t,e),r=sh(n),o=e[ai],_=tl(e,Ja(e,r,null,n.onPush?32:16,i,t,o,o.createRenderer(i,n),null,null,null));e[t.index]=_}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||uo(n,t),Di(i,t);const _=n.initialInputs;for(let M=r;M<o;M++){const R=e.data[M],W=ts(t,e,M,n);Di(W,t),null!==_&&bv(0,M-r,W,R,0,_),Hn(R)&&(Gn(n.index,t)[Zt]=ts(t,e,M,n))}}(e,t,n,Rn(n,t)),64==(64&n.flags)&&uh(e,t,n))}function xc(e,t,n=Rn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const _=i[o+1],M=-1===_?n(t,e):e[_];e[r++]=M}}}function sh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ac(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ac(e,t,n,i,r,o,_,M,R,W){const X=Kt+i,le=X+r,Ee=function nv(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:$t);return n}(X,le),Oe="function"==typeof W?W():W;return Ee[ct]={type:e,blueprint:Ee,template:n,queries:null,viewQuery:M,declTNode:t,data:Ee.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:R,consts:Oe,incompleteFirstPass:!1}}function oh(e,t,n,i){const r=hh(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&fh(e).push(i,r.length-1))}function ah(e,t,n,i){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const o=e[r];null===i?lh(n,t,r,o):i.hasOwnProperty(r)&&lh(n,t,i[r],o)}return n}function lh(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function ir(e,t,n,i,r,o,_,M){const R=Rn(t,n);let X,W=t.inputs;!M&&null!=W&&(X=W[i])?(Pc(e,n,X,i,r),lr(t)&&function av(e,t){const n=Gn(t,e);16&n[Tt]||(n[Tt]|=32)}(n,t.index)):3&t.type&&(i=function ov(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=_?_(r,t.value||"",i):r,o.setProperty(R,i,r))}function Ic(e,t,n,i){if(H()){const r=null===i?null:{"":-1},o=function fv(e,t){const n=e.directiveRegistry;let i=null,r=null;if(n)for(let o=0;o<n.length;o++){const _=n[o];if(jd(t,_.selectors,!1))if(i||(i=[]),Hn(_))if(null!==_.findHostDirectiveDefs){const M=[];r=r||new Map,_.findHostDirectiveDefs(_,M,r),i.unshift(...M,_),Rc(e,t,M.length)}else i.unshift(_),Rc(e,t,0);else r=r||new Map,_.findHostDirectiveDefs?.(_,i,r),i.push(_)}return null===i?null:[i,r]}(e,n);let _,M;null===o?_=M=null:[_,M]=o,null!==_&&ch(e,t,n,_,r,M),r&&function pv(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const o=n[t[r+1]];if(null==o)throw new S(-301,!1);i.push(t[r],o)}}}(n,i,r)}n.mergedAttrs=ui(n.mergedAttrs,n.attrs)}function ch(e,t,n,i,r,o){for(let W=0;W<i.length;W++)Xo(uo(n,t),e,i[W].type);!function gv(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let W=0;W<i.length;W++){const X=i[W];X.providersResolver&&X.providersResolver(X)}let _=!1,M=!1,R=da(e,t,i.length,null);for(let W=0;W<i.length;W++){const X=i[W];n.mergedAttrs=ui(n.mergedAttrs,X.hostAttrs),mv(e,n,t,R,X),_v(R,X,r),null!==X.contentQueries&&(n.flags|=4),(null!==X.hostBindings||null!==X.hostAttrs||0!==X.hostVars)&&(n.flags|=64);const le=X.type.prototype;!_&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),_=!0),!M&&(le.ngOnChanges||le.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),M=!0),R++}!function sv(e,t,n){const r=t.directiveEnd,o=e.data,_=t.attrs,M=[];let R=null,W=null;for(let X=t.directiveStart;X<r;X++){const le=o[X],Ee=n?n.get(le):null,Ge=Ee?Ee.outputs:null;R=ah(le.inputs,X,R,Ee?Ee.inputs:null),W=ah(le.outputs,X,W,Ge);const rt=null===R||null===_||Vd(t)?null:yv(R,X,_);M.push(rt)}null!==R&&(R.hasOwnProperty("class")&&(t.flags|=8),R.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=M,t.inputs=R,t.outputs=W}(e,n,o)}function uh(e,t,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,_=function oo(){return Ft.lFrame.currentDirectiveIndex}();try{Er(o);for(let M=i;M<r;M++){const R=e.data[M],W=t[M];Hr(M),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&hv(R,W)}}finally{Er(-1),Hr(_)}}function hv(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Rc(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function _v(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Hn(t)&&(n[""]=e)}}function mv(e,t,n,i,r){e.data[i]=r;const o=r.factory||(r.factory=Ci(r.type)),_=new _e(o,Hn(r),Mo);e.blueprint[i]=_,n[i]=_,function cv(e,t,n,i,r){const o=r.hostBindings;if(o){let _=e.hostBindingOpCodes;null===_&&(_=e.hostBindingOpCodes=[]);const M=~t.index;(function uv(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(_)!=M&&_.push(M),_.push(n,i,o)}}(e,t,i,da(e,n,r.hostVars,$t),r)}function jr(e,t,n,i,r,o){const _=Rn(e,t);!function Lc(e,t,n,i,r,o,_){if(null==o)e.removeAttribute(t,r,n);else{const M=null==_?A(o):_(o,i||"",r);e.setAttribute(t,r,M,n)}}(t[kt],_,o,e.value,n,i,r)}function bv(e,t,n,i,r,o){const _=o[t];if(null!==_){const M=i.setInput;for(let R=0;R<_.length;){const W=_[R++],X=_[R++],le=_[R++];null!==M?i.setInput(n,le,W,X):n[X]=le}}}function yv(e,t,n){let i=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===i&&(i=[]);const _=e[o];for(let M=0;M<_.length;M+=2)if(_[M]===t){i.push(o,_[M+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function dh(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null]}function Ev(e,t){const n=Gn(t,e);if(er(n)){const i=n[ct];48&n[Tt]?el(i,n,i.template,n[Zt]):n[zn]>0&&Oc(n)}}function Oc(e){for(let i=Kl(e);null!==i;i=Yl(i))for(let r=Cn;r<i.length;r++){const o=i[r];if(er(o))if(512&o[Tt]){const _=o[ct];el(_,o,_.template,o[Zt])}else o[zn]>0&&Oc(o)}const n=e[ct].components;if(null!==n)for(let i=0;i<n.length;i++){const r=Gn(n[i],e);er(r)&&r[zn]>0&&Oc(r)}}function Sv(e,t){const n=Gn(t,e),i=n[ct];(function Dv(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),Dc(i,n,n[Zt])}function tl(e,t){return e[li]?e[sr][On]=t:e[li]=t,e[sr]=t,t}function nl(e){for(;e;){e[Tt]|=32;const t=ia(e);if(ds(e)&&!t)return e;e=t}return null}function il(e,t,n,i=!0){const r=t[ai];r.begin&&r.begin();try{el(e,t,e.template,n)}catch(_){throw i&&_h(t,_),_}finally{r.end&&r.end()}}function kc(e,t,n){lo(0),t(e,n)}function hh(e){return e[Ii]||(e[Ii]=[])}function fh(e){return e.cleanup||(e.cleanup=[])}function _h(e,t){const n=e[Wn],i=n?n.get(ua,null):null;i&&i.handleError(t)}function Pc(e,t,n,i,r){for(let o=0;o<n.length;){const _=n[o++],M=n[o++],R=t[_],W=e.data[_];null!==W.setInput?W.setInput(R,r,i,M):R[M]=r}}function rl(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(let _=0;_<t.length;_++){const M=t[_];"number"==typeof M?o=M:1==o?r=b(r,M):2==o&&(i=b(i,M+": "+t[++_]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function sl(e,t,n,i,r=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&i.push(gn(o)),Bn(o))for(let M=Cn;M<o.length;M++){const R=o[M],W=R[ct].firstChild;null!==W&&sl(R[ct],R,W,i)}const _=n.type;if(8&_)sl(e,t,n.child,i);else if(32&_){const M=Gl(n,t);let R;for(;R=M();)i.push(R)}else if(16&_){const M=od(t,n);if(Array.isArray(M))i.push(...M);else{const R=ia(t[yn]);sl(R[ct],R,M,i,!0)}}n=r?n.projectionNext:n.next}return i}class ha{get rootNodes(){const t=this._lView,n=t[ct];return sl(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zt]}set context(t){this._lView[Zt]=t}get destroyed(){return 128==(128&this._lView[Tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ln];if(Bn(t)){const n=t[Sn],i=n?n.indexOf(this):-1;i>-1&&(Ql(t,i),vo(n,i))}this._attachedToViewContainer=!1}Qu(this._lView[ct],this._lView)}onDestroy(t){oh(this._lView[ct],this._lView,null,t)}markForCheck(){nl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Tt]&=-65}reattach(){this._lView[Tt]|=64}detectChanges(){il(this._lView[ct],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dg(e,t){ra(e,t,t[kt],2,null,null)}(this._lView[ct],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=t}}class Mv extends ha{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;il(t[ct],t,t[Zt],!1)}checkNoChanges(){}get context(){return null}}class gh extends la{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Fe(t);return new fa(n,this.ngModule)}}function mh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class xv{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=qn(i);const r=this.injector.get(t,mc,i);return r!==mc||n===mc?r:this.parentInjector.get(t,n,i)}}class fa extends Od{get inputs(){return mh(this.componentDef.inputs)}get outputs(){return mh(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Om(e){return e.map(Lm).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let o=(r=r||this.ngModule)instanceof Co?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const _=o?new xv(t,o):t,M=_.get(Pd,null);if(null===M)throw new S(407,!1);const R=_.get(hm,null),W=M.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",le=i?function iv(e,t,n){return e.selectRootElement(t,n===En.ShadowDom)}(W,i,this.componentDef.encapsulation):Zl(W,X,function Tv(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(X)),Ee=this.componentDef.onPush?288:272,Oe=Ac(0,null,null,1,0,null,null,null,null,null),Ge=Ja(null,Oe,null,Ee,null,null,M,W,R,_,null);let rt,ut;$o(Ge);try{const vt=this.componentDef;let Lt,Je=null;vt.findHostDirectiveDefs?(Lt=[],Je=new Map,vt.findHostDirectiveDefs(vt,Lt,Je),Lt.push(vt)):Lt=[vt];const Vt=function Iv(e,t){const n=e[ct],i=Kt;return e[i]=t,To(n,i,2,"#host",null)}(Ge,le),xn=function Rv(e,t,n,i,r,o,_,M){const R=r[ct];!function Lv(e,t,n,i){for(const r of e)t.mergedAttrs=ui(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(rl(t,t.mergedAttrs,!0),null!==n&&cd(i,n,t))}(i,e,t,_);const W=o.createRenderer(t,n),X=Ja(r,sh(n),null,n.onPush?32:16,r[e.index],e,o,W,M||null,null,null);return R.firstCreatePass&&Rc(R,e,i.length-1),tl(r,X),r[e.index]=X}(Vt,le,vt,Lt,Ge,M,W);ut=Zr(Oe,Kt),le&&function kv(e,t,n,i){if(i)an(e,n,["ng-version",fm.full]);else{const{attrs:r,classes:o}=function km(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!xr(r))break;r=o}i++}return{attrs:t,classes:n}}(t.selectors[0]);r&&an(e,n,r),o&&o.length>0&&ld(e,n,o.join(" "))}}(W,vt,le,i),void 0!==n&&function Pv(e,t,n){const i=e.projection=[];for(let r=0;r<t.length;r++){const o=n[r];i.push(null!=o?Array.from(o):null)}}(ut,this.ngContentSelectors,n),rt=function Ov(e,t,n,i,r,o){const _=Jt(),M=r[ct],R=Rn(_,r);ch(M,r,_,n,null,i);for(let X=0;X<n.length;X++)Di(ts(r,M,_.directiveStart+X,_),r);uh(M,r,_),R&&Di(R,r);const W=ts(r,M,_.directiveStart+_.componentOffset,_);if(e[Zt]=r[Zt]=W,null!==o)for(const X of o)X(W,t);return Mc(M,_,e),W}(xn,vt,Lt,Je,Ge,[Fv]),Dc(Oe,Ge,null)}finally{Fs()}return new Av(this.componentType,rt,Eo(ut,Ge),Ge,ut)}}class Av extends sm{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new Mv(r),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const o=this._rootLView;Pc(o[ct],o,r,t,n),nl(Gn(this._tNode.index,o))}}get injector(){return new ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Fv(){const e=Jt();Ns(z()[ct],e)}function Fc(e){let t=function vh(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let r;if(Hn(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new S(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);const _=e;_.inputs=Nc(e.inputs),_.declaredInputs=Nc(e.declaredInputs),_.outputs=Nc(e.outputs);const M=r.hostBindings;M&&Vv(e,M);const R=r.viewQuery,W=r.contentQueries;if(R&&Bv(e,R),W&&Hv(e,W),w(e.inputs,r.inputs),w(e.declaredInputs,r.declaredInputs),w(e.outputs,r.outputs),Hn(r)&&r.data.animation){const X=e.data;X.animation=(X.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let _=0;_<o.length;_++){const M=o[_];M&&M.ngInherit&&M(e),M===Fc&&(n=!1)}}t=Object.getPrototypeOf(t)}!function Nv(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ui(r.hostAttrs,n=ui(n,r.hostAttrs))}}(i)}function Nc(e){return e===Ln?{}:e===Ut?[]:e}function Bv(e,t){const n=e.viewQuery;e.viewQuery=n?(i,r)=>{t(i,r),n(i,r)}:t}function Hv(e,t){const n=e.contentQueries;e.contentQueries=n?(i,r,o)=>{t(i,r,o),n(i,r,o)}:t}function Vv(e,t){const n=e.hostBindings;e.hostBindings=n?(i,r)=>{t(i,r),n(i,r)}:t}function ol(e){return!!Bc(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Bc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ur(e,t,n){return e[t]=n}function Mi(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Hc(e,t,n,i){const r=z();return Mi(r,Jr(),t)&&(xe(),jr(mn(),r,e,t,n,i)),Hc}function Rh(e,t,n,i,r,o,_,M){const R=z(),W=xe(),X=e+Kt,le=W.firstCreatePass?function Zv(e,t,n,i,r,o,_,M,R){const W=t.consts,X=To(t,e,4,_||null,dr(W,M));Ic(t,n,X,dr(W,R)),Ns(t,X);const le=X.tView=Ac(2,X,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,W);return null!==t.queries&&(t.queries.template(t,X),le.queries=t.queries.embeddedTView(X)),X}(X,W,R,t,n,i,r,o,_):W.data[X];jn(le,!1);const Ee=R[kt].createComment("");Wa(W,R,Ee,le),Di(Ee,R),tl(R,R[X]=dh(Ee,R,Ee,le)),ci(le)&&Tc(W,R,le),null!=_&&xc(R,le,M)}function Lh(e){return function kn(e,t){return e[t]}(function so(){return Ft.lFrame.contextLView}(),Kt+e)}function Vc(e,t,n){const i=z();return Mi(i,Jr(),t)&&ir(xe(),mn(),i,e,t,i[kt],n,!1),Vc}function jc(e,t,n,i,r){const _=r?"class":"style";Pc(e,n,t.inputs[_],_,i)}function ll(e,t,n,i){const r=z(),o=xe(),_=Kt+e,M=r[kt],R=o.firstCreatePass?function Xv(e,t,n,i,r,o){const _=t.consts,R=To(t,e,2,i,dr(_,r));return Ic(t,n,R,dr(_,o)),null!==R.attrs&&rl(R,R.attrs,!1),null!==R.mergedAttrs&&rl(R,R.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,R),R}(_,o,r,t,n,i):o.data[_],W=r[_]=Zl(M,t,function Ra(){return Ft.lFrame.currentNamespace}()),X=ci(R);return jn(R,!0),cd(M,W,R),32!=(32&R.flags)&&Wa(o,r,W,R),0===function io(){return Ft.lFrame.elementDepthCount}()&&Di(W,r),function ro(){Ft.lFrame.elementDepthCount++}(),X&&(Tc(o,r,R),Mc(o,R,r)),null!==i&&xc(r,R),ll}function cl(){let e=Jt();ms()?Ui():(e=e.parent,jn(e,!1));const t=e;!function Nr(){Ft.lFrame.elementDepthCount--}();const n=xe();return n.firstCreatePass&&(Ns(n,e),Or(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function cn(e){return 0!=(8&e.flags)}(t)&&jc(n,t,z(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function tn(e){return 0!=(16&e.flags)}(t)&&jc(n,t,z(),t.stylesWithoutHost,!1),cl}function Uc(e,t,n,i){return ll(e,t,n,i),cl(),Uc}function ul(e,t,n){const i=z(),r=xe(),o=e+Kt,_=r.firstCreatePass?function Jv(e,t,n,i,r){const o=t.consts,_=dr(o,i),M=To(t,e,8,"ng-container",_);return null!==_&&rl(M,_,!0),Ic(t,n,M,dr(o,r)),null!==t.queries&&t.queries.elementStart(t,M),M}(o,r,i,t,n):r.data[o];jn(_,!0);const M=i[o]=i[kt].createComment("");return Wa(r,i,M,_),Di(M,i),ci(_)&&(Tc(r,i,_),Mc(r,_,i)),null!=n&&xc(i,_),ul}function dl(){let e=Jt();const t=xe();return ms()?Ui():(e=e.parent,jn(e,!1)),t.firstCreatePass&&(Ns(t,e),Or(e)&&t.queries.elementEnd(e)),dl}function kh(){return z()}function $c(e){return!!e&&"function"==typeof e.then}function Ph(e){return!!e&&"function"==typeof e.subscribe}const Fh=Ph;function zc(e,t,n,i){const r=z(),o=xe(),_=Jt();return function Bh(e,t,n,i,r,o,_){const M=ci(i),W=e.firstCreatePass&&fh(e),X=t[Zt],le=hh(t);let Ee=!0;if(3&i.type||_){const rt=Rn(i,t),ut=_?_(rt):rt,vt=le.length,Lt=_?Vt=>_(gn(Vt[i.index])):i.index;let Je=null;if(!_&&M&&(Je=function eb(e,t,n,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const _=r[o];if(_===n&&r[o+1]===i){const M=t[Ii],R=r[o+2];return M.length>R?M[R]:null}"string"==typeof _&&(o+=2)}return null}(e,t,r,i.index)),null!==Je)(Je.__ngLastListenerFn__||Je).__ngNextListenerFn__=o,Je.__ngLastListenerFn__=o,Ee=!1;else{o=Vh(i,t,X,o,!1);const Vt=n.listen(ut,r,o);le.push(o,Vt),W&&W.push(r,Lt,vt,vt+1)}}else o=Vh(i,t,X,o,!1);const Oe=i.outputs;let Ge;if(Ee&&null!==Oe&&(Ge=Oe[r])){const rt=Ge.length;if(rt)for(let ut=0;ut<rt;ut+=2){const xn=t[Ge[ut]][Ge[ut+1]].subscribe(o),Un=le.length;le.push(o,xn),W&&W.push(r,i.index,Un,-(Un+1))}}}(o,r,r[kt],_,e,t,i),zc}function Hh(e,t,n,i){try{return Vn(6,t,n),!1!==n(i)}catch(r){return _h(e,r),!1}finally{Vn(7,t,n)}}function Vh(e,t,n,i,r){return function o(_){if(_===Function)return i;nl(e.componentOffset>-1?Gn(e.index,t):t);let R=Hh(t,n,i,_),W=o.__ngNextListenerFn__;for(;W;)R=Hh(t,n,W,_)&&R,W=W.__ngNextListenerFn__;return r&&!1===R&&(_.preventDefault(),_.returnValue=!1),R}}function jh(e=1){return function Ma(e){return(Ft.lFrame.contextLView=function Ta(e,t){for(;e>0;)t=t[Ri],e--;return t}(e,Ft.lFrame.contextLView))[Zt]}(e)}function tb(e,t){let n=null;const i=function xm(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?jd(e,o,!0):Rm(i,o))return r}else n=r}return n}function Uh(e){const t=z()[yn][_n];if(!t.projection){const i=t.projection=Ws(e?e.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const _=e?tb(o,e):0;null!==_&&(r[_]?r[_].projectionNext=o:i[_]=o,r[_]=o),o=o.next}}}function $h(e,t=0,n){const i=z(),r=xe(),o=To(r,Kt+e,16,null,n||null);null===o.projection&&(o.projection=t),Ui(),32!=(32&o.flags)&&function bg(e,t,n){ad(t[kt],0,t,n,Xu(e,n,t),nd(n.parent||t[_n],n,t))}(r,i,o)}function hl(e,t){return e<<17|t<<2}function Ss(e){return e>>17&32767}function Gc(e){return 2|e}function eo(e){return(131068&e)>>2}function Kc(e,t){return-131069&e|t<<2}function Yc(e){return 1|e}function Jh(e,t,n,i,r){const o=e[n+1],_=null===t;let M=i?Ss(o):eo(o),R=!1;for(;0!==M&&(!1===R||_);){const X=e[M+1];ab(e[M],t)&&(R=!0,e[M+1]=i?Yc(X):Gc(X)),M=i?Ss(X):eo(X)}R&&(e[n+1]=i?Gc(o):Yc(o))}function ab(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Gs(e,t)>=0}function qc(e,t){return function Ar(e,t,n,i){const r=z(),o=xe(),_=function fr(e){const t=Ft.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);o.firstUpdatePass&&function uf(e,t,n,i){const r=e.data;if(null===r[n+1]){const o=r[ii()],_=function cf(e,t){return t>=e.expandoStartIndex}(e,n);(function pf(e,t){return 0!=(e.flags&(t?8:16))})(o,i)&&null===t&&!_&&(t=!1),t=function gb(e,t,n,i){const r=function bs(e){const t=Ft.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=_a(n=Zc(null,e,t,n,i),t.attrs,i),o=null);else{const _=t.directiveStylingLast;if(-1===_||e[_]!==r)if(n=Zc(r,e,t,n,i),null===o){let R=function mb(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==eo(i))return e[Ss(i)]}(e,t,i);void 0!==R&&Array.isArray(R)&&(R=Zc(null,e,t,R[1],i),R=_a(R,t.attrs,i),function vb(e,t,n,i){e[Ss(n?t.classBindings:t.styleBindings)]=i}(e,t,i,R))}else o=function bb(e,t,n){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=_a(i,e[o].hostAttrs,n);return _a(i,t.attrs,n)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),n}(r,o,t,i),function sb(e,t,n,i,r,o){let _=o?t.classBindings:t.styleBindings,M=Ss(_),R=eo(_);e[i]=n;let X,W=!1;if(Array.isArray(n)?(X=n[1],(null===X||Gs(n,X)>0)&&(W=!0)):X=n,r)if(0!==R){const Ee=Ss(e[M+1]);e[i+1]=hl(Ee,M),0!==Ee&&(e[Ee+1]=Kc(e[Ee+1],i)),e[M+1]=function ib(e,t){return 131071&e|t<<17}(e[M+1],i)}else e[i+1]=hl(M,0),0!==M&&(e[M+1]=Kc(e[M+1],i)),M=i;else e[i+1]=hl(R,0),0===M?M=i:e[R+1]=Kc(e[R+1],i),R=i;W&&(e[i+1]=Gc(e[i+1])),Jh(e,X,i,!0),Jh(e,X,i,!1),function ob(e,t,n,i,r){const o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Gs(o,t)>=0&&(n[i+1]=Yc(n[i+1]))}(t,X,e,i,o),_=hl(M,R),o?t.classBindings=_:t.styleBindings=_}(r,o,t,n,_,i)}}(o,e,_,i),t!==$t&&Mi(r,_,t)&&function hf(e,t,n,i,r,o,_,M){if(!(3&t.type))return;const R=e.data,W=R[M+1],X=function rb(e){return 1==(1&e)}(W)?ff(R,t,n,r,eo(W),_):void 0;fl(X)||(fl(o)||function nb(e){return 2==(2&e)}(W)&&(o=ff(R,null,n,r,M,_)),function Cg(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=-1===i.indexOf("-")?void 0:Vr.DashCase;null==r?e.removeStyle(n,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Vr.Important),e.setStyle(n,i,r,o))}}(i,_,ur(ii(),n),r,o))}(o,o.data[ii()],r,r[kt],e,r[_+1]=function Eb(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=h(function Es(e){return e instanceof pd?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),i,_)}(e,t,null,!0),qc}function Zc(e,t,n,i,r){let o=null;const _=n.directiveEnd;let M=n.directiveStylingLast;for(-1===M?M=n.directiveStart:M++;M<_&&(o=t[M],i=_a(i,o.hostAttrs,r),o!==e);)M++;return null!==e&&(n.directiveStylingLast=M),i}function _a(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const _=t[o];"number"==typeof _?r=_:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),zi(e,_,!!n||t[++o]))}return void 0===e?null:e}function ff(e,t,n,i,r,o){const _=null===t;let M;for(;r>0;){const R=e[r],W=Array.isArray(R),X=W?R[1]:R,le=null===X;let Ee=n[r+1];Ee===$t&&(Ee=le?Ut:void 0);let Oe=le?Ua(Ee,i):X===i?Ee:void 0;if(W&&!fl(Oe)&&(Oe=Ua(R,i)),fl(Oe)&&(M=Oe,_))return M;const Ge=e[r+1];r=_?Ss(Ge):eo(Ge)}if(null!==t){let R=o?t.residualClasses:t.residualStyles;null!=R&&(M=Ua(R,i))}return M}function fl(e){return void 0!==e}function _f(e,t=""){const n=z(),i=xe(),r=e+Kt,o=i.firstCreatePass?To(i,r,1,t,null):i.data[r],_=n[r]=function ql(e,t){return e.createText(t)}(n[kt],t);Wa(i,n,_,o),jn(o,!1)}function Qc(e){return pl("",e,""),Qc}function pl(e,t,n){const i=z(),r=function Ao(e,t,n,i){return Mi(e,Jr(),n)?t+A(n)+i:$t}(i,e,t,n);return r!==$t&&function ls(e,t,n){const i=ur(t,e);!function qu(e,t,n){e.setValue(t,n)}(e[kt],i,n)}(i,ii(),r),pl}function Xc(e,t,n){const i=z();return Mi(i,Jr(),t)&&ir(xe(),mn(),i,e,t,i[kt],n,!0),Xc}const to=void 0;var $b=["en",[["a","p"],["AM","PM"],to],[["AM","PM"],to,to],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],to,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],to,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",to,"{1} 'at' {0}",to],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ub(e){const n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let Bo={};function Jc(e){const t=function zb(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Pf(t);if(n)return n;const i=t.split("-")[0];if(n=Pf(i),n)return n;if("en"===i)return $b;throw new S(701,!1)}function kf(e){return Jc(e)[At.PluralCase]}function Pf(e){return e in Bo||(Bo[e]=ye.ng&&ye.ng.common&&ye.ng.common.locales&&ye.ng.common.locales[e]),Bo[e]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const Ho="en-US";let Ff=Ho;function nu(e,t,n,i,r){if(e=d(e),Array.isArray(e))for(let o=0;o<e.length;o++)nu(e[o],t,n,i,r);else{const o=xe(),_=z();let M=Qs(e)?e:d(e.provide),R=Ld(e);const W=Jt(),X=1048575&W.providerIndexes,le=W.directiveStart,Ee=W.providerIndexes>>20;if(Qs(e)||!e.multi){const Oe=new _e(R,r,Mo),Ge=ru(M,t,r?X:X+Ee,le);-1===Ge?(Xo(uo(W,_),o,M),iu(o,e,t.length),t.push(M),W.directiveStart++,W.directiveEnd++,r&&(W.providerIndexes+=1048576),n.push(Oe),_.push(Oe)):(n[Ge]=Oe,_[Ge]=Oe)}else{const Oe=ru(M,t,X+Ee,le),Ge=ru(M,t,X,X+Ee),ut=Ge>=0&&n[Ge];if(r&&!ut||!r&&!(Oe>=0&&n[Oe])){Xo(uo(W,_),o,M);const vt=function jy(e,t,n,i,r){const o=new _e(e,n,Mo);return o.multi=[],o.index=t,o.componentProviders=0,ap(o,r,i&&!n),o}(r?Vy:Hy,n.length,r,i,R);!r&&ut&&(n[Ge].providerFactory=vt),iu(o,e,t.length,0),t.push(M),W.directiveStart++,W.directiveEnd++,r&&(W.providerIndexes+=1048576),n.push(vt),_.push(vt)}else iu(o,e,Oe>-1?Oe:Ge,ap(n[r?Ge:Oe],R,!r&&i));!r&&i&&ut&&n[Ge].componentProviders++}}}function iu(e,t,n,i){const r=Qs(t),o=function Xg(e){return!!e.useClass}(t);if(r||o){const R=(o?d(t.useClass):t).prototype.ngOnDestroy;if(R){const W=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const X=W.indexOf(n);-1===X?W.push(n,[i,R]):W[X+1].push(i,R)}else W.push(n,R)}}}function ap(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ru(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function Hy(e,t,n,i){return su(this.multi,[])}function Vy(e,t,n,i){const r=this.multi;let o;if(this.providerFactory){const _=this.providerFactory.componentProviders,M=ts(n,n[ct],this.providerFactory.index,i);o=M.slice(0,_),su(r,o);for(let R=_;R<M.length;R++)o.push(M[R])}else o=[],su(r,o);return o}function su(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function lp(e,t=[]){return n=>{n.providersResolver=(i,r)=>function By(e,t,n){const i=xe();if(i.firstCreatePass){const r=Hn(e);nu(n,i.data,i.blueprint,r,!0),nu(t,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,t)}}class Vo{}class Uy{}function $y(e,t){return new cp(e,t??null)}class cp extends Vo{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gh(this);const i=sn(t);this._bootstrapComponents=function as(e){return e instanceof Function?e():e}(i.bootstrap),this._r3Injector=qd(t,n,[{provide:Vo,useValue:this},{provide:la,useValue:this.componentFactoryResolver}],h(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ou extends Uy{constructor(t){super(),this.moduleType=t}create(t){return new cp(this.moduleType,t)}}function mp(e,t,n){const i=ni()+e,r=z();return r[i]===$t?Ur(r,i,n?t.call(n):t()):function pa(e,t){return e[t]}(r,i)}function vp(e,t,n,i){return function yp(e,t,n,i,r,o){const _=t+n;return Mi(e,_,r)?Ur(e,_+1,o?i.call(o,r):i(r)):Ca(e,_+1)}(z(),ni(),e,t,n,i)}function bp(e,t,n,i,r){return function Cp(e,t,n,i,r,o,_){const M=t+n;return function Js(e,t,n,i){const r=Mi(e,t,n);return Mi(e,t+1,i)||r}(e,M,r,o)?Ur(e,M+2,_?i.call(_,r,o):i(r,o)):Ca(e,M+2)}(z(),ni(),e,t,n,i,r)}function Ca(e,t){const n=e[t];return n===$t?void 0:n}function lu(e){return t=>{setTimeout(e,void 0,t)}}const Wr=class g0 extends D.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let r=t,o=n||(()=>null),_=i;if(t&&"object"==typeof t){const R=t;r=R.next?.bind(R),o=R.error?.bind(R),_=R.complete?.bind(R)}this.__isAsync&&(o=lu(o),r&&(r=lu(r)),_&&(_=lu(_)));const M=super.subscribe({next:r,error:o,complete:_});return t instanceof $.w&&t.add(M),M}};function m0(){return this._results[Symbol.iterator]()}class bl{get changes(){return this._changes||(this._changes=new Wr)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=bl.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=m0)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const r=function $i(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Nl(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ea=(()=>{class e{}return e.__NG_ELEMENT_ID__=y0,e})();const v0=Ea,b0=class extends v0{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t,n){const i=this._declarationTContainer.tView,r=Ja(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,n||null);r[yr]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[yi];return null!==_&&(r[yi]=_.createEmbeddedView(i)),Dc(i,r,t),new ha(r)}};function y0(){return yl(Jt(),z())}function yl(e,t){return 4&e.type?new b0(t,e,Eo(e,t)):null}let Cl=(()=>{class e{}return e.__NG_ELEMENT_ID__=C0,e})();function C0(){return Tp(Jt(),z())}const w0=Cl,Dp=class extends w0{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Eo(this._hostTNode,this._hostLView)}get injector(){return new ys(this._hostTNode,this._hostLView)}get parentInjector(){const t=Qo(this._hostTNode,this._hostLView);if(gi(t)){const n=nr(t,this._hostLView),i=wn(t);return new ys(n[ct].data[i+8],n)}return new ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Mp(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Cn}createEmbeddedView(t,n,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const _=t.createEmbeddedView(n||{},o);return this.insert(_,r),_}createComponent(t,n,i,r,o){const _=t&&!function mo(e){return"function"==typeof e}(t);let M;if(_)M=n;else{const le=n||{};M=le.index,i=le.injector,r=le.projectableNodes,o=le.environmentInjector||le.ngModuleRef}const R=_?t:new fa(Fe(t)),W=i||this.parentInjector;if(!o&&null==R.ngModule){const Ee=(_?W:this.parentInjector).get(Co,null);Ee&&(o=Ee)}const X=R.create(W,r,void 0,o);return this.insert(X.hostView,M),X}insert(t,n){const i=t._lView,r=i[ct];if(function xs(e){return Bn(e[ln])}(i)){const X=this.indexOf(t);if(-1!==X)this.detach(X);else{const le=i[ln],Ee=new Dp(le,le[_n],le[ln]);Ee.detach(Ee.indexOf(t))}}const o=this._adjustIndex(n),_=this._lContainer;!function fg(e,t,n,i){const r=Cn+i,o=n.length;i>0&&(n[r-1][On]=t),i<o-Cn?(t[On]=n[r],ja(n,Cn+i,t)):(n.push(t),t[On]=null),t[ln]=n;const _=t[yr];null!==_&&n!==_&&function pg(e,t){const n=e[fi];t[yn]!==t[ln][ln][yn]&&(e[qi]=!0),null===n?e[fi]=[t]:n.push(t)}(_,t);const M=t[yi];null!==M&&M.insertView(e),t[Tt]|=64}(r,i,_,o);const M=ec(o,_),R=i[kt],W=za(R,_[Vi]);return null!==W&&function ug(e,t,n,i,r,o){i[ei]=r,i[_n]=t,ra(e,i,n,1,r,o)}(r,_[_n],R,i,W,M),t.attachToViewContainerRef(),ja(cu(_),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Mp(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=Ql(this._lContainer,n);i&&(vo(cu(this._lContainer),n),Qu(i[ct],i))}detach(t){const n=this._adjustIndex(t,-1),i=Ql(this._lContainer,n);return i&&null!=vo(cu(this._lContainer),n)?new ha(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Mp(e){return e[Sn]}function cu(e){return e[Sn]||(e[Sn]=[])}function Tp(e,t){let n;const i=t[e.index];if(Bn(i))n=i;else{let r;if(8&e.type)r=gn(i);else{const o=t[kt];r=o.createComment("");const _=Rn(e,t);Zs(o,za(o,_),r,function vg(e,t){return e.nextSibling(t)}(o,_),!1)}t[e.index]=n=dh(i,t,r,e),tl(t,n)}return new Dp(n,e,t)}class uu{constructor(t){this.queryList=t,this.matches=null}clone(){return new uu(this.queryList)}setDirty(){this.queryList.setDirty()}}class du{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){const _=n.getByIndex(o);r.push(this.queries[_.indexInDeclarationView].clone())}return new du(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Fp(t,n).matches&&this.queries[n].setDirty()}}class xp{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class hu{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new hu(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class fu{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new fu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,n,E0(n,o)),this.matchTNodeWithReadOption(t,n,fo(n,t,o,!1,!1))}else i===Ea?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,fo(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ca||r===Cl||r===Ea&&4&n.type)this.addMatch(n.index,-2);else{const o=fo(n,t,r,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function E0(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function D0(e,t,n,i){return-1===n?function S0(e,t){return 11&e.type?Eo(e,t):4&e.type?yl(e,t):null}(t,e):-2===n?function M0(e,t,n){return n===ca?Eo(t,e):n===Ea?yl(t,e):n===Cl?Tp(t,e):void 0}(e,t,i):ts(e,e[ct],n,t)}function Ap(e,t,n,i){const r=t[yi].queries[i];if(null===r.matches){const o=e.data,_=n.matches,M=[];for(let R=0;R<_.length;R+=2){const W=_[R];M.push(W<0?null:D0(t,o[W],_[R+1],n.metadata.read))}r.matches=M}return r.matches}function pu(e,t,n,i){const r=e.queries.getByIndex(n),o=r.matches;if(null!==o){const _=Ap(e,t,r,n);for(let M=0;M<o.length;M+=2){const R=o[M];if(R>0)i.push(_[M/2]);else{const W=o[M+1],X=t[-R];for(let le=Cn;le<X.length;le++){const Ee=X[le];Ee[yr]===Ee[ln]&&pu(Ee[ct],Ee,W,i)}if(null!==X[fi]){const le=X[fi];for(let Ee=0;Ee<le.length;Ee++){const Oe=le[Ee];pu(Oe[ct],Oe,W,i)}}}}}return i}function Ip(e){const t=z(),n=xe(),i=ao();lo(i+1);const r=Fp(n,i);if(e.dirty&&function Qr(e){return 4==(4&e[Tt])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const o=r.crossesNgTemplate?pu(n,t,i,[]):Ap(n,t,r,i);e.reset(o,cm),e.notifyOnChanges()}return!0}return!1}function Rp(e,t,n){const i=xe();i.firstCreatePass&&(Pp(i,new xp(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),kp(i,z(),t)}function Lp(e,t,n,i){const r=xe();if(r.firstCreatePass){const o=Jt();Pp(r,new xp(t,n,i),o.index),function x0(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(r,e),2==(2&n)&&(r.staticContentQueries=!0)}kp(r,z(),n)}function Op(){return function T0(e,t){return e[yi].queries[t].queryList}(z(),ao())}function kp(e,t,n){const i=new bl(4==(4&n));oh(e,t,i,i.destroy),null===t[yi]&&(t[yi]=new du),t[yi].queries.push(new uu(i))}function Pp(e,t,n){null===e.queries&&(e.queries=new hu),e.queries.track(new fu(t,n))}function Fp(e,t){return e.queries.getByIndex(t)}function Np(e,t){return yl(e,t)}function El(...e){}const n_=new fn("Application Initializer");let Sl=(()=>{class e{constructor(n){this.appInits=n,this.resolve=El,this.reject=El,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if($c(o))n.push(o);else if(Fh(o)){const _=new Promise((M,R)=>{o.subscribe({complete:M,error:R})});n.push(_)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(It(n_,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const i_=new fn("AppId",{providedIn:"root",factory:function r_(){return`${bu()}${bu()}${bu()}`}});function bu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const s_=new fn("Platform Initializer"),Y0=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),q0=new fn("AnimationModuleType"),Dl=new fn("LocaleId",{providedIn:"root",factory:()=>$n(Dl,nt.Optional|nt.SkipSelf)||function Z0(){return typeof $localize<"u"&&$localize.locale||Ho}()}),Q0=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),tC=(()=>Promise.resolve(0))();function yu(e){typeof Zone>"u"?tC.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class br{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wr(!1),this.onMicrotaskEmpty=new Wr(!1),this.onStable=new Wr(!1),this.onError=new Wr(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function nC(){let e=ye.requestAnimationFrame,t=ye.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function sC(e){const t=()=>{!function rC(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ye,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,wu(e),e.isCheckStableRunning=!0,Cu(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),wu(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,_,M)=>{try{return l_(e),n.invokeTask(r,o,_,M)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),c_(e)}},onInvoke:(n,i,r,o,_,M,R)=>{try{return l_(e),n.invoke(r,o,_,M,R)}finally{e.shouldCoalesceRunChangeDetection&&t(),c_(e)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,wu(e),Cu(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!br.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(br.isInAngularZone())throw new S(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const o=this._inner,_=o.scheduleEventTask("NgZoneEvent: "+r,t,iC,El,El);try{return o.runTask(_,n,i)}finally{o.cancelTask(_)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const iC={};function Cu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function wu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function l_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function c_(e){e._nesting--,Cu(e)}class oC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wr,this.onMicrotaskEmpty=new Wr,this.onStable=new Wr,this.onError=new Wr}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}const u_=new fn(""),d_=new fn("");let Eu,aC=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Eu||(function lC(e){Eu=e}(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{br.assertNotInAngularZone(),yu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yu(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==o),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}}return e.\u0275fac=function(n){return new(n||e)(It(br),It(h_),It(d_))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e})(),h_=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Eu?.findTestabilityInTree(this,n,i)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const cs=!1;let Ds=null;const f_=new fn("AllowMultipleToken"),Su=new fn("PlatformDestroyListeners"),cC=new fn("appBootstrapListener");function __(e,t,n=[]){const i=`Platform: ${t}`,r=new fn(i);return(o=[])=>{let _=Du();if(!_||_.injector.get(f_,!1)){const M=[...n,...o,{provide:r,useValue:!0}];e?e(M):function hC(e){if(Ds&&!Ds.get(f_,!1))throw new S(400,!1);Ds=e;const t=e.get(m_);(function p_(e){const t=e.get(s_,null);t&&t.forEach(n=>n())})(e)}(function g_(e=[],t){return Xs.create({name:t,providers:[{provide:fc,useValue:"platform"},{provide:Su,useValue:new Set([()=>Ds=null])},...e]})}(M,i))}return function pC(e){const t=Du();if(!t)throw new S(401,!1);return t}()}}function Du(){return Ds?.get(m_)??null}let m_=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const r=function b_(e,t){let n;return n="noop"===e?new oC:("zone.js"===e?void 0:e)||new br(t),n}(i?.ngZone,function v_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:br,useValue:r}];return r.run(()=>{const _=Xs.create({providers:o,parent:this.injector,name:n.moduleType.name}),M=n.create(_),R=M.injector.get(ua,null);if(!R)throw new S(402,!1);return r.runOutsideAngular(()=>{const W=r.onError.subscribe({next:X=>{R.handleError(X)}});M.onDestroy(()=>{Tl(this._modules,M),W.unsubscribe()})}),function y_(e,t,n){try{const i=n();return $c(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(R,r,()=>{const W=M.injector.get(Sl);return W.runInitializers(),W.donePromise.then(()=>(function Nf(e){Qe(e,"Expected localeId to be defined"),"string"==typeof e&&(Ff=e.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Dl,Ho)||Ho),this._moduleDoBootstrap(M),M))})})}bootstrapModule(n,i=[]){const r=C_({},i);return function uC(e,t,n){const i=new ou(n);return Promise.resolve(i)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(n){const i=n.injector.get(Ml);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(Su,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(It(Xs))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function C_(e,t){return Array.isArray(t)?t.reduce(C_,e):{...e,...t}}let Ml=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,i,r){this._zone=n,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new C.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),_=new C.y(M=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{br.assertNotInAngularZone(),yu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const W=this._zone.onUnstable.subscribe(()=>{br.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{R.unsubscribe(),W.unsubscribe()}});this.isStable=(0,c.T)(o,_.pipe((0,v.B)()))}bootstrap(n,i){const r=n instanceof Od;if(!this._injector.get(Sl).done){!r&&function Gt(e){const t=Fe(e)||st(e)||yt(e);return null!==t&&t.standalone}(n);throw new S(405,cs)}let _;_=r?n:this._injector.get(la).resolveComponentFactory(n),this.componentTypes.push(_.componentType);const M=function dC(e){return e.isBoundToModule}(_)?void 0:this._injector.get(Vo),W=_.create(Xs.NULL,[],i||_.selector,M),X=W.location.nativeElement,le=W.injector.get(u_,null);return le?.registerApplication(X),W.onDestroy(()=>{this.detachView(W.hostView),Tl(this.components,W),le?.unregisterApplication(X)}),this._loadComponent(W),W}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Tl(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(cC,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Tl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(It(br),It(Co),It(ua))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Tl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function gC(){return!1}function mC(){}let vC=(()=>{class e{}return e.__NG_ELEMENT_ID__=bC,e})();function bC(e){return function yC(e,t,n){if(lr(e)&&!n){const i=Gn(e.index,t);return new ha(i,i)}return 47&e.type?new ha(t[yn],t):null}(Jt(),z(),16==(16&e))}class M_{constructor(){}supports(t){return ol(t)}create(t){return new MC(t)}}const DC=(e,t)=>t;class MC{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||DC}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){const _=!i||n&&n.currentIndex<x_(i,r,o)?n:i,M=x_(_,r,o),R=_.currentIndex;if(_===i)r--,i=i._nextRemoved;else if(n=n._next,null==_.previousIndex)r++;else{o||(o=[]);const W=M-r,X=R-r;if(W!=X){for(let Ee=0;Ee<W;Ee++){const Oe=Ee<o.length?o[Ee]:o[Ee]=0,Ge=Oe+Ee;X<=Ge&&Ge<W&&(o[Ee]=Oe+1)}o[_.previousIndex]=X-W}}M!==R&&t(_,M,R)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!ol(t))throw new S(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,_,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let M=0;M<this.length;M++)o=t[M],_=this._trackByFn(M,o),null!==n&&Object.is(n.trackById,_)?(i&&(n=this._verifyReinsertion(n,o,_,M)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,_,M),i=!0),n=n._next}else r=0,function Kv(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,M=>{_=this._trackByFn(r,M),null!==n&&Object.is(n.trackById,_)?(i&&(n=this._verifyReinsertion(n,M,_,r)),Object.is(n.item,M)||this._addIdentityChange(n,M)):(n=this._mismatch(n,M,_,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new TC(n,i),o,r),t}_verifyReinsertion(t,n,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const r=null===n?this._itHead:n._next;return t._next=r,t._prev=n,null===r?this._itTail=t:r._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new T_),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T_),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class TC{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xC{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class T_{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new xC,this.map.set(n,i)),i.add(t)}get(t,n){const r=this.map.get(t);return r?r.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function x_(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class A_{constructor(){}supports(t){return t instanceof Map||Bc(t)}create(){return new AC}}class AC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Bc(t)))throw new S(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,n);const o=r._prev,_=r._next;return o&&(o._next=_),_&&(_._prev=o),r._next=null,r._prev=null,r}const i=new IC(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class IC{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function I_(){return new Iu([new M_])}let Iu=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||I_()),deps:[[e,new $e,new pe]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new S(901,!1)}}return e.\u0275prov=Pe({token:e,providedIn:"root",factory:I_}),e})();function R_(){return new Ru([new A_])}let Ru=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||R_()),deps:[[e,new $e,new pe]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(i)return i;throw new S(901,!1)}}return e.\u0275prov=Pe({token:e,providedIn:"root",factory:R_}),e})();const OC=__(null,"core",[]);let kC=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(It(Ml))},e.\u0275mod=hi({type:e}),e.\u0275inj=et({}),e})();function PC(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},4719:(it,Ve,Z)=>{"use strict";Z.d(Ve,{Zs:()=>Vn,Fj:()=>I,NI:()=>li,oH:()=>hs,sg:()=>Zi,Cf:()=>x,JU:()=>d,a5:()=>jt,JJ:()=>Te,F:()=>ai,wV:()=>fi,UX:()=>Nr,kI:()=>Y});var D=Z(4650),$=Z(6895),C=Z(5254),c=Z(2916),v=Z(6688),m=Z(4850),w=Z(7830);function b(H,F){return new c.y(O=>{const z=H.length;if(0===z)return void O.complete();const xe=new Array(z);let Ct=0,hn=0;for(let Jt=0;Jt<z;Jt++){const hr=(0,C.D)(H[Jt]);let wi=!1;O.add(hr.subscribe({next:jn=>{wi||(wi=!0,hn++),xe[Jt]=jn},error:jn=>O.error(jn),complete:()=>{Ct++,(Ct===z||!wi)&&(hn===z&&O.next(F?F.reduce((jn,ms,Ui)=>(jn[ms]=xe[Ui],jn),{}):xe),O.complete())}}))}})}let y=(()=>{class H{constructor(O,z){this._renderer=O,this._elementRef=z,this.onChange=xe=>{},this.onTouched=()=>{}}setProperty(O,z){this._renderer.setProperty(this._elementRef.nativeElement,O,z)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}return H.\u0275fac=function(O){return new(O||H)(D.Y36(D.Qsj),D.Y36(D.SBq))},H.\u0275dir=D.lG2({type:H}),H})(),E=(()=>{class H extends y{}return H.\u0275fac=function(){let F;return function(z){return(F||(F=D.n5z(H)))(z||H)}}(),H.\u0275dir=D.lG2({type:H,features:[D.qOj]}),H})();const d=new D.OlP("NgValueAccessor"),u={provide:d,useExisting:(0,D.Gpc)(()=>I),multi:!0},S=new D.OlP("CompositionEventMode");let I=(()=>{class H extends y{constructor(O,z,xe){super(O,z),this._compositionMode=xe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function p(){const H=(0,$.q)()?(0,$.q)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}return H.\u0275fac=function(O){return new(O||H)(D.Y36(D.Qsj),D.Y36(D.SBq),D.Y36(S,8))},H.\u0275dir=D.lG2({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,z){1&O&&D.NdJ("input",function(Ct){return z._handleInput(Ct.target.value)})("blur",function(){return z.onTouched()})("compositionstart",function(){return z._compositionStart()})("compositionend",function(Ct){return z._compositionEnd(Ct.target.value)})},features:[D._Bn([u]),D.qOj]}),H})();const A=!1;function B(H){return null==H||("string"==typeof H||Array.isArray(H))&&0===H.length}function g(H){return null!=H&&"number"==typeof H.length}const x=new D.OlP("NgValidators"),V=new D.OlP("NgAsyncValidators"),k=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Y{static min(F){return function q(H){return F=>{if(B(F.value)||B(H))return null;const O=parseFloat(F.value);return!isNaN(O)&&O<H?{min:{min:H,actual:F.value}}:null}}(F)}static max(F){return function J(H){return F=>{if(B(F.value)||B(H))return null;const O=parseFloat(F.value);return!isNaN(O)&&O>H?{max:{max:H,actual:F.value}}:null}}(F)}static required(F){return ae(F)}static requiredTrue(F){return se(F)}static email(F){return function we(H){return B(H.value)||k.test(H.value)?null:{email:!0}}(F)}static minLength(F){return function ve(H){return F=>B(F.value)||!g(F.value)?null:F.value.length<H?{minlength:{requiredLength:H,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function K(H){return F=>g(F.value)&&F.value.length>H?{maxlength:{requiredLength:H,actualLength:F.value.length}}:null}(F)}static pattern(F){return function ne(H){if(!H)return re;let F,O;return"string"==typeof H?(O="","^"!==H.charAt(0)&&(O+="^"),O+=H,"$"!==H.charAt(H.length-1)&&(O+="$"),F=new RegExp(O)):(O=H.toString(),F=H),z=>{if(B(z.value))return null;const xe=z.value;return F.test(xe)?null:{pattern:{requiredPattern:O,actualValue:xe}}}}(F)}static nullValidator(F){return null}static compose(F){return ie(F)}static composeAsync(F){return Pe(F)}}function ae(H){return B(H.value)?{required:!0}:null}function se(H){return!0===H.value?null:{required:!0}}function re(H){return null}function de(H){return null!=H}function Ue(H){const F=(0,D.QGY)(H)?(0,C.D)(H):H;if(A&&!(0,D.CqO)(F)){let O="Expected async validator to return Promise or Observable.";throw"object"==typeof H&&(O+=" Are you using a synchronous validator where an async validator is expected?"),new D.vHH(-1101,O)}return F}function ze(H){let F={};return H.forEach(O=>{F=null!=O?{...F,...O}:F}),0===Object.keys(F).length?null:F}function Qe(H,F){return F.map(O=>O(H))}function Se(H){return H.map(F=>function Ye(H){return!H.validate}(F)?F:O=>F.validate(O))}function ie(H){if(!H)return null;const F=H.filter(de);return 0==F.length?null:function(O){return ze(Qe(O,F))}}function Ne(H){return null!=H?ie(Se(H)):null}function Pe(H){if(!H)return null;const F=H.filter(de);return 0==F.length?null:function(O){return function h(...H){if(1===H.length){const F=H[0];if((0,v.k)(F))return b(F,null);if((0,w.K)(F)&&Object.getPrototypeOf(F)===Object.prototype){const O=Object.keys(F);return b(O.map(z=>F[z]),O)}}if("function"==typeof H[H.length-1]){const F=H.pop();return b(H=1===H.length&&(0,v.k)(H[0])?H[0]:H,null).pipe((0,m.U)(O=>F(...O)))}return b(H,null)}(Qe(O,F).map(Ue)).pipe((0,m.U)(ze))}}function tt(H){return null!=H?Pe(Se(H)):null}function et(H,F){return null===H?[F]:Array.isArray(H)?[...H,F]:[H,F]}function Et(H){return H._rawValidators}function Ot(H){return H._rawAsyncValidators}function St(H){return H?Array.isArray(H)?H:[H]:[]}function bt(H,F){return Array.isArray(H)?H.includes(F):H===F}function ht(H,F){const O=St(F);return St(H).forEach(xe=>{bt(O,xe)||O.push(xe)}),O}function qt(H,F){return St(F).filter(O=>!bt(H,O))}class dt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=Ne(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=tt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,O){return!!this.control&&this.control.hasError(F,O)}getError(F,O){return this.control?this.control.getError(F,O):null}}class Pt extends dt{get formDirective(){return null}get path(){return null}}class jt extends dt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nt{constructor(F){this._cd=F}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Te=(()=>{class H extends nt{constructor(O){super(O)}}return H.\u0275fac=function(O){return new(O||H)(D.Y36(jt,2))},H.\u0275dir=D.lG2({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,z){2&O&&D.ekj("ng-untouched",z.isUntouched)("ng-touched",z.isTouched)("ng-pristine",z.isPristine)("ng-dirty",z.isDirty)("ng-valid",z.isValid)("ng-invalid",z.isInvalid)("ng-pending",z.isPending)},features:[D.qOj]}),H})();function Be(H,F){return H?`with name: '${F}'`:`at index: ${F}`}const $n=!1,qn="VALID",Zn="INVALID",Qt="PENDING",Nn="DISABLED";function bi(H){return(En(H)?H.validators:H)||null}function dn(H,F){return(En(F)?F.asyncValidators:H)||null}function En(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}class Ti{constructor(F,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(F),this._assignAsyncValidators(O)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===qn}get invalid(){return this.status===Zn}get pending(){return this.status==Qt}get disabled(){return this.status===Nn}get enabled(){return this.status!==Nn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._assignValidators(F)}setAsyncValidators(F){this._assignAsyncValidators(F)}addValidators(F){this.setValidators(ht(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(ht(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(qt(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(qt(F,this._rawAsyncValidators))}hasValidator(F){return bt(this._rawValidators,F)}hasAsyncValidator(F){return bt(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=Qt,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const O=this._parentMarkedDirty(F.onlySelf);this.status=Nn,this.errors=null,this._forEachChild(z=>{z.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:O}),this._onDisabledChange.forEach(z=>z(!0))}enable(F={}){const O=this._parentMarkedDirty(F.onlySelf);this.status=qn,this._forEachChild(z=>{z.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:O}),this._onDisabledChange.forEach(z=>z(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qn||this.status===Qt)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nn:qn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=Qt,this._hasOwnPendingAsyncValidator=!0;const O=Ue(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(z,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,O={}){this.errors=F,this._updateControlsErrors(!1!==O.emitEvent)}get(F){let O=F;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((z,xe)=>z&&z._find(xe),this)}getError(F,O){const z=O?this.get(O):this;return z&&z.errors?z.errors[F]:null}hasError(F,O){return!!this.getError(F,O)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new D.vpe,this.statusChanges=new D.vpe}_calculateStatus(){return this._allControlsDisabled()?Nn:this.errors?Zn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qt)?Qt:this._anyControlsHaveStatus(Zn)?Zn:qn}_anyControlsHaveStatus(F){return this._anyControls(O=>O.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){En(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}_assignValidators(F){this._rawValidators=Array.isArray(F)?F.slice():F,this._composedValidatorFn=function Yi(H){return Array.isArray(H)?Ne(H):H||null}(this._rawValidators)}_assignAsyncValidators(F){this._rawAsyncValidators=Array.isArray(F)?F.slice():F,this._composedAsyncValidatorFn=function Xt(H){return Array.isArray(H)?tt(H):H||null}(this._rawAsyncValidators)}}class Fi extends Ti{constructor(F,O,z){super(bi(O),dn(z,O)),this.controls=F,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,O){return this.controls[F]?this.controls[F]:(this.controls[F]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(F,O,z={}){this.registerControl(F,O),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}removeControl(F,O={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(F,O,z={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],O&&this.registerControl(F,O),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,O={}){(function Ut(H,F,O){H._forEachChild((z,xe)=>{if(void 0===O[xe])throw new D.vHH(1002,$n?function bn(H,F){return`Must supply a value for form control ${Be(H,F)}`}(F,xe):"")})})(this,!0,F),Object.keys(F).forEach(z=>{(function Ln(H,F,O){const z=H.controls;if(!(F?Object.keys(z):z).length)throw new D.vHH(1e3,$n?function _t(H){return`\n    There are no form controls registered with this ${H?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(F):"");if(!z[O])throw new D.vHH(1001,$n?function It(H,F){return`Cannot find form control ${Be(H,F)}`}(F,O):"")})(this,!0,z),this.controls[z].setValue(F[z],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(F,O={}){null!=F&&(Object.keys(F).forEach(z=>{const xe=this.controls[z];xe&&xe.patchValue(F[z],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(F={},O={}){this._forEachChild((z,xe)=>{z.reset(F[xe],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(F,O,z)=>(F[z]=O.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(O,z)=>!!z._syncPendingControls()||O);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(O=>{const z=this.controls[O];z&&F(z,O)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[O,z]of Object.entries(this.controls))if(this.contains(O)&&F(z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,z,xe)=>((z.enabled||this.disabled)&&(O[xe]=z.value),O))}_reduceChildren(F,O){let z=F;return this._forEachChild((xe,Ct)=>{z=O(z,xe,Ct)}),z}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}const xi=new D.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Qn}),Qn="always";function si(H,F,O=Qn){he(H,F),F.valueAccessor.writeValue(H.value),(H.disabled||"always"===O)&&F.valueAccessor.setDisabledState?.(H.disabled),function Ae(H,F){F.valueAccessor.registerOnChange(O=>{H._pendingValue=O,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&st(H,F)})}(H,F),function yt(H,F){const O=(z,xe)=>{F.valueAccessor.writeValue(z),xe&&F.viewToModelUpdate(z)};H.registerOnChange(O),F._registerOnDestroy(()=>{H._unregisterOnChange(O)})}(H,F),function Fe(H,F){F.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&st(H,F),"submit"!==H.updateOn&&H.markAsTouched()})}(H,F),function Le(H,F){if(F.valueAccessor.setDisabledState){const O=z=>{F.valueAccessor.setDisabledState(z)};H.registerOnDisabledChange(O),F._registerOnDestroy(()=>{H._unregisterOnDisabledChange(O)})}}(H,F)}function Jn(H,F,O=!0){const z=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(z),F.valueAccessor.registerOnTouched(z)),ce(H,F),H&&(F._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function hi(H,F){H.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(F)})}function he(H,F){const O=Et(H);null!==F.validator?H.setValidators(et(O,F.validator)):"function"==typeof O&&H.setValidators([O]);const z=Ot(H);null!==F.asyncValidator?H.setAsyncValidators(et(z,F.asyncValidator)):"function"==typeof z&&H.setAsyncValidators([z]);const xe=()=>H.updateValueAndValidity();hi(F._rawValidators,xe),hi(F._rawAsyncValidators,xe)}function ce(H,F){let O=!1;if(null!==H){if(null!==F.validator){const xe=Et(H);if(Array.isArray(xe)&&xe.length>0){const Ct=xe.filter(hn=>hn!==F.validator);Ct.length!==xe.length&&(O=!0,H.setValidators(Ct))}}if(null!==F.asyncValidator){const xe=Ot(H);if(Array.isArray(xe)&&xe.length>0){const Ct=xe.filter(hn=>hn!==F.asyncValidator);Ct.length!==xe.length&&(O=!0,H.setAsyncValidators(Ct))}}}const z=()=>{};return hi(F._rawValidators,z),hi(F._rawAsyncValidators,z),O}function st(H,F){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function Gt(H,F){he(H,F)}function On(H,F){H._syncPendingControls(),F.forEach(O=>{const z=O.control;"submit"===z.updateOn&&z._pendingChange&&(O.viewToModelUpdate(z._pendingValue),z._pendingChange=!1)})}const Zt={provide:Pt,useExisting:(0,D.Gpc)(()=>ai)},Wn=(()=>Promise.resolve())();let ai=(()=>{class H extends Pt{constructor(O,z,xe){super(),this.callSetDisabledState=xe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new D.vpe,this.form=new Fi({},Ne(O),tt(z))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(O){Wn.then(()=>{const z=this._findContainer(O.path);O.control=z.registerControl(O.name,O.control),si(O.control,O,this.callSetDisabledState),O.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(O)})}getControl(O){return this.form.get(O.path)}removeControl(O){Wn.then(()=>{const z=this._findContainer(O.path);z&&z.removeControl(O.name),this._directives.delete(O)})}addFormGroup(O){Wn.then(()=>{const z=this._findContainer(O.path),xe=new Fi({});Gt(xe,O),z.registerControl(O.name,xe),xe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(O){Wn.then(()=>{const z=this._findContainer(O.path);z&&z.removeControl(O.name)})}getFormGroup(O){return this.form.get(O.path)}updateModel(O,z){Wn.then(()=>{this.form.get(O.path).setValue(z)})}setValue(O){this.control.setValue(O)}onSubmit(O){return this.submitted=!0,On(this.form,this._directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(O){return O.pop(),O.length?this.form.get(O):this.form}}return H.\u0275fac=function(O){return new(O||H)(D.Y36(x,10),D.Y36(V,10),D.Y36(xi,8))},H.\u0275dir=D.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(O,z){1&O&&D.NdJ("submit",function(Ct){return z.onSubmit(Ct)})("reset",function(){return z.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[D._Bn([Zt]),D.qOj]}),H})();function kt(H,F){const O=H.indexOf(F);O>-1&&H.splice(O,1)}function Bi(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}const li=class extends Ti{constructor(F=null,O,z){super(bi(O),dn(z,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),En(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=Bi(F)?F.value:F)}setValue(F,O={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(z=>z(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(F,O={}){this.setValue(F,O)}reset(F=this.defaultValue,O={}){this._applyFormState(F),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){kt(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){kt(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){Bi(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}},Sn={provide:d,useExisting:(0,D.Gpc)(()=>fi),multi:!0};let fi=(()=>{class H extends E{writeValue(O){this.setProperty("value",O??"")}registerOnChange(O){this.onChange=z=>{O(""==z?null:parseFloat(z))}}}return H.\u0275fac=function(){let F;return function(z){return(F||(F=D.n5z(H)))(z||H)}}(),H.\u0275dir=D.lG2({type:H,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(O,z){1&O&&D.NdJ("input",function(Ct){return z.onChange(Ct.target.value)})("blur",function(){return z.onTouched()})},features:[D._Bn([Sn]),D.qOj]}),H})(),An=(()=>{class H{}return H.\u0275fac=function(O){return new(O||H)},H.\u0275mod=D.oAB({type:H}),H.\u0275inj=D.cJS({}),H})();const Hn=new D.OlP("NgModelWithFormControlWarning"),ds={provide:jt,useExisting:(0,D.Gpc)(()=>hs)};let hs=(()=>{class H extends jt{set isDisabled(O){}constructor(O,z,xe,Ct,hn){super(),this._ngModelWarningConfig=Ct,this.callSetDisabledState=hn,this.update=new D.vpe,this._ngModelWarningSent=!1,this._setValidators(O),this._setAsyncValidators(z),this.valueAccessor=function zn(H,F){if(!F)return null;let O,z,xe;return Array.isArray(F),F.forEach(Ct=>{Ct.constructor===I?O=Ct:function ln(H){return Object.getPrototypeOf(H.constructor)===E}(Ct)?z=Ct:xe=Ct}),xe||z||O||null}(0,xe)}ngOnChanges(O){if(this._isControlChanged(O)){const z=O.form.previousValue;z&&Jn(z,this,!1),si(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function Tt(H,F){if(!H.hasOwnProperty("model"))return!1;const O=H.model;return!!O.isFirstChange()||!Object.is(F,O.currentValue)})(O,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Jn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_isControlChanged(O){return O.hasOwnProperty("form")}}return H._ngModelWarningSentOnce=!1,H.\u0275fac=function(O){return new(O||H)(D.Y36(x,10),D.Y36(V,10),D.Y36(d,10),D.Y36(Hn,8),D.Y36(xi,8))},H.\u0275dir=D.lG2({type:H,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[D._Bn([ds]),D.qOj,D.TTD]}),H})();const fs={provide:Pt,useExisting:(0,D.Gpc)(()=>Zi)};let Zi=(()=>{class H extends Pt{constructor(O,z,xe){super(),this.callSetDisabledState=xe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new D.vpe,this._setValidators(O),this._setAsyncValidators(z)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ce(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const z=this.form.get(O.path);return si(z,O,this.callSetDisabledState),z.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),z}getControl(O){return this.form.get(O.path)}removeControl(O){Jn(O.control||null,O,!1),function _n(H,F){const O=H.indexOf(F);O>-1&&H.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,z){this.form.get(O.path).setValue(z)}onSubmit(O){return this.submitted=!0,On(this.form,this.directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const z=O.control,xe=this.form.get(O.path);z!==xe&&(Jn(z||null,O),(H=>H instanceof li)(xe)&&(si(xe,O,this.callSetDisabledState),O.control=xe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const z=this.form.get(O.path);Gt(z,O),z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const z=this.form.get(O.path);z&&function sn(H,F){return ce(H,F)}(z,O)&&z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){he(this.form,this),this._oldForm&&ce(this._oldForm,this)}_checkFormPresent(){}}return H.\u0275fac=function(O){return new(O||H)(D.Y36(x,10),D.Y36(V,10),D.Y36(xi,8))},H.\u0275dir=D.lG2({type:H,selectors:[["","formGroup",""]],hostBindings:function(O,z){1&O&&D.NdJ("submit",function(Ct){return z.onSubmit(Ct)})("reset",function(){return z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[D._Bn([fs]),D.qOj,D.TTD]}),H})(),ji=(()=>{class H{constructor(){this._validator=re}ngOnChanges(O){if(this.inputName in O){const z=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(z),this._validator=this._enabled?this.createValidator(z):re,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}}return H.\u0275fac=function(O){return new(O||H)},H.\u0275dir=D.lG2({type:H,features:[D.TTD]}),H})();const Xi={provide:x,useExisting:(0,D.Gpc)(()=>Cr),multi:!0},cr={provide:x,useExisting:(0,D.Gpc)(()=>Vn),multi:!0};let Cr=(()=>{class H extends ji{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=D.D6c,this.createValidator=O=>ae}enabled(O){return O}}return H.\u0275fac=function(){let F;return function(z){return(F||(F=D.n5z(H)))(z||H)}}(),H.\u0275dir=D.lG2({type:H,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(O,z){2&O&&D.uIk("required",z._enabled?"":null)},inputs:{required:"required"},features:[D._Bn([Xi]),D.qOj]}),H})(),Vn=(()=>{class H extends Cr{constructor(){super(...arguments),this.createValidator=O=>se}}return H.\u0275fac=function(){let F;return function(z){return(F||(F=D.n5z(H)))(z||H)}}(),H.\u0275dir=D.lG2({type:H,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(O,z){2&O&&D.uIk("required",z._enabled?"":null)},features:[D._Bn([cr]),D.qOj]}),H})(),er=(()=>{class H{}return H.\u0275fac=function(O){return new(O||H)},H.\u0275mod=D.oAB({type:H}),H.\u0275inj=D.cJS({imports:[An]}),H})(),Nr=(()=>{class H{static withConfig(O){return{ngModule:H,providers:[{provide:Hn,useValue:O.warnOnNgModelWithFormControl??"always"},{provide:xi,useValue:O.callSetDisabledState??Qn}]}}}return H.\u0275fac=function(O){return new(O||H)},H.\u0275mod=D.oAB({type:H}),H.\u0275inj=D.cJS({imports:[er]}),H})()},4859:(it,Ve,Z)=>{"use strict";Z.d(Ve,{lW:()=>y,ot:()=>d});var D=Z(4650),$=Z(3238),C=Z(4632);const c=["mat-button",""],v=["*"],h=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],b=(0,$.pj)((0,$.Id)((0,$.Kr)(class{constructor(s){this._elementRef=s}})));let y=(()=>{class s extends b{constructor(u,p,S){super(u),this._focusMonitor=p,this._animationMode=S,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const I of h)this._hasHostAttributes(I)&&this._getHostElement().classList.add(I);u.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(u,p){u?this._focusMonitor.focusVia(this._getHostElement(),u,p):this._getHostElement().focus(p)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...u){return u.some(p=>this._getHostElement().hasAttribute(p))}}return s.\u0275fac=function(u){return new(u||s)(D.Y36(D.SBq),D.Y36(C.tE),D.Y36(D.QbO,8))},s.\u0275cmp=D.Xpm({type:s,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(u,p){if(1&u&&D.Gf($.wG,5),2&u){let S;D.iGM(S=D.CRH())&&(p.ripple=S.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(u,p){2&u&&(D.uIk("disabled",p.disabled||null),D.ekj("_mat-animation-noopable","NoopAnimations"===p._animationMode)("mat-button-disabled",p.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[D.qOj],attrs:c,ngContentSelectors:v,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(u,p){1&u&&(D.F$t(),D.TgZ(0,"span",0),D.Hsn(1),D.qZA(),D._UZ(2,"span",1)(3,"span",2)),2&u&&(D.xp6(2),D.ekj("mat-button-ripple-round",p.isRoundButton||p.isIconButton),D.Q6J("matRippleDisabled",p._isRippleDisabled())("matRippleCentered",p.isIconButton)("matRippleTrigger",p._getHostElement()))},dependencies:[$.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),s})(),d=(()=>{class s{}return s.\u0275fac=function(u){return new(u||s)},s.\u0275mod=D.oAB({type:s}),s.\u0275inj=D.cJS({imports:[$.si,$.BQ,$.BQ]}),s})()},3238:(it,Ve,Z)=>{"use strict";Z.d(Ve,{rD:()=>Ye,BQ:()=>I,wG:()=>Pt,si:()=>jt,pj:()=>V,Kr:()=>k,Id:()=>x,FD:()=>q,sb:()=>Y});var D=Z(4650),$=Z(4632),C=Z(445),v=Z(6895),m=Z(3353),w=Z(1281);const S=new D.OlP("mat-sanity-checks",{providedIn:"root",factory:function p(){return!0}});let I=(()=>{class qe{constructor(De,Be,_t){this._sanityChecks=Be,this._document=_t,this._hasDoneGlobalChecks=!1,De._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(De){return!(0,m.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[De])}}return qe.\u0275fac=function(De){return new(De||qe)(D.LFG($.qm),D.LFG(S,8),D.LFG(v.K0))},qe.\u0275mod=D.oAB({type:qe}),qe.\u0275inj=D.cJS({imports:[C.vT,C.vT]}),qe})();function x(qe){return class extends qe{constructor(...be){super(...be),this._disabled=!1}get disabled(){return this._disabled}set disabled(be){this._disabled=(0,w.Ig)(be)}}}function V(qe,be){return class extends qe{constructor(...De){super(...De),this.defaultColor=be,this.color=be}get color(){return this._color}set color(De){const Be=De||this.defaultColor;Be!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Be&&this._elementRef.nativeElement.classList.add(`mat-${Be}`),this._color=Be)}}}function k(qe){return class extends qe{constructor(...be){super(...be),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(be){this._disableRipple=(0,w.Ig)(be)}}}function Y(qe,be=0){return class extends qe{constructor(...De){super(...De),this._tabIndex=be,this.defaultTabIndex=be}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(De){this._tabIndex=null!=De?(0,w.su)(De):this.defaultTabIndex}}}function q(qe){return class extends qe{constructor(...be){super(...be),this.errorState=!1}updateErrorState(){const be=this.errorState,It=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);It!==be&&(this.errorState=It,this.stateChanges.next())}}}let Ye=(()=>{class qe{isErrorState(De,Be){return!!(De&&De.invalid&&(De.touched||Be&&Be.submitted))}}return qe.\u0275fac=function(De){return new(De||qe)},qe.\u0275prov=D.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})();class tt{constructor(be,De,Be,_t=!1){this._renderer=be,this.element=De,this.config=Be,this._animationForciblyDisabledThroughCss=_t,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const et={enterDuration:225,exitDuration:150},Ot=(0,m.i$)({passive:!0}),St=["mousedown","touchstart"],bt=["mouseup","mouseleave","touchend","touchcancel"];class ht{constructor(be,De,Be,_t){this._target=be,this._ngZone=De,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,_t.isBrowser&&(this._containerElement=(0,w.fI)(Be))}fadeInRipple(be,De,Be={}){const _t=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),It={...et,...Be.animation};Be.centered&&(be=_t.left+_t.width/2,De=_t.top+_t.height/2);const bn=Be.radius||function qt(qe,be,De){const Be=Math.max(Math.abs(qe-De.left),Math.abs(qe-De.right)),_t=Math.max(Math.abs(be-De.top),Math.abs(be-De.bottom));return Math.sqrt(Be*Be+_t*_t)}(be,De,_t),$n=be-_t.left,qn=De-_t.top,Zn=It.enterDuration,Qt=document.createElement("div");Qt.classList.add("mat-ripple-element"),Qt.style.left=$n-bn+"px",Qt.style.top=qn-bn+"px",Qt.style.height=2*bn+"px",Qt.style.width=2*bn+"px",null!=Be.color&&(Qt.style.backgroundColor=Be.color),Qt.style.transitionDuration=`${Zn}ms`,this._containerElement.appendChild(Qt);const Nn=window.getComputedStyle(Qt),Yi=Nn.transitionDuration,dn="none"===Nn.transitionProperty||"0s"===Yi||"0s, 0s"===Yi,Xt=new tt(this,Qt,Be,dn);Qt.style.transform="scale3d(1, 1, 1)",Xt.state=0,Be.persistent||(this._mostRecentTransientRipple=Xt);let En=null;return!dn&&(Zn||It.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ln=()=>this._finishRippleTransition(Xt),Ut=()=>this._destroyRipple(Xt);Qt.addEventListener("transitionend",Ln),Qt.addEventListener("transitioncancel",Ut),En={onTransitionEnd:Ln,onTransitionCancel:Ut}}),this._activeRipples.set(Xt,En),(dn||!Zn)&&this._finishRippleTransition(Xt),Xt}fadeOutRipple(be){if(2===be.state||3===be.state)return;const De=be.element,Be={...et,...be.config.animation};De.style.transitionDuration=`${Be.exitDuration}ms`,De.style.opacity="0",be.state=2,(be._animationForciblyDisabledThroughCss||!Be.exitDuration)&&this._finishRippleTransition(be)}fadeOutAll(){this._getActiveRipples().forEach(be=>be.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(be=>{be.config.persistent||be.fadeOut()})}setupTriggerEvents(be){const De=(0,w.fI)(be);!De||De===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=De,this._registerEvents(St))}handleEvent(be){"mousedown"===be.type?this._onMousedown(be):"touchstart"===be.type?this._onTouchStart(be):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(bt),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(be){0===be.state?this._startFadeOutTransition(be):2===be.state&&this._destroyRipple(be)}_startFadeOutTransition(be){const De=be===this._mostRecentTransientRipple,{persistent:Be}=be.config;be.state=1,!Be&&(!De||!this._isPointerDown)&&be.fadeOut()}_destroyRipple(be){const De=this._activeRipples.get(be)??null;this._activeRipples.delete(be),this._activeRipples.size||(this._containerRect=null),be===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),be.state=3,null!==De&&(be.element.removeEventListener("transitionend",De.onTransitionEnd),be.element.removeEventListener("transitioncancel",De.onTransitionCancel)),be.element.remove()}_onMousedown(be){const De=(0,$.X6)(be),Be=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!De&&!Be&&(this._isPointerDown=!0,this.fadeInRipple(be.clientX,be.clientY,this._target.rippleConfig))}_onTouchStart(be){if(!this._target.rippleDisabled&&!(0,$.yG)(be)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const De=be.changedTouches;for(let Be=0;Be<De.length;Be++)this.fadeInRipple(De[Be].clientX,De[Be].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(be=>{!be.config.persistent&&(1===be.state||be.config.terminateOnPointerUp&&0===be.state)&&be.fadeOut()}))}_registerEvents(be){this._ngZone.runOutsideAngular(()=>{be.forEach(De=>{this._triggerElement.addEventListener(De,this,Ot)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(St.forEach(be=>{this._triggerElement.removeEventListener(be,this,Ot)}),this._pointerUpEventsRegistered&&bt.forEach(be=>{this._triggerElement.removeEventListener(be,this,Ot)}))}}const dt=new D.OlP("mat-ripple-global-options");let Pt=(()=>{class qe{constructor(De,Be,_t,It,bn){this._elementRef=De,this._animationMode=bn,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=It||{},this._rippleRenderer=new ht(this,Be,De,_t)}get disabled(){return this._disabled}set disabled(De){De&&this.fadeOutAllNonPersistent(),this._disabled=De,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(De){this._trigger=De,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(De,Be=0,_t){return"number"==typeof De?this._rippleRenderer.fadeInRipple(De,Be,{...this.rippleConfig,..._t}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...De})}}return qe.\u0275fac=function(De){return new(De||qe)(D.Y36(D.SBq),D.Y36(D.R0b),D.Y36(m.t4),D.Y36(dt,8),D.Y36(D.QbO,8))},qe.\u0275dir=D.lG2({type:qe,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(De,Be){2&De&&D.ekj("mat-ripple-unbounded",Be.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),qe})(),jt=(()=>{class qe{}return qe.\u0275fac=function(De){return new(De||qe)},qe.\u0275mod=D.oAB({type:qe}),qe.\u0275inj=D.cJS({imports:[I,I]}),qe})()},9549:(it,Ve,Z)=>{"use strict";Z.d(Ve,{Eo:()=>de,G_:()=>Pt,KE:()=>jt,lN:()=>nt});var D=Z(9643),$=Z(6895),C=Z(4650),c=Z(3238),v=Z(445),m=Z(1281),w=Z(5529),h=Z(6787),b=Z(3753),y=Z(1059),E=Z(7625),d=Z(5632),s=Z(7340),f=Z(3353);const u=["connectionContainer"],p=["inputContainer"],S=["label"];function I(We,ot){1&We&&(C.ynx(0),C.TgZ(1,"div",14),C._UZ(2,"div",15)(3,"div",16)(4,"div",17),C.qZA(),C.TgZ(5,"div",18),C._UZ(6,"div",15)(7,"div",16)(8,"div",17),C.qZA(),C.BQk())}function A(We,ot){if(1&We){const Te=C.EpF();C.TgZ(0,"div",19),C.NdJ("cdkObserveContent",function(){C.CHM(Te);const ge=C.oxw();return C.KtG(ge.updateOutlineGap())}),C.Hsn(1,1),C.qZA()}if(2&We){const Te=C.oxw();C.Q6J("cdkObserveContentDisabled","outline"!=Te.appearance)}}function B(We,ot){if(1&We&&(C.ynx(0),C.Hsn(1,2),C.TgZ(2,"span"),C._uU(3),C.qZA(),C.BQk()),2&We){const Te=C.oxw(2);C.xp6(3),C.Oqu(Te._control.placeholder)}}function g(We,ot){1&We&&C.Hsn(0,3,["*ngSwitchCase","true"])}function x(We,ot){1&We&&(C.TgZ(0,"span",23),C._uU(1," *"),C.qZA())}function V(We,ot){if(1&We){const Te=C.EpF();C.TgZ(0,"label",20,21),C.NdJ("cdkObserveContent",function(){C.CHM(Te);const ge=C.oxw();return C.KtG(ge.updateOutlineGap())}),C.YNc(2,B,4,1,"ng-container",12),C.YNc(3,g,1,0,"ng-content",12),C.YNc(4,x,2,0,"span",22),C.qZA()}if(2&We){const Te=C.oxw();C.ekj("mat-empty",Te._control.empty&&!Te._shouldAlwaysFloat())("mat-form-field-empty",Te._control.empty&&!Te._shouldAlwaysFloat())("mat-accent","accent"==Te.color)("mat-warn","warn"==Te.color),C.Q6J("cdkObserveContentDisabled","outline"!=Te.appearance)("id",Te._labelId)("ngSwitch",Te._hasLabel()),C.uIk("for",Te._control.id)("aria-owns",Te._control.id),C.xp6(2),C.Q6J("ngSwitchCase",!1),C.xp6(1),C.Q6J("ngSwitchCase",!0),C.xp6(1),C.Q6J("ngIf",!Te.hideRequiredMarker&&Te._control.required&&!Te._control.disabled)}}function k(We,ot){1&We&&(C.TgZ(0,"div",24),C.Hsn(1,4),C.qZA())}function Y(We,ot){if(1&We&&(C.TgZ(0,"div",25),C._UZ(1,"span",26),C.qZA()),2&We){const Te=C.oxw();C.xp6(1),C.ekj("mat-accent","accent"==Te.color)("mat-warn","warn"==Te.color)}}function q(We,ot){if(1&We&&(C.TgZ(0,"div"),C.Hsn(1,5),C.qZA()),2&We){const Te=C.oxw();C.Q6J("@transitionMessages",Te._subscriptAnimationState)}}function J(We,ot){if(1&We&&(C.TgZ(0,"div",30),C._uU(1),C.qZA()),2&We){const Te=C.oxw(2);C.Q6J("id",Te._hintLabelId),C.xp6(1),C.Oqu(Te.hintLabel)}}function ae(We,ot){if(1&We&&(C.TgZ(0,"div",27),C.YNc(1,J,2,2,"div",28),C.Hsn(2,6),C._UZ(3,"div",29),C.Hsn(4,7),C.qZA()),2&We){const Te=C.oxw();C.Q6J("@transitionMessages",Te._subscriptAnimationState),C.xp6(1),C.Q6J("ngIf",Te.hintLabel)}}const se=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],we=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],K=new C.OlP("MatError"),re={transitionMessages:(0,s.X$)("transitionMessages",[(0,s.SB)("enter",(0,s.oB)({opacity:1,transform:"translateY(0%)"})),(0,s.eR)("void => enter",[(0,s.oB)({opacity:0,transform:"translateY(-5px)"}),(0,s.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let de=(()=>{class We{}return We.\u0275fac=function(Te){return new(Te||We)},We.\u0275dir=C.lG2({type:We}),We})();const Se=new C.OlP("MatHint");let Ne=(()=>{class We{}return We.\u0275fac=function(Te){return new(Te||We)},We.\u0275dir=C.lG2({type:We,selectors:[["mat-label"]]}),We})(),Pe=(()=>{class We{}return We.\u0275fac=function(Te){return new(Te||We)},We.\u0275dir=C.lG2({type:We,selectors:[["mat-placeholder"]]}),We})();const tt=new C.OlP("MatPrefix"),Et=new C.OlP("MatSuffix");let St=0;const qt=(0,c.pj)(class{constructor(We){this._elementRef=We}},"primary"),dt=new C.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Pt=new C.OlP("MatFormField");let jt=(()=>{class We extends qt{constructor(Te,Ke,ge,ye,fe,Me,Re){super(Te),this._changeDetectorRef=Ke,this._dir=ge,this._defaults=ye,this._platform=fe,this._ngZone=Me,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new w.xQ,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+St++,this._labelId="mat-form-field-label-"+St++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Re,this.appearance=ye?.appearance||"legacy",ye&&(this._hideRequiredMarker=Boolean(ye.hideRequiredMarker),ye.color&&(this.color=this.defaultColor=ye.color))}get appearance(){return this._appearance}set appearance(Te){const Ke=this._appearance;this._appearance=Te||this._defaults?.appearance||"legacy","outline"===this._appearance&&Ke!==Te&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Te){this._hideRequiredMarker=(0,m.Ig)(Te)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Te){this._hintLabel=Te,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Te){Te!==this._floatLabel&&(this._floatLabel=Te||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Te){this._explicitFormFieldControl=Te}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Te=this._control;Te.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Te.controlType}`),Te.stateChanges.pipe((0,y.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Te.ngControl&&Te.ngControl.valueChanges&&Te.ngControl.valueChanges.pipe((0,E.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,E.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,h.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,y.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,y.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,E.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Te){const Ke=this._control?this._control.ngControl:null;return Ke&&Ke[Te]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,b.R)(this._label.nativeElement,"transitionend").pipe((0,d.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Te=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Te.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Ke=this._hintChildren?this._hintChildren.find(ye=>"start"===ye.align):null,ge=this._hintChildren?this._hintChildren.find(ye=>"end"===ye.align):null;Ke?Te.push(Ke.id):this._hintLabel&&Te.push(this._hintLabelId),ge&&Te.push(ge.id)}else this._errorChildren&&Te.push(...this._errorChildren.map(Ke=>Ke.id));this._control.setDescribedByIds(Te)}}_validateControlChild(){}updateOutlineGap(){const Te=this._label?this._label.nativeElement:null,Ke=this._connectionContainerRef.nativeElement,ge=".mat-form-field-outline-start",ye=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!Te||!Te.children.length||!Te.textContent.trim()){const Xe=Ke.querySelectorAll(`${ge}, ${ye}`);for(let lt=0;lt<Xe.length;lt++)Xe[lt].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let fe=0,Me=0;const Re=Ke.querySelectorAll(ge),ke=Ke.querySelectorAll(ye);if(this._label&&this._label.nativeElement.children.length){const Xe=Ke.getBoundingClientRect();if(0===Xe.width&&0===Xe.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const lt=this._getStartEnd(Xe),rn=Te.children,wt=this._getStartEnd(rn[0].getBoundingClientRect());let qe=0;for(let be=0;be<rn.length;be++)qe+=rn[be].offsetWidth;fe=Math.abs(wt-lt)-5,Me=qe>0?.75*qe+10:0}for(let Xe=0;Xe<Re.length;Xe++)Re[Xe].style.width=`${fe}px`;for(let Xe=0;Xe<ke.length;Xe++)ke[Xe].style.width=`${Me}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Te){return this._dir&&"rtl"===this._dir.value?Te.right:Te.left}_isAttachedToDOM(){const Te=this._elementRef.nativeElement;if(Te.getRootNode){const Ke=Te.getRootNode();return Ke&&Ke!==Te}return document.documentElement.contains(Te)}}return We.\u0275fac=function(Te){return new(Te||We)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(v.Is,8),C.Y36(dt,8),C.Y36(f.t4),C.Y36(C.R0b),C.Y36(C.QbO,8))},We.\u0275cmp=C.Xpm({type:We,selectors:[["mat-form-field"]],contentQueries:function(Te,Ke,ge){if(1&Te&&(C.Suo(ge,de,5),C.Suo(ge,de,7),C.Suo(ge,Ne,5),C.Suo(ge,Ne,7),C.Suo(ge,Pe,5),C.Suo(ge,K,5),C.Suo(ge,Se,5),C.Suo(ge,tt,5),C.Suo(ge,Et,5)),2&Te){let ye;C.iGM(ye=C.CRH())&&(Ke._controlNonStatic=ye.first),C.iGM(ye=C.CRH())&&(Ke._controlStatic=ye.first),C.iGM(ye=C.CRH())&&(Ke._labelChildNonStatic=ye.first),C.iGM(ye=C.CRH())&&(Ke._labelChildStatic=ye.first),C.iGM(ye=C.CRH())&&(Ke._placeholderChild=ye.first),C.iGM(ye=C.CRH())&&(Ke._errorChildren=ye),C.iGM(ye=C.CRH())&&(Ke._hintChildren=ye),C.iGM(ye=C.CRH())&&(Ke._prefixChildren=ye),C.iGM(ye=C.CRH())&&(Ke._suffixChildren=ye)}},viewQuery:function(Te,Ke){if(1&Te&&(C.Gf(u,7),C.Gf(p,5),C.Gf(S,5)),2&Te){let ge;C.iGM(ge=C.CRH())&&(Ke._connectionContainerRef=ge.first),C.iGM(ge=C.CRH())&&(Ke._inputContainerRef=ge.first),C.iGM(ge=C.CRH())&&(Ke._label=ge.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Te,Ke){2&Te&&C.ekj("mat-form-field-appearance-standard","standard"==Ke.appearance)("mat-form-field-appearance-fill","fill"==Ke.appearance)("mat-form-field-appearance-outline","outline"==Ke.appearance)("mat-form-field-appearance-legacy","legacy"==Ke.appearance)("mat-form-field-invalid",Ke._control.errorState)("mat-form-field-can-float",Ke._canLabelFloat())("mat-form-field-should-float",Ke._shouldLabelFloat())("mat-form-field-has-label",Ke._hasFloatingLabel())("mat-form-field-hide-placeholder",Ke._hideControlPlaceholder())("mat-form-field-disabled",Ke._control.disabled)("mat-form-field-autofilled",Ke._control.autofilled)("mat-focused",Ke._control.focused)("ng-untouched",Ke._shouldForward("untouched"))("ng-touched",Ke._shouldForward("touched"))("ng-pristine",Ke._shouldForward("pristine"))("ng-dirty",Ke._shouldForward("dirty"))("ng-valid",Ke._shouldForward("valid"))("ng-invalid",Ke._shouldForward("invalid"))("ng-pending",Ke._shouldForward("pending"))("_mat-animation-noopable",!Ke._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[C._Bn([{provide:Pt,useExisting:We}]),C.qOj],ngContentSelectors:we,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Te,Ke){1&Te&&(C.F$t(se),C.TgZ(0,"div",0)(1,"div",1,2),C.NdJ("click",function(ye){return Ke._control.onContainerClick&&Ke._control.onContainerClick(ye)}),C.YNc(3,I,9,0,"ng-container",3),C.YNc(4,A,2,1,"div",4),C.TgZ(5,"div",5,6),C.Hsn(7),C.TgZ(8,"span",7),C.YNc(9,V,5,16,"label",8),C.qZA()(),C.YNc(10,k,2,0,"div",9),C.qZA(),C.YNc(11,Y,2,4,"div",10),C.TgZ(12,"div",11),C.YNc(13,q,2,1,"div",12),C.YNc(14,ae,5,2,"div",13),C.qZA()()),2&Te&&(C.xp6(3),C.Q6J("ngIf","outline"==Ke.appearance),C.xp6(1),C.Q6J("ngIf",Ke._prefixChildren.length),C.xp6(5),C.Q6J("ngIf",Ke._hasFloatingLabel()),C.xp6(1),C.Q6J("ngIf",Ke._suffixChildren.length),C.xp6(1),C.Q6J("ngIf","outline"!=Ke.appearance),C.xp6(1),C.Q6J("ngSwitch",Ke._getDisplayedMessages()),C.xp6(1),C.Q6J("ngSwitchCase","error"),C.xp6(1),C.Q6J("ngSwitchCase","hint"))},dependencies:[$.O5,$.RF,$.n9,D.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[re.transitionMessages]},changeDetection:0}),We})(),nt=(()=>{class We{}return We.\u0275fac=function(Te){return new(Te||We)},We.\u0275mod=C.oAB({type:We}),We.\u0275inj=C.cJS({imports:[$.ez,c.BQ,D.Q8,c.BQ]}),We})()},4144:(it,Ve,Z)=>{"use strict";Z.d(Ve,{Nt:()=>A,c:()=>B});var D=Z(1281),$=Z(3353),C=Z(4650),c=Z(8896),v=Z(5529);const m=(0,$.i$)({passive:!0});let w=(()=>{class g{constructor(V,k){this._platform=V,this._ngZone=k,this._monitoredElements=new Map}monitor(V){if(!this._platform.isBrowser)return c.E;const k=(0,D.fI)(V),Y=this._monitoredElements.get(k);if(Y)return Y.subject;const q=new v.xQ,J="cdk-text-field-autofilled",ae=se=>{"cdk-text-field-autofill-start"!==se.animationName||k.classList.contains(J)?"cdk-text-field-autofill-end"===se.animationName&&k.classList.contains(J)&&(k.classList.remove(J),this._ngZone.run(()=>q.next({target:se.target,isAutofilled:!1}))):(k.classList.add(J),this._ngZone.run(()=>q.next({target:se.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{k.addEventListener("animationstart",ae,m),k.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(k,{subject:q,unlisten:()=>{k.removeEventListener("animationstart",ae,m)}}),q}stopMonitoring(V){const k=(0,D.fI)(V),Y=this._monitoredElements.get(k);Y&&(Y.unlisten(),Y.subject.complete(),k.classList.remove("cdk-text-field-autofill-monitored"),k.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(k))}ngOnDestroy(){this._monitoredElements.forEach((V,k)=>this.stopMonitoring(k))}}return g.\u0275fac=function(V){return new(V||g)(C.LFG($.t4),C.LFG(C.R0b))},g.\u0275prov=C.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),y=(()=>{class g{}return g.\u0275fac=function(V){return new(V||g)},g.\u0275mod=C.oAB({type:g}),g.\u0275inj=C.cJS({}),g})();var E=Z(4719),d=Z(3238),s=Z(9549);const u=new C.OlP("MAT_INPUT_VALUE_ACCESSOR"),p=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let S=0;const I=(0,d.FD)(class{constructor(g,x,V,k){this._defaultErrorStateMatcher=g,this._parentForm=x,this._parentFormGroup=V,this.ngControl=k,this.stateChanges=new v.xQ}});let A=(()=>{class g extends I{constructor(V,k,Y,q,J,ae,se,we,ve,K){super(ae,q,J,Y),this._elementRef=V,this._platform=k,this._autofillMonitor=we,this._formField=K,this._uid="mat-input-"+S++,this.focused=!1,this.stateChanges=new v.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(de=>(0,$.qK)().has(de)),this._iOSKeyupListener=de=>{const Ue=de.target;!Ue.value&&0===Ue.selectionStart&&0===Ue.selectionEnd&&(Ue.setSelectionRange(1,1),Ue.setSelectionRange(0,0))};const ne=this._elementRef.nativeElement,re=ne.nodeName.toLowerCase();this._inputValueAccessor=se||ne,this._previousNativeValue=this.value,this.id=this.id,k.IOS&&ve.runOutsideAngular(()=>{V.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===re,this._isTextarea="textarea"===re,this._isInFormField=!!K,this._isNativeSelect&&(this.controlType=ne.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(V){this._disabled=(0,D.Ig)(V),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(V){this._id=V||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(E.kI.required)??!1}set required(V){this._required=(0,D.Ig)(V)}get type(){return this._type}set type(V){this._type=V||"text",this._validateType(),!this._isTextarea&&(0,$.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(V){V!==this.value&&(this._inputValueAccessor.value=V,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(V){this._readonly=(0,D.Ig)(V)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(V=>{this.autofilled=V.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(V){this._elementRef.nativeElement.focus(V)}_focusChanged(V){V!==this.focused&&(this.focused=V,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const V=this._formField,k=V&&"legacy"===V.appearance&&!V._hasLabel?.()?null:this.placeholder;if(k!==this._previousPlaceholder){const Y=this._elementRef.nativeElement;this._previousPlaceholder=k,k?Y.setAttribute("placeholder",k):Y.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const V=this._elementRef.nativeElement.value;this._previousNativeValue!==V&&(this._previousNativeValue=V,this.stateChanges.next())}_validateType(){p.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let V=this._elementRef.nativeElement.validity;return V&&V.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const V=this._elementRef.nativeElement,k=V.options[0];return this.focused||V.multiple||!this.empty||!!(V.selectedIndex>-1&&k&&k.label)}return this.focused||!this.empty}setDescribedByIds(V){V.length?this._elementRef.nativeElement.setAttribute("aria-describedby",V.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const V=this._elementRef.nativeElement;return this._isNativeSelect&&(V.multiple||V.size>1)}}return g.\u0275fac=function(V){return new(V||g)(C.Y36(C.SBq),C.Y36($.t4),C.Y36(E.a5,10),C.Y36(E.F,8),C.Y36(E.sg,8),C.Y36(d.rD),C.Y36(u,10),C.Y36(w),C.Y36(C.R0b),C.Y36(s.G_,8))},g.\u0275dir=C.lG2({type:g,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(V,k){1&V&&C.NdJ("focus",function(){return k._focusChanged(!0)})("blur",function(){return k._focusChanged(!1)})("input",function(){return k._onInput()}),2&V&&(C.Ikx("disabled",k.disabled)("required",k.required),C.uIk("id",k.id)("data-placeholder",k.placeholder)("name",k.name||null)("readonly",k.readonly&&!k._isNativeSelect||null)("aria-invalid",k.empty&&k.required?null:k.errorState)("aria-required",k.required),C.ekj("mat-input-server",k._isServer)("mat-native-select-inline",k._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[C._Bn([{provide:s.Eo,useExisting:g}]),C.qOj,C.TTD]}),g})(),B=(()=>{class g{}return g.\u0275fac=function(V){return new(V||g)},g.\u0275mod=C.oAB({type:g}),g.\u0275inj=C.cJS({providers:[d.rD],imports:[y,s.lN,d.BQ,y,s.lN]}),g})()},455:(it,Ve,Z)=>{"use strict";Z.d(Ve,{Rr:()=>p,rP:()=>B});var D=Z(9643),$=Z(4650),C=Z(3238),c=Z(4632),v=Z(1281),m=Z(4719);const w=["input"],h=function(g){return{enterDuration:g}},b=["*"],y=new $.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let E=0;const d={provide:m.JU,useExisting:(0,$.Gpc)(()=>p),multi:!0};class s{constructor(x,V){this.source=x,this.checked=V}}const f=(0,C.sb)((0,C.pj)((0,C.Kr)((0,C.Id)(class{constructor(g){this._elementRef=g}}))));let u=(()=>{class g extends f{constructor(V,k,Y,q,J,ae,se){super(V),this._focusMonitor=k,this._changeDetectorRef=Y,this.defaults=J,this._onChange=we=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new $.vpe,this.toggleChange=new $.vpe,this.tabIndex=parseInt(q)||0,this.color=this.defaultColor=J.color||"accent",this._noopAnimations="NoopAnimations"===ae,this.id=this._uniqueId=`${se}${++E}`}get required(){return this._required}set required(V){this._required=(0,v.Ig)(V)}get checked(){return this._checked}set checked(V){this._checked=(0,v.Ig)(V),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(V=>{"keyboard"===V||"program"===V?this._focused=!0:V||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(V){this.checked=!!V}registerOnChange(V){this._onChange=V}registerOnTouched(V){this._onTouched=V}setDisabledState(V){this.disabled=V,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return g.\u0275fac=function(V){$.$Z()},g.\u0275dir=$.lG2({type:g,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[$.qOj]}),g})(),p=(()=>{class g extends u{constructor(V,k,Y,q,J,ae){super(V,k,Y,q,J,ae,"mat-slide-toggle-")}_createChangeEvent(V){return new s(this,V)}_onChangeEvent(V){V.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(V){V.stopPropagation()}focus(V,k){k?this._focusMonitor.focusVia(this._inputElement,k,V):this._inputElement.nativeElement.focus(V)}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return g.\u0275fac=function(V){return new(V||g)($.Y36($.SBq),$.Y36(c.tE),$.Y36($.sBO),$.$8M("tabindex"),$.Y36(y),$.Y36($.QbO,8))},g.\u0275cmp=$.Xpm({type:g,selectors:[["mat-slide-toggle"]],viewQuery:function(V,k){if(1&V&&$.Gf(w,5),2&V){let Y;$.iGM(Y=$.CRH())&&(k._inputElement=Y.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(V,k){2&V&&($.Ikx("id",k.id),$.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),$.ekj("mat-checked",k.checked)("mat-disabled",k.disabled)("mat-slide-toggle-label-before","before"==k.labelPosition)("_mat-animation-noopable",k._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[$._Bn([d]),$.qOj],ngContentSelectors:b,decls:14,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(V,k){if(1&V&&($.F$t(),$.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),$.NdJ("change",function(q){return k._onChangeEvent(q)})("click",function(q){return k._onInputClick(q)}),$.qZA(),$.TgZ(5,"span",5),$._UZ(6,"span",6),$.TgZ(7,"span",7),$._UZ(8,"span",8),$.qZA()()(),$.TgZ(9,"span",9,10),$.NdJ("cdkObserveContent",function(){return k._onLabelTextChange()}),$.TgZ(11,"span",11),$._uU(12,"\xa0"),$.qZA(),$.Hsn(13),$.qZA()()),2&V){const Y=$.MAs(1),q=$.MAs(10);$.uIk("for",k.inputId),$.xp6(2),$.ekj("mat-slide-toggle-bar-no-side-margin",!q.textContent||!q.textContent.trim()),$.xp6(1),$.Q6J("id",k.inputId)("required",k.required)("tabIndex",k.tabIndex)("checked",k.checked)("disabled",k.disabled),$.uIk("name",k.name)("aria-checked",k.checked)("aria-label",k.ariaLabel)("aria-labelledby",k.ariaLabelledby)("aria-describedby",k.ariaDescribedby),$.xp6(4),$.Q6J("matRippleTrigger",Y)("matRippleDisabled",k.disableRipple||k.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",$.VKq(18,h,k._noopAnimations?0:150))}},dependencies:[C.wG,D.wD],styles:['.mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.mat-slide-toggle-input:focus~.mat-slide-toggle-thumb-container .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}'],encapsulation:2,changeDetection:0}),g})(),A=(()=>{class g{}return g.\u0275fac=function(V){return new(V||g)},g.\u0275mod=$.oAB({type:g}),g.\u0275inj=$.cJS({}),g})(),B=(()=>{class g{}return g.\u0275fac=function(V){return new(V||g)},g.\u0275mod=$.oAB({type:g}),g.\u0275inj=$.cJS({imports:[A,C.si,C.BQ,D.Q8,A,C.BQ]}),g})()},9485:(it,Ve,Z)=>{"use strict";Z.d(Ve,{uX:()=>li,SP:()=>Bn,uD:()=>ai,Nh:()=>Zi});var D=Z(4632),$=Z(9643),C=Z(4650),c=Z(6895);class E{attach(oe){return this._attachedHost=oe,oe.attach(this)}detach(){let oe=this._attachedHost;null!=oe&&(this._attachedHost=null,oe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(oe){this._attachedHost=oe}}class d extends E{constructor(oe,j,ee,me){super(),this.component=oe,this.viewContainerRef=j,this.injector=ee,this.componentFactoryResolver=me}}class s extends E{constructor(oe,j,ee,me){super(),this.templateRef=oe,this.viewContainerRef=j,this.context=ee,this.injector=me}get origin(){return this.templateRef.elementRef}attach(oe,j=this.context){return this.context=j,super.attach(oe)}detach(){return this.context=void 0,super.detach()}}class f extends E{constructor(oe){super(),this.element=oe instanceof C.SBq?oe.nativeElement:oe}}class u{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(oe){return oe instanceof d?(this._attachedPortal=oe,this.attachComponentPortal(oe)):oe instanceof s?(this._attachedPortal=oe,this.attachTemplatePortal(oe)):this.attachDomPortal&&oe instanceof f?(this._attachedPortal=oe,this.attachDomPortal(oe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(oe){this._disposeFn=oe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}let A=(()=>{class Ce extends s{constructor(j,ee){super(j,ee)}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.Y36(C.Rgc),C.Y36(C.s_b))},Ce.\u0275dir=C.lG2({type:Ce,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[C.qOj]}),Ce})(),g=(()=>{class Ce extends u{constructor(j,ee,me){super(),this._componentFactoryResolver=j,this._viewContainerRef=ee,this._isInitialized=!1,this.attached=new C.vpe,this.attachDomPortal=je=>{const gt=je.element,xt=this._document.createComment("dom-portal");je.setAttachedHost(this),gt.parentNode.insertBefore(xt,gt),this._getRootNode().appendChild(gt),this._attachedPortal=je,super.setDisposeFn(()=>{xt.parentNode&&xt.parentNode.replaceChild(gt,xt)})},this._document=me}get portal(){return this._attachedPortal}set portal(j){this.hasAttached()&&!j&&!this._isInitialized||(this.hasAttached()&&super.detach(),j&&super.attach(j),this._attachedPortal=j||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(j){j.setAttachedHost(this);const ee=null!=j.viewContainerRef?j.viewContainerRef:this._viewContainerRef,je=(j.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(j.component),gt=ee.createComponent(je,ee.length,j.injector||ee.injector);return ee!==this._viewContainerRef&&this._getRootNode().appendChild(gt.hostView.rootNodes[0]),super.setDisposeFn(()=>gt.destroy()),this._attachedPortal=j,this._attachedRef=gt,this.attached.emit(gt),gt}attachTemplatePortal(j){j.setAttachedHost(this);const ee=this._viewContainerRef.createEmbeddedView(j.templateRef,j.context,{injector:j.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=j,this._attachedRef=ee,this.attached.emit(ee),ee}_getRootNode(){const j=this._viewContainerRef.element.nativeElement;return j.nodeType===j.ELEMENT_NODE?j:j.parentNode}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.Y36(C._Vd),C.Y36(C.s_b),C.Y36(c.K0))},Ce.\u0275dir=C.lG2({type:Ce,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[C.qOj]}),Ce})(),V=(()=>{class Ce{}return Ce.\u0275fac=function(j){return new(j||Ce)},Ce.\u0275mod=C.oAB({type:Ce}),Ce.\u0275inj=C.cJS({}),Ce})();var Y=Z(3238),q=Z(5632),J=Z(1059),ae=Z(5778),se=Z(7625),we=Z(4850),ve=Z(5254),K=Z(1177);function ne(Ce,oe){return"function"==typeof oe?j=>j.pipe(ne((ee,me)=>(0,ve.D)(Ce(ee,me)).pipe((0,we.U)((je,gt)=>oe(ee,je,me,gt))))):j=>j.lift(new re(Ce))}class re{constructor(oe){this.project=oe}call(oe,j){return j.subscribe(new de(oe,this.project))}}class de extends K.Ds{constructor(oe,j){super(oe),this.project=j,this.index=0}_next(oe){let j;const ee=this.index++;try{j=this.project(oe,ee)}catch(me){return void this.destination.error(me)}this._innerSub(j)}_innerSub(oe){const j=this.innerSubscription;j&&j.unsubscribe();const ee=new K.IY(this),me=this.destination;me.add(ee),this.innerSubscription=(0,K.ft)(oe,ee),this.innerSubscription!==ee&&me.add(this.innerSubscription)}_complete(){const{innerSubscription:oe}=this;(!oe||oe.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(oe){this.destination.next(oe)}}var Ue=Z(1307),ze=Z(2198),Qe=Z(5529),Ye=Z(2654),Se=Z(3753),ie=Z(1086),Ne=Z(6787),Pe=Z(8896),tt=Z(2916),et=Z(353),Et=Z(6688);function Ot(Ce){return!(0,Et.k)(Ce)&&Ce-parseFloat(Ce)+1>=0}var St=Z(2866);function bt(Ce=0,oe,j){let ee=-1;return Ot(oe)?ee=Number(oe)<1?1:Number(oe):(0,St.K)(oe)&&(j=oe),(0,St.K)(j)||(j=et.P),new tt.y(me=>{const je=Ot(Ce)?Ce:+Ce-j.now();return j.schedule(ht,je,{index:0,period:ee,subscriber:me})})}function ht(Ce){const{index:oe,period:j,subscriber:ee}=Ce;if(ee.next(oe),!ee.closed){if(-1===j)return ee.complete();Ce.index=oe+1,this.schedule(Ce,j)}}var qt=Z(445),dt=Z(7340),Pt=Z(1281),jt=Z(6686),We=Z(2268);new class ot extends We.v{flush(oe){this.active=!0,this.scheduled=void 0;const{actions:j}=this;let ee,me=-1,je=j.length;oe=oe||j.shift();do{if(ee=oe.execute(oe.state,oe.delay))break}while(++me<je&&(oe=j.shift()));if(this.active=!1,ee){for(;++me<je&&(oe=j.shift());)oe.unsubscribe();throw ee}}}(class nt extends jt.o{constructor(oe,j){super(oe,j),this.scheduler=oe,this.work=j}requestAsyncId(oe,j,ee=0){return null!==ee&&ee>0?super.requestAsyncId(oe,j,ee):(oe.actions.push(this),oe.scheduled||(oe.scheduled=requestAnimationFrame(()=>oe.flush(null))))}recycleAsyncId(oe,j,ee=0){if(null!==ee&&ee>0||null===ee&&this.delay>0)return super.recycleAsyncId(oe,j,ee);0===oe.actions.length&&(cancelAnimationFrame(j),oe.scheduled=void 0)}});let ge=1;const ye=Promise.resolve(),fe={};function Me(Ce){return Ce in fe&&(delete fe[Ce],!0)}const Re={setImmediate(Ce){const oe=ge++;return fe[oe]=!0,ye.then(()=>Me(oe)&&Ce()),oe},clearImmediate(Ce){Me(Ce)}};new class lt extends We.v{flush(oe){this.active=!0,this.scheduled=void 0;const{actions:j}=this;let ee,me=-1,je=j.length;oe=oe||j.shift();do{if(ee=oe.execute(oe.state,oe.delay))break}while(++me<je&&(oe=j.shift()));if(this.active=!1,ee){for(;++me<je&&(oe=j.shift());)oe.unsubscribe();throw ee}}}(class Xe extends jt.o{constructor(oe,j){super(oe,j),this.scheduler=oe,this.work=j}requestAsyncId(oe,j,ee=0){return null!==ee&&ee>0?super.requestAsyncId(oe,j,ee):(oe.actions.push(this),oe.scheduled||(oe.scheduled=Re.setImmediate(oe.flush.bind(oe,null))))}recycleAsyncId(oe,j,ee=0){if(null!==ee&&ee>0||null===ee&&this.delay>0)return super.recycleAsyncId(oe,j,ee);0===oe.actions.length&&(Re.clearImmediate(j),oe.scheduled=void 0)}});class be{constructor(oe){this.durationSelector=oe}call(oe,j){return j.subscribe(new De(oe,this.durationSelector))}}class De extends K.Ds{constructor(oe,j){super(oe),this.durationSelector=j,this.hasValue=!1}_next(oe){if(this.value=oe,this.hasValue=!0,!this.throttled){let j;try{const{durationSelector:me}=this;j=me(oe)}catch(me){return this.destination.error(me)}const ee=(0,K.ft)(j,new K.IY(this));!ee||ee.closed?this.clearThrottle():this.add(this.throttled=ee)}}clearThrottle(){const{value:oe,hasValue:j,throttled:ee}=this;ee&&(this.remove(ee),this.throttled=void 0,ee.unsubscribe()),j&&(this.value=void 0,this.hasValue=!1,this.destination.next(oe))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var _t=Z(3353);let Xt=(()=>{class Ce{constructor(j,ee,me){this._platform=j,this._change=new Qe.xQ,this._changeListener=je=>{this._change.next(je)},this._document=me,ee.runOutsideAngular(()=>{if(j.isBrowser){const je=this._getWindow();je.addEventListener("resize",this._changeListener),je.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const j=this._getWindow();j.removeEventListener("resize",this._changeListener),j.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const j={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),j}getViewportRect(){const j=this.getViewportScrollPosition(),{width:ee,height:me}=this.getViewportSize();return{top:j.top,left:j.left,bottom:j.top+me,right:j.left+ee,height:me,width:ee}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const j=this._document,ee=this._getWindow(),me=j.documentElement,je=me.getBoundingClientRect();return{top:-je.top||j.body.scrollTop||ee.scrollY||me.scrollTop||0,left:-je.left||j.body.scrollLeft||ee.scrollX||me.scrollLeft||0}}change(j=20){return j>0?this._change.pipe(function Be(Ce,oe=et.P){return function qe(Ce){return function(j){return j.lift(new be(Ce))}}(()=>bt(Ce,oe))}(j)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const j=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:j.innerWidth,height:j.innerHeight}:{width:0,height:0}}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.LFG(_t.t4),C.LFG(C.R0b),C.LFG(c.K0,8))},Ce.\u0275prov=C.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();var Xn=Z(9521);function si(Ce,oe){1&Ce&&C.Hsn(0)}const Jn=["*"];function hi(Ce,oe){}const Le=function(Ce){return{animationDuration:Ce}},he=function(Ce,oe){return{value:Ce,params:oe}},ce=["tabListContainer"],Ae=["tabList"],Fe=["tabListInner"],st=["nextPaginator"],yt=["previousPaginator"],Gt=["tabBodyWrapper"],sn=["tabHeader"];function oi(Ce,oe){}function Lr(Ce,oe){if(1&Ce&&C.YNc(0,oi,0,0,"ng-template",10),2&Ce){const j=C.oxw().$implicit;C.Q6J("cdkPortalOutlet",j.templateLabel)}}function Ai(Ce,oe){if(1&Ce&&C._uU(0),2&Ce){const j=C.oxw().$implicit;C.Oqu(j.textLabel)}}function ei(Ce,oe){if(1&Ce){const j=C.EpF();C.TgZ(0,"div",6),C.NdJ("click",function(){const me=C.CHM(j),je=me.$implicit,gt=me.index,xt=C.oxw(),Nt=C.MAs(1);return C.KtG(xt._handleClick(je,Nt,gt))})("cdkFocusChange",function(me){const gt=C.CHM(j).index,xt=C.oxw();return C.KtG(xt._tabFocusChanged(me,gt))}),C.TgZ(1,"div",7),C.YNc(2,Lr,1,1,"ng-template",8),C.YNc(3,Ai,1,1,"ng-template",null,9,C.W1O),C.qZA()()}if(2&Ce){const j=oe.$implicit,ee=oe.index,me=C.MAs(4),je=C.oxw();C.ekj("mat-tab-label-active",je.selectedIndex===ee),C.Q6J("id",je._getTabLabelId(ee))("ngClass",j.labelClass)("disabled",j.disabled)("matRippleDisabled",j.disabled||je.disableRipple),C.uIk("tabIndex",je._getTabIndex(j,ee))("aria-posinset",ee+1)("aria-setsize",je._tabs.length)("aria-controls",je._getTabContentId(ee))("aria-selected",je.selectedIndex===ee)("aria-label",j.ariaLabel||null)("aria-labelledby",!j.ariaLabel&&j.ariaLabelledby?j.ariaLabelledby:null),C.xp6(2),C.Q6J("ngIf",j.templateLabel)("ngIfElse",me)}}function ct(Ce,oe){if(1&Ce){const j=C.EpF();C.TgZ(0,"mat-tab-body",11),C.NdJ("_onCentered",function(){C.CHM(j);const me=C.oxw();return C.KtG(me._removeTabBodyWrapperHeight())})("_onCentering",function(me){C.CHM(j);const je=C.oxw();return C.KtG(je._setTabBodyWrapperHeight(me))}),C.qZA()}if(2&Ce){const j=oe.$implicit,ee=oe.index,me=C.oxw();C.ekj("mat-tab-body-active",me.selectedIndex===ee),C.Q6J("id",me._getTabContentId(ee))("ngClass",j.bodyClass)("content",j.content)("position",j.position)("origin",j.origin)("animationDuration",me.animationDuration)("preserveContent",me.preserveContent),C.uIk("tabindex",null!=me.contentTabIndex&&me.selectedIndex===ee?me.contentTabIndex:null)("aria-labelledby",me._getTabLabelId(ee))}}const ln=new C.OlP("MatInkBarPositioner",{providedIn:"root",factory:function On(){return oe=>({left:oe?(oe.offsetLeft||0)+"px":"0",width:oe?(oe.offsetWidth||0)+"px":"0"})}});let zn=(()=>{class Ce{constructor(j,ee,me,je){this._elementRef=j,this._ngZone=ee,this._inkBarPositioner=me,this._animationMode=je}alignToElement(j){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe((0,q.q)(1)).subscribe(()=>{const ee=this._inkBarPositioner(j),me=this._elementRef.nativeElement;me.style.left=ee.left,me.style.width=ee.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.Y36(C.SBq),C.Y36(C.R0b),C.Y36(ln),C.Y36(C.QbO,8))},Ce.\u0275dir=C.lG2({type:Ce,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(j,ee){2&j&&C.ekj("_mat-animation-noopable","NoopAnimations"===ee._animationMode)}}),Ce})();const _n=new C.OlP("MatTabContent"),Zt=new C.OlP("MatTabLabel"),Wn=new C.OlP("MAT_TAB");let ai=(()=>{class Ce extends A{constructor(j,ee,me){super(j,ee),this._closestTab=me}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.Y36(C.Rgc),C.Y36(C.s_b),C.Y36(Wn,8))},Ce.\u0275dir=C.lG2({type:Ce,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[C._Bn([{provide:Zt,useExisting:Ce}]),C.qOj]}),Ce})();const kt=(0,Y.Id)(class{}),Bi=new C.OlP("MAT_TAB_GROUP");let li=(()=>{class Ce extends kt{constructor(j,ee){super(),this._viewContainerRef=j,this._closestTabGroup=ee,this.textLabel="",this._contentPortal=null,this._stateChanges=new Qe.xQ,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(j){this._setTemplateLabelInput(j)}get content(){return this._contentPortal}ngOnChanges(j){(j.hasOwnProperty("textLabel")||j.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new s(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(j){j&&j._closestTab===this&&(this._templateLabel=j)}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.Y36(C.s_b),C.Y36(Bi,8))},Ce.\u0275cmp=C.Xpm({type:Ce,selectors:[["mat-tab"]],contentQueries:function(j,ee,me){if(1&j&&(C.Suo(me,Zt,5),C.Suo(me,_n,7,C.Rgc)),2&j){let je;C.iGM(je=C.CRH())&&(ee.templateLabel=je.first),C.iGM(je=C.CRH())&&(ee._explicitContent=je.first)}},viewQuery:function(j,ee){if(1&j&&C.Gf(C.Rgc,7),2&j){let me;C.iGM(me=C.CRH())&&(ee._implicitContent=me.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[C._Bn([{provide:Wn,useExisting:Ce}]),C.qOj,C.TTD],ngContentSelectors:Jn,decls:1,vars:0,template:function(j,ee){1&j&&(C.F$t(),C.YNc(0,si,1,0,"ng-template"))},encapsulation:2}),Ce})();const sr={translateTab:(0,dt.X$)("translateTab",[(0,dt.SB)("center, void, left-origin-center, right-origin-center",(0,dt.oB)({transform:"none"})),(0,dt.SB)("left",(0,dt.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,dt.SB)("right",(0,dt.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,dt.eR)("* => left, * => right, left => center, right => center",(0,dt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,dt.eR)("void => left-origin-center",[(0,dt.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,dt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,dt.eR)("void => right-origin-center",[(0,dt.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,dt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Ri=(()=>{class Ce extends g{constructor(j,ee,me,je){super(j,ee,je),this._host=me,this._centeringSub=Ye.w.EMPTY,this._leavingSub=Ye.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,J.O)(this._host._isCenterPosition(this._host._position))).subscribe(j=>{j&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.Y36(C._Vd),C.Y36(C.s_b),C.Y36((0,C.Gpc)(()=>yr)),C.Y36(c.K0))},Ce.\u0275dir=C.lG2({type:Ce,selectors:[["","matTabBodyHost",""]],features:[C.qOj]}),Ce})(),yn=(()=>{class Ce{constructor(j,ee,me){this._elementRef=j,this._dir=ee,this._dirChangeSubscription=Ye.w.EMPTY,this._translateTabComplete=new Qe.xQ,this._onCentering=new C.vpe,this._beforeCentering=new C.vpe,this._afterLeavingCenter=new C.vpe,this._onCentered=new C.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,ee&&(this._dirChangeSubscription=ee.change.subscribe(je=>{this._computePositionAnimationState(je),me.markForCheck()})),this._translateTabComplete.pipe((0,ae.x)((je,gt)=>je.fromState===gt.fromState&&je.toState===gt.toState)).subscribe(je=>{this._isCenterPosition(je.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(je.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(j){this._positionIndex=j,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(j){const ee=this._isCenterPosition(j.toState);this._beforeCentering.emit(ee),ee&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(j){return"center"==j||"left-origin-center"==j||"right-origin-center"==j}_computePositionAnimationState(j=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==j?"left":"right":this._positionIndex>0?"ltr"==j?"right":"left":"center"}_computePositionFromOrigin(j){const ee=this._getLayoutDirection();return"ltr"==ee&&j<=0||"rtl"==ee&&j>0?"left-origin-center":"right-origin-center"}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.Y36(C.SBq),C.Y36(qt.Is,8),C.Y36(C.sBO))},Ce.\u0275dir=C.lG2({type:Ce,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),Ce})(),yr=(()=>{class Ce extends yn{constructor(j,ee,me){super(j,ee,me)}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.Y36(C.SBq),C.Y36(qt.Is,8),C.Y36(C.sBO))},Ce.\u0275cmp=C.Xpm({type:Ce,selectors:[["mat-tab-body"]],viewQuery:function(j,ee){if(1&j&&C.Gf(g,5),2&j){let me;C.iGM(me=C.CRH())&&(ee._portalHost=me.first)}},hostAttrs:[1,"mat-tab-body"],features:[C.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(j,ee){1&j&&(C.TgZ(0,"div",0,1),C.NdJ("@translateTab.start",function(je){return ee._onTranslateTabStarted(je)})("@translateTab.done",function(je){return ee._translateTabComplete.next(je)}),C.YNc(2,hi,0,0,"ng-template",2),C.qZA()),2&j&&C.Q6J("@translateTab",C.WLB(3,he,ee._position,C.VKq(1,Le,ee.animationDuration)))},dependencies:[Ri],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[sr.translateTab]}}),Ce})();const Li=new C.OlP("MAT_TABS_CONFIG"),yi=(0,Y.Id)(class{});let or=(()=>{class Ce extends yi{constructor(j){super(),this.elementRef=j}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.Y36(C.SBq))},Ce.\u0275dir=C.lG2({type:Ce,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(j,ee){2&j&&(C.uIk("aria-disabled",!!ee.disabled),C.ekj("mat-tab-disabled",ee.disabled))},inputs:{disabled:"disabled"},features:[C.qOj]}),Ce})();const ar=(0,_t.i$)({passive:!0});let qi=(()=>{class Ce{constructor(j,ee,me,je,gt,xt,Nt){this._elementRef=j,this._changeDetectorRef=ee,this._viewportRuler=me,this._dir=je,this._ngZone=gt,this._platform=xt,this._animationMode=Nt,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Qe.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Qe.xQ,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new C.vpe,this.indexFocused=new C.vpe,gt.runOutsideAngular(()=>{(0,Se.R)(j.nativeElement,"mouseleave").pipe((0,se.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(j){this._disablePagination=(0,Pt.Ig)(j)}get selectedIndex(){return this._selectedIndex}set selectedIndex(j){j=(0,Pt.su)(j),this._selectedIndex!=j&&(this._selectedIndexChanged=!0,this._selectedIndex=j,this._keyManager&&this._keyManager.updateActiveItem(j))}ngAfterViewInit(){(0,Se.R)(this._previousPaginator.nativeElement,"touchstart",ar).pipe((0,se.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,Se.R)(this._nextPaginator.nativeElement,"touchstart",ar).pipe((0,se.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const j=this._dir?this._dir.change:(0,ie.of)("ltr"),ee=this._viewportRuler.change(150),me=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new D.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,q.q)(1)).subscribe(me),(0,Ne.T)(j,ee,this._items.changes,this._itemsResized()).pipe((0,se.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),me()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,se.R)(this._destroyed)).subscribe(je=>{this.indexFocused.emit(je),this._setTabFocus(je)})}_itemsResized(){return"function"!=typeof ResizeObserver?Pe.E:this._items.changes.pipe((0,J.O)(this._items),ne(j=>new tt.y(ee=>this._ngZone.runOutsideAngular(()=>{const me=new ResizeObserver(je=>ee.next(je));return j.forEach(je=>me.observe(je.elementRef.nativeElement)),()=>{me.disconnect()}}))),(0,Ue.T)(1),(0,ze.h)(j=>j.some(ee=>ee.contentRect.width>0&&ee.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(j){if(!(0,Xn.Vb)(j))switch(j.keyCode){case Xn.K5:case Xn.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(j));break;default:this._keyManager.onKeydown(j)}}_onContentChanges(){const j=this._elementRef.nativeElement.textContent;j!==this._currentTextContent&&(this._currentTextContent=j||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(j){!this._isValidIndex(j)||this.focusIndex===j||!this._keyManager||this._keyManager.setActiveItem(j)}_isValidIndex(j){if(!this._items)return!0;const ee=this._items?this._items.toArray()[j]:null;return!!ee&&!ee.disabled}_setTabFocus(j){if(this._showPaginationControls&&this._scrollToLabel(j),this._items&&this._items.length){this._items.toArray()[j].focus();const ee=this._tabListContainer.nativeElement;ee.scrollLeft="ltr"==this._getLayoutDirection()?0:ee.scrollWidth-ee.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const j=this.scrollDistance,ee="ltr"===this._getLayoutDirection()?-j:j;this._tabList.nativeElement.style.transform=`translateX(${Math.round(ee)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(j){this._scrollTo(j)}_scrollHeader(j){return this._scrollTo(this._scrollDistance+("before"==j?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(j){this._stopInterval(),this._scrollHeader(j)}_scrollToLabel(j){if(this.disablePagination)return;const ee=this._items?this._items.toArray()[j]:null;if(!ee)return;const me=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:je,offsetWidth:gt}=ee.elementRef.nativeElement;let xt,Nt;"ltr"==this._getLayoutDirection()?(xt=je,Nt=xt+gt):(Nt=this._tabListInner.nativeElement.offsetWidth-je,xt=Nt-gt);const In=this.scrollDistance,Oi=this.scrollDistance+me;xt<In?this.scrollDistance-=In-xt+60:Nt>Oi&&(this.scrollDistance+=Nt-Oi+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const j=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;j||(this.scrollDistance=0),j!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=j}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const j=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,ee=j?j.elementRef.nativeElement:null;ee?this._inkBar.alignToElement(ee):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(j,ee){ee&&null!=ee.button&&0!==ee.button||(this._stopInterval(),bt(650,100).pipe((0,se.R)((0,Ne.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:me,distance:je}=this._scrollHeader(j);(0===je||je>=me)&&this._stopInterval()}))}_scrollTo(j){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const ee=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(ee,j)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:ee,distance:this._scrollDistance}}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Xt),C.Y36(qt.Is,8),C.Y36(C.R0b),C.Y36(_t.t4),C.Y36(C.QbO,8))},Ce.\u0275dir=C.lG2({type:Ce,inputs:{disablePagination:"disablePagination"}}),Ce})(),Vi=(()=>{class Ce extends qi{constructor(j,ee,me,je,gt,xt,Nt){super(j,ee,me,je,gt,xt,Nt),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(j){this._disableRipple=(0,Pt.Ig)(j)}_itemSelected(j){j.preventDefault()}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Xt),C.Y36(qt.Is,8),C.Y36(C.R0b),C.Y36(_t.t4),C.Y36(C.QbO,8))},Ce.\u0275dir=C.lG2({type:Ce,inputs:{disableRipple:"disableRipple"},features:[C.qOj]}),Ce})(),Sn=(()=>{class Ce extends Vi{constructor(j,ee,me,je,gt,xt,Nt){super(j,ee,me,je,gt,xt,Nt)}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Xt),C.Y36(qt.Is,8),C.Y36(C.R0b),C.Y36(_t.t4),C.Y36(C.QbO,8))},Ce.\u0275cmp=C.Xpm({type:Ce,selectors:[["mat-tab-header"]],contentQueries:function(j,ee,me){if(1&j&&C.Suo(me,or,4),2&j){let je;C.iGM(je=C.CRH())&&(ee._items=je)}},viewQuery:function(j,ee){if(1&j&&(C.Gf(zn,7),C.Gf(ce,7),C.Gf(Ae,7),C.Gf(Fe,7),C.Gf(st,5),C.Gf(yt,5)),2&j){let me;C.iGM(me=C.CRH())&&(ee._inkBar=me.first),C.iGM(me=C.CRH())&&(ee._tabListContainer=me.first),C.iGM(me=C.CRH())&&(ee._tabList=me.first),C.iGM(me=C.CRH())&&(ee._tabListInner=me.first),C.iGM(me=C.CRH())&&(ee._nextPaginator=me.first),C.iGM(me=C.CRH())&&(ee._previousPaginator=me.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(j,ee){2&j&&C.ekj("mat-tab-header-pagination-controls-enabled",ee._showPaginationControls)("mat-tab-header-rtl","rtl"==ee._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[C.qOj],ngContentSelectors:Jn,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(j,ee){1&j&&(C.F$t(),C.TgZ(0,"button",0,1),C.NdJ("click",function(){return ee._handlePaginatorClick("before")})("mousedown",function(je){return ee._handlePaginatorPress("before",je)})("touchend",function(){return ee._stopInterval()}),C._UZ(2,"div",2),C.qZA(),C.TgZ(3,"div",3,4),C.NdJ("keydown",function(je){return ee._handleKeydown(je)}),C.TgZ(5,"div",5,6),C.NdJ("cdkObserveContent",function(){return ee._onContentChanges()}),C.TgZ(7,"div",7,8),C.Hsn(9),C.qZA(),C._UZ(10,"mat-ink-bar"),C.qZA()(),C.TgZ(11,"button",9,10),C.NdJ("mousedown",function(je){return ee._handlePaginatorPress("after",je)})("click",function(){return ee._handlePaginatorClick("after")})("touchend",function(){return ee._stopInterval()}),C._UZ(13,"div",2),C.qZA()),2&j&&(C.ekj("mat-tab-header-pagination-disabled",ee._disableScrollBefore),C.Q6J("matRippleDisabled",ee._disableScrollBefore||ee.disableRipple)("disabled",ee._disableScrollBefore||null),C.xp6(5),C.ekj("_mat-animation-noopable","NoopAnimations"===ee._animationMode),C.xp6(6),C.ekj("mat-tab-header-pagination-disabled",ee._disableScrollAfter),C.Q6J("matRippleDisabled",ee._disableScrollAfter||ee.disableRipple)("disabled",ee._disableScrollAfter||null))},dependencies:[Y.wG,$.wD,zn],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}"],encapsulation:2}),Ce})(),fi=0;class Cn{}const us=(0,Y.pj)((0,Y.Kr)(class{constructor(Ce){this._elementRef=Ce}}),"primary");let An=(()=>{class Ce extends us{constructor(j,ee,me,je){super(j),this._changeDetectorRef=ee,this._animationMode=je,this._tabs=new C.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Ye.w.EMPTY,this._tabLabelSubscription=Ye.w.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new C.vpe,this.focusChange=new C.vpe,this.animationDone=new C.vpe,this.selectedTabChange=new C.vpe(!0),this._groupId=fi++,this.animationDuration=me&&me.animationDuration?me.animationDuration:"500ms",this.disablePagination=!(!me||null==me.disablePagination)&&me.disablePagination,this.dynamicHeight=!(!me||null==me.dynamicHeight)&&me.dynamicHeight,this.contentTabIndex=me?.contentTabIndex??null,this.preserveContent=!!me?.preserveContent}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(j){this._dynamicHeight=(0,Pt.Ig)(j)}get selectedIndex(){return this._selectedIndex}set selectedIndex(j){this._indexToSelect=(0,Pt.su)(j,null)}get animationDuration(){return this._animationDuration}set animationDuration(j){this._animationDuration=/^\d+$/.test(j+"")?j+"ms":j}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(j){this._contentTabIndex=(0,Pt.su)(j,null)}get disablePagination(){return this._disablePagination}set disablePagination(j){this._disablePagination=(0,Pt.Ig)(j)}get preserveContent(){return this._preserveContent}set preserveContent(j){this._preserveContent=(0,Pt.Ig)(j)}get backgroundColor(){return this._backgroundColor}set backgroundColor(j){const ee=this._elementRef.nativeElement;ee.classList.remove(`mat-background-${this.backgroundColor}`),j&&ee.classList.add(`mat-background-${j}`),this._backgroundColor=j}ngAfterContentChecked(){const j=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=j){const ee=null==this._selectedIndex;if(!ee){this.selectedTabChange.emit(this._createChangeEvent(j));const me=this._tabBodyWrapper.nativeElement;me.style.minHeight=me.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((me,je)=>me.isActive=je===j),ee||(this.selectedIndexChange.emit(j),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((ee,me)=>{ee.position=me-j,null!=this._selectedIndex&&0==ee.position&&!ee.origin&&(ee.origin=j-this._selectedIndex)}),this._selectedIndex!==j&&(this._selectedIndex=j,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const j=this._clampTabIndex(this._indexToSelect);if(j===this._selectedIndex){const ee=this._tabs.toArray();let me;for(let je=0;je<ee.length;je++)if(ee[je].isActive){this._indexToSelect=this._selectedIndex=je,this._lastFocusedTabIndex=null,me=ee[je];break}!me&&ee[j]&&Promise.resolve().then(()=>{ee[j].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(j))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,J.O)(this._allTabs)).subscribe(j=>{this._tabs.reset(j.filter(ee=>ee._closestTabGroup===this||!ee._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(j){const ee=this._tabHeader;ee&&(ee.focusIndex=j)}_focusChanged(j){this._lastFocusedTabIndex=j,this.focusChange.emit(this._createChangeEvent(j))}_createChangeEvent(j){const ee=new Cn;return ee.index=j,this._tabs&&this._tabs.length&&(ee.tab=this._tabs.toArray()[j]),ee}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Ne.T)(...this._tabs.map(j=>j._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(j){return Math.min(this._tabs.length-1,Math.max(j||0,0))}_getTabLabelId(j){return`mat-tab-label-${this._groupId}-${j}`}_getTabContentId(j){return`mat-tab-content-${this._groupId}-${j}`}_setTabBodyWrapperHeight(j){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const ee=this._tabBodyWrapper.nativeElement;ee.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(ee.style.height=j+"px")}_removeTabBodyWrapperHeight(){const j=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=j.clientHeight,j.style.height="",this.animationDone.emit()}_handleClick(j,ee,me){j.disabled||(this.selectedIndex=ee.focusIndex=me)}_getTabIndex(j,ee){return j.disabled?null:ee===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(j,ee){j&&"mouse"!==j&&"touch"!==j&&(this._tabHeader.focusIndex=ee)}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Li,8),C.Y36(C.QbO,8))},Ce.\u0275dir=C.lG2({type:Ce,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[C.qOj]}),Ce})(),Bn=(()=>{class Ce extends An{constructor(j,ee,me,je){super(j,ee,me,je)}}return Ce.\u0275fac=function(j){return new(j||Ce)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Li,8),C.Y36(C.QbO,8))},Ce.\u0275cmp=C.Xpm({type:Ce,selectors:[["mat-tab-group"]],contentQueries:function(j,ee,me){if(1&j&&C.Suo(me,li,5),2&j){let je;C.iGM(je=C.CRH())&&(ee._allTabs=je)}},viewQuery:function(j,ee){if(1&j&&(C.Gf(Gt,5),C.Gf(sn,5)),2&j){let me;C.iGM(me=C.CRH())&&(ee._tabBodyWrapper=me.first),C.iGM(me=C.CRH())&&(ee._tabHeader=me.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(j,ee){2&j&&C.ekj("mat-tab-group-dynamic-height",ee.dynamicHeight)("mat-tab-group-inverted-header","below"===ee.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[C._Bn([{provide:Bi,useExisting:Ce}]),C.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(j,ee){1&j&&(C.TgZ(0,"mat-tab-header",0,1),C.NdJ("indexFocused",function(je){return ee._focusChanged(je)})("selectFocusedIndex",function(je){return ee.selectedIndex=je}),C.YNc(2,ei,5,15,"div",2),C.qZA(),C.TgZ(3,"div",3,4),C.YNc(5,ct,1,11,"mat-tab-body",5),C.qZA()),2&j&&(C.Q6J("selectedIndex",ee.selectedIndex||0)("disableRipple",ee.disableRipple)("disablePagination",ee.disablePagination),C.xp6(2),C.Q6J("ngForOf",ee._tabs),C.xp6(1),C.ekj("_mat-animation-noopable","NoopAnimations"===ee._animationMode),C.xp6(2),C.Q6J("ngForOf",ee._tabs))},dependencies:[c.mk,c.sg,c.O5,g,Y.wG,D.kH,or,yr,Sn],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2}),Ce})(),Zi=(()=>{class Ce{}return Ce.\u0275fac=function(j){return new(j||Ce)},Ce.\u0275mod=C.oAB({type:Ce}),Ce.\u0275inj=C.cJS({imports:[c.ez,Y.BQ,V,Y.si,$.Q8,D.rt,Y.BQ]}),Ce})()}},it=>{it(it.s=977)}]);