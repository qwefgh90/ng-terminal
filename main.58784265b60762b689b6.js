(self.webpackChunkng_terminal_workspace=self.webpackChunkng_terminal_workspace||[]).push([[179],{4567:(ut,Ve,W)=>{"use strict";W.d(Ve,{vd:()=>It,Eo:()=>kn,qZ:()=>gn});var tt,_=W(7716),P=W(2217),u=W(3891),v=W(9765),S=[],b="ResizeObserver loop completed with undelivered notifications.",C=(()=>{return(me=C||(C={})).BORDER_BOX="border-box",me.CONTENT_BOX="content-box",me.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box",C;var me})(),D=function(me){return Object.freeze(me)},g=function(be,le){this.inlineSize=be,this.blockSize=le,D(this)},l=function(){function me(be,le,Re,Qe){return this.x=be,this.y=le,this.width=Re,this.height=Qe,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,D(this)}return me.prototype.toJSON=function(){var be=this;return{x:be.x,y:be.y,top:be.top,right:be.right,bottom:be.bottom,left:be.left,width:be.width,height:be.height}},me.fromRect=function(be){return new me(be.x,be.y,be.width,be.height)},me}(),m=function(me){return me instanceof SVGElement&&"getBBox"in me},c=function(me){if(m(me)){var be=me.getBBox();return!be.width&&!be.height}return!(me.offsetWidth||me.offsetHeight||me.getClientRects().length)},f=function(me){var be;if(me instanceof Element)return!0;var le=null===(be=null==me?void 0:me.ownerDocument)||void 0===be?void 0:be.defaultView;return!!(le&&me instanceof le.Element)},k="undefined"!=typeof window?window:{},H=new WeakMap,Y=/auto|scroll/,N=/^tb|vertical/,B=/msie|trident/i.test(k.navigator&&k.navigator.userAgent),te=function(me){return parseFloat(me||"0")},Ee=function(me,be,le){return void 0===me&&(me=0),void 0===be&&(be=0),void 0===le&&(le=!1),new g((le?be:me)||0,(le?me:be)||0)},ue=D({devicePixelContentBoxSize:Ee(),borderBoxSize:Ee(),contentBoxSize:Ee(),contentRect:new l(0,0,0,0)}),V=function(me,be){if(void 0===be&&(be=!1),H.has(me)&&!be)return H.get(me);if(c(me))return H.set(me,ue),ue;var le=getComputedStyle(me),Re=m(me)&&me.ownerSVGElement&&me.getBBox(),Qe=!B&&"border-box"===le.boxSizing,He=N.test(le.writingMode||""),Ye=!Re&&Y.test(le.overflowY||""),_e=!Re&&Y.test(le.overflowX||""),ve=Re?0:te(le.paddingTop),ne=Re?0:te(le.paddingRight),Te=Re?0:te(le.paddingBottom),je=Re?0:te(le.paddingLeft),vt=Re?0:te(le.borderTopWidth),gt=Re?0:te(le.borderRightWidth),Mt=Re?0:te(le.borderBottomWidth),ri=je+ne,si=ve+Te,Xn=(Re?0:te(le.borderLeftWidth))+gt,Un=vt+Mt,Yn=_e?me.offsetHeight-Un-me.clientHeight:0,qn=Ye?me.offsetWidth-Xn-me.clientWidth:0,ei=Qe?ri+Xn:0,In=Qe?si+Un:0,gi=Re?Re.width:te(le.width)-ei-qn,Fn=Re?Re.height:te(le.height)-In-Yn,hn=gi+ri+qn+Xn,mi=Fn+si+Yn+Un,Qn=D({devicePixelContentBoxSize:Ee(Math.round(gi*devicePixelRatio),Math.round(Fn*devicePixelRatio),He),borderBoxSize:Ee(hn,mi,He),contentBoxSize:Ee(gi,Fn,He),contentRect:new l(je,ve,gi,Fn)});return H.set(me,Qn),Qn},Z=function(me,be,le){var Re=V(me,le),Qe=Re.borderBoxSize,He=Re.contentBoxSize,Ye=Re.devicePixelContentBoxSize;switch(be){case C.DEVICE_PIXEL_CONTENT_BOX:return Ye;case C.BORDER_BOX:return Qe;default:return He}},$=function(be){var le=V(be);this.target=be,this.contentRect=le.contentRect,this.borderBoxSize=D([le.borderBoxSize]),this.contentBoxSize=D([le.contentBoxSize]),this.devicePixelContentBoxSize=D([le.devicePixelContentBoxSize])},re=function(me){if(c(me))return 1/0;for(var be=0,le=me.parentNode;le;)be+=1,le=le.parentNode;return be},Se=function(){var me=1/0,be=[];S.forEach(function(Ye){if(0!==Ye.activeTargets.length){var _e=[];Ye.activeTargets.forEach(function(ne){var Te=new $(ne.target),je=re(ne.target);_e.push(Te),ne.lastReportedSize=Z(ne.target,ne.observedBox),je<me&&(me=je)}),be.push(function(){Ye.callback.call(Ye.observer,_e,Ye.observer)}),Ye.activeTargets.splice(0,Ye.activeTargets.length)}});for(var le=0,Re=be;le<Re.length;le++)(0,Re[le])();return me},qe=function(me){S.forEach(function(le){le.activeTargets.splice(0,le.activeTargets.length),le.skippedTargets.splice(0,le.skippedTargets.length),le.observationTargets.forEach(function(Qe){Qe.isActive()&&(re(Qe.target)>me?le.activeTargets.push(Qe):le.skippedTargets.push(Qe))})})},lt=[],Pe=0,Xe={attributes:!0,characterData:!0,childList:!0,subtree:!0},nt=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],pt=function(me){return void 0===me&&(me=0),Date.now()+me},et=!1,Et=new(function(){function me(){var be=this;this.stopped=!0,this.listener=function(){return be.schedule()}}return me.prototype.run=function(be){var le=this;if(void 0===be&&(be=250),!et){et=!0;var Re=pt(be);!function(me){!function(me){if(!tt){var be=0,le=document.createTextNode("");new MutationObserver(function(){return lt.splice(0).forEach(function(me){return me()})}).observe(le,{characterData:!0}),tt=function(){le.textContent="".concat(be?be--:be++)}}lt.push(me),tt()}(function(){requestAnimationFrame(me)})}(function(){var Qe=!1;try{Qe=function(){var me=0;for(qe(me);S.some(function(me){return me.activeTargets.length>0});)me=Se(),qe(me);return S.some(function(me){return me.skippedTargets.length>0})&&function(){var me;"function"==typeof ErrorEvent?me=new ErrorEvent("error",{message:b}):((me=document.createEvent("Event")).initEvent("error",!1,!1),me.message=b),window.dispatchEvent(me)}(),me>0}()}finally{if(et=!1,be=Re-pt(),!Pe)return;Qe?le.run(1e3):be>0?le.run(be):le.start()}})}},me.prototype.schedule=function(){this.stop(),this.run()},me.prototype.observe=function(){var be=this,le=function(){return be.observer&&be.observer.observe(document.body,Xe)};document.body?le():k.addEventListener("DOMContentLoaded",le)},me.prototype.start=function(){var be=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),nt.forEach(function(le){return k.addEventListener(le,be.listener,!0)}))},me.prototype.stop=function(){var be=this;this.stopped||(this.observer&&this.observer.disconnect(),nt.forEach(function(le){return k.removeEventListener(le,be.listener,!0)}),this.stopped=!0)},me}()),pn=function(me){!Pe&&me>0&&Et.start(),!(Pe+=me)&&Et.stop()},Mn=function(){function me(be,le){this.target=be,this.observedBox=le||C.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return me.prototype.isActive=function(){var be=Z(this.target,this.observedBox,!0);return function(me){return!m(me)&&!function(me){switch(me.tagName){case"INPUT":if("image"!==me.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(me)&&"inline"===getComputedStyle(me).display}(this.target)&&(this.lastReportedSize=be),this.lastReportedSize.inlineSize!==be.inlineSize||this.lastReportedSize.blockSize!==be.blockSize},me}(),En=function(be,le){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=be,this.callback=le},rn=new WeakMap,Kt=function(me,be){for(var le=0;le<me.length;le+=1)if(me[le].target===be)return le;return-1},_n=function(){function me(){}return me.connect=function(be,le){var Re=new En(be,le);rn.set(be,Re)},me.observe=function(be,le,Re){var Qe=rn.get(be),He=0===Qe.observationTargets.length;Kt(Qe.observationTargets,le)<0&&(He&&S.push(Qe),Qe.observationTargets.push(new Mn(le,Re&&Re.box)),pn(1),Et.schedule())},me.unobserve=function(be,le){var Re=rn.get(be),Qe=Kt(Re.observationTargets,le);Qe>=0&&(1===Re.observationTargets.length&&S.splice(S.indexOf(Re),1),Re.observationTargets.splice(Qe,1),pn(-1))},me.disconnect=function(be){var le=this,Re=rn.get(be);Re.observationTargets.slice().forEach(function(Qe){return le.unobserve(be,Qe.target)}),Re.activeTargets.splice(0,Re.activeTargets.length)},me}(),yt=function(){function me(be){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof be)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");_n.connect(this,be)}return me.prototype.observe=function(be,le){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!f(be))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");_n.observe(this,be,le)},me.prototype.unobserve=function(be){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!f(be))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");_n.unobserve(this,be)},me.prototype.disconnect=function(){_n.disconnect(this)},me.toString=function(){return"function ResizeObserver () { [polyfill code] }"},me}(),Xt=W(8583),Sn=W(6682),vn=W(7574),Je=W(2759),At=W(3342),ze=W(3522),rt=W(9773),Ut=W(8573),Ct=W(8002),it=W(9328),bt=W(5435),Jt=W(6782);const bn="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function Yt(me,be,le,Re){const Qe=be.querySelectorAll(me);if(Qe.length){const He=le.querySelectorAll(me);for(let Ye=0;Ye<Qe.length;Ye++)Re(Qe[Ye],He[Ye])}}let an=0;function Dn(me,be){"file"!==be.type&&(be.value=me.value),"radio"===be.type&&be.name&&(be.name=`mat-clone-${be.name}-${an++}`)}function Vt(me,be){const le=be.getContext("2d");if(le)try{le.drawImage(me,0,0)}catch(Re){}}function Bt(me,be,le,Re){const Qe={top:me.top,bottom:me.bottom,left:me.left,right:me.right};return be.top&&(Qe.top+=Re),be.bottom&&(Qe.bottom+=Re),be.left&&(Qe.left+=le),be.right&&(Qe.right+=le),Qe.height=Qe.bottom-Qe.top,Qe.width=Qe.right-Qe.left,Qe}const jn=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function An(me,be){return me.left&&me.top?be.topLeft:me.right&&me.top?be.topRight:me.left&&me.bottom?be.bottomLeft:me.right&&me.bottom?be.bottomRight:me.left||me.right?be.leftOrRight:me.top||me.bottom?be.topOrBottom:""}function ln({edges:me,initialRectangle:be,newRectangle:le}){const Re={};return Object.keys(me).forEach(Qe=>{Re[Qe]=(le[Qe]||0)-(be[Qe]||0)}),Re}const Oe="resize-active";let Ie=(()=>{class me{constructor(le,Re,Qe,He){this.platformId=le,this.renderer=Re,this.elm=Qe,this.zone=He,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=jn,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new _.vpe,this.resizing=new _.vpe,this.resizeEnd=new _.vpe,this.mouseup=new v.xQ,this.mousedown=new v.xQ,this.mousemove=new v.xQ,this.destroy$=new v.xQ,this.pointerEventListeners=ft.getInstance(Re,He)}ngOnInit(){const le=(0,Sn.T)(this.pointerEventListeners.pointerDown,this.mousedown),Re=(0,Sn.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,At.b)(({event:ne})=>{if(He)try{ne.preventDefault()}catch(Te){}}),(0,ze.B)()),Qe=(0,Sn.T)(this.pointerEventListeners.pointerUp,this.mouseup);let He;const Ye=()=>{He&&He.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(He.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},_e=()=>Object.assign(Object.assign({},jn),this.resizeCursors);le.pipe((0,rt.zg)(ne=>{function Te(gt){return{clientX:gt.clientX-ne.clientX,clientY:gt.clientY-ne.clientY}}const je=()=>{const gt={x:1,y:1};return He&&(this.resizeSnapGrid.left&&He.edges.left?gt.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&He.edges.right&&(gt.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&He.edges.top?gt.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&He.edges.bottom&&(gt.y=+this.resizeSnapGrid.bottom)),gt};function vt(gt,Mt){return{x:Math.ceil(gt.clientX/Mt.x),y:Math.ceil(gt.clientY/Mt.y)}}return(0,Sn.T)(Re.pipe((0,Ut.q)(1)).pipe((0,Ct.U)(gt=>[,gt])),Re.pipe((0,it.G)())).pipe((0,Ct.U)(([gt,Mt])=>[gt&&Te(gt),Te(Mt)])).pipe((0,bt.h)(([gt,Mt])=>{if(!gt)return!0;const Rt=je(),ri=vt(gt,Rt),si=vt(Mt,Rt);return ri.x!==si.x||ri.y!==si.y})).pipe((0,Ct.U)(([,gt])=>{const Mt=je();return{clientX:Math.round(gt.clientX/Mt.x)*Mt.x,clientY:Math.round(gt.clientY/Mt.y)*Mt.y}})).pipe((0,Jt.R)((0,Sn.T)(Qe,le)))})).pipe((0,bt.h)(()=>!!He)).pipe((0,Ct.U)(({clientX:ne,clientY:Te})=>Bt(He.startingRect,He.edges,ne,Te))).pipe((0,bt.h)(ne=>this.allowNegativeResizes||!!(ne.height&&ne.width&&ne.height>0&&ne.width>0))).pipe((0,bt.h)(ne=>!this.validateResize||this.validateResize({rectangle:ne,edges:ln({edges:He.edges,initialRectangle:He.startingRect,newRectangle:ne})})),(0,Jt.R)(this.destroy$)).subscribe(ne=>{He&&He.clonedNode&&(this.renderer.setStyle(He.clonedNode,"height",`${ne.height}px`),this.renderer.setStyle(He.clonedNode,"width",`${ne.width}px`),this.renderer.setStyle(He.clonedNode,"top",`${ne.top}px`),this.renderer.setStyle(He.clonedNode,"left",`${ne.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:ln({edges:He.edges,initialRectangle:He.startingRect,newRectangle:ne}),rectangle:ne})}),He.currentRect=ne}),le.pipe((0,Ct.U)(({edges:ne})=>ne||{}),(0,bt.h)(ne=>Object.keys(ne).length>0),(0,Jt.R)(this.destroy$)).subscribe(ne=>{He&&Ye();const Te=function(me,be){let le=0,Re=0;const Qe=me.nativeElement.style,Ye=["transform","-ms-transform","-moz-transform","-o-transform"].map(_e=>Qe[_e]).find(_e=>!!_e);if(Ye&&Ye.includes("translate")&&(le=Ye.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),Re=Ye.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===be)return{height:me.nativeElement.offsetHeight,width:me.nativeElement.offsetWidth,top:me.nativeElement.offsetTop-Re,bottom:me.nativeElement.offsetHeight+me.nativeElement.offsetTop-Re,left:me.nativeElement.offsetLeft-le,right:me.nativeElement.offsetWidth+me.nativeElement.offsetLeft-le};{const _e=me.nativeElement.getBoundingClientRect();return{height:_e.height,width:_e.width,top:_e.top-Re,bottom:_e.bottom-Re,left:_e.left-le,right:_e.right-le,scrollTop:me.nativeElement.scrollTop,scrollLeft:me.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);He={edges:ne,startingRect:Te,currentRect:Te};const je=_e(),vt=An(He.edges,je);this.renderer.setStyle(document.body,"cursor",vt),this.setElementClass(this.elm,Oe,!0),this.enableGhostResize&&(He.clonedNode=function(me){const be=me.cloneNode(!0),le=be.querySelectorAll("[id]"),Re=me.nodeName.toLowerCase();return be.removeAttribute("id"),le.forEach(Qe=>{Qe.removeAttribute("id")}),"canvas"===Re?Vt(me,be):("input"===Re||"select"===Re||"textarea"===Re)&&Dn(me,be),Yt("canvas",me,be,Vt),Yt("input, textarea, select",me,be,Dn),be}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(He.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(He.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(He.clonedNode,"left",`${He.startingRect.left}px`),this.renderer.setStyle(He.clonedNode,"top",`${He.startingRect.top}px`),this.renderer.setStyle(He.clonedNode,"height",`${He.startingRect.height}px`),this.renderer.setStyle(He.clonedNode,"width",`${He.startingRect.width}px`),this.renderer.setStyle(He.clonedNode,"cursor",An(He.edges,je)),this.renderer.addClass(He.clonedNode,"resize-ghost-element"),He.clonedNode.scrollTop=He.startingRect.scrollTop,He.clonedNode.scrollLeft=He.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:ln({edges:ne,initialRectangle:Te,newRectangle:Te}),rectangle:Bt(Te,{},0,0)})})}),Qe.pipe((0,Jt.R)(this.destroy$)).subscribe(()=>{He&&(this.renderer.removeClass(this.elm.nativeElement,Oe),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:ln({edges:He.edges,initialRectangle:He.startingRect,newRectangle:He.currentRect}),rectangle:He.currentRect})}),Ye(),He=null)})}ngOnDestroy(){(0,Xt.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(le,Re,Qe){Qe?this.renderer.addClass(le.nativeElement,Re):this.renderer.removeClass(le.nativeElement,Re)}}return me.\u0275fac=function(le){return new(le||me)(_.Y36(_.Lbi),_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(_.R0b))},me.\u0275dir=_.lG2({type:me,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),me})();class ft{constructor(be,le){this.pointerDown=new vn.y(Re=>{let Qe,He;return le.runOutsideAngular(()=>{Qe=be.listen("document","mousedown",Ye=>{Re.next({clientX:Ye.clientX,clientY:Ye.clientY,event:Ye})}),bn&&(He=be.listen("document","touchstart",Ye=>{Re.next({clientX:Ye.touches[0].clientX,clientY:Ye.touches[0].clientY,event:Ye})}))}),()=>{Qe(),bn&&He()}}).pipe((0,ze.B)()),this.pointerMove=new vn.y(Re=>{let Qe,He;return le.runOutsideAngular(()=>{Qe=be.listen("document","mousemove",Ye=>{Re.next({clientX:Ye.clientX,clientY:Ye.clientY,event:Ye})}),bn&&(He=be.listen("document","touchmove",Ye=>{Re.next({clientX:Ye.targetTouches[0].clientX,clientY:Ye.targetTouches[0].clientY,event:Ye})}))}),()=>{Qe(),bn&&He()}}).pipe((0,ze.B)()),this.pointerUp=new vn.y(Re=>{let Qe,He,Ye;return le.runOutsideAngular(()=>{Qe=be.listen("document","mouseup",_e=>{Re.next({clientX:_e.clientX,clientY:_e.clientY,event:_e})}),bn&&(He=be.listen("document","touchend",_e=>{Re.next({clientX:_e.changedTouches[0].clientX,clientY:_e.changedTouches[0].clientY,event:_e})}),Ye=be.listen("document","touchcancel",_e=>{Re.next({clientX:_e.changedTouches[0].clientX,clientY:_e.changedTouches[0].clientY,event:_e})}))}),()=>{Qe(),bn&&(He(),Ye())}}).pipe((0,ze.B)())}static getInstance(be,le){return ft.instance||(ft.instance=new ft(be,le)),ft.instance}}let Zt=(()=>{class me{constructor(le,Re,Qe,He){this.renderer=le,this.element=Re,this.zone=Qe,this.resizableDirective=He,this.resizeEdges={},this.eventListeners={},this.destroy$=new v.xQ}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(le=>{this.onMousedown(le,le.clientX,le.clientY)}),this.listenOnTheHost("mouseup").subscribe(le=>{this.onMouseup(le.clientX,le.clientY)}),bn&&(this.listenOnTheHost("touchstart").subscribe(le=>{this.onMousedown(le,le.touches[0].clientX,le.touches[0].clientY)}),(0,Sn.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(le=>{this.onMouseup(le.changedTouches[0].clientX,le.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(le,Re,Qe){le.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",He=>{this.onMousemove(He,He.targetTouches[0].clientX,He.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",He=>{this.onMousemove(He,He.clientX,He.clientY)})),this.resizable.mousedown.next({clientX:Re,clientY:Qe,edges:this.resizeEdges})}onMouseup(le,Re){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:le,clientY:Re,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(le,Re,Qe){this.resizable.mousemove.next({clientX:Re,clientY:Qe,edges:this.resizeEdges,event:le})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(le=>{this.eventListeners[le](),delete this.eventListeners[le]})}listenOnTheHost(le){return(0,Je.R)(this.element.nativeElement,le).pipe((0,Jt.R)(this.destroy$))}}return me.\u0275fac=function(le){return new(le||me)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(Ie,8))},me.\u0275dir=_.lG2({type:me,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),me})(),un=(()=>{class me{}return me.\u0275fac=function(le){return new(le||me)},me.\u0275mod=_.oAB({type:me}),me.\u0275inj=_.cJS({}),me})(),ke=(()=>{class me{constructor(){}ngOnInit(){}}return me.\u0275fac=function(le){return new(le||me)},me.\u0275cmp=_.Xpm({type:me,selectors:[["global-style"]],decls:0,vars:0,template:function(le,Re){},styles:[".xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:10;color:transparent}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:.5}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{-webkit-text-decoration:double underline;text-decoration:double underline}.xterm-underline-3{-webkit-text-decoration:wavy underline;text-decoration:wavy underline}.xterm-underline-4{-webkit-text-decoration:dotted underline;text-decoration:dotted underline}.xterm-underline-5{-webkit-text-decoration:dashed underline;text-decoration:dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-decoration-overview-ruler{z-index:7;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}\n"],encapsulation:2}),me})();const fe=["terminal"],oe=["resizeBox"],Me=function(me){return{"handle-active":me}},We=function(){return{top:!1}},mt=function(){return{left:!1}},Dt=function(){return{right:!0}},Pt=function(){return{right:!1}},cn=function(){return{bottom:!0}},dn=function(){return{bottom:!1}};let kn=(()=>{class me{constructor(le,Re,Qe){this.renderer=le,this.ref=Re,this.hostRef=Qe,this.keyInputSubject=new v.xQ,this.keyEventSubject=new v.xQ,this.requestRenderFromAPI=new v.xQ,this.allLogsSubject=new v.xQ,this.resizableObservers=[],this.h=Math.max(document.documentElement.clientHeight,window.innerHeight||0),this.paddingSize=5,this.stylesForDiv={display:"block"},this.keyInputEmitter=new _.vpe,this.keyEventEmitter=new _.vpe,this._draggableInput=!1,this._stylesInput={},this.releaseNextOne=()=>{if(!this.interval){let He=this.waitingQueue.splice(0,1);1==He.length&&this.allLogsSubject.next(He[0])}},this.waitingQueue=[],this.requestRenderSubscription=this.requestRenderFromAPI.subscribe(He=>{let Ye=Object.assign({rowChanged:!1,columnChanged:!1},He);this.pushToWaitingQueue(Ye),this.getNextOrWait()})}set _dataSource(le){null!=this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.dataSource=le,this.dataSourceSubscription=this.dataSource.subscribe(Re=>{this.write(Re)})}get _dataSource(){return this.dataSource}set draggable(le){this._draggableInput=le}get draggable(){return this._draggableInput}setMinWidth(le){this._minWidthInput=le}setMinHeight(le){this._minHeightInput=le}setDraggable(le){this._draggableInput=le,this.lastDraggedPosition=void 0,this.ref.markForCheck()}setXtermOptions(le){this._xtermOptions=le,this.requestRenderFromAPI.next({})}setRows(le){this._rowsInput!=le&&(this._rowsInput=le,this.requestRenderFromAPI.next({rowChanged:!0}))}setCols(le){this._colsInput!=le&&(this._colsInput=le,this.requestRenderFromAPI.next({columnChanged:!0}))}setStyle(le){var Re;JSON.stringify(null!==(Re=this._stylesInput)&&void 0!==Re?Re:{})!=JSON.stringify(null!=le?le:{})&&(this._stylesInput=le,this.requestRenderFromAPI.next({}))}getNextOrWait(){this.hostRef.nativeElement.isConnected?this.releaseNextOne():this.stopAndPolling()}pushToWaitingQueue(le){this.waitingQueue.push(le),this.releaseNextOne()}stopAndPolling(){(()=>{if(this.interval)return;const Re=setInterval(()=>{this.hostRef.nativeElement.isConnected&&(clearInterval(Re),this.interval=void 0,this.releaseNextOne())},500);this.interval=Re})()}observableSetup(){this.term.onData(le=>{this.keyInputSubject.next(le)}),this.term.onKey(le=>{this.keyEventSubject.next(le)}),this.keyInputSubjectSubscription=this.keyInputSubject.subscribe(le=>{this.keyInputEmitter.emit(le)}),this.keyEventSubjectSubscription=this.keyEventSubject.subscribe(le=>{this.keyEventEmitter.emit(le)}),this.resizableObservers=[this.observeTerminalDimension(),this.observeHostDimension()],this.allLogsSubjectSubscription=this.allLogsSubject.subscribe(le=>{this.coordinateOuterAndTerminal(le),this.getNextOrWait()}),this.getNextOrWait()}setOuterDimensions(le,Re,Qe,He){this.requestRenderFromAPI.next({rowChanged:!1,columnChanged:!1,dragged:{draggedWidth:`${Qe}px`,draggedHeight:`${He}px`}})}applyStyleToDiv(){Object.keys(this.stylesForDiv).map(le=>({key:le,value:this.stylesForDiv[le]})).forEach(({key:le,value:Re})=>{Re?this.renderer.setStyle(this.resizeBox.nativeElement,le,Re):this.renderer.removeStyle(this.resizeBox.nativeElement,le)}),this.stylesForDiv=this.stylesForDiv}ngOnInit(){}ngAfterViewInit(){this.fitAddon=new u.FitAddon,this.term=new P.Terminal({allowProposedApi:!0}),this.terminalOuter.nativeElement.isConnected?(this.term.open(this.terminalOuter.nativeElement),this.term.loadAddon(this.fitAddon),this.observableSetup(),this.requestRenderFromAPI.next({})):this.lazyContainerCheckHandle=setInterval(()=>{if(this.terminalOuter.nativeElement.isConnected)try{console.debug("The container's been connected."),this.term.open(this.terminalOuter.nativeElement),this.term.loadAddon(this.fitAddon),this.observableSetup(),this.requestRenderFromAPI.next({})}finally{this.lazyContainerCheckHandle&&clearInterval(this.lazyContainerCheckHandle)}},500)}ngOnChanges(le){var Re,Qe,He,Ye;console.group("onChanges"),console.debug("prop: ",le),console.groupEnd(),(null==le?void 0:le._rowsInput)&&(null===(Re=null==le?void 0:le._rowsInput)||void 0===Re?void 0:Re.previousValue)!=(null===(Qe=null==le?void 0:le._rowsInput)||void 0===Qe?void 0:Qe.currentValue)&&this.requestRenderFromAPI.next({rowChanged:!0}),(null==le?void 0:le._colsInput)&&(null===(He=null==le?void 0:le._colsInput)||void 0===He?void 0:He.previousValue)!=(null===(Ye=null==le?void 0:le._colsInput)||void 0===Ye?void 0:Ye.currentValue)&&this.requestRenderFromAPI.next({columnChanged:!0})}coordinateOuterAndTerminal(le){var Re,Qe,He,Ye,_e,ve;console.debug(`changeList: ${JSON.stringify(le)}`),this.term.options=Object.assign({},this._xtermOptions),(null===(Qe=null===(Re=this._xtermOptions)||void 0===Re?void 0:Re.theme)||void 0===Qe?void 0:Qe.background)&&(this.resizeHandleStyleRule||(this.resizeHandleStyleRule=this.findCssStyleRule(".resize-handle[")),this.resizeHandleStyleRule&&(this.resizeHandleStyleRule.style.backgroundColor=this._xtermOptions.theme.background)),(null===(Ye=null===(He=this._xtermOptions)||void 0===He?void 0:He.theme)||void 0===Ye?void 0:Ye.border)&&(this.resizeHandleActiveStyleRule||(this.resizeHandleActiveStyleRule=this.findCssStyleRule(".handle-active")),this.resizeHandleActiveStyleRule&&(this.resizeHandleActiveStyleRule.style.backgroundColor=this._xtermOptions.theme.border)),this.stylesForDiv=Object.assign(Object.assign(Object.assign({},this.stylesForDiv),this._stylesInput),{width:this.stylesForDiv.width,height:this.stylesForDiv.height}),le.dragged?(this.stylesForDiv.width=le.dragged.draggedWidth,this.stylesForDiv.height=le.dragged.draggedHeight,this.lastDraggedPosition={width:le.dragged.draggedWidth,height:le.dragged.draggedHeight}):!this._rowsInput&&!this._colsInput&&!(this.draggable&&this.lastDraggedPosition)&&(this.stylesForDiv.width="100%",this.stylesForDiv.height="100%"),this.applyStyleToDiv(),le.rowChanged||le.columnChanged?this.term.resize(null!==(_e=this._colsInput)&&void 0!==_e?_e:this.term.cols,null!==(ve=this._rowsInput)&&void 0!==ve?ve:this.term.rows):(this.term.element.style.paddingLeft=`${this.paddingSize}px`,this.term.element.style.paddingRight=`${this.paddingSize}px`,this.fitAddon.fit(),this.term.element.style.padding="0px");let ne=this.term.element.getElementsByClassName("xterm-screen")[0],Te=this.term.element.getElementsByClassName("xterm-viewport")[0];const je=ne.clientWidth,vt=ne.clientHeight,Mt=this.underlying._core.viewport.scrollBarWidth;this.renderer.setStyle(Te,"width",`${je+Mt}px`),console.debug(je+Mt+2*this.paddingSize,je,Mt,2*this.paddingSize),console.debug(vt+2*this.paddingSize,vt),this.stylesForDiv=Object.assign(Object.assign({},this.stylesForDiv),{width:`${je+Mt+2*this.paddingSize}px`,height:`${vt+2*this.paddingSize}px`}),this.applyStyleToDiv(),this.ref.markForCheck()}observeTerminalDimension(){let le=this.terminalOuter.nativeElement.querySelector(".xterm-viewport");if(le){const Re=new yt(Qe=>{const He=parseFloat(getComputedStyle(this.terminalOuter.nativeElement).width),Ye=parseFloat(getComputedStyle(this.terminalOuter.nativeElement).height);let _e,ve;for(let ne of Qe)ne.contentBoxSize?ne.target instanceof HTMLElement&&(_e=parseFloat(getComputedStyle(ne.target).width),ve=parseFloat(getComputedStyle(ne.target).height)):(_e=parseFloat(getComputedStyle(ne.target).width),ve=parseFloat(getComputedStyle(ne.target).height));(_e>He||ve>Ye)&&this.requestRenderFromAPI.next({whenTerminalDimensionIsOverOuterDiv:{width:`${_e}px`,height:`${ve}px`}})});return Re.observe(le),Re}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}observeHostDimension(){let le=this.hostRef.nativeElement;if(le){const Re=new yt(Qe=>{let He,Ye;for(let _e of Qe)_e.contentBoxSize?_e.target instanceof HTMLElement&&(He=parseFloat(getComputedStyle(_e.target).width),Ye=parseFloat(getComputedStyle(_e.target).height)):(He=parseFloat(getComputedStyle(_e.target).width),Ye=parseFloat(getComputedStyle(_e.target).height));this.requestRenderFromAPI.next({hostResized:{width:`${He}px`,height:`${Ye}px`}})});return Re.observe(le),Re}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}ngOnDestroy(){this.keyInputSubjectSubscription&&this.keyInputSubjectSubscription.unsubscribe(),this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.keyEventSubjectSubscription&&this.keyEventSubjectSubscription.unsubscribe(),this.requestRenderSubscription&&this.requestRenderSubscription.unsubscribe(),this.allLogsSubjectSubscription&&this.allLogsSubjectSubscription.unsubscribe(),this.interval&&clearInterval(this.interval),this.lazyContainerCheckHandle&&clearInterval(this.lazyContainerCheckHandle),this.term&&this.term.dispose(),this.resizableObservers.forEach(le=>le.disconnect())}write(le){this.term.write(le)}get keyInput(){return this.keyInputSubject}onData(){return this.keyInputSubject}get keyEventInput(){return this.keyEventSubject}onKey(){return this.keyEventSubject}get underlying(){return this.term}get isDraggableOnEdgeActivated(){return this._draggableInput}onResizeEnd(le,Re,Qe,He){this.setOuterDimensions(le,Re,Qe,He)}validatorFactory(){return Re=>{var Qe,He;if(this._draggableInput){let ne=Re.rectangle.height;return!(Re.rectangle.width<(null!==(Qe=this._minWidthInput)&&void 0!==Qe?Qe:100)||ne<(null!==(He=this._minHeightInput)&&void 0!==He?He:50))}return!1}}findCssStyleRule(le){for(let Re=0;Re<document.styleSheets.length;Re++){let Qe=document.styleSheets.item(Re);for(let He=0;He<Qe.cssRules.length;He++){let Ye=Qe.cssRules.item(He);if("selectorText"in Ye&&Ye.selectorText.includes(le))return Ye}}}}return me.\u0275fac=function(le){return new(le||me)(_.Y36(_.Qsj),_.Y36(_.sBO),_.Y36(_.SBq))},me.\u0275cmp=_.Xpm({type:me,selectors:[["ng-terminal"]],viewQuery:function(le,Re){if(1&le&&(_.Gf(fe,7),_.Gf(oe,7)),2&le){let Qe;_.iGM(Qe=_.CRH())&&(Re.terminalOuter=Qe.first),_.iGM(Qe=_.CRH())&&(Re.resizeBox=Qe.first)}},inputs:{_dataSource:["dataSource","_dataSource"],_rowsInput:["rows","_rowsInput"],_colsInput:["cols","_colsInput"],_minWidthInput:["minWidth","_minWidthInput"],_minHeightInput:["minHeight","_minHeightInput"],draggable:"draggable",_xtermOptions:["xtermOptions","_xtermOptions"]},outputs:{keyInputEmitter:"keyInput",keyEventEmitter:"keyEvent"},features:[_.TTD],decls:9,vars:24,consts:[["mwlResizable","",1,"resize-box",3,"validateResize","enableGhostResize","resizeEnd"],["resizeBox",""],[1,"terminal-outer"],["terminal",""],["mwlResizeHandle","",1,"resize-handle","resize-handle-top",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-left",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-right",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-bottom",3,"ngClass","resizeEdges"]],template:function(le,Re){1&le&&(_._UZ(0,"global-style"),_.TgZ(1,"div",0,1),_.NdJ("resizeEnd",function(He){return Re.onResizeEnd(He.rectangle.left,He.rectangle.top,He.rectangle.width,He.rectangle.height)}),_._UZ(3,"div",2,3),_._UZ(5,"div",4),_._UZ(6,"div",5),_._UZ(7,"div",6),_._UZ(8,"div",7),_.qZA()),2&le&&(_.xp6(1),_.Q6J("validateResize",Re.validatorFactory())("enableGhostResize",!0),_.xp6(4),_.Q6J("ngClass",_.VKq(10,Me,Re.isDraggableOnEdgeActivated))("resizeEdges",_.DdM(12,We)),_.xp6(1),_.Q6J("ngClass",_.VKq(13,Me,Re.isDraggableOnEdgeActivated))("resizeEdges",_.DdM(15,mt)),_.xp6(1),_.Q6J("ngClass",_.VKq(16,Me,Re.isDraggableOnEdgeActivated))("resizeEdges",Re.isDraggableOnEdgeActivated?_.DdM(18,Dt):_.DdM(19,Pt)),_.xp6(1),_.Q6J("ngClass",_.VKq(20,Me,Re.isDraggableOnEdgeActivated))("resizeEdges",Re.isDraggableOnEdgeActivated?_.DdM(22,cn):_.DdM(23,dn)))},directives:[ke,Ie,Zt,Xt.mk],styles:[".terminal-outer[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;padding:5px}[_nghost-%COMP%]{display:block;height:100%;width:100%}.resize-box[_ngcontent-%COMP%]{height:100%;width:100%;position:relative}div[_ngcontent-%COMP%] > .handle-active[_ngcontent-%COMP%]{z-index:100;background-color:#85858a!important}.resize-handle[_ngcontent-%COMP%]{background-color:#000}.resize-handle-top.handle-active[_ngcontent-%COMP%], .resize-handle-bottom.handle-active[_ngcontent-%COMP%]{cursor:row-resize}.resize-handle-left.handle-active[_ngcontent-%COMP%], .resize-handle-right.handle-active[_ngcontent-%COMP%]{cursor:col-resize}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%]{position:absolute;height:5px;width:100%}.resize-handle-top[_ngcontent-%COMP%]{top:0px}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:0px}.resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;height:calc(100%);width:5px}.resize-handle-left[_ngcontent-%COMP%]{left:0px;top:0px}.resize-handle-right[_ngcontent-%COMP%]{right:0px;top:0px}"],changeDetection:0}),me})(),gn=(()=>{class me{}return me.\u0275fac=function(le){return new(le||me)},me.\u0275mod=_.oAB({type:me}),me.\u0275inj=_.cJS({imports:[[un,Xt.ez]]}),me})();class It{static insertBlank(be){return`\x9b${be}@`}static cursorUp(be){return`\x9b${be}A`}static cursorDown(be){return`\x9b${be}B`}static cursorForward(be){return`\x9b${be}C`}static cursorBackward(be){return`\x9b${be}D`}static cursorNextLine(be){return`\x9b${be}E`}static cursorPrecedingLine(be){return`\x9b${be}F`}static cursorColumn(be){return`\x9b${be}G`}static cursorPosition(be,le){return`\x9b${be};${le}H`}static eraseInDisplay(be){return`\x9b${be}J`}static eraseSelectiveThingsInDisplay(be){return`\x9b?${be}J`}static eraseInLine(be){return`\x9b${be}K`}static eraseSelectiveThingsInLine(be){return`\x9b?${be}K`}static insertLines(be){return`\x9b${be}L`}static deleteLines(be){return`\x9b${be}M`}static deleteCharacter(be){return`\x9b${be}P`}static scrollUpLines(be){return`\x9b${be}S`}static scrollDownLines(be){return`\x9b${be}T`}static eraseCharacters(be){return`\x9b${be}X`}}},7238:(ut,Ve,W)=>{"use strict";W.d(Ve,{l3:()=>u,_j:()=>_,LC:()=>P,ZN:()=>k,jt:()=>S,vP:()=>T,SB:()=>w,oB:()=>b,eR:()=>D,X$:()=>v,ZE:()=>H,k1:()=>Y});class _{}class P{}const u="*";function v(N,B){return{type:7,name:N,definitions:B,options:{}}}function S(N,B=null){return{type:4,styles:B,timings:N}}function T(N,B=null){return{type:2,steps:N,options:B}}function b(N){return{type:6,styles:N,offset:null}}function w(N,B,te){return{type:0,name:N,styles:B,options:te}}function D(N,B,te=null){return{type:1,expr:N,animation:B,options:te}}function I(N){Promise.resolve(null).then(N)}class k{constructor(B=0,te=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=B+te}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(B=>B()),this._onDoneFns=[])}onStart(B){this._onStartFns.push(B)}onDone(B){this._onDoneFns.push(B)}onDestroy(B){this._onDestroyFns.push(B)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){I(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(B=>B()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(B=>B()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(B){this._position=this.totalTime?B*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(B){const te="start"==B?this._onStartFns:this._onDoneFns;te.forEach(Ee=>Ee()),te.length=0}}class H{constructor(B){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=B;let te=0,Ee=0,ue=0;const V=this.players.length;0==V?I(()=>this._onFinish()):this.players.forEach(Z=>{Z.onDone(()=>{++te==V&&this._onFinish()}),Z.onDestroy(()=>{++Ee==V&&this._onDestroy()}),Z.onStart(()=>{++ue==V&&this._onStart()})}),this.totalTime=this.players.reduce((Z,$)=>Math.max(Z,$.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(B=>B()),this._onDoneFns=[])}init(){this.players.forEach(B=>B.init())}onStart(B){this._onStartFns.push(B)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(B=>B()),this._onStartFns=[])}onDone(B){this._onDoneFns.push(B)}onDestroy(B){this._onDestroyFns.push(B)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(B=>B.play())}pause(){this.players.forEach(B=>B.pause())}restart(){this.players.forEach(B=>B.restart())}finish(){this._onFinish(),this.players.forEach(B=>B.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(B=>B.destroy()),this._onDestroyFns.forEach(B=>B()),this._onDestroyFns=[])}reset(){this.players.forEach(B=>B.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(B){const te=B*this.totalTime;this.players.forEach(Ee=>{const ue=Ee.totalTime?Math.min(1,te/Ee.totalTime):1;Ee.setPosition(ue)})}getPosition(){const B=this.players.reduce((te,Ee)=>null===te||Ee.totalTime>te.totalTime?Ee:te,null);return null!=B?B.getPosition():0}beforeDestroy(){this.players.forEach(B=>{B.beforeDestroy&&B.beforeDestroy()})}triggerCallback(B){const te="start"==B?this._onStartFns:this._onDoneFns;te.forEach(Ee=>Ee()),te.length=0}}const Y="!"},9531:(ut,Ve,W)=>{"use strict";W.d(Ve,{rt:()=>Kn,kH:()=>ce,Em:()=>Pe,tE:()=>Ae,qm:()=>un,X6:()=>bt,yG:()=>Jt});var _=W(8583),P=W(7716),u=W(9765),v=W(7971);class S extends u.xQ{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const oe=super._subscribe(fe);return oe&&!oe.closed&&fe.next(this._value),oe}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new v.N;return this._value}next(fe){super.next(this._value=fe)}}var p=W(5319),T=W(5917),b=W(6461),w=W(7393);class D{constructor(fe){this.total=fe}call(fe,oe){return oe.subscribe(new g(fe,this.total))}}class g extends w.L{constructor(fe,oe){super(fe),this.total=oe,this.count=0}_next(fe){++this.count>this.total&&this.destination.next(fe)}}var l=W(3342),m=W(4395),c=W(5435),f=W(8002),k=(W(8573),W(7519)),H=W(6782),Y=W(9490),N=W(521),B=W(8553);class Pe extends class{constructor(fe){this._items=fe,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new u.xQ,this._typeaheadSubscription=p.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=oe=>oe.disabled,this._pressedLetters=[],this.tabOut=new u.xQ,this.change=new u.xQ,fe instanceof P.n_E&&fe.changes.subscribe(oe=>{if(this._activeItem){const We=oe.toArray().indexOf(this._activeItem);We>-1&&We!==this._activeItemIndex&&(this._activeItemIndex=We)}})}skipPredicate(fe){return this._skipPredicateFn=fe,this}withWrap(fe=!0){return this._wrap=fe,this}withVerticalOrientation(fe=!0){return this._vertical=fe,this}withHorizontalOrientation(fe){return this._horizontal=fe,this}withAllowedModifierKeys(fe){return this._allowedModifierKeys=fe,this}withTypeAhead(fe=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,l.b)(oe=>this._pressedLetters.push(oe)),(0,m.b)(fe),(0,c.h)(()=>this._pressedLetters.length>0),(0,f.U)(()=>this._pressedLetters.join(""))).subscribe(oe=>{const Me=this._getItemsArray();for(let We=1;We<Me.length+1;We++){const mt=(this._activeItemIndex+We)%Me.length,Dt=Me[mt];if(!this._skipPredicateFn(Dt)&&0===Dt.getLabel().toUpperCase().trim().indexOf(oe)){this.setActiveItem(mt);break}}this._pressedLetters=[]}),this}withHomeAndEnd(fe=!0){return this._homeAndEnd=fe,this}setActiveItem(fe){const oe=this._activeItem;this.updateActiveItem(fe),this._activeItem!==oe&&this.change.next(this._activeItemIndex)}onKeydown(fe){const oe=fe.keyCode,We=["altKey","ctrlKey","metaKey","shiftKey"].every(mt=>!fe[mt]||this._allowedModifierKeys.indexOf(mt)>-1);switch(oe){case b.Mf:return void this.tabOut.next();case b.JH:if(this._vertical&&We){this.setNextItemActive();break}return;case b.LH:if(this._vertical&&We){this.setPreviousItemActive();break}return;case b.SV:if(this._horizontal&&We){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case b.oh:if(this._horizontal&&We){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case b.Sd:if(this._homeAndEnd&&We){this.setFirstItemActive();break}return;case b.uR:if(this._homeAndEnd&&We){this.setLastItemActive();break}return;default:return void((We||(0,b.Vb)(fe,"shiftKey"))&&(fe.key&&1===fe.key.length?this._letterKeyStream.next(fe.key.toLocaleUpperCase()):(oe>=b.A&&oe<=b.Z||oe>=b.xE&&oe<=b.aO)&&this._letterKeyStream.next(String.fromCharCode(oe))))}this._pressedLetters=[],fe.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(fe){const oe=this._getItemsArray(),Me="number"==typeof fe?fe:oe.indexOf(fe),We=oe[Me];this._activeItem=null==We?null:We,this._activeItemIndex=Me}_setActiveItemByDelta(fe){this._wrap?this._setActiveInWrapMode(fe):this._setActiveInDefaultMode(fe)}_setActiveInWrapMode(fe){const oe=this._getItemsArray();for(let Me=1;Me<=oe.length;Me++){const We=(this._activeItemIndex+fe*Me+oe.length)%oe.length;if(!this._skipPredicateFn(oe[We]))return void this.setActiveItem(We)}}_setActiveInDefaultMode(fe){this._setActiveItemByIndex(this._activeItemIndex+fe,fe)}_setActiveItemByIndex(fe,oe){const Me=this._getItemsArray();if(Me[fe]){for(;this._skipPredicateFn(Me[fe]);)if(!Me[fe+=oe])return;this.setActiveItem(fe)}}_getItemsArray(){return this._items instanceof P.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(fe){return this._origin=fe,this}setActiveItem(fe){super.setActiveItem(fe),this.activeItem&&this.activeItem.focus(this._origin)}}function bt(ke){return 0===ke.offsetX&&0===ke.offsetY}function Jt(ke){const fe=ke.touches&&ke.touches[0]||ke.changedTouches&&ke.changedTouches[0];return!(!fe||-1!==fe.identifier||null!=fe.radiusX&&1!==fe.radiusX||null!=fe.radiusY&&1!==fe.radiusY)}"undefined"!=typeof Element&&Element;const bn=new P.OlP("cdk-input-modality-detector-options"),wn={ignoreKeys:[b.zL,b.jx,b.b2,b.MW,b.JU]},an=(0,N.i$)({passive:!0,capture:!0});let Dn=(()=>{class ke{constructor(oe,Me,We,mt){this._platform=oe,this._mostRecentTarget=null,this._modality=new S(null),this._lastTouchMs=0,this._onKeydown=Dt=>{var Pt,cn;(null===(cn=null===(Pt=this._options)||void 0===Pt?void 0:Pt.ignoreKeys)||void 0===cn?void 0:cn.some(dn=>dn===Dt.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,N.sA)(Dt))},this._onMousedown=Dt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(bt(Dt)?"keyboard":"mouse"),this._mostRecentTarget=(0,N.sA)(Dt))},this._onTouchstart=Dt=>{Jt(Dt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,N.sA)(Dt))},this._options=Object.assign(Object.assign({},wn),mt),this.modalityDetected=this._modality.pipe(fe=>fe.lift(new D(1))),this.modalityChanged=this.modalityDetected.pipe((0,k.x)()),oe.isBrowser&&Me.runOutsideAngular(()=>{We.addEventListener("keydown",this._onKeydown,an),We.addEventListener("mousedown",this._onMousedown,an),We.addEventListener("touchstart",this._onTouchstart,an)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,an),document.removeEventListener("mousedown",this._onMousedown,an),document.removeEventListener("touchstart",this._onTouchstart,an))}}return ke.\u0275fac=function(oe){return new(oe||ke)(P.LFG(N.t4),P.LFG(P.R0b),P.LFG(_.K0),P.LFG(bn,8))},ke.\u0275prov=P.Yz7({factory:function(){return new ke(P.LFG(N.t4),P.LFG(P.R0b),P.LFG(_.K0),P.LFG(bn,8))},token:ke,providedIn:"root"}),ke})();const ln=new P.OlP("cdk-focus-monitor-default-options"),Oe=(0,N.i$)({passive:!0,capture:!0});let Ae=(()=>{class ke{constructor(oe,Me,We,mt,Dt){this._ngZone=oe,this._platform=Me,this._inputModalityDetector=We,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new u.xQ,this._rootNodeFocusAndBlurListener=Pt=>{const cn=(0,N.sA)(Pt),dn="focus"===Pt.type?this._onFocus:this._onBlur;for(let kn=cn;kn;kn=kn.parentElement)dn.call(this,Pt,kn)},this._document=mt,this._detectionMode=(null==Dt?void 0:Dt.detectionMode)||0}monitor(oe,Me=!1){const We=(0,Y.fI)(oe);if(!this._platform.isBrowser||1!==We.nodeType)return(0,T.of)(null);const mt=(0,N.kV)(We)||this._getDocument(),Dt=this._elementInfo.get(We);if(Dt)return Me&&(Dt.checkChildren=!0),Dt.subject;const Pt={checkChildren:Me,subject:new u.xQ,rootNode:mt};return this._elementInfo.set(We,Pt),this._registerGlobalListeners(Pt),Pt.subject}stopMonitoring(oe){const Me=(0,Y.fI)(oe),We=this._elementInfo.get(Me);We&&(We.subject.complete(),this._setClasses(Me),this._elementInfo.delete(Me),this._removeGlobalListeners(We))}focusVia(oe,Me,We){const mt=(0,Y.fI)(oe);mt===this._getDocument().activeElement?this._getClosestElementsInfo(mt).forEach(([Pt,cn])=>this._originChanged(Pt,Me,cn)):(this._setOrigin(Me),"function"==typeof mt.focus&&mt.focus(We))}ngOnDestroy(){this._elementInfo.forEach((oe,Me)=>this.stopMonitoring(Me))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(oe,Me,We){We?oe.classList.add(Me):oe.classList.remove(Me)}_getFocusOrigin(oe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(oe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(oe){return 1===this._detectionMode||!!(null==oe?void 0:oe.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(oe,Me){this._toggleClass(oe,"cdk-focused",!!Me),this._toggleClass(oe,"cdk-touch-focused","touch"===Me),this._toggleClass(oe,"cdk-keyboard-focused","keyboard"===Me),this._toggleClass(oe,"cdk-mouse-focused","mouse"===Me),this._toggleClass(oe,"cdk-program-focused","program"===Me)}_setOrigin(oe,Me=!1){this._ngZone.runOutsideAngular(()=>{this._origin=oe,this._originFromTouchInteraction="touch"===oe&&Me,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(oe,Me){const We=this._elementInfo.get(Me),mt=(0,N.sA)(oe);!We||!We.checkChildren&&Me!==mt||this._originChanged(Me,this._getFocusOrigin(mt),We)}_onBlur(oe,Me){const We=this._elementInfo.get(Me);!We||We.checkChildren&&oe.relatedTarget instanceof Node&&Me.contains(oe.relatedTarget)||(this._setClasses(Me),this._emitOrigin(We.subject,null))}_emitOrigin(oe,Me){this._ngZone.run(()=>oe.next(Me))}_registerGlobalListeners(oe){if(!this._platform.isBrowser)return;const Me=oe.rootNode,We=this._rootNodeFocusListenerCount.get(Me)||0;We||this._ngZone.runOutsideAngular(()=>{Me.addEventListener("focus",this._rootNodeFocusAndBlurListener,Oe),Me.addEventListener("blur",this._rootNodeFocusAndBlurListener,Oe)}),this._rootNodeFocusListenerCount.set(Me,We+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,H.R)(this._stopInputModalityDetector)).subscribe(mt=>{this._setOrigin(mt,!0)}))}_removeGlobalListeners(oe){const Me=oe.rootNode;if(this._rootNodeFocusListenerCount.has(Me)){const We=this._rootNodeFocusListenerCount.get(Me);We>1?this._rootNodeFocusListenerCount.set(Me,We-1):(Me.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Oe),Me.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Oe),this._rootNodeFocusListenerCount.delete(Me))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(oe,Me,We){this._setClasses(oe,Me),this._emitOrigin(We.subject,Me),this._lastFocusOrigin=Me}_getClosestElementsInfo(oe){const Me=[];return this._elementInfo.forEach((We,mt)=>{(mt===oe||We.checkChildren&&mt.contains(oe))&&Me.push([mt,We])}),Me}}return ke.\u0275fac=function(oe){return new(oe||ke)(P.LFG(P.R0b),P.LFG(N.t4),P.LFG(Dn),P.LFG(_.K0,8),P.LFG(ln,8))},ke.\u0275prov=P.Yz7({factory:function(){return new ke(P.LFG(P.R0b),P.LFG(N.t4),P.LFG(Dn),P.LFG(_.K0,8),P.LFG(ln,8))},token:ke,providedIn:"root"}),ke})(),ce=(()=>{class ke{constructor(oe,Me){this._elementRef=oe,this._focusMonitor=Me,this.cdkFocusChange=new P.vpe}ngAfterViewInit(){const oe=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(oe,1===oe.nodeType&&oe.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Me=>this.cdkFocusChange.emit(Me))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return ke.\u0275fac=function(oe){return new(oe||ke)(P.Y36(P.SBq),P.Y36(Ae))},ke.\u0275dir=P.lG2({type:ke,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),ke})();const Ie="cdk-high-contrast-black-on-white",ft="cdk-high-contrast-white-on-black",Zt="cdk-high-contrast-active";let un=(()=>{class ke{constructor(oe,Me){this._platform=oe,this._document=Me}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const oe=this._document.createElement("div");oe.style.backgroundColor="rgb(1,2,3)",oe.style.position="absolute",this._document.body.appendChild(oe);const Me=this._document.defaultView||window,We=Me&&Me.getComputedStyle?Me.getComputedStyle(oe):null,mt=(We&&We.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(oe),mt){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const oe=this._document.body.classList;oe.remove(Zt),oe.remove(Ie),oe.remove(ft),this._hasCheckedHighContrastMode=!0;const Me=this.getHighContrastMode();1===Me?(oe.add(Zt),oe.add(Ie)):2===Me&&(oe.add(Zt),oe.add(ft))}}}return ke.\u0275fac=function(oe){return new(oe||ke)(P.LFG(N.t4),P.LFG(_.K0))},ke.\u0275prov=P.Yz7({factory:function(){return new ke(P.LFG(N.t4),P.LFG(_.K0))},token:ke,providedIn:"root"}),ke})(),Kn=(()=>{class ke{constructor(oe){oe._applyBodyHighContrastModeCssClasses()}}return ke.\u0275fac=function(oe){return new(oe||ke)(P.LFG(un))},ke.\u0275mod=P.oAB({type:ke}),ke.\u0275inj=P.cJS({imports:[[N.ud,B.Q8]]}),ke})()},946:(ut,Ve,W)=>{"use strict";W.d(Ve,{vT:()=>T,Is:()=>S});var _=W(7716),P=W(8583);const u=new _.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,_.f3M)(P.K0)}});let S=(()=>{class b{constructor(C){if(this.value="ltr",this.change=new _.vpe,C){const g=C.documentElement?C.documentElement.dir:null,l=(C.body?C.body.dir:null)||g;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return b.\u0275fac=function(C){return new(C||b)(_.LFG(u,8))},b.\u0275prov=_.Yz7({factory:function(){return new b(_.LFG(u,8))},token:b,providedIn:"root"}),b})(),T=(()=>{class b{}return b.\u0275fac=function(C){return new(C||b)},b.\u0275mod=_.oAB({type:b}),b.\u0275inj=_.cJS({}),b})()},6461:(ut,Ve,W)=>{"use strict";W.d(Ve,{A:()=>pe,zL:()=>b,jx:()=>T,JH:()=>Y,uR:()=>c,K5:()=>S,Sd:()=>f,oh:()=>I,b2:()=>si,MW:()=>bt,aO:()=>lt,SV:()=>H,JU:()=>p,L_:()=>g,Mf:()=>u,LH:()=>k,Z:()=>it,xE:()=>ue,Vb:()=>Xn});const u=9,S=13,p=16,T=17,b=18,g=32,c=35,f=36,I=37,k=38,H=39,Y=40,ue=48,lt=57,pe=65,it=90,bt=91,si=224;function Xn(Un,...Yn){return Yn.length?Yn.some(qn=>Un[qn]):Un.altKey||Un.shiftKey||Un.ctrlKey||Un.metaKey}},8553:(ut,Ve,W)=>{"use strict";W.d(Ve,{wD:()=>b,yq:()=>T,Q8:()=>w});var _=W(9490),P=W(7716),u=W(7574),v=W(9765),S=W(4395);let p=(()=>{class C{create(g){return"undefined"==typeof MutationObserver?null:new MutationObserver(g)}}return C.\u0275fac=function(g){return new(g||C)},C.\u0275prov=P.Yz7({factory:function(){return new C},token:C,providedIn:"root"}),C})(),T=(()=>{class C{constructor(g){this._mutationObserverFactory=g,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((g,l)=>this._cleanupObserver(l))}observe(g){const l=(0,_.fI)(g);return new u.y(m=>{const f=this._observeElement(l).subscribe(m);return()=>{f.unsubscribe(),this._unobserveElement(l)}})}_observeElement(g){if(this._observedElements.has(g))this._observedElements.get(g).count++;else{const l=new v.xQ,m=this._mutationObserverFactory.create(c=>l.next(c));m&&m.observe(g,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(g,{observer:m,stream:l,count:1})}return this._observedElements.get(g).stream}_unobserveElement(g){this._observedElements.has(g)&&(this._observedElements.get(g).count--,this._observedElements.get(g).count||this._cleanupObserver(g))}_cleanupObserver(g){if(this._observedElements.has(g)){const{observer:l,stream:m}=this._observedElements.get(g);l&&l.disconnect(),m.complete(),this._observedElements.delete(g)}}}return C.\u0275fac=function(g){return new(g||C)(P.LFG(p))},C.\u0275prov=P.Yz7({factory:function(){return new C(P.LFG(p))},token:C,providedIn:"root"}),C})(),b=(()=>{class C{constructor(g,l,m){this._contentObserver=g,this._elementRef=l,this._ngZone=m,this.event=new P.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(g){this._disabled=(0,_.Ig)(g),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(g){this._debounce=(0,_.su)(g),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const g=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?g.pipe((0,S.b)(this.debounce)):g).subscribe(this.event)})}_unsubscribe(){var g;null===(g=this._currentSubscription)||void 0===g||g.unsubscribe()}}return C.\u0275fac=function(g){return new(g||C)(P.Y36(T),P.Y36(P.SBq),P.Y36(P.R0b))},C.\u0275dir=P.lG2({type:C,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),C})(),w=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=P.oAB({type:C}),C.\u0275inj=P.cJS({providers:[p]}),C})()},521:(ut,Ve,W)=>{"use strict";W.d(Ve,{t4:()=>v,ud:()=>S,sA:()=>Y,ht:()=>H,kV:()=>k,Oy:()=>N,_i:()=>c,qK:()=>b,i$:()=>D,Mq:()=>m});var _=W(7716),P=W(8583);let u;try{u="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(B){u=!1}let p,v=(()=>{class B{constructor(Ee){this._platformId=Ee,this.isBrowser=this._platformId?(0,P.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!u)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return B.\u0275fac=function(Ee){return new(Ee||B)(_.LFG(_.Lbi))},B.\u0275prov=_.Yz7({factory:function(){return new B(_.LFG(_.Lbi))},token:B,providedIn:"root"}),B})(),S=(()=>{class B{}return B.\u0275fac=function(Ee){return new(Ee||B)},B.\u0275mod=_.oAB({type:B}),B.\u0275inj=_.cJS({}),B})();const T=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function b(){if(p)return p;if("object"!=typeof document||!document)return p=new Set(T),p;let B=document.createElement("input");return p=new Set(T.filter(te=>(B.setAttribute("type",te),B.type===te))),p}let w,g,l,f;function D(B){return function(){if(null==w&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>w=!0}))}finally{w=w||!1}return w}()?B:!!B.capture}function m(){if(null==l){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return l=!1,l;if("scrollBehavior"in document.documentElement.style)l=!0;else{const B=Element.prototype.scrollTo;l=!!B&&!/\{\s*\[native code\]\s*\}/.test(B.toString())}}return l}function c(){if("object"!=typeof document||!document)return 0;if(null==g){const B=document.createElement("div"),te=B.style;B.dir="rtl",te.width="1px",te.overflow="auto",te.visibility="hidden",te.pointerEvents="none",te.position="absolute";const Ee=document.createElement("div"),ue=Ee.style;ue.width="2px",ue.height="1px",B.appendChild(Ee),document.body.appendChild(B),g=0,0===B.scrollLeft&&(B.scrollLeft=1,g=0===B.scrollLeft?1:2),B.parentNode.removeChild(B)}return g}function k(B){if(function(){if(null==f){const B="undefined"!=typeof document?document.head:null;f=!(!B||!B.createShadowRoot&&!B.attachShadow)}return f}()){const te=B.getRootNode?B.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&te instanceof ShadowRoot)return te}return null}function H(){let B="undefined"!=typeof document&&document?document.activeElement:null;for(;B&&B.shadowRoot;){const te=B.shadowRoot.activeElement;if(te===B)break;B=te}return B}function Y(B){return B.composedPath?B.composedPath()[0]:B.target}function N(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},9490:(ut,Ve,W)=>{"use strict";W.d(Ve,{Ig:()=>P,fI:()=>T,su:()=>u});var _=W(7716);function P(w){return null!=w&&"false"!=`${w}`}function u(w,C=0){return function(w){return!isNaN(parseFloat(w))&&!isNaN(Number(w))}(w)?Number(w):C}function T(w){return w instanceof _.SBq?w.nativeElement:w}},8583:(ut,Ve,W)=>{"use strict";W.d(Ve,{ez:()=>Qi,K0:()=>T,mk:()=>vt,sg:()=>Rt,O5:()=>Xn,RF:()=>ei,n9:()=>In,JF:()=>xe,NF:()=>Zi,w_:()=>p,bD:()=>Ni,q:()=>u,Mx:()=>je,HT:()=>S});var _=W(7716);let P=null;function u(){return P}function S(A){P||(P=A)}class p{}const T=new _.OlP("DocumentToken");var $=(()=>(($=$||{})[$.Zero=0]="Zero",$[$.One=1]="One",$[$.Two=2]="Two",$[$.Few=3]="Few",$[$.Many=4]="Many",$[$.Other=5]="Other",$))();const En=_.kL8;class _e{}let ne=(()=>{class A extends _e{constructor(F){super(),this.locale=F}getPluralCategory(F,X){switch(En(X||this.locale)(F)){case $.Zero:return"zero";case $.One:return"one";case $.Two:return"two";case $.Few:return"few";case $.Many:return"many";default:return"other"}}}return A.\u0275fac=function(F){return new(F||A)(_.LFG(_.soG))},A.\u0275prov=_.Yz7({token:A,factory:A.\u0275fac}),A})();function je(A,z){z=encodeURIComponent(z);for(const F of A.split(";")){const X=F.indexOf("="),[Ce,$e]=-1==X?[F,""]:[F.slice(0,X),F.slice(X+1)];if(Ce.trim()===z)return decodeURIComponent($e)}return null}let vt=(()=>{class A{constructor(F,X,Ce,$e){this._iterableDiffers=F,this._keyValueDiffers=X,this._ngEl=Ce,this._renderer=$e,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(F){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof F?F.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(F){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof F?F.split(/\s+/):F,this._rawClass&&((0,_.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const F=this._iterableDiffer.diff(this._rawClass);F&&this._applyIterableChanges(F)}else if(this._keyValueDiffer){const F=this._keyValueDiffer.diff(this._rawClass);F&&this._applyKeyValueChanges(F)}}_applyKeyValueChanges(F){F.forEachAddedItem(X=>this._toggleClass(X.key,X.currentValue)),F.forEachChangedItem(X=>this._toggleClass(X.key,X.currentValue)),F.forEachRemovedItem(X=>{X.previousValue&&this._toggleClass(X.key,!1)})}_applyIterableChanges(F){F.forEachAddedItem(X=>{if("string"!=typeof X.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,_.AaK)(X.item)}`);this._toggleClass(X.item,!0)}),F.forEachRemovedItem(X=>this._toggleClass(X.item,!1))}_applyClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(X=>this._toggleClass(X,!0)):Object.keys(F).forEach(X=>this._toggleClass(X,!!F[X])))}_removeClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(X=>this._toggleClass(X,!1)):Object.keys(F).forEach(X=>this._toggleClass(X,!1)))}_toggleClass(F,X){(F=F.trim())&&F.split(/\s+/g).forEach(Ce=>{X?this._renderer.addClass(this._ngEl.nativeElement,Ce):this._renderer.removeClass(this._ngEl.nativeElement,Ce)})}}return A.\u0275fac=function(F){return new(F||A)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))},A.\u0275dir=_.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),A})();class Mt{constructor(z,F,X,Ce){this.$implicit=z,this.ngForOf=F,this.index=X,this.count=Ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rt=(()=>{class A{constructor(F,X,Ce){this._viewContainer=F,this._template=X,this._differs=Ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;if(!this._differ&&F)try{this._differ=this._differs.find(F).create(this.ngForTrackBy)}catch(X){throw new Error(`Cannot find a differ supporting object '${F}' of type '${function(A){return A.name||typeof A}(F)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const X=[];F.forEachOperation((Ce,$e,at)=>{if(null==Ce.previousIndex){const L=this._viewContainer.createEmbeddedView(this._template,new Mt(null,this._ngForOf,-1,-1),null===at?void 0:at),O=new ri(Ce,L);X.push(O)}else if(null==at)this._viewContainer.remove(null===$e?void 0:$e);else if(null!==$e){const L=this._viewContainer.get($e);this._viewContainer.move(L,at);const O=new ri(Ce,L);X.push(O)}});for(let Ce=0;Ce<X.length;Ce++)this._perViewChange(X[Ce].view,X[Ce].record);for(let Ce=0,$e=this._viewContainer.length;Ce<$e;Ce++){const at=this._viewContainer.get(Ce);at.context.index=Ce,at.context.count=$e,at.context.ngForOf=this._ngForOf}F.forEachIdentityChange(Ce=>{this._viewContainer.get(Ce.currentIndex).context.$implicit=Ce.item})}_perViewChange(F,X){F.context.$implicit=X.item}static ngTemplateContextGuard(F,X){return!0}}return A.\u0275fac=function(F){return new(F||A)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},A.\u0275dir=_.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),A})();class ri{constructor(z,F){this.record=z,this.view=F}}let Xn=(()=>{class A{constructor(F,X){this._viewContainer=F,this._context=new Un,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Yn("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Yn("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,X){return!0}}return A.\u0275fac=function(F){return new(F||A)(_.Y36(_.s_b),_.Y36(_.Rgc))},A.\u0275dir=_.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),A})();class Un{constructor(){this.$implicit=null,this.ngIf=null}}function Yn(A,z){if(z&&!z.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,_.AaK)(z)}'.`)}class qn{constructor(z,F){this._viewContainerRef=z,this._templateRef=F,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(z){z&&!this._created?this.create():!z&&this._created&&this.destroy()}}let ei=(()=>{class A{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(F){this._ngSwitch=F,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(F){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(F)}_matchCase(F){const X=F==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||X,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),X}_updateDefaultCases(F){if(this._defaultViews&&F!==this._defaultUsed){this._defaultUsed=F;for(let X=0;X<this._defaultViews.length;X++)this._defaultViews[X].enforceState(F)}}}return A.\u0275fac=function(F){return new(F||A)},A.\u0275dir=_.lG2({type:A,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),A})(),In=(()=>{class A{constructor(F,X,Ce){this.ngSwitch=Ce,Ce._addCase(),this._view=new qn(F,X)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return A.\u0275fac=function(F){return new(F||A)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(ei,9))},A.\u0275dir=_.lG2({type:A,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),A})(),Qi=(()=>{class A{}return A.\u0275fac=function(F){return new(F||A)},A.\u0275mod=_.oAB({type:A}),A.\u0275inj=_.cJS({providers:[{provide:_e,useClass:ne}]}),A})();const Ni="browser";function Zi(A){return A===Ni}class xe{}},7716:(ut,Ve,W)=>{"use strict";W.d(Ve,{AFp:()=>Qg,ip1:()=>$u,CZH:()=>po,hGG:()=>Qw,z2F:()=>pa,sBO:()=>BE,_Vd:()=>so,EJc:()=>em,SBq:()=>Fr,qLn:()=>Fs,vpe:()=>Nr,gxx:()=>Us,OlP:()=>Wn,zs3:()=>Ln,ZZ4:()=>sl,aQg:()=>ol,soG:()=>gl,h0i:()=>vs,PXZ:()=>ww,R0b:()=>Ki,FiY:()=>$r,Lbi:()=>Jg,g9A:()=>Zg,n_E:()=>ha,Qsj:()=>DE,FYo:()=>rl,JOm:()=>Rr,Tiy:()=>yu,q3G:()=>$n,Rgc:()=>ta,dDg:()=>rm,GfV:()=>L_,s_b:()=>cl,ifc:()=>it,eFA:()=>cm,G48:()=>vw,Gpc:()=>D,f3M:()=>dv,X6Q:()=>Ju,_c5:()=>zw,VLi:()=>mw,c2e:()=>Xg,zSh:()=>zo,wAp:()=>Lt,vHH:()=>c,EiD:()=>Jd,mCW:()=>Lo,qzn:()=>Ls,JVY:()=>Av,pB0:()=>Ov,eBb:()=>Iv,L6k:()=>xv,LAX:()=>Rv,cg1:()=>uu,Tjo:()=>jw,kL8:()=>i_,yhl:()=>Wd,dqk:()=>Yt,sIi:()=>Go,CqO:()=>tu,QGY:()=>eu,F4k:()=>cp,RDi:()=>U,AaK:()=>b,z3N:()=>Gr,qOj:()=>Hc,TTD:()=>Qi,_Bn:()=>I_,xp6:()=>Nh,uIk:()=>zc,ekj:()=>ou,Suo:()=>Ag,Xpm:()=>ft,lG2:()=>We,Yz7:()=>nt,cJS:()=>et,oAB:()=>fe,Yjl:()=>mt,Y36:()=>Yo,_UZ:()=>ap,BQk:()=>Xc,ynx:()=>Jc,qZA:()=>Zc,TgZ:()=>Qc,EpF:()=>lp,n5z:()=>Id,Ikx:()=>cu,LFG:()=>Jn,$8M:()=>Bl,NdJ:()=>nu,CRH:()=>xg,oxw:()=>fp,Hsn:()=>_p,F$t:()=>pp,Q6J:()=>Yc,DdM:()=>gg,VKq:()=>mg,WLB:()=>vg,iGM:()=>Mg,MAs:()=>qf,CHM:()=>bo,kYT:()=>oe,Udp:()=>su,YNc:()=>Yf,_uU:()=>Bp,Oqu:()=>lu,hij:()=>Za,Gf:()=>Tg});var _=W(9765),P=W(5319),u=W(7574),v=W(6682),S=W(3522);function p(e){for(let t in e)if(e[t]===p)return t;throw Error("Could not find renamed property on target object.")}function T(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function b(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(b).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function w(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const C=p({__forward_ref__:p});function D(e){return e.__forward_ref__=D,e.toString=function(){return b(this())},e}function g(e){return l(e)?e():e}function l(e){return"function"==typeof e&&e.hasOwnProperty(C)&&e.__forward_ref__===D}class c extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function k(e){return"string"==typeof e?e:null==e?"":String(e)}function H(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():k(e)}function te(e,t){const n=t?` in ${t}`:"";throw new c("201",`No provider for ${H(e)} found${n}`)}function De(e,t){null==e&&function(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function nt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function et(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ft(e){return Et(e,En)||Et(e,Kt)}function Et(e,t){return e.hasOwnProperty(t)?e[t]:null}function Mn(e){return e&&(e.hasOwnProperty(rn)||e.hasOwnProperty(_n))?e[rn]:null}const En=p({\u0275prov:p}),rn=p({\u0275inj:p}),Kt=p({ngInjectableDef:p}),_n=p({ngInjectorDef:p});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Xt;function vn(e){const t=Xt;return Xt=e,t}function Je(e,t,n){const i=Ft(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&yt.Optional?null:void 0!==t?t:void te(b(e),"Injector")}function ze(e){return{toString:e}.toString()}var rt=(()=>((rt=rt||{})[rt.OnPush=0]="OnPush",rt[rt.Default=1]="Default",rt))(),it=(()=>((it=it||{})[it.Emulated=0]="Emulated",it[it.None=2]="None",it[it.ShadowDom=3]="ShadowDom",it))();const bt="undefined"!=typeof globalThis&&globalThis,Jt="undefined"!=typeof window&&window,bn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Yt=bt||"undefined"!=typeof global&&global||Jt||bn,Vt={},Bt=[],Nt=p({\u0275cmp:p}),jn=p({\u0275dir:p}),An=p({\u0275pipe:p}),ln=p({\u0275mod:p}),Oe=p({\u0275loc:p}),Ae=p({\u0275fac:p}),ce=p({__NG_ELEMENT_ID__:p});let Ie=0;function ft(e){return ze(()=>{const n={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===rt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Bt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||it.Emulated,id:"c",styles:e.styles||Bt,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,s=e.features,o=e.pipes;return i.id+=Ie++,i.inputs=Me(e.inputs,n),i.outputs=Me(e.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(un):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Kn):null,i})}function un(e){return Dt(e)||function(e){return e[jn]||null}(e)}function Kn(e){return function(e){return e[An]||null}(e)}const ke={};function fe(e){return ze(()=>{const t={type:e.type,bootstrap:e.bootstrap||Bt,declarations:e.declarations||Bt,imports:e.imports||Bt,exports:e.exports||Bt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ke[e.id]=e.type),t})}function oe(e,t){return ze(()=>{const n=dn(e,!0);n.declarations=t.declarations||Bt,n.imports=t.imports||Bt,n.exports=t.exports||Bt})}function Me(e,t){if(null==e)return Vt;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}const We=ft;function mt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Dt(e){return e[Nt]||null}function dn(e,t){const n=e[ln]||null;if(!n&&!0===t)throw new Error(`Type ${b(e)} does not have '\u0275mod' property.`);return n}function Fn(e){return Array.isArray(e)&&"object"==typeof e[1]}function hn(e){return Array.isArray(e)&&!0===e[1]}function mi(e){return 0!=(8&e.flags)}function Qn(e){return 2==(2&e.flags)}function vi(e){return 1==(1&e.flags)}function ui(e){return null!==e.template}function Zn(e){return 0!=(512&e[2])}function yi(e,t){return e.hasOwnProperty(Ae)?e[Ae]:null}class lr{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Qi(){return Ni}function Ni(e){return e.type.prototype.ngOnChanges&&(e.setInput=Tr),Ur}function Ur(){const e=Zi(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Vt)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Tr(e,t,n,i){const r=Zi(e)||function(e,t){return e[Bi]=t}(e,{previous:Vt,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],y=o[a];s[a]=new lr(y&&y.currentValue,t,o===Vt),e[i]=t}Qi.ngInherit=!0;const Bi="__ngSimpleChanges__";function Zi(e){return e[Bi]||null}let E;function U(e){E=e}function A(e){return!!e.listen}const F={createRenderer:(e,t)=>void 0!==E?E:"undefined"!=typeof document?document:void 0};function Ce(e){for(;Array.isArray(e);)e=e[0];return e}function L(e,t){return Ce(t[e])}function O(e,t){return Ce(t[e.index])}function Q(e,t){return e.data[t]}function dt(e,t){const n=t[e];return Fn(n)?n:n[0]}function Ht(e){return 4==(4&e[2])}function yn(e){return 128==(128&e[2])}function Bn(e,t){return null==t?null:e[t]}function oi(e){e[18]=0}function wi(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const kt={lFrame:di(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ba(){return kt.bindingsEnabled}function st(){return kt.lFrame.lView}function nn(){return kt.lFrame.tView}function bo(e){return kt.lFrame.contextLView=e,e[8]}function zn(){let e=Co();for(;null!==e&&64===e.type;)e=e.parent;return e}function Co(){return kt.lFrame.currentTNode}function cr(e,t){const n=kt.lFrame;n.currentTNode=e,n.isParent=t}function G(){return kt.lFrame.isParent}function d(){kt.lFrame.isParent=!1}function K(){return kt.isInCheckNoChangesMode}function ee(e){kt.isInCheckNoChangesMode=e}function de(){const e=kt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ke(){return kt.lFrame.bindingIndex++}function sn(e,t){const n=kt.lFrame;n.bindingIndex=n.bindingRootIndex=e,zt(t)}function zt(e){kt.lFrame.currentDirectiveIndex=e}function Rn(){return kt.lFrame.currentQueryIndex}function On(e){kt.lFrame.currentQueryIndex=e}function _i(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ni(e,t,n){if(n&yt.SkipSelf){let r=t,s=e;for(;!(r=r.parent,null!==r||n&yt.Host||(r=_i(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,e=s}const i=kt.lFrame=Hi();return i.currentTNode=t,i.lView=e,!0}function ur(e){const t=Hi(),n=e[1];kt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Hi(){const e=kt.lFrame,t=null===e?null:e.child;return null===t?di(e):t}function di(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ji(){const e=kt.lFrame;return kt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Xi=Ji;function Oi(){const e=Ji();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Vn(){return kt.lFrame.selectedIndex}function dr(e){kt.lFrame.selectedIndex=e}function Pn(){const e=kt.lFrame;return Q(e.tView,e.selectedIndex)}function hi(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:y,ngAfterViewChecked:R,ngOnDestroy:j}=s;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),y&&(e.viewHooks||(e.viewHooks=[])).push(-n,y),R&&((e.viewHooks||(e.viewHooks=[])).push(n,R),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,R)),null!=j&&(e.destroyHooks||(e.destroyHooks=[])).push(n,j)}}function ji(e,t,n){Ui(e,t,3,n)}function Tn(e,t,n,i){(3&e[2])===n&&Ui(e,t,n,i)}function Eo(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ui(e,t,n,i){const s=null!=i?i:-1,o=t.length-1;let a=0;for(let y=void 0!==i?65535&e[18]:0;y<o;y++)if("number"==typeof t[y+1]){if(a=t[y],null!=i&&a>=i)break}else t[y]<0&&(e[18]+=65536),(a<s||-1==s)&&(cs(e,n,t,y),e[18]=(4294901760&e[18])+y+2),y++}function cs(e,t,n,i){const r=n[i]<0,s=n[i+1],a=e[r?-n[i]:n[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Wi{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Ea(e,t,n){const i=A(e);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],y=n[r++];i?e.setAttribute(t,a,y,o):t.setAttributeNS(o,a,y)}else{const o=s,a=n[++r];Pl(o)?i&&e.setProperty(t,o,a):i?e.setAttribute(t,o,a):t.setAttribute(o,a),r++}}return r}function yd(e){return 3===e||4===e||6===e}function Pl(e){return 64===e.charCodeAt(0)}function Da(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||bd(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function bd(e,t,n,i,r){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}function Cd(e){return-1!==e}function Ss(e){return 32767&e}function ws(e,t){let n=function(e){return e>>16}(e),i=t;for(;n>0;)i=i[15],n--;return i}let kl=!0;function Sa(e){const t=kl;return kl=e,t}let $m=0;function wo(e,t){const n=Fl(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,Ll(i.data,e),Ll(t,null),Ll(i.blueprint,null));const r=wa(e,t),s=e.injectorIndex;if(Cd(r)){const o=Ss(r),a=ws(r,t),y=a[1].data;for(let R=0;R<8;R++)t[s+R]=a[o+R]|y[o+R]}return t[s+8]=r,s}function Ll(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Fl(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function wa(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function Ma(e,t,n){!function(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(ce)&&(i=n[ce]),null==i&&(i=n[ce]=$m++);const r=255&i;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function Sd(e,t,n){if(n&yt.Optional)return e;te(t,"NodeInjector")}function wd(e,t,n,i){if(n&yt.Optional&&void 0===i&&(i=null),0==(n&(yt.Self|yt.Host))){const r=e[9],s=vn(void 0);try{return r?r.get(t,i,n&yt.Optional):Je(t,i,n&yt.Optional)}finally{vn(s)}}return Sd(i,t,n)}function Md(e,t,n,i=yt.Default,r){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ce)?e[ce]:void 0;return"number"==typeof t?t>=0?255&t:Ym:t}(n);if("function"==typeof s){if(!ni(t,e,i))return i&yt.Host?Sd(r,n,i):wd(t,n,i,r);try{const o=s(i);if(null!=o||i&yt.Optional)return o;te(n)}finally{Xi()}}else if("number"==typeof s){let o=null,a=Fl(e,t),y=-1,R=i&yt.Host?t[16][6]:null;for((-1===a||i&yt.SkipSelf)&&(y=-1===a?wa(e,t):t[a+8],-1!==y&&xd(i,!1)?(o=t[1],a=Ss(y),t=ws(y,t)):a=-1);-1!==a;){const j=t[1];if(Ad(s,a,j.data)){const J=qm(a,t,n,o,i,R);if(J!==Td)return J}y=t[a+8],-1!==y&&xd(i,t[1].data[a+8]===R)&&Ad(s,a,t)?(o=j,a=Ss(y),t=ws(y,t)):a=-1}}}return wd(t,n,i,r)}const Td={};function Ym(){return new Ms(zn(),st())}function qm(e,t,n,i,r,s){const o=t[1],a=o.data[e+8],j=Ta(a,o,n,null==i?Qn(a)&&kl:i!=o&&0!=(3&a.type),r&yt.Host&&s===a);return null!==j?Mo(t,o,j,a):Td}function Ta(e,t,n,i,r){const s=e.providerIndexes,o=t.data,a=1048575&s,y=e.directiveStart,j=s>>20,ie=r?a+j:e.directiveEnd;for(let ge=i?a:a+j;ge<ie;ge++){const we=o[ge];if(ge<y&&n===we||ge>=y&&we.type===n)return ge}if(r){const ge=o[y];if(ge&&ui(ge)&&ge.type===n)return y}return null}function Mo(e,t,n,i){let r=e[n];const s=t.data;if(function(e){return e instanceof Wi}(r)){const o=r;o.resolving&&function(e,t){throw new c("200",`Circular dependency in DI detected for ${e}`)}(H(s[n]));const a=Sa(o.canSeeViewProviders);o.resolving=!0;const y=o.injectImpl?vn(o.injectImpl):null;ni(e,i,yt.Default);try{r=e[n]=o.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=Ni(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==y&&vn(y),Sa(a),o.resolving=!1,Xi()}}return r}function Ad(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function xd(e,t){return!(e&yt.Self||e&yt.Host&&t)}class Ms{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Md(this._tNode,this._lView,t,i,n)}}function Id(e){return ze(()=>{const t=e.prototype.constructor,n=t[Ae]||Nl(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const s=r[Ae]||Nl(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Nl(e){return l(e)?()=>{const t=Nl(g(e));return t&&t()}:yi(e)}function Bl(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let r=0;for(;r<i;){const s=n[r];if(yd(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(s===t)return n[r+1];r+=2}}}return null}(zn(),e)}const As="__parameters__";function us(e,t,n){return ze(()=>{const i=function(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(y,R,j){const J=y.hasOwnProperty(As)?y[As]:Object.defineProperty(y,As,{value:[]})[As];for(;J.length<=j;)J.push(null);return(J[j]=J[j]||[]).push(o),y}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}class Wn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=nt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function tr(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),tr(i,t)):t!==e&&t.push(i)}return t}function Ar(e,t){e.forEach(n=>Array.isArray(n)?Ar(n,t):t(n))}function xa(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ds(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function es(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function $i(e,t,n){let i=Is(e,t);return i>=0?e[1|i]=n:(i=~i,function(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function jl(e,t){const n=Is(e,t);if(n>=0)return e[1|n]}function Is(e,t){return function(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){const s=i+(r-i>>1),o=e[s<<n];if(t===o)return s<<n;o>t?r=s:i=s+1}return~(r<<n)}(e,t,1)}const Io={},zl="__NG_DI_FLAG__",Rs="ngTempTokenPath",lv=/\n/gm,Wl="__source",$l=p({provide:String,useValue:p});let Ro;function Os(e){const t=Ro;return Ro=e,t}function uv(e,t=yt.Default){if(void 0===Ro)throw new Error("inject() must be called from an injection context");return null===Ro?Je(e,void 0,t):Ro.get(e,t&yt.Optional?null:void 0,t)}function Jn(e,t=yt.Default){return(Xt||uv)(g(e),t)}const dv=Jn;function hs(e){const t=[];for(let n=0;n<e.length;n++){const i=g(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let r,s=yt.Default;for(let o=0;o<i.length;o++){const a=i[o],y=hv(a);"number"==typeof y?-1===y?r=a.token:s|=y:r=a}t.push(Jn(r,s))}else t.push(Jn(i))}return t}function Oo(e,t){return e[zl]=t,e.prototype[zl]=t,e}function hv(e){return e[zl]}function Fd(e,t,n,i){const r=e[Rs];throw t[Wl]&&r.unshift(t[Wl]),e.message=function(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let r=b(t);if(Array.isArray(t))r=t.map(b).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):b(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(lv,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e[Rs]=null,e}const Po=Oo(us("Inject",e=>({token:e})),-1),$r=Oo(us("Optional"),8),fs=Oo(us("SkipSelf"),4);let Pa;function ks(e){var t;return(null===(t=function(){if(void 0===Pa&&(Pa=null,Yt.trustedTypes))try{Pa=Yt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Pa}())||void 0===t?void 0:t.createHTML(e))||e}class ps{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Dv extends ps{getTypeName(){return"HTML"}}class Sv extends ps{getTypeName(){return"Style"}}class wv extends ps{getTypeName(){return"Script"}}class Mv extends ps{getTypeName(){return"URL"}}class Tv extends ps{getTypeName(){return"ResourceURL"}}function Gr(e){return e instanceof ps?e.changingThisBreaksApplicationSecurity:e}function Ls(e,t){const n=Wd(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Wd(e){return e instanceof ps&&e.getTypeName()||null}function Av(e){return new Dv(e)}function xv(e){return new Sv(e)}function Iv(e){return new wv(e)}function Rv(e){return new Mv(e)}function Ov(e){return new Tv(e)}class Pv{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(ks(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class kv{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const i=this.inertDocument.createElement("body");n.appendChild(i)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=ks(t),n;const i=this.inertDocument.createElement("body");return i.innerHTML=ks(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const n=t.attributes;for(let r=n.length-1;0<r;r--){const o=n.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Fv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Nv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Lo(e){return(e=String(e)).match(Fv)||e.match(Nv)?e:"unsafe:"+e}function xr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Fo(...e){const t={};for(const n of e)for(const i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}const Kd=xr("area,br,col,hr,img,wbr"),Yd=xr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qd=xr("rp,rt"),ql=Fo(Kd,Fo(Yd,xr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fo(qd,xr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fo(qd,Yd)),Ql=xr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zl=xr("srcset"),Qd=Fo(Ql,Zl,xr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Bv=xr("script,style,template");class Vv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,i=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!ql.hasOwnProperty(n))return this.sanitizedSomething=!0,!Bv.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!Qd.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let y=s.value;Ql[a]&&(y=Lo(y)),Zl[a]&&(e=y,y=(e=String(e)).split(",").map(t=>Lo(t.trim())).join(", ")),this.buf.push(" ",o,'="',Zd(y),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();ql.hasOwnProperty(n)&&!Kd.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Zd(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Hv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jv=/([^\#-~ |!])/g;function Zd(e){return e.replace(/&/g,"&amp;").replace(Hv,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(jv,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let La;function Jd(e,t){let n=null;try{La=La||function(e){const t=new kv(e);return function(){try{return!!(new window.DOMParser).parseFromString(ks(""),"text/html")}catch(e){return!1}}()?new Pv(t):t}(e);let i=t?String(t):"";n=La.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=La.getInertBodyElement(i)}while(i!==s);return ks((new Vv).sanitizeChildren(Jl(n)||n))}finally{if(n){const i=Jl(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Jl(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var $n=(()=>(($n=$n||{})[$n.NONE=0]="NONE",$n[$n.HTML=1]="HTML",$n[$n.STYLE=2]="STYLE",$n[$n.SCRIPT=3]="SCRIPT",$n[$n.URL=4]="URL",$n[$n.RESOURCE_URL=5]="RESOURCE_URL",$n))();const nh="__ngContext__";function bi(e,t){e[nh]=t}function ec(e){const t=function(e){return e[nh]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Fa(e){return e.ngOriginalError}function sy(e,...t){e.error(...t)}class Fs{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),i=this._findContext(t),r=(e=t)&&e.ngErrorLogger||sy;var e;r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n),i&&r(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?t.ngDebugContext||this._findContext(Fa(t)):null}_findOriginalError(t){let n=t&&Fa(t);for(;n&&Fa(n);)n=Fa(n);return n||null}}const dh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Yt))();function Ir(e){return e instanceof Function?e():e}var Rr=(()=>((Rr=Rr||{})[Rr.Important=1]="Important",Rr[Rr.DashCase=2]="DashCase",Rr))();function ic(e,t){return undefined(e,t)}function Vo(e){const t=e[3];return hn(t)?t[3]:t}function rc(e){return gh(e[13])}function sc(e){return gh(e[4])}function gh(e){for(;null!==e&&!hn(e);)e=e[4];return e}function Bs(e,t,n,i,r){if(null!=i){let s,o=!1;hn(i)?s=i:Fn(i)&&(o=!0,i=i[0]);const a=Ce(i);0===e&&null!==n?null==r?Eh(t,n,a):_s(t,n,a,r||null,!0):1===e&&null!==n?_s(t,n,a,r||null,!0):2===e?function(e,t,n){const i=Ba(e,t);i&&function(e,t,n,i){A(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,i,r){const s=n[7];s!==Ce(n)&&Bs(t,e,i,s,r);for(let a=10;a<n.length;a++){const y=n[a];Ho(y[1],y,e,t,i,s)}}(t,e,s,n,r)}}function ac(e,t,n){return A(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function vh(e,t){const n=e[9],i=n.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,wi(r,-1)),n.splice(i,1)}function lc(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const r=i[17];null!==r&&r!==e&&vh(r,i),t>0&&(e[n-1][4]=i[4]);const s=ds(e,10+t);!function(e,t){Ho(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function yh(e,t){if(!(256&t[2])){const n=t[11];A(n)&&n.destroyNode&&Ho(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return cc(e[1],e);for(;t;){let n=null;if(Fn(t))n=t[13];else{const i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)Fn(t)&&cc(t[1],t),t=t[3];null===t&&(t=e),Fn(t)&&cc(t[1],t),n=t&&t[4]}t=n}}(t)}}function cc(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof Wi)){const s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],y=s[o+1];try{y.call(a)}finally{}}else try{s.call(r)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,i=t[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(t):Ce(t[o]),y=i[r=n[s+2]],R=n[s+3];"boolean"==typeof R?a.removeEventListener(n[s],y,R):R>=0?i[r=R]():i[r=-R].unsubscribe(),s+=2}else{const o=i[r=n[s+1]];n[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();t[7]=null}}(e,t),1===t[1].type&&A(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&hn(t[3])){n!==t[3]&&vh(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function bh(e,t,n){return function(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const r=e.data[i.directiveStart].encapsulation;if(r===it.None||r===it.Emulated)return null}return O(i,n)}(e,t.parent,n)}function _s(e,t,n,i,r){A(e)?e.insertBefore(t,n,i,r):t.insertBefore(n,i,r)}function Eh(e,t,n){A(e)?e.appendChild(t,n):t.appendChild(n)}function Dh(e,t,n,i,r){null!==i?_s(e,t,n,i,r):Eh(e,t,n)}function Ba(e,t){return A(e)?e.parentNode(t):t.parentNode}function Sh(e,t,n){return Mh(e,t,n)}let Mh=function(e,t,n){return 40&e.type?O(e,n):null};function Va(e,t,n,i){const r=bh(e,i,t),s=t[11],a=Sh(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(let y=0;y<n.length;y++)Dh(s,r,n[y],a,!1);else Dh(s,r,n,a,!1)}function Ha(e,t){if(null!==t){const n=t.type;if(3&n)return O(t,e);if(4&n)return dc(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return Ha(e,i);{const r=e[t.index];return hn(r)?dc(-1,r):Ce(r)}}if(32&n)return ic(t,e)()||Ce(e[t.index]);{const i=Ah(e,t);return null!==i?Array.isArray(i)?i[0]:Ha(Vo(e[16]),i):Ha(e,t.next)}}return null}function Ah(e,t){return null!==t?e[16][6].projection[t.projection]:null}function dc(e,t){const n=10+e+1;if(n<t.length){const i=t[n],r=i[1].firstChild;if(null!==r)return Ha(i,r)}return t[7]}function hc(e,t,n,i,r,s,o){for(;null!=n;){const a=i[n.index],y=n.type;if(o&&0===t&&(a&&bi(Ce(a),i),n.flags|=4),64!=(64&n.flags))if(8&y)hc(e,t,n.child,i,r,s,!1),Bs(t,e,r,a,s);else if(32&y){const R=ic(n,i);let j;for(;j=R();)Bs(t,e,r,j,s);Bs(t,e,r,a,s)}else 16&y?Ih(e,t,i,n,r,s):Bs(t,e,r,a,s);n=o?n.projectionNext:n.next}}function Ho(e,t,n,i,r,s){hc(n,i,e.firstChild,t,r,s,!1)}function Ih(e,t,n,i,r,s){const o=n[16],y=o[6].projection[i.projection];if(Array.isArray(y))for(let R=0;R<y.length;R++)Bs(t,e,r,y[R],s);else hc(e,t,y,o[3],r,s,!0)}function Rh(e,t,n){A(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function fc(e,t,n){A(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Oh(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}n=r+1}}const Ph="ng-template";function Ry(e,t,n){let i=0;for(;i<e.length;){let r=e[i++];if(n&&"class"===r){if(r=e[i],-1!==Oh(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function kh(e){return 4===e.type&&e.value!==Ph}function Oy(e,t,n){return t===(4!==e.type||n?e.value:Ph)}function Py(e,t,n){let i=4;const r=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(yd(e[t]))return t;return e.length}(r);let o=!1;for(let a=0;a<t.length;a++){const y=t[a];if("number"!=typeof y){if(!o)if(4&i){if(i=2|1&i,""!==y&&!Oy(e,y,n)||""===y&&1===t.length){if(hr(i))return!1;o=!0}}else{const R=8&i?y:t[++a];if(8&i&&null!==e.attrs){if(!Ry(e.attrs,R,n)){if(hr(i))return!1;o=!0}continue}const J=ky(8&i?"class":y,r,kh(e),n);if(-1===J){if(hr(i))return!1;o=!0;continue}if(""!==R){let ie;ie=J>s?"":r[J+1].toLowerCase();const ge=8&i?ie:null;if(ge&&-1!==Oh(ge,R,0)||2&i&&R!==ie){if(hr(i))return!1;o=!0}}}}else{if(!o&&!hr(i)&&!hr(y))return!1;if(o&&hr(y))continue;o=!1,i=y|1&i}}return hr(i)||o}function hr(e){return 0==(1&e)}function ky(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let s=!1;for(;r<t.length;){const o=t[r];if(o===e)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Lh(e,t,n=!1){for(let i=0;i<t.length;i++)if(Py(e,t[i],n))return!0;return!1}function By(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Fh(e,t){return e?":not("+t.trim()+")":t}function Vy(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&i){const a=e[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!hr(o)&&(t+=Fh(s,r),r=""),i=o,s=s||!hr(i);n++}return""!==r&&(t+=Fh(s,r)),t}const qt={};function Nh(e){Bh(nn(),st(),Vn()+e,K())}function Bh(e,t,n,i){if(!i)if(3==(3&t[2])){const s=e.preOrderCheckHooks;null!==s&&ji(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Tn(t,s,0,n)}dr(n)}function ja(e,t){return e<<17|t<<2}function fr(e){return e>>17&32767}function pc(e){return 2|e}function Kr(e){return(131068&e)>>2}function _c(e,t){return-131069&e|t<<2}function gc(e){return 1|e}function Yh(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const o=e.data[s];On(r),o.contentQueries(2,t[s],s)}}}function jo(e,t,n,i,r,s,o,a,y,R){const j=t.blueprint.slice();return j[0]=r,j[2]=140|i,oi(j),j[3]=j[15]=e,j[8]=n,j[10]=o||e&&e[10],j[11]=a||e&&e[11],j[12]=y||e&&e[12]||null,j[9]=R||e&&e[9]||null,j[6]=s,j[16]=2==t.type?e[16]:j,j}function Vs(e,t,n,i,r){let s=e.data[t];if(null===s)s=function(e,t,n,i,r){const s=Co(),o=G(),y=e.data[t]=function(e,t,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=y),null!==s&&(o?null==s.child&&null!==y.parent&&(s.child=y):null===s.next&&(s.next=y)),y}(e,t,n,i,r),kt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const o=function(){const e=kt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return cr(s,!0),s}function Hs(e,t,n,i){if(0===n)return-1;const r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Uo(e,t,n){ur(t);try{const i=e.viewQuery;null!==i&&Oc(1,i,n);const r=e.template;null!==r&&qh(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Yh(e,t),e.staticViewQueries&&Oc(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)vb(e,t[n])}(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[2]&=-5,Oi()}}function js(e,t,n,i){const r=t[2];if(256==(256&r))return;ur(t);const s=K();try{oi(t),function(e){kt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&qh(e,t,n,2,i);const o=3==(3&r);if(!s)if(o){const R=e.preOrderCheckHooks;null!==R&&ji(t,R,null)}else{const R=e.preOrderHooks;null!==R&&Tn(t,R,0,null),Eo(t,0)}if(function(e){for(let t=rc(e);null!==t;t=sc(t)){if(!t[2])continue;const n=t[9];for(let i=0;i<n.length;i++){const r=n[i],s=r[3];0==(1024&r[2])&&wi(s,1),r[2]|=1024}}}(t),function(e){for(let t=rc(e);null!==t;t=sc(t))for(let n=10;n<t.length;n++){const i=t[n],r=i[1];yn(i)&&js(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&Yh(e,t),!s)if(o){const R=e.contentCheckHooks;null!==R&&ji(t,R)}else{const R=e.contentHooks;null!==R&&Tn(t,R,1),Eo(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)dr(~r);else{const s=r,o=n[++i],a=n[++i];sn(o,s),a(2,t[s])}}}finally{dr(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)mb(e,t[n])}(t,a);const y=e.viewQuery;if(null!==y&&Oc(2,y,i),!s)if(o){const R=e.viewCheckHooks;null!==R&&ji(t,R)}else{const R=e.viewHooks;null!==R&&Tn(t,R,2),Eo(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,wi(t[3],-1))}finally{Oi()}}function Jy(e,t,n,i){const r=t[10],s=!K(),o=Ht(t);try{s&&!o&&r.begin&&r.begin(),o&&Uo(e,t,i),js(e,t,n,i)}finally{s&&!o&&r.end&&r.end()}}function qh(e,t,n,i,r){const s=Vn(),o=2&i;try{dr(-1),o&&t.length>20&&Bh(e,t,20,K()),n(i,r)}finally{dr(s)}}function Qh(e,t,n){if(mi(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=e.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function Sc(e,t,n){!ba()||(function(e,t,n,i){const r=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||wo(n,t),bi(i,t);const o=n.initialInputs;for(let a=r;a<s;a++){const y=e.data[a],R=ui(y);R&&hb(t,n,y);const j=Mo(t,e,a,n);bi(j,t),null!==o&&fb(0,a-r,j,y,0,o),R&&(dt(n.index,t)[8]=j)}}(e,t,n,O(n,t)),128==(128&n.flags)&&function(e,t,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,a=kt.lFrame.currentDirectiveIndex;try{dr(o);for(let y=i;y<r;y++){const R=e.data[y],j=t[y];zt(y),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&sf(R,j)}}finally{dr(-1),zt(a)}}(e,t,n))}function wc(e,t,n=O){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(t,e):e[o];e[r++]=a}}}function Zh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Wa(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Wa(e,t,n,i,r,s,o,a,y,R){const j=20+i,J=j+r,ie=function(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:qt);return n}(j,J),ge="function"==typeof R?R():R;return ie[1]={type:e,blueprint:ie,template:n,queries:null,viewQuery:a,declTNode:t,data:ie.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:J,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:y,consts:ge,incompleteFirstPass:!1}}function ef(e,t,n,i){const r=df(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&hf(e).push(i,r.length-1))}function tf(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function Gi(e,t,n,i,r,s,o,a){const y=O(t,n);let j,R=t.inputs;!a&&null!=R&&(j=R[i])?(_f(e,n,j,i,r),Qn(t)&&function(e,t){const n=dt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(i=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=o?o(r,t.value||"",i):r,A(s)?s.setProperty(y,i,r):Pl(i)||(y.setProperty?y.setProperty(i,r):y[i]=r))}function Mc(e,t,n,i){let r=!1;if(ba()){const s=function(e,t,n){const i=e.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];Lh(n,o.selectors,!1)&&(r||(r=[]),Ma(wo(n,t),e,o.type),ui(o)?(of(e,n),r.unshift(o)):r.push(o))}return r}(e,t,n),o=null===i?null:{"":-1};if(null!==s){r=!0,af(n,e.data.length,s.length);for(let j=0;j<s.length;j++){const J=s[j];J.providersResolver&&J.providersResolver(J)}let a=!1,y=!1,R=Hs(e,t,s.length,null);for(let j=0;j<s.length;j++){const J=s[j];n.mergedAttrs=Da(n.mergedAttrs,J.hostAttrs),lf(e,n,t,R,J),db(R,J,o),null!==J.contentQueries&&(n.flags|=8),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(n.flags|=128);const ie=J.type.prototype;!a&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),a=!0),!y&&(ie.ngOnChanges||ie.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),y=!0),R++}!function(e,t){const i=t.directiveEnd,r=e.data,s=t.attrs,o=[];let a=null,y=null;for(let R=t.directiveStart;R<i;R++){const j=r[R],J=j.inputs,ie=null===s||kh(t)?null:pb(J,s);o.push(ie),a=tf(J,R,a),y=tf(j.outputs,R,y)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=y}(e,n)}o&&function(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const s=n[t[r+1]];if(null==s)throw new c("301",`Export of name '${t[r+1]}' not found!`);i.push(t[r],s)}}}(n,i,o)}return n.mergedAttrs=Da(n.mergedAttrs,n.attrs),r}function rf(e,t,n,i,r,s){const o=s.hostBindings;if(o){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const y=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=y&&a.push(y),a.push(i,r,o)}}function sf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function of(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function db(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;ui(t)&&(n[""]=e)}}function af(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function lf(e,t,n,i,r){e.data[i]=r;const s=r.factory||(r.factory=yi(r.type)),o=new Wi(s,ui(r),null);e.blueprint[i]=o,n[i]=o,rf(e,t,0,i,Hs(e,n,r.hostVars,qt),r)}function hb(e,t,n){const i=O(t,e),r=Zh(n),s=e[10],o=$a(e,jo(e,r,null,n.onPush?64:16,i,t,s,s.createRenderer(i,n),null,null));e[t.index]=o}function Or(e,t,n,i,r,s){const o=O(e,t);!function(e,t,n,i,r,s,o){if(null==s)A(e)?e.removeAttribute(t,r,n):t.removeAttribute(r);else{const a=null==o?k(s):o(s,i||"",r);A(e)?e.setAttribute(t,r,a,n):n?t.setAttributeNS(n,r,a):t.setAttribute(r,a)}}(t[11],o,s,e.value,n,i,r)}function fb(e,t,n,i,r,s){const o=s[t];if(null!==o){const a=i.setInput;for(let y=0;y<o.length;){const R=o[y++],j=o[y++],J=o[y++];null!==a?i.setInput(n,J,R,j):n[j]=J}}}function pb(e,t){let n=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function cf(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function mb(e,t){const n=dt(t,e);if(yn(n)){const i=n[1];80&n[2]?js(i,n,i.template,n[8]):n[5]>0&&Ac(n)}}function Ac(e){for(let i=rc(e);null!==i;i=sc(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];js(o,s,o.template,s[8])}else s[5]>0&&Ac(s)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=dt(n[i],e);yn(r)&&r[5]>0&&Ac(r)}}function vb(e,t){const n=dt(t,e),i=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),Uo(i,n,n[8])}function $a(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function xc(e){for(;e;){e[2]|=64;const t=Vo(e);if(Zn(e)&&!t)return e;e=t}return null}function Rc(e,t,n){const i=t[10];i.begin&&i.begin();try{js(e,t,e.template,n)}catch(r){throw pf(t,r),r}finally{i.end&&i.end()}}function uf(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=ec(n),r=i[1];Jy(r,i,r.template,n)}}(e[8])}function Oc(e,t,n){On(0),t(e,n)}const Db=(()=>Promise.resolve(null))();function df(e){return e[7]||(e[7]=[])}function hf(e){return e.cleanup||(e.cleanup=[])}function pf(e,t){const n=e[9],i=n?n.get(Fs,null):null;i&&i.handleError(t)}function _f(e,t,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],y=t[o],R=e.data[o];null!==R.setInput?R.setInput(y,r,i,a):y[a]=r}}function qr(e,t,n){const i=L(t,e);!function(e,t,n){A(e)?e.setValue(t,n):t.textContent=n}(e[11],i,n)}function Ga(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=w(r,a):2==s&&(i=w(i,a+": "+t[++o]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}const Us=new Wn("INJECTOR",-1);class gf{get(t,n=Io){if(n===Io){const i=new Error(`NullInjectorError: No provider for ${b(t)}!`);throw i.name="NullInjectorError",i}return n}}const zo=new Wn("Set Injector scope."),Wo={},Mb={};let Pc;function mf(){return void 0===Pc&&(Pc=new gf),Pc}function vf(e,t=null,n=null,i){return new Ab(e,n,t||mf(),i)}class Ab{constructor(t,n,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Ar(n,a=>this.processProvider(a,t,n)),Ar([t],a=>this.processInjectorType(a,[],s)),this.records.set(Us,zs(void 0,this));const o=this.records.get(zo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:b(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=Io,i=yt.Default){this.assertNotDestroyed();const r=Os(this),s=vn(void 0);try{if(!(i&yt.SkipSelf)){let a=this.records.get(t);if(void 0===a){const y=("function"==typeof(e=t)||"object"==typeof e&&e instanceof Wn)&&Ft(t);a=y&&this.injectableDefInScope(y)?zs(kc(t),Wo):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&yt.Self?mf():this.parent).get(t,n=i&yt.Optional&&n===Io?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Rs]=o[Rs]||[]).unshift(b(t)),r)throw o;return Fd(o,t,"R3InjectorError",this.source)}throw o}finally{vn(s),Os(r)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(b(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,i){if(!(t=g(t)))return!1;let r=Mn(t);const s=null==r&&t.ngModule||void 0,o=void 0===s?t:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=Mn(s)),null==r)return!1;if(null!=r.imports&&!a){let j;i.push(o);try{Ar(r.imports,J=>{this.processInjectorType(J,n,i)&&(void 0===j&&(j=[]),j.push(J))})}finally{}if(void 0!==j)for(let J=0;J<j.length;J++){const{ngModule:ie,providers:ge}=j[J];Ar(ge,we=>this.processProvider(we,ie,ge||Bt))}}this.injectorDefTypes.add(o);const y=yi(o)||(()=>new o);this.records.set(o,zs(y,Wo));const R=r.providers;if(null!=R&&!a){const j=t;Ar(R,J=>this.processProvider(J,j,R))}return void 0!==s&&void 0!==t.providers}processProvider(t,n,i){let r=Ws(t=g(t))?t:g(t&&t.provide);const s=bf(e=t)?zs(void 0,e.useValue):zs(yf(e),Wo);var e;if(Ws(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=zs(void 0,Wo,!0),o.factory=()=>hs(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,s)}hydrate(t,n){return n.value===Wo&&(n.value=Mb,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=g(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function kc(e){const t=Ft(e),n=null!==t?t.factory:yi(e);if(null!==n)return n;if(e instanceof Wn)throw new Error(`Token ${b(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const i=es(t,"?");throw new Error(`Can't resolve all parameters for ${b(e)}: (${i.join(", ")}).`)}const n=function(e){const t=e&&(e[En]||e[Kt]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function yf(e,t,n){let i;if(Ws(e)){const r=g(e);return yi(r)||kc(r)}if(bf(e))i=()=>g(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...hs(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>Jn(g(e.useExisting));else{const r=g(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return yi(r)||kc(r);i=()=>new r(...hs(e.deps))}return i}function zs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function bf(e){return null!==e&&"object"==typeof e&&$l in e}function Ws(e){return"function"==typeof e}const Cf=function(e,t,n){return function(e,t=null,n=null,i){const r=vf(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)};let Ln=(()=>{class e{static create(n,i){return Array.isArray(n)?Cf(n,i,""):Cf(n.providers,n.parent,n.name||"")}}return e.THROW_IF_NOT_FOUND=Io,e.NULL=new gf,e.\u0275prov=nt({token:e,providedIn:"any",factory:()=>Jn(Us)}),e.__NG_ELEMENT_ID__=-1,e})();function qb(e,t){hi(ec(e)[1],zn())}function Hc(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let r;if(ui(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);const o=e;o.inputs=jc(e.inputs),o.declaredInputs=jc(e.declaredInputs),o.outputs=jc(e.outputs);const a=r.hostBindings;a&&Xb(e,a);const y=r.viewQuery,R=r.contentQueries;if(y&&Zb(e,y),R&&Jb(e,R),T(e.inputs,r.inputs),T(e.declaredInputs,r.declaredInputs),T(e.outputs,r.outputs),ui(r)&&r.data.animation){const j=e.data;j.animation=(j.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===Hc&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Da(r.hostAttrs,n=Da(n,r.hostAttrs))}}(i)}function jc(e){return e===Vt?{}:e===Bt?[]:e}function Zb(e,t){const n=e.viewQuery;e.viewQuery=n?(i,r)=>{t(i,r),n(i,r)}:t}function Jb(e,t){const n=e.contentQueries;e.contentQueries=n?(i,r,s)=>{t(i,r,s),n(i,r,s)}:t}function Xb(e,t){const n=e.hostBindings;e.hostBindings=n?(i,r)=>{t(i,r),n(i,r)}:t}let Ka=null;function $s(){if(!Ka){const e=Yt.Symbol;if(e&&e.iterator)Ka=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ka=i)}}}return Ka}function Go(e){return!!Uc(e)&&(Array.isArray(e)||!(e instanceof Map)&&$s()in e)}function Uc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Pr(e,t,n){return e[t]=n}function Ci(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function zc(e,t,n,i){const r=st();return Ci(r,Ke(),t)&&(nn(),Or(Pn(),r,e,t,n,i)),zc}function Yf(e,t,n,i,r,s,o,a){const y=st(),R=nn(),j=e+20,J=R.firstCreatePass?function(e,t,n,i,r,s,o,a,y){const R=t.consts,j=Vs(t,e,4,o||null,Bn(R,a));Mc(t,n,j,Bn(R,y)),hi(t,j);const J=j.tViews=Wa(2,j,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,R);return null!==t.queries&&(t.queries.template(t,j),J.queries=t.queries.embeddedTView(j)),j}(j,R,y,t,n,i,r,s,o):R.data[j];cr(J,!1);const ie=y[11].createComment("");Va(R,y,ie,J),bi(ie,y),$a(y,y[j]=cf(ie,y,ie,J)),vi(J)&&Sc(R,y,J),null!=o&&wc(y,J,a)}function qf(e){return function(e,t){return e[t]}(kt.lFrame.contextLView,20+e)}function Yo(e,t=yt.Default){const n=st();return null===n?Jn(e,t):Md(zn(),n,g(e),t)}function Yc(e,t,n){const i=st();return Ci(i,Ke(),t)&&Gi(nn(),Pn(),i,e,t,i[11],n,!1),Yc}function qc(e,t,n,i,r){const o=r?"class":"style";_f(e,n,t.inputs[o],o,i)}function Qc(e,t,n,i){const r=st(),s=nn(),o=20+e,a=r[11],y=r[o]=ac(a,t,kt.lFrame.currentNamespace),R=s.firstCreatePass?function(e,t,n,i,r,s,o){const a=t.consts,R=Vs(t,e,2,r,Bn(a,s));return Mc(t,n,R,Bn(a,o)),null!==R.attrs&&Ga(R,R.attrs,!1),null!==R.mergedAttrs&&Ga(R,R.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,R),R}(o,s,r,0,t,n,i):s.data[o];cr(R,!0);const j=R.mergedAttrs;null!==j&&Ea(a,y,j);const J=R.classes;null!==J&&fc(a,y,J);const ie=R.styles;null!==ie&&Rh(a,y,ie),64!=(64&R.flags)&&Va(s,r,y,R),0===kt.lFrame.elementDepthCount&&bi(y,r),kt.lFrame.elementDepthCount++,vi(R)&&(Sc(s,r,R),Qh(s,R,r)),null!==i&&wc(r,R)}function Zc(){let e=zn();G()?d():(e=e.parent,cr(e,!1));const t=e;kt.lFrame.elementDepthCount--;const n=nn();n.firstCreatePass&&(hi(n,e),mi(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&qc(n,t,st(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&qc(n,t,st(),t.stylesWithoutHost,!1)}function ap(e,t,n,i){Qc(e,t,n,i),Zc()}function Jc(e,t,n){const i=st(),r=nn(),s=e+20,o=r.firstCreatePass?function(e,t,n,i,r){const s=t.consts,o=Bn(s,i),a=Vs(t,e,8,"ng-container",o);return null!==o&&Ga(a,o,!0),Mc(t,n,a,Bn(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,n):r.data[s];cr(o,!0);const a=i[s]=i[11].createComment("");Va(r,i,a,o),bi(a,i),vi(o)&&(Sc(r,i,o),Qh(r,o,i)),null!=n&&wc(i,o)}function Xc(){let e=zn();const t=nn();G()?d():(e=e.parent,cr(e,!1)),t.firstCreatePass&&(hi(t,e),mi(e)&&t.queries.elementEnd(e))}function lp(){return st()}function eu(e){return!!e&&"function"==typeof e.then}function cp(e){return!!e&&"function"==typeof e.subscribe}const tu=cp;function nu(e,t,n,i){const r=st(),s=nn(),o=zn();return function(e,t,n,i,r,s,o,a){const y=vi(i),j=e.firstCreatePass&&hf(e),J=t[8],ie=df(t);let ge=!0;if(3&i.type||a){const Fe=O(i,t),ct=a?a(Fe):Fe,Ze=ie.length,Tt=a?jt=>a(Ce(jt[i.index])):i.index;if(A(n)){let jt=null;if(!a&&y&&(jt=function(e,t,n,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===n&&r[s+1]===i){const a=t[7],y=r[s+2];return a.length>y?a[y]:null}"string"==typeof o&&(s+=2)}return null}(e,t,r,i.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=s,jt.__ngLastListenerFn__=s,ge=!1;else{s=iu(i,t,J,s,!1);const on=n.listen(ct,r,s);ie.push(s,on),j&&j.push(r,Tt,Ze,Ze+1)}}else s=iu(i,t,J,s,!0),ct.addEventListener(r,s,o),ie.push(s),j&&j.push(r,Tt,Ze,o)}else s=iu(i,t,J,s,!1);const we=i.outputs;let Ue;if(ge&&null!==we&&(Ue=we[r])){const Fe=Ue.length;if(Fe)for(let ct=0;ct<Fe;ct+=2){const ci=t[Ue[ct]][Ue[ct+1]].subscribe(s),or=ie.length;ie.push(s,ci),j&&j.push(r,i.index,or,-(or+1))}}}(s,r,r[11],o,e,t,!!n,i),nu}function hp(e,t,n,i){try{return!1!==n(i)}catch(r){return pf(e,r),!1}}function iu(e,t,n,i,r){return function s(o){if(o===Function)return i;const a=2&e.flags?dt(e.index,t):t;0==(32&t[2])&&xc(a);let y=hp(t,0,i,o),R=s.__ngNextListenerFn__;for(;R;)y=hp(t,0,R,o)&&y,R=R.__ngNextListenerFn__;return r&&!1===y&&(o.preventDefault(),o.returnValue=!1),y}}function fp(e=1){return function(e){return(kt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,kt.lFrame.contextLView))[8]}(e)}function kC(e,t){let n=null;const i=function(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?Lh(e,s,!0):By(i,s))return r}else n=r}return n}function pp(e){const t=st()[16][6];if(!t.projection){const i=t.projection=es(e?e.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=e?kC(s,e):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function _p(e,t=0,n){const i=st(),r=nn(),s=Vs(r,20+e,16,null,n||null);null===s.projection&&(s.projection=t),d(),64!=(64&s.flags)&&function(e,t,n){Ih(t[11],0,t,n,bh(e,n,t),Sh(n.parent||t[6],n,t))}(r,i,s)}function wp(e,t,n,i,r){const s=e[n+1],o=null===t;let a=i?fr(s):Kr(s),y=!1;for(;0!==a&&(!1===y||o);){const j=e[a+1];NC(e[a],t)&&(y=!0,e[a+1]=i?gc(j):pc(j)),a=i?fr(j):Kr(j)}y&&(e[n+1]=i?pc(s):gc(s))}function NC(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Is(e,t)>=0}function su(e,t,n){return gr(e,t,n,!1),su}function ou(e,t){return gr(e,t,null,!0),ou}function gr(e,t,n,i){const r=st(),s=nn(),o=function(e){const t=kt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function(e,t,n,i){const r=e.data;if(null===r[n+1]){const s=r[Vn()],o=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(s,i)&&null===t&&!o&&(t=!1),t=function(e,t,n,i){const r=function(e){const t=kt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=qo(n=au(null,e,t,n,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==r)if(n=au(r,e,t,n,i),null===s){let y=function(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Kr(i))return e[fr(i)]}(e,t,i);void 0!==y&&Array.isArray(y)&&(y=au(null,e,t,y[1],i),y=qo(y,t.attrs,i),function(e,t,n,i){e[fr(n?t.classBindings:t.styleBindings)]=i}(e,t,i,y))}else s=function(e,t,n){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=qo(i,e[s].hostAttrs,n);return qo(i,t.attrs,n)}(e,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),n}(r,s,t,i),function(e,t,n,i,r,s){let o=s?t.classBindings:t.styleBindings,a=fr(o),y=Kr(o);e[i]=n;let j,R=!1;if(Array.isArray(n)){const J=n;j=J[1],(null===j||Is(J,j)>0)&&(R=!0)}else j=n;if(r)if(0!==y){const ie=fr(e[a+1]);e[i+1]=ja(ie,a),0!==ie&&(e[ie+1]=_c(e[ie+1],i)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],i)}else e[i+1]=ja(a,0),0!==a&&(e[a+1]=_c(e[a+1],i)),a=i;else e[i+1]=ja(y,0),0===a?a=i:e[y+1]=_c(e[y+1],i),y=i;R&&(e[i+1]=pc(e[i+1])),wp(e,j,i,!0),wp(e,j,i,!1),function(e,t,n,i,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Is(s,t)>=0&&(n[i+1]=gc(n[i+1]))}(t,j,e,i,s),o=ja(a,y),s?t.classBindings=o:t.styleBindings=o}(r,s,t,n,o,i)}}(s,e,o,i),t!==qt&&Ci(r,o,t)&&function(e,t,n,i,r,s,o,a){if(!(3&t.type))return;const y=e.data,R=y[a+1];Qa(function(e){return 1==(1&e)}(R)?Fp(y,t,n,r,Kr(R),o):void 0)||(Qa(s)||function(e){return 2==(2&e)}(R)&&(s=Fp(y,null,n,r,a,o)),function(e,t,n,i,r){const s=A(e);if(t)r?s?e.addClass(n,i):n.classList.add(i):s?e.removeClass(n,i):n.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:Rr.DashCase;if(null==r)s?e.removeStyle(n,i,o):n.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=Rr.Important),s?e.setStyle(n,i,r,o):n.style.setProperty(i,r,a?"important":"")}}}(i,o,L(Vn(),n),r,s))}(s,s.data[Vn()],r,r[11],e,r[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=b(Gr(e)))),e}(t,n),i,o)}function au(e,t,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],i=qo(i,s.hostAttrs,r),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function qo(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),$i(e,o,!!n||t[++s]))}return void 0===e?null:e}function Fp(e,t,n,i,r,s){const o=null===t;let a;for(;r>0;){const y=e[r],R=Array.isArray(y),j=R?y[1]:y,J=null===j;let ie=n[r+1];ie===qt&&(ie=J?Bt:void 0);let ge=J?jl(ie,i):j===i?ie:void 0;if(R&&!Qa(ge)&&(ge=jl(y,i)),Qa(ge)&&(a=ge,o))return a;const we=e[r+1];r=o?fr(we):Kr(we)}if(null!==t){let y=s?t.residualClasses:t.residualStyles;null!=y&&(a=jl(y,i))}return a}function Qa(e){return void 0!==e}function Bp(e,t=""){const n=st(),i=nn(),r=e+20,s=i.firstCreatePass?Vs(i,r,1,t,null):i.data[r],o=n[r]=function(e,t){return A(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Va(i,n,o,s),cr(s,!1)}function lu(e){return Za("",e,""),lu}function Za(e,t,n){const i=st(),r=function(e,t,n,i){return Ci(e,Ke(),n)?t+k(n)+i:qt}(i,e,t,n);return r!==qt&&qr(i,Vn(),r),Za}function cu(e,t,n){const i=st();return Ci(i,Ke(),t)&&Gi(nn(),Pn(),i,e,t,i[11],n,!0),cu}const ms=void 0;var y0=["en",[["a","p"],["AM","PM"],ms],[["AM","PM"],ms,ms],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ms,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ms,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ms,"{1} 'at' {0}",ms],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let io={};function uu(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=r_(t);if(n)return n;const i=t.split("-")[0];if(n=r_(i),n)return n;if("en"===i)return y0;throw new Error(`Missing locale data for the locale "${e}".`)}function i_(e){return uu(e)[Lt.PluralCase]}function r_(e){return e in io||(io[e]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[e]),io[e]}var Lt=(()=>((Lt=Lt||{})[Lt.LocaleId=0]="LocaleId",Lt[Lt.DayPeriodsFormat=1]="DayPeriodsFormat",Lt[Lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Lt[Lt.DaysFormat=3]="DaysFormat",Lt[Lt.DaysStandalone=4]="DaysStandalone",Lt[Lt.MonthsFormat=5]="MonthsFormat",Lt[Lt.MonthsStandalone=6]="MonthsStandalone",Lt[Lt.Eras=7]="Eras",Lt[Lt.FirstDayOfWeek=8]="FirstDayOfWeek",Lt[Lt.WeekendRange=9]="WeekendRange",Lt[Lt.DateFormat=10]="DateFormat",Lt[Lt.TimeFormat=11]="TimeFormat",Lt[Lt.DateTimeFormat=12]="DateTimeFormat",Lt[Lt.NumberSymbols=13]="NumberSymbols",Lt[Lt.NumberFormats=14]="NumberFormats",Lt[Lt.CurrencyCode=15]="CurrencyCode",Lt[Lt.CurrencySymbol=16]="CurrencySymbol",Lt[Lt.CurrencyName=17]="CurrencyName",Lt[Lt.Currencies=18]="Currencies",Lt[Lt.Directionality=19]="Directionality",Lt[Lt.PluralCase=20]="PluralCase",Lt[Lt.ExtraData=21]="ExtraData",Lt))();const Ja="en-US";let s_=Ja;function du(e){De(e,"Expected localeId to be defined"),"string"==typeof e&&(s_=e.toLowerCase().replace(/_/g,"-"))}function pu(e,t,n,i,r){if(e=g(e),Array.isArray(e))for(let s=0;s<e.length;s++)pu(e[s],t,n,i,r);else{const s=nn(),o=st();let a=Ws(e)?e:g(e.provide),y=yf(e);const R=zn(),j=1048575&R.providerIndexes,J=R.directiveStart,ie=R.providerIndexes>>20;if(Ws(e)||!e.multi){const ge=new Wi(y,r,Yo),we=gu(a,t,r?j:j+ie,J);-1===we?(Ma(wo(R,o),s,a),_u(s,e,t.length),t.push(a),R.directiveStart++,R.directiveEnd++,r&&(R.providerIndexes+=1048576),n.push(ge),o.push(ge)):(n[we]=ge,o[we]=ge)}else{const ge=gu(a,t,j+ie,J),we=gu(a,t,j,j+ie),Ue=ge>=0&&n[ge],Fe=we>=0&&n[we];if(r&&!Fe||!r&&!Ue){Ma(wo(R,o),s,a);const ct=function(e,t,n,i,r){const s=new Wi(e,n,Yo);return s.multi=[],s.index=t,s.componentProviders=0,x_(s,r,i&&!n),s}(r?gE:_E,n.length,r,i,y);!r&&Fe&&(n[we].providerFactory=ct),_u(s,e,t.length,0),t.push(a),R.directiveStart++,R.directiveEnd++,r&&(R.providerIndexes+=1048576),n.push(ct),o.push(ct)}else _u(s,e,ge>-1?ge:we,x_(n[r?we:ge],y,!r&&i));!r&&i&&Fe&&n[we].componentProviders++}}}function _u(e,t,n,i){const r=Ws(t);if(r||function(e){return!!e.useClass}(t)){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const a=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const y=a.indexOf(n);-1===y?a.push(n,[i,o]):a[y+1].push(i,o)}else a.push(n,o)}}}function x_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function gu(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function _E(e,t,n,i){return mu(this.multi,[])}function gE(e,t,n,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Mo(n,n[1],this.providerFactory.index,i);s=a.slice(0,o),mu(r,s);for(let y=o;y<a.length;y++)s.push(a[y])}else s=[],mu(r,s);return s}function mu(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function I_(e,t=[]){return n=>{n.providersResolver=(i,r)=>function(e,t,n){const i=nn();if(i.firstCreatePass){const r=ui(e);pu(n,i.data,i.blueprint,r,!0),pu(t,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,t)}}class R_{}const P_="ngComponent";class yE{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${b(e)}. Did you add it to @NgModule.entryComponents?`);return t[P_]=e,t}(t)}}let so=(()=>{class e{}return e.NULL=new yE,e})();function il(...e){}function oo(e,t){return new Fr(O(e,t))}const EE=function(){return oo(zn(),st())};let Fr=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=EE,e})();function k_(e){return e instanceof Fr?e.nativeElement:e}class rl{}let DE=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>wE(),e})();const wE=function(){const e=st(),n=dt(zn().index,e);return function(e){return e[11]}(Fn(n)?n:e)};let yu=(()=>{class e{}return e.\u0275prov=nt({token:e,providedIn:"root",factory:()=>null}),e})();class L_{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const F_=new L_("12.2.16");class N_{constructor(){}supports(t){return Go(t)}create(t){return new xE(t)}}const AE=(e,t)=>t;class xE{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||AE}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){const o=!i||n&&n.currentIndex<V_(i,r,s)?n:i,a=V_(o,r,s),y=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,null==o.previousIndex)r++;else{s||(s=[]);const R=a-r,j=y-r;if(R!=j){for(let ie=0;ie<R;ie++){const ge=ie<s.length?s[ie]:s[ie]=0,we=ge+ie;j<=we&&we<R&&(s[ie]=ge+1)}s[o.previousIndex]=j-R}}a!==y&&t(o,a,y)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Go(t))throw new Error(`Error trying to diff '${b(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),i=!0),n=n._next}else r=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[$s()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==n&&Object.is(n.trackById,o)?(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,r)):t=this._addAfter(new IE(n,i),s,r),t}_verifyReinsertion(t,n,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const r=null===n?this._itHead:n._next;return t._next=r,t._prev=n,null===r?this._itTail=t:r._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new B_),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new B_),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class IE{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RE{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class B_{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new RE,this.map.set(n,i)),i.add(t)}get(t,n){const r=this.map.get(t);return r?r.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function V_(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class H_{constructor(){}supports(t){return t instanceof Map||Uc(t)}create(){return new OE}}class OE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Uc(t)))throw new Error(`Error trying to diff '${b(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,n);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new PE(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class PE{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function j_(){return new sl([new N_])}let sl=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||j_()),deps:[[e,new fs,new $r]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=nt({token:e,providedIn:"root",factory:j_}),e})();function U_(){return new ol([new H_])}let ol=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||U_()),deps:[[e,new fs,new $r]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(i)return i;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=nt({token:e,providedIn:"root",factory:U_}),e})();function al(e,t,n,i,r=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&i.push(Ce(s)),hn(s))for(let a=10;a<s.length;a++){const y=s[a],R=y[1].firstChild;null!==R&&al(y[1],y,R,i)}const o=n.type;if(8&o)al(e,t,n.child,i);else if(32&o){const a=ic(n,t);let y;for(;y=a();)i.push(y)}else if(16&o){const a=Ah(t,n);if(Array.isArray(a))i.push(...a);else{const y=Vo(t[16]);al(y[1],y,a,i,!0)}}n=r?n.projectionNext:n.next}return i}class ea{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return al(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(hn(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(lc(t,i),ds(n,i))}this._attachedToViewContainer=!1}yh(this._lView[1],this._lView)}onDestroy(t){ef(this._lView[1],this._lView,null,t)}markForCheck(){xc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Rc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){ee(!0);try{Rc(e,t,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Ho(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class LE extends ea{constructor(t){super(t),this._view=t}detectChanges(){uf(this._view)}checkNoChanges(){!function(e){ee(!0);try{uf(e)}finally{ee(!1)}}(this._view)}get context(){return null}}const NE=function(e){return function(e,t,n){if(Qn(e)&&!n){const i=dt(e.index,t);return new ea(i,i)}return 47&e.type?new ea(t[16],t):null}(zn(),st(),16==(16&e))};let BE=(()=>{class e{}return e.__NG_ELEMENT_ID__=NE,e})();const jE=[new H_],zE=new sl([new N_]),WE=new ol(jE),GE=function(){return ll(zn(),st())};let ta=(()=>{class e{}return e.__NG_ELEMENT_ID__=GE,e})();const KE=ta,YE=class extends KE{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t){const n=this._declarationTContainer.tViews,i=jo(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(n)),Uo(n,i,t),new ea(i)}};function ll(e,t){return 4&e.type?new YE(t,e,oo(e,t)):null}class vs{}const JE=function(){return $_(zn(),st())};let cl=(()=>{class e{}return e.__NG_ELEMENT_ID__=JE,e})();const eD=cl,z_=class extends eD{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return oo(this._hostTNode,this._hostLView)}get injector(){return new Ms(this._hostTNode,this._hostLView)}get parentInjector(){const t=wa(this._hostTNode,this._hostLView);if(Cd(t)){const n=ws(t,this._hostLView),i=Ss(t);return new Ms(n[1].data[i+8],n)}return new Ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=W_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,i){const r=t.createEmbeddedView(n||{});return this.insert(r,i),r}createComponent(t,n,i,r,s){const o=i||this.parentInjector;if(!s&&null==t.ngModule&&o){const y=o.get(vs,null);y&&(s=y)}const a=t.create(o,r,void 0,s);return this.insert(a.hostView,n),a}insert(t,n){const i=t._lView,r=i[1];if(hn(i[3])){const j=this.indexOf(t);if(-1!==j)this.detach(j);else{const J=i[3],ie=new z_(J,J[6],J[3]);ie.detach(ie.indexOf(t))}}const s=this._adjustIndex(n),o=this._lContainer;!function(e,t,n,i){const r=10+i,s=n.length;i>0&&(n[r-1][4]=t),i<s-10?(t[4]=n[r],xa(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,i,o,s);const a=dc(s,o),y=i[11],R=Ba(y,o[7]);return null!==R&&function(e,t,n,i,r,s){i[0]=r,i[6]=t,Ho(e,i,n,1,r,s)}(r,o[6],y,i,R,a),t.attachToViewContainerRef(),xa(bu(o),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=W_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=lc(this._lContainer,n);i&&(ds(bu(this._lContainer),n),yh(i[1],i))}detach(t){const n=this._adjustIndex(t,-1),i=lc(this._lContainer,n);return i&&null!=ds(bu(this._lContainer),n)?new ea(i):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function W_(e){return e[8]}function bu(e){return e[8]||(e[8]=[])}function $_(e,t){let n;const i=t[e.index];if(hn(i))n=i;else{let r;if(8&e.type)r=Ce(i);else{const s=t[11];r=s.createComment("");const o=O(e,t);_s(s,Ba(s,o),r,function(e,t){return A(e)?e.nextSibling(t):t.nextSibling}(s,o),!1)}t[e.index]=n=cf(i,t,r,e),$a(t,n)}return new z_(n,e,t)}const uo={};class dg extends so{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Dt(t);return new fg(n,this.ngModule)}}function hg(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const QD=new Wn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>dh});class fg extends R_{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(Vy).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return hg(this.componentDef.inputs)}get outputs(){return hg(this.componentDef.outputs)}create(t,n,i,r){const s=(r=r||this.ngModule)?function(e,t){return{get:(n,i,r)=>{const s=e.get(n,uo,r);return s!==uo||i===uo?s:t.get(n,i,r)}}}(t,r.injector):t,o=s.get(rl,F),a=s.get(yu,null),y=o.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",j=i?function(e,t,n){if(A(e))return e.selectRootElement(t,n===it.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(y,i,this.componentDef.encapsulation):ac(o.createRenderer(null,this.componentDef),R,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(R)),J=this.componentDef.onPush?576:528,ie=function(e,t){return{components:[],scheduler:e||dh,clean:Db,playerHandler:t||null,flags:0}}(),ge=Wa(0,null,null,1,0,null,null,null,null,null),we=jo(null,ge,ie,J,null,null,o,y,a,s);let Ue,Fe;ur(we);try{const ct=function(e,t,n,i,r,s){const o=n[1];n[20]=e;const y=Vs(o,20,2,"#host",null),R=y.mergedAttrs=t.hostAttrs;null!==R&&(Ga(y,R,!0),null!==e&&(Ea(r,e,R),null!==y.classes&&fc(r,e,y.classes),null!==y.styles&&Rh(r,e,y.styles)));const j=i.createRenderer(e,t),J=jo(n,Zh(t),null,t.onPush?64:16,n[20],y,i,j,s||null,null);return o.firstCreatePass&&(Ma(wo(y,n),o,t.type),of(o,y),af(y,n.length,1)),$a(n,J),n[20]=J}(j,this.componentDef,we,o,y);if(j)if(i)Ea(y,j,["ng-version",F_.full]);else{const{attrs:Ze,classes:Tt}=function(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++i]):8===r&&n.push(s);else{if(!hr(r))break;r=s}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Ze&&Ea(y,j,Ze),Tt&&Tt.length>0&&fc(y,j,Tt.join(" "))}if(Fe=Q(ge,20),void 0!==n){const Ze=Fe.projection=[];for(let Tt=0;Tt<this.ngContentSelectors.length;Tt++){const jt=n[Tt];Ze.push(null!=jt?Array.from(jt):null)}}Ue=function(e,t,n,i,r){const s=n[1],o=function(e,t,n){const i=zn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),lf(e,i,t,Hs(e,t,1,null),n));const r=Mo(t,e,i.directiveStart,i);bi(r,t);const s=O(i,t);return s&&bi(s,t),r}(s,n,t);if(i.components.push(o),e[8]=o,r&&r.forEach(y=>y(o,t)),t.contentQueries){const y=zn();t.contentQueries(1,o,y.directiveStart)}const a=zn();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(dr(a.index),rf(n[1],a,0,a.directiveStart,a.directiveEnd,t),sf(t,o)),o}(ct,this.componentDef,we,ie,[qb]),Uo(ge,we,null)}finally{Oi()}return new XD(this.componentType,Ue,oo(Fe,we),we,Fe)}}class XD extends class{}{constructor(t,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new LE(r),this.componentType=t}get injector(){return new Ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ho=new Map;class nS extends vs{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new dg(this);const i=dn(t),r=t[Oe]||null;r&&du(r),this._bootstrapComponents=Ir(i.bootstrap),this._r3Injector=vf(t,n,[{provide:vs,useValue:this},{provide:so,useValue:this.componentFactoryResolver}],b(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Ln.THROW_IF_NOT_FOUND,i=yt.Default){return t===Ln||t===vs||t===Us?this:this._r3Injector.get(t,n,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Pu extends class{}{constructor(t){super(),this.moduleType=t,null!==dn(t)&&function(e){const t=new Set;!function n(i){const r=dn(i,!0),s=r.id;null!==s&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${b(t)} vs ${b(t.name)}`)}(s,ho.get(s),i),ho.set(s,i));const o=Ir(r.imports);for(const a of o)t.has(a)||(t.add(a),n(a))}(e)}(t)}create(t){return new nS(this.moduleType,t)}}function gg(e,t,n){const i=de()+e,r=st();return r[i]===qt?Pr(r,i,n?t.call(n):t()):function(e,t){return e[t]}(r,i)}function mg(e,t,n,i){return function(e,t,n,i,r,s){const o=t+n;return Ci(e,o,r)?Pr(e,o+1,s?i.call(s,r):i(r)):ca(e,o+1)}(st(),de(),e,t,n,i)}function vg(e,t,n,i,r){return function(e,t,n,i,r,s,o){const a=t+n;return function(e,t,n,i){const r=Ci(e,t,n);return Ci(e,t+1,i)||r}(e,a,r,s)?Pr(e,a+2,o?i.call(o,r,s):i(r,s)):ca(e,a+2)}(st(),de(),e,t,n,i,r)}function ca(e,t){const n=e[t];return n===qt?void 0:n}function ku(e){return t=>{setTimeout(e,void 0,t)}}const Nr=class extends _.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){var r,s,o;let a=t,y=n||(()=>null),R=i;if(t&&"object"==typeof t){const J=t;a=null===(r=J.next)||void 0===r?void 0:r.bind(J),y=null===(s=J.error)||void 0===s?void 0:s.bind(J),R=null===(o=J.complete)||void 0===o?void 0:o.bind(J)}this.__isAsync&&(y=ku(y),a&&(a=ku(a)),R&&(R=ku(R)));const j=super.subscribe({next:a,error:y,complete:R});return t instanceof P.w&&t.add(j),j}};function vS(){return this._results[$s()]()}class ha{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=$s(),i=ha.prototype;i[n]||(i[n]=vS)}get changes(){return this._changes||(this._changes=new Nr)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const r=tr(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Lu{constructor(t){this.queryList=t,this.matches=null}clone(){return new Lu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){const o=n.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Fu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Og(t,n).matches&&this.queries[n].setDirty()}}class Sg{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class Nu{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==n?n.push(s):n=[s])}return null!==n?new Nu(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Bu{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Bu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,n,CS(n,s)),this.matchTNodeWithReadOption(t,n,Ta(n,t,s,!1,!1))}else i===ta?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ta(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Fr||r===cl||r===ta&&4&n.type)this.addMatch(n.index,-2);else{const s=Ta(n,t,r,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function CS(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function DS(e,t,n,i){return-1===n?function(e,t){return 11&e.type?oo(e,t):4&e.type?ll(e,t):null}(t,e):-2===n?function(e,t,n){return n===Fr?oo(t,e):n===ta?ll(t,e):n===cl?$_(t,e):void 0}(e,t,i):Mo(e,e[1],n,t)}function wg(e,t,n,i){const r=t[19].queries[i];if(null===r.matches){const s=e.data,o=n.matches,a=[];for(let y=0;y<o.length;y+=2){const R=o[y];a.push(R<0?null:DS(t,s[R],o[y+1],n.metadata.read))}r.matches=a}return r.matches}function Vu(e,t,n,i){const r=e.queries.getByIndex(n),s=r.matches;if(null!==s){const o=wg(e,t,r,n);for(let a=0;a<s.length;a+=2){const y=s[a];if(y>0)i.push(o[a/2]);else{const R=s[a+1],j=t[-y];for(let J=10;J<j.length;J++){const ie=j[J];ie[17]===ie[3]&&Vu(ie[1],ie,R,i)}if(null!==j[9]){const J=j[9];for(let ie=0;ie<J.length;ie++){const ge=J[ie];Vu(ge[1],ge,R,i)}}}}}return i}function Mg(e){const t=st(),n=nn(),i=Rn();On(i+1);const r=Og(n,i);if(e.dirty&&Ht(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?Vu(n,t,i,[]):wg(n,t,r,i);e.reset(s,k_),e.notifyOnChanges()}return!0}return!1}function Tg(e,t,n){const i=nn();i.firstCreatePass&&(Rg(i,new Sg(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),Ig(i,st(),t)}function Ag(e,t,n,i){const r=nn();if(r.firstCreatePass){const s=zn();Rg(r,new Sg(t,n,i),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(r,e),2==(2&n)&&(r.staticContentQueries=!0)}Ig(r,st(),n)}function xg(){return e=st(),t=Rn(),e[19].queries[t].queryList;var e,t}function Ig(e,t,n){const i=new ha(4==(4&n));ef(e,t,i,i.destroy),null===t[19]&&(t[19]=new Fu),t[19].queries.push(new Lu(i))}function Rg(e,t,n){null===e.queries&&(e.queries=new Nu),e.queries.track(new Bu(t,n))}function Og(e,t){return e.queries.getByIndex(t)}const $u=new Wn("Application Initializer");let po=(()=>{class e{constructor(n){this.appInits=n,this.resolve=il,this.reject=il,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(eu(s))n.push(s);else if(tu(s)){const o=new Promise((a,y)=>{s.subscribe({complete:a,error:y})});n.push(o)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Jn($u,8))},e.\u0275prov=nt({token:e,factory:e.\u0275fac}),e})();const Qg=new Wn("AppId"),ew={provide:Qg,useFactory:function(){return`${Gu()}${Gu()}${Gu()}`},deps:[]};function Gu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zg=new Wn("Platform Initializer"),Jg=new Wn("Platform ID"),tw=new Wn("appBootstrapListener");let Xg=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=nt({token:e,factory:e.\u0275fac}),e})();const gl=new Wn("LocaleId"),em=new Wn("DefaultCurrencyCode");class iw{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const Ku=function(e){return new Pu(e)},rw=Ku,sw=function(e){return Promise.resolve(Ku(e))},tm=function(e){const t=Ku(e),i=Ir(dn(e).declarations).reduce((r,s)=>{const o=Dt(s);return o&&r.push(new fg(o)),r},[]);return new iw(t,i)},ow=tm,aw=function(e){return Promise.resolve(tm(e))};let vl=(()=>{class e{constructor(){this.compileModuleSync=rw,this.compileModuleAsync=sw,this.compileModuleAndAllComponentsSync=ow,this.compileModuleAndAllComponentsAsync=aw}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=nt({token:e,factory:e.\u0275fac}),e})();const uw=(()=>Promise.resolve(0))();function Yu(e){"undefined"==typeof Zone?uw.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ki{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nr(!1),this.onMicrotaskEmpty=new Nr(!1),this.onStable=new Nr(!1),this.onError=new Nr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=Yt.requestAnimationFrame,t=Yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Yt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Qu(e),e.isCheckStableRunning=!0,qu(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Qu(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return nm(e),n.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),im(e)}},onInvoke:(n,i,r,s,o,a,y)=>{try{return nm(e),n.invoke(r,s,o,a,y)}finally{e.shouldCoalesceRunChangeDetection&&t(),im(e)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Qu(e),qu(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ki.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ki.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,hw,il,il);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const hw={};function qu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Qu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function nm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function im(e){e._nesting--,qu(e)}class _w{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nr,this.onMicrotaskEmpty=new Nr,this.onStable=new Nr,this.onError=new Nr}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}let rm=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ki.assertNotInAngularZone(),Yu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yu(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,i,r){return[]}}return e.\u0275fac=function(n){return new(n||e)(Jn(Ki))},e.\u0275prov=nt({token:e,factory:e.\u0275fac}),e})(),sm=(()=>{class e{constructor(){this._applications=new Map,Zu.addToWindow(this)}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Zu.findTestabilityInTree(this,n,i)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=nt({token:e,factory:e.\u0275fac}),e})();class gw{addToWindow(t){}findTestabilityInTree(t,n,i){return null}}function mw(e){Zu=e}let Zu=new gw,om=!0,am=!1;function Ju(){return am=!0,om}function vw(){if(am)throw new Error("Cannot enable prod mode after platform setup.");om=!1}let br;const lm=new Wn("AllowMultipleToken");class ww{constructor(t,n){this.name=t,this.token=n}}function cm(e,t,n=[]){const i=`Platform: ${t}`,r=new Wn(i);return(s=[])=>{let o=um();if(!o||o.injector.get(lm,!1))if(e)e(n.concat(s).concat({provide:r,useValue:!0}));else{const a=n.concat(s).concat({provide:r,useValue:!0},{provide:zo,useValue:"platform"});!function(e){if(br&&!br.destroyed&&!br.injector.get(lm,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");br=e.get(dm);const t=e.get(Zg,null);t&&t.forEach(n=>n())}(Ln.create({providers:a,name:i}))}return function(e){const t=um();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function um(){return br&&!br.destroyed?br:null}let dm=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const a=function(e,t){let n;return n="noop"===e?new _w:("zone.js"===e?void 0:e)||new Ki({enableLongStackTrace:Ju(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),y=[{provide:Ki,useValue:a}];return a.run(()=>{const R=Ln.create({providers:y,parent:this.injector,name:n.moduleType.name}),j=n.create(R),J=j.injector.get(Fs,null);if(!J)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const ie=a.onError.subscribe({next:ge=>{J.handleError(ge)}});j.onDestroy(()=>{Xu(this._modules,j),ie.unsubscribe()})}),function(e,t,n){try{const i=n();return eu(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(J,a,()=>{const ie=j.injector.get(po);return ie.runInitializers(),ie.donePromise.then(()=>(du(j.injector.get(gl,Ja)||Ja),this._moduleDoBootstrap(j),j))})})}bootstrapModule(n,i=[]){const r=hm({},i);return function(e,t,n){const i=new Pu(n);return Promise.resolve(i)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(n){const i=n.injector.get(pa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${b(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Jn(Ln))},e.\u0275prov=nt({token:e,factory:e.\u0275fac}),e})();function hm(e,t){return Array.isArray(t)?t.reduce(hm,e):Object.assign(Object.assign({},e),t)}let pa=(()=>{class e{constructor(n,i,r,s,o){this._zone=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new u.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),y=new u.y(R=>{let j;this._zone.runOutsideAngular(()=>{j=this._zone.onStable.subscribe(()=>{Ki.assertNotInAngularZone(),Yu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const J=this._zone.onUnstable.subscribe(()=>{Ki.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{j.unsubscribe(),J.unsubscribe()}});this.isStable=(0,v.T)(a,y.pipe((0,S.B)()))}bootstrap(n,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let r;r=n instanceof R_?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(r.componentType);const s=function(e){return e.isBoundToModule}(r)?void 0:this._injector.get(vs),a=r.create(Ln.NULL,[],i||r.selector,s),y=a.location.nativeElement,R=a.injector.get(rm,null),j=R&&a.injector.get(sm);return R&&j&&j.registerApplication(y,R),a.onDestroy(()=>{this.detachView(a.hostView),Xu(this.components,a),j&&j.unregisterApplication(y)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Xu(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(tw,[]).concat(this._bootstrapListeners).forEach(r=>r(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(Jn(Ki),Jn(Ln),Jn(Fs),Jn(so),Jn(po))},e.\u0275prov=nt({token:e,factory:e.\u0275fac}),e})();function Xu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const jw=function(e){return null},zw=cm(null,"core",[{provide:Jg,useValue:"unknown"},{provide:dm,deps:[Ln]},{provide:sm,deps:[]},{provide:Xg,deps:[]}]),Yw=[{provide:pa,useClass:pa,deps:[Ki,Ln,Fs,so,po]},{provide:QD,deps:[Ki],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:po,useClass:po,deps:[[new $r,$u]]},{provide:vl,useClass:vl,deps:[]},ew,{provide:sl,useFactory:function(){return zE},deps:[]},{provide:ol,useFactory:function(){return WE},deps:[]},{provide:gl,useFactory:function(e){return du(e=e||"undefined"!=typeof $localize&&$localize.locale||Ja),e},deps:[[new Po(gl),new $r,new fs]]},{provide:em,useValue:"USD"}];let Qw=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Jn(pa))},e.\u0275mod=fe({type:e}),e.\u0275inj=et({providers:Yw}),e})()},665:(ut,Ve,W)=>{"use strict";W.d(Ve,{Zs:()=>Zi,Fj:()=>k,NI:()=>be,oH:()=>Zn,sg:()=>ki,Cf:()=>N,JU:()=>g,a5:()=>_n,JJ:()=>vn,F:()=>_e,wV:()=>qn,UX:()=>X});var _=W(7716),P=W(8583),u=W(7574),v=W(9796),S=W(8002),p=W(1555),T=W(4402);function w(L,O){return new u.y(M=>{const Q=L.length;if(0===Q)return void M.complete();const Le=new Array(Q);let dt=0,Ht=0;for(let yn=0;yn<Q;yn++){const Si=(0,T.D)(L[yn]);let Bn=!1;M.add(Si.subscribe({next:oi=>{Bn||(Bn=!0,Ht++),Le[yn]=oi},error:oi=>M.error(oi),complete:()=>{dt++,(dt===Q||!Bn)&&(Ht===Q&&M.next(O?O.reduce((oi,wi,kt)=>(oi[wi]=Le[kt],oi),{}):Le),M.complete())}}))}})}let C=(()=>{class L{constructor(M,Q){this._renderer=M,this._elementRef=Q,this.onChange=Le=>{},this.onTouched=()=>{}}setProperty(M,Q){this._renderer.setProperty(this._elementRef.nativeElement,M,Q)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return L.\u0275fac=function(M){return new(M||L)(_.Y36(_.Qsj),_.Y36(_.SBq))},L.\u0275dir=_.lG2({type:L}),L})(),D=(()=>{class L extends C{}return L.\u0275fac=function(){let O;return function(Q){return(O||(O=_.n5z(L)))(Q||L)}}(),L.\u0275dir=_.lG2({type:L,features:[_.qOj]}),L})();const g=new _.OlP("NgValueAccessor"),c={provide:g,useExisting:(0,_.Gpc)(()=>k),multi:!0},I=new _.OlP("CompositionEventMode");let k=(()=>{class L extends C{constructor(M,Q,Le){super(M,Q),this._compositionMode=Le,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const L=(0,P.q)()?(0,P.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(M){this.setProperty("value",null==M?"":M)}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return L.\u0275fac=function(M){return new(M||L)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(I,8))},L.\u0275dir=_.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,Q){1&M&&_.NdJ("input",function(dt){return Q._handleInput(dt.target.value)})("blur",function(){return Q.onTouched()})("compositionstart",function(){return Q._compositionStart()})("compositionend",function(dt){return Q._compositionEnd(dt.target.value)})},features:[_._Bn([c]),_.qOj]}),L})();const N=new _.OlP("NgValidators"),B=new _.OlP("NgAsyncValidators");function lt(L){return null!=L}function _t(L){const O=(0,_.QGY)(L)?(0,T.D)(L):L;return(0,_.CqO)(O),O}function he(L){let O={};return L.forEach(M=>{O=null!=M?Object.assign(Object.assign({},O),M):O}),0===Object.keys(O).length?null:O}function De(L,O){return O.map(M=>M(L))}function pe(L){return L.map(O=>function(L){return!L.validate}(O)?O:M=>O.validate(M))}function Xe(L){return null!=L?function(L){if(!L)return null;const O=L.filter(lt);return 0==O.length?null:function(M){return he(De(M,O))}}(pe(L)):null}function pt(L){return null!=L?function(L){if(!L)return null;const O=L.filter(lt);return 0==O.length?null:function(M){return function(...L){if(1===L.length){const O=L[0];if((0,v.k)(O))return w(O,null);if((0,p.K)(O)&&Object.getPrototypeOf(O)===Object.prototype){const M=Object.keys(O);return w(M.map(Q=>O[Q]),M)}}if("function"==typeof L[L.length-1]){const O=L.pop();return w(L=1===L.length&&(0,v.k)(L[0])?L[0]:L,null).pipe((0,S.U)(M=>O(...M)))}return w(L,null)}(De(M,O).map(_t)).pipe((0,S.U)(he))}}(pe(L)):null}function et(L,O){return null===L?[O]:Array.isArray(L)?[...L,O]:[L,O]}function Ft(L){return L._rawValidators}function Et(L){return L._rawAsyncValidators}function pn(L){return L?Array.isArray(L)?L:[L]:[]}function mn(L,O){return Array.isArray(L)?L.includes(O):L===O}function Mn(L,O){const M=pn(O);return pn(L).forEach(Le=>{mn(M,Le)||M.push(Le)}),M}function En(L,O){return pn(O).filter(M=>!mn(L,M))}let rn=(()=>{class L{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=Xe(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=pt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M){this.control&&this.control.reset(M)}hasError(M,Q){return!!this.control&&this.control.hasError(M,Q)}getError(M,Q){return this.control?this.control.getError(M,Q):null}}return L.\u0275fac=function(M){return new(M||L)},L.\u0275dir=_.lG2({type:L}),L})(),Kt=(()=>{class L extends rn{get formDirective(){return null}get path(){return null}}return L.\u0275fac=function(){let O;return function(Q){return(O||(O=_.n5z(L)))(Q||L)}}(),L.\u0275dir=_.lG2({type:L,features:[_.qOj]}),L})();class _n extends rn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let vn=(()=>{class L extends class{constructor(O){this._cd=O}is(O){var M,Q,Le;return"submitted"===O?!!(null===(M=this._cd)||void 0===M?void 0:M.submitted):!!(null===(Le=null===(Q=this._cd)||void 0===Q?void 0:Q.control)||void 0===Le?void 0:Le[O])}}{constructor(M){super(M)}}return L.\u0275fac=function(M){return new(M||L)(_.Y36(_n,2))},L.\u0275dir=_.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,Q){2&M&&_.ekj("ng-untouched",Q.is("untouched"))("ng-touched",Q.is("touched"))("ng-pristine",Q.is("pristine"))("ng-dirty",Q.is("dirty"))("ng-valid",Q.is("valid"))("ng-invalid",Q.is("invalid"))("ng-pending",Q.is("pending"))},features:[_.qOj]}),L})();function Vt(L,O){An(L,O),O.valueAccessor.writeValue(L.value),function(L,O){O.valueAccessor.registerOnChange(M=>{L._pendingValue=M,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&ce(L,O)})}(L,O),function(L,O){const M=(Q,Le)=>{O.valueAccessor.writeValue(Q),Le&&O.viewToModelUpdate(Q)};L.registerOnChange(M),O._registerOnDestroy(()=>{L._unregisterOnChange(M)})}(L,O),function(L,O){O.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&ce(L,O),"submit"!==L.updateOn&&L.markAsTouched()})}(L,O),function(L,O){if(O.valueAccessor.setDisabledState){const M=Q=>{O.valueAccessor.setDisabledState(Q)};L.registerOnDisabledChange(M),O._registerOnDestroy(()=>{L._unregisterOnDisabledChange(M)})}}(L,O)}function Bt(L,O,M=!0){const Q=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(Q),O.valueAccessor.registerOnTouched(Q)),ln(L,O),L&&(O._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function Nt(L,O){L.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(O)})}function An(L,O){const M=Ft(L);null!==O.validator?L.setValidators(et(M,O.validator)):"function"==typeof M&&L.setValidators([M]);const Q=Et(L);null!==O.asyncValidator?L.setAsyncValidators(et(Q,O.asyncValidator)):"function"==typeof Q&&L.setAsyncValidators([Q]);const Le=()=>L.updateValueAndValidity();Nt(O._rawValidators,Le),Nt(O._rawAsyncValidators,Le)}function ln(L,O){let M=!1;if(null!==L){if(null!==O.validator){const Le=Ft(L);if(Array.isArray(Le)&&Le.length>0){const dt=Le.filter(Ht=>Ht!==O.validator);dt.length!==Le.length&&(M=!0,L.setValidators(dt))}}if(null!==O.asyncValidator){const Le=Et(L);if(Array.isArray(Le)&&Le.length>0){const dt=Le.filter(Ht=>Ht!==O.asyncValidator);dt.length!==Le.length&&(M=!0,L.setAsyncValidators(dt))}}}const Q=()=>{};return Nt(O._rawValidators,Q),Nt(O._rawAsyncValidators,Q),M}function ce(L,O){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function ft(L,O){An(L,O)}function oe(L,O){L._syncPendingControls(),O.forEach(M=>{const Q=M.control;"submit"===Q.updateOn&&Q._pendingChange&&(M.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1)})}function We(L,O){const M=L.indexOf(O);M>-1&&L.splice(M,1)}const Dt="VALID",Pt="INVALID",cn="PENDING",dn="DISABLED";function gn(L){return(xn(L)?L.validators:L)||null}function ot(L){return Array.isArray(L)?Xe(L):L||null}function It(L,O){return(xn(O)?O.asyncValidators:L)||null}function tn(L){return Array.isArray(L)?pt(L):L||null}function xn(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}class me{constructor(O,M){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=M,this._composedValidatorFn=ot(this._rawValidators),this._composedAsyncValidatorFn=tn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===Dt}get invalid(){return this.status===Pt}get pending(){return this.status==cn}get disabled(){return this.status===dn}get enabled(){return this.status!==dn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=ot(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=tn(O)}addValidators(O){this.setValidators(Mn(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(Mn(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(En(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(En(O,this._rawAsyncValidators))}hasValidator(O){return mn(this._rawValidators,O)}hasAsyncValidator(O){return mn(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=cn,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const M=this._parentMarkedDirty(O.onlySelf);this.status=dn,this.errors=null,this._forEachChild(Q=>{Q.disable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:M})),this._onDisabledChange.forEach(Q=>Q(!0))}enable(O={}){const M=this._parentMarkedDirty(O.onlySelf);this.status=Dt,this._forEachChild(Q=>{Q.enable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:M})),this._onDisabledChange.forEach(Q=>Q(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dt||this.status===cn)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dn:Dt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=cn,this._hasOwnPendingAsyncValidator=!0;const M=_t(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(Q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Q,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,M={}){this.errors=O,this._updateControlsErrors(!1!==M.emitEvent)}get(O){return function(L,O,M){if(null==O||(Array.isArray(O)||(O=O.split(".")),Array.isArray(O)&&0===O.length))return null;let Q=L;return O.forEach(Le=>{Q=Q instanceof le?Q.controls.hasOwnProperty(Le)?Q.controls[Le]:null:Q instanceof Re&&Q.at(Le)||null}),Q}(this,O)}getError(O,M){const Q=M?this.get(M):this;return Q&&Q.errors?Q.errors[O]:null}hasError(O,M){return!!this.getError(O,M)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?dn:this.errors?Pt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cn)?cn:this._anyControlsHaveStatus(Pt)?Pt:Dt}_anyControlsHaveStatus(O){return this._anyControls(M=>M.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_isBoxedValue(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){xn(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class be extends me{constructor(O=null,M,Q){super(gn(M),It(Q,M)),this._onChange=[],this._applyFormState(O),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(O,M={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(Q=>Q(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(O,M={}){this.setValue(O,M)}reset(O=null,M={}){this._applyFormState(O),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){We(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){We(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){this._isBoxedValue(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}}class le extends me{constructor(O,M,Q){super(gn(M),It(Q,M)),this.controls=O,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,M){return this.controls[O]?this.controls[O]:(this.controls[O]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(O,M,Q={}){this.registerControl(O,M),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}removeControl(O,M={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(O,M,Q={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],M&&this.registerControl(O,M),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,M={}){this._checkAllValuesPresent(O),Object.keys(O).forEach(Q=>{this._throwIfControlMissing(Q),this.controls[Q].setValue(O[Q],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(O,M={}){null!=O&&(Object.keys(O).forEach(Q=>{this.controls[Q]&&this.controls[Q].patchValue(O[Q],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(O={},M={}){this._forEachChild((Q,Le)=>{Q.reset(O[Le],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(O,M,Q)=>(O[Q]=M instanceof be?M.value:M.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(M,Q)=>!!Q._syncPendingControls()||M);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_throwIfControlMissing(O){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[O])throw new Error(`Cannot find form control with name: ${O}.`)}_forEachChild(O){Object.keys(this.controls).forEach(M=>{const Q=this.controls[M];Q&&O(Q,M)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const M of Object.keys(this.controls)){const Q=this.controls[M];if(this.contains(M)&&O(Q))return!0}return!1}_reduceValue(){return this._reduceChildren({},(O,M,Q)=>((M.enabled||this.disabled)&&(O[Q]=M.value),O))}_reduceChildren(O,M){let Q=O;return this._forEachChild((Le,dt)=>{Q=M(Q,Le,dt)}),Q}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(O){this._forEachChild((M,Q)=>{if(void 0===O[Q])throw new Error(`Must supply a value for form control with name: '${Q}'.`)})}}class Re extends me{constructor(O,M,Q){super(gn(M),It(Q,M)),this.controls=O,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[O]}push(O,M={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(O,M,Q={}){this.controls.splice(O,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:Q.emitEvent})}removeAt(O,M={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(O,M,Q={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),M&&(this.controls.splice(O,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,M={}){this._checkAllValuesPresent(O),O.forEach((Q,Le)=>{this._throwIfControlMissing(Le),this.at(Le).setValue(Q,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(O,M={}){null!=O&&(O.forEach((Q,Le)=>{this.at(Le)&&this.at(Le).patchValue(Q,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(O=[],M={}){this._forEachChild((Q,Le)=>{Q.reset(O[Le],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(O=>O instanceof be?O.value:O.getRawValue())}clear(O={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_syncPendingControls(){let O=this.controls.reduce((M,Q)=>!!Q._syncPendingControls()||M,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_throwIfControlMissing(O){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(O))throw new Error(`Cannot find form control at index ${O}`)}_forEachChild(O){this.controls.forEach((M,Q)=>{O(M,Q)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(M=>M.enabled&&O(M))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_checkAllValuesPresent(O){this._forEachChild((M,Q)=>{if(void 0===O[Q])throw new Error(`Must supply a value for form control at index: ${Q}.`)})}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}}const Qe={provide:Kt,useExisting:(0,_.Gpc)(()=>_e)},Ye=(()=>Promise.resolve(null))();let _e=(()=>{class L extends Kt{constructor(M,Q){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new _.vpe,this.form=new le({},Xe(M),pt(Q))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){Ye.then(()=>{const Q=this._findContainer(M.path);M.control=Q.registerControl(M.name,M.control),Vt(M.control,M),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){Ye.then(()=>{const Q=this._findContainer(M.path);Q&&Q.removeControl(M.name),We(this._directives,M)})}addFormGroup(M){Ye.then(()=>{const Q=this._findContainer(M.path),Le=new le({});ft(Le,M),Q.registerControl(M.name,Le),Le.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){Ye.then(()=>{const Q=this._findContainer(M.path);Q&&Q.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,Q){Ye.then(()=>{this.form.get(M.path).setValue(Q)})}setValue(M){this.control.setValue(M)}onSubmit(M){return this.submitted=!0,oe(this.form,this._directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}}return L.\u0275fac=function(M){return new(M||L)(_.Y36(N,10),_.Y36(B,10))},L.\u0275dir=_.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(M,Q){1&M&&_.NdJ("submit",function(dt){return Q.onSubmit(dt)})("reset",function(){return Q.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Qe]),_.qOj]}),L})();const Yn={provide:g,useExisting:(0,_.Gpc)(()=>qn),multi:!0};let qn=(()=>{class L extends D{writeValue(M){this.setProperty("value",null==M?"":M)}registerOnChange(M){this.onChange=Q=>{M(""==Q?null:parseFloat(Q))}}}return L.\u0275fac=function(){let O;return function(Q){return(O||(O=_.n5z(L)))(Q||L)}}(),L.\u0275dir=_.lG2({type:L,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(M,Q){1&M&&_.NdJ("input",function(dt){return Q.onChange(dt.target.value)})("blur",function(){return Q.onTouched()})},features:[_._Bn([Yn]),_.qOj]}),L})(),gi=(()=>{class L{}return L.\u0275fac=function(M){return new(M||L)},L.\u0275mod=_.oAB({type:L}),L.\u0275inj=_.cJS({}),L})();const vi=new _.OlP("NgModelWithFormControlWarning"),ui={provide:_n,useExisting:(0,_.Gpc)(()=>Zn)};let Zn=(()=>{class L extends _n{constructor(M,Q,Le,dt){super(),this._ngModelWarningConfig=dt,this.update=new _.vpe,this._ngModelWarningSent=!1,this._setValidators(M),this._setAsyncValidators(Q),this.valueAccessor=function(L,O){if(!O)return null;let M,Q,Le;return Array.isArray(O),O.forEach(dt=>{dt.constructor===k?M=dt:function(L){return Object.getPrototypeOf(L.constructor)===D}(dt)?Q=dt:Le=dt}),Le||Q||M||null}(0,Le)}set isDisabled(M){}ngOnChanges(M){if(this._isControlChanged(M)){const Q=M.form.previousValue;Q&&Bt(Q,this,!1),Vt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}(function(L,O){if(!L.hasOwnProperty("model"))return!1;const M=L.model;return!!M.isFirstChange()||!Object.is(O,M.currentValue)})(M,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Bt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_isControlChanged(M){return M.hasOwnProperty("form")}}return L.\u0275fac=function(M){return new(M||L)(_.Y36(N,10),_.Y36(B,10),_.Y36(g,10),_.Y36(vi,8))},L.\u0275dir=_.lG2({type:L,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[_._Bn([ui]),_.qOj,_.TTD]}),L._ngModelWarningSentOnce=!1,L})();const Pi={provide:Kt,useExisting:(0,_.Gpc)(()=>ki)};let ki=(()=>{class L extends Kt{constructor(M,Q){super(),this.validators=M,this.asyncValidators=Q,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(M),this._setAsyncValidators(Q)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ln(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const Q=this.form.get(M.path);return Vt(Q,M),Q.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),Q}getControl(M){return this.form.get(M.path)}removeControl(M){Bt(M.control||null,M,!1),We(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,Q){this.form.get(M.path).setValue(Q)}onSubmit(M){return this.submitted=!0,oe(this.form,this.directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const Q=M.control,Le=this.form.get(M.path);Q!==Le&&(Bt(Q||null,M),Le instanceof be&&(Vt(Le,M),M.control=Le))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const Q=this.form.get(M.path);ft(Q,M),Q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const Q=this.form.get(M.path);Q&&function(L,O){return ln(L,O)}(Q,M)&&Q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){An(this.form,this),this._oldForm&&ln(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(M){return new(M||L)(_.Y36(N,10),_.Y36(B,10))},L.\u0275dir=_.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(M,Q){1&M&&_.NdJ("submit",function(dt){return Q.onSubmit(dt)})("reset",function(){return Q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Pi]),_.qOj,_.TTD]}),L})();const Ur={provide:N,useExisting:(0,_.Gpc)(()=>Bi),multi:!0},Tr={provide:N,useExisting:(0,_.Gpc)(()=>Zi),multi:!0};let Bi=(()=>{class L{constructor(){this._required=!1}get required(){return this._required}set required(M){this._required=null!=M&&!1!==M&&"false"!=`${M}`,this._onChange&&this._onChange()}validate(M){return this.required?function(L){return function(L){return null==L||0===L.length}(L.value)?{required:!0}:null}(M):null}registerOnValidatorChange(M){this._onChange=M}}return L.\u0275fac=function(M){return new(M||L)},L.\u0275dir=_.lG2({type:L,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(M,Q){2&M&&_.uIk("required",Q.required?"":null)},inputs:{required:"required"},features:[_._Bn([Ur])]}),L})(),Zi=(()=>{class L extends Bi{validate(M){return this.required?function(L){return!0===L.value?null:{required:!0}}(M):null}}return L.\u0275fac=function(){let O;return function(Q){return(O||(O=_.n5z(L)))(Q||L)}}(),L.\u0275dir=_.lG2({type:L,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(M,Q){2&M&&_.uIk("required",Q.required?"":null)},features:[_._Bn([Tr]),_.qOj]}),L})(),z=(()=>{class L{}return L.\u0275fac=function(M){return new(M||L)},L.\u0275mod=_.oAB({type:L}),L.\u0275inj=_.cJS({imports:[[gi]]}),L})(),X=(()=>{class L{static withConfig(M){return{ngModule:L,providers:[{provide:vi,useValue:M.warnOnNgModelWithFormControl}]}}}return L.\u0275fac=function(M){return new(M||L)},L.\u0275mod=_.oAB({type:L}),L.\u0275inj=_.cJS({imports:[z]}),L})()},1095:(ut,Ve,W)=>{"use strict";W.d(Ve,{lW:()=>D,ot:()=>l});var _=W(2458),P=W(6237),u=W(7716),v=W(9531);const S=["mat-button",""],p=["*"],w=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],C=(0,_.pj)((0,_.Id)((0,_.Kr)(class{constructor(m){this._elementRef=m}})));let D=(()=>{class m extends C{constructor(f,I,k){super(f),this._focusMonitor=I,this._animationMode=k,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const H of w)this._hasHostAttributes(H)&&this._getHostElement().classList.add(H);f.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(f,I){f?this._focusMonitor.focusVia(this._getHostElement(),f,I):this._getHostElement().focus(I)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...f){return f.some(I=>this._getHostElement().hasAttribute(I))}}return m.\u0275fac=function(f){return new(f||m)(u.Y36(u.SBq),u.Y36(v.tE),u.Y36(P.Qb,8))},m.\u0275cmp=u.Xpm({type:m,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(f,I){if(1&f&&u.Gf(_.wG,5),2&f){let k;u.iGM(k=u.CRH())&&(I.ripple=k.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(f,I){2&f&&(u.uIk("disabled",I.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===I._animationMode)("mat-button-disabled",I.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:S,ngContentSelectors:p,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(f,I){1&f&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1),u._UZ(3,"span",2)),2&f&&(u.xp6(2),u.ekj("mat-button-ripple-round",I.isRoundButton||I.isIconButton),u.Q6J("matRippleDisabled",I._isRippleDisabled())("matRippleCentered",I.isIconButton)("matRippleTrigger",I._getHostElement()))},directives:[_.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),m})(),l=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=u.oAB({type:m}),m.\u0275inj=u.cJS({imports:[[_.si,_.BQ],_.BQ]}),m})()},2458:(ut,Ve,W)=>{"use strict";W.d(Ve,{rD:()=>Et,Y2:()=>ze,BQ:()=>B,wG:()=>rt,si:()=>Ut,IR:()=>vn,pj:()=>Ee,Kr:()=>ue,Id:()=>te,FD:()=>Z,sb:()=>V});var _=W(7716),P=W(9531),u=W(946);const v=new _.GfV("12.2.13");var S=W(8583),p=W(521),T=W(9490),b=W(9765),w=W(6237);W(6461);const H=new _.GfV("12.2.13"),N=new _.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let tt,B=(()=>{class Oe{constructor(ce,Ie,ft){this._hasDoneGlobalChecks=!1,this._document=ft,ce._applyBodyHighContrastModeCssClasses(),this._sanityChecks=Ie,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ce){return!(!(0,_.X6Q)()||(0,p.Oy)())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ce])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const ce=this._document.createElement("div");ce.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(ce);const Ie=getComputedStyle(ce);Ie&&"none"!==Ie.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(ce)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&H.full!==v.full&&console.warn("The Angular Material version ("+H.full+") does not match the Angular CDK version ("+v.full+").\nPlease ensure the versions of these two packages exactly match.")}}return Oe.\u0275fac=function(ce){return new(ce||Oe)(_.LFG(P.qm),_.LFG(N,8),_.LFG(S.K0))},Oe.\u0275mod=_.oAB({type:Oe}),Oe.\u0275inj=_.cJS({imports:[[u.vT],u.vT]}),Oe})();function te(Oe){return class extends Oe{constructor(...Ae){super(...Ae),this._disabled=!1}get disabled(){return this._disabled}set disabled(Ae){this._disabled=(0,T.Ig)(Ae)}}}function Ee(Oe,Ae){return class extends Oe{constructor(...ce){super(...ce),this.defaultColor=Ae,this.color=Ae}get color(){return this._color}set color(ce){const Ie=ce||this.defaultColor;Ie!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Ie&&this._elementRef.nativeElement.classList.add(`mat-${Ie}`),this._color=Ie)}}}function ue(Oe){return class extends Oe{constructor(...Ae){super(...Ae),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(Ae){this._disableRipple=(0,T.Ig)(Ae)}}}function V(Oe,Ae=0){return class extends Oe{constructor(...ce){super(...ce),this._tabIndex=Ae,this.defaultTabIndex=Ae}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(ce){this._tabIndex=null!=ce?(0,T.su)(ce):this.defaultTabIndex}}}function Z(Oe){return class extends Oe{constructor(...Ae){super(...Ae),this.stateChanges=new b.xQ,this.errorState=!1}updateErrorState(){const Ae=this.errorState,Zt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Zt!==Ae&&(this.errorState=Zt,this.stateChanges.next())}}}try{tt="undefined"!=typeof Intl}catch(Oe){tt=!1}let Et=(()=>{class Oe{isErrorState(ce,Ie){return!!(ce&&ce.invalid&&(ce.touched||Ie&&Ie.submitted))}}return Oe.\u0275fac=function(ce){return new(ce||Oe)},Oe.\u0275prov=_.Yz7({factory:function(){return new Oe},token:Oe,providedIn:"root"}),Oe})();class rn{constructor(Ae,ce,Ie){this._renderer=Ae,this.element=ce,this.config=Ie,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Kt={enterDuration:225,exitDuration:150},yt=(0,p.i$)({passive:!0}),Xt=["mousedown","touchstart"],Sn=["mouseup","mouseleave","touchend","touchcancel"];class vn{constructor(Ae,ce,Ie,ft){this._target=Ae,this._ngZone=ce,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,ft.isBrowser&&(this._containerElement=(0,T.fI)(Ie))}fadeInRipple(Ae,ce,Ie={}){const ft=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Zt=Object.assign(Object.assign({},Kt),Ie.animation);Ie.centered&&(Ae=ft.left+ft.width/2,ce=ft.top+ft.height/2);const un=Ie.radius||function(Oe,Ae,ce){const Ie=Math.max(Math.abs(Oe-ce.left),Math.abs(Oe-ce.right)),ft=Math.max(Math.abs(Ae-ce.top),Math.abs(Ae-ce.bottom));return Math.sqrt(Ie*Ie+ft*ft)}(Ae,ce,ft),Kn=Ae-ft.left,ke=ce-ft.top,fe=Zt.enterDuration,oe=document.createElement("div");oe.classList.add("mat-ripple-element"),oe.style.left=Kn-un+"px",oe.style.top=ke-un+"px",oe.style.height=2*un+"px",oe.style.width=2*un+"px",null!=Ie.color&&(oe.style.backgroundColor=Ie.color),oe.style.transitionDuration=`${fe}ms`,this._containerElement.appendChild(oe),window.getComputedStyle(oe).getPropertyValue("opacity"),oe.style.transform="scale(1)";const Me=new rn(this,oe,Ie);return Me.state=0,this._activeRipples.add(Me),Ie.persistent||(this._mostRecentTransientRipple=Me),this._runTimeoutOutsideZone(()=>{const We=Me===this._mostRecentTransientRipple;Me.state=1,!Ie.persistent&&(!We||!this._isPointerDown)&&Me.fadeOut()},fe),Me}fadeOutRipple(Ae){const ce=this._activeRipples.delete(Ae);if(Ae===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!ce)return;const Ie=Ae.element,ft=Object.assign(Object.assign({},Kt),Ae.config.animation);Ie.style.transitionDuration=`${ft.exitDuration}ms`,Ie.style.opacity="0",Ae.state=2,this._runTimeoutOutsideZone(()=>{Ae.state=3,Ie.parentNode.removeChild(Ie)},ft.exitDuration)}fadeOutAll(){this._activeRipples.forEach(Ae=>Ae.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(Ae=>{Ae.config.persistent||Ae.fadeOut()})}setupTriggerEvents(Ae){const ce=(0,T.fI)(Ae);!ce||ce===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ce,this._registerEvents(Xt))}handleEvent(Ae){"mousedown"===Ae.type?this._onMousedown(Ae):"touchstart"===Ae.type?this._onTouchStart(Ae):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Sn),this._pointerUpEventsRegistered=!0)}_onMousedown(Ae){const ce=(0,P.X6)(Ae),Ie=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ce&&!Ie&&(this._isPointerDown=!0,this.fadeInRipple(Ae.clientX,Ae.clientY,this._target.rippleConfig))}_onTouchStart(Ae){if(!this._target.rippleDisabled&&!(0,P.yG)(Ae)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ce=Ae.changedTouches;for(let Ie=0;Ie<ce.length;Ie++)this.fadeInRipple(ce[Ie].clientX,ce[Ie].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(Ae=>{!Ae.config.persistent&&(1===Ae.state||Ae.config.terminateOnPointerUp&&0===Ae.state)&&Ae.fadeOut()}))}_runTimeoutOutsideZone(Ae,ce=0){this._ngZone.runOutsideAngular(()=>setTimeout(Ae,ce))}_registerEvents(Ae){this._ngZone.runOutsideAngular(()=>{Ae.forEach(ce=>{this._triggerElement.addEventListener(ce,this,yt)})})}_removeTriggerEvents(){this._triggerElement&&(Xt.forEach(Ae=>{this._triggerElement.removeEventListener(Ae,this,yt)}),this._pointerUpEventsRegistered&&Sn.forEach(Ae=>{this._triggerElement.removeEventListener(Ae,this,yt)}))}}const ze=new _.OlP("mat-ripple-global-options");let rt=(()=>{class Oe{constructor(ce,Ie,ft,Zt,un){this._elementRef=ce,this._animationMode=un,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Zt||{},this._rippleRenderer=new vn(this,Ie,ce,ft)}get disabled(){return this._disabled}set disabled(ce){ce&&this.fadeOutAllNonPersistent(),this._disabled=ce,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ce){this._trigger=ce,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ce,Ie=0,ft){return"number"==typeof ce?this._rippleRenderer.fadeInRipple(ce,Ie,Object.assign(Object.assign({},this.rippleConfig),ft)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),ce))}}return Oe.\u0275fac=function(ce){return new(ce||Oe)(_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(p.t4),_.Y36(ze,8),_.Y36(w.Qb,8))},Oe.\u0275dir=_.lG2({type:Oe,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(ce,Ie){2&ce&&_.ekj("mat-ripple-unbounded",Ie.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),Oe})(),Ut=(()=>{class Oe{}return Oe.\u0275fac=function(ce){return new(ce||Oe)},Oe.\u0275mod=_.oAB({type:Oe}),Oe.\u0275inj=_.cJS({imports:[[B,p.ud],B]}),Oe})()},8295:(ut,Ve,W)=>{"use strict";W.d(Ve,{G_:()=>Xt,KE:()=>Sn,Eo:()=>De,lN:()=>vn});var _=W(8553),P=W(8583),u=W(7716),v=W(2458),S=W(9490),p=W(9765),T=W(6682),b=W(2759),w=W(5088),C=W(6782),D=W(8573),g=W(7238),l=W(6237),m=W(946),c=W(521);const f=["underline"],I=["connectionContainer"],k=["inputContainer"],H=["label"];function Y(Je,At){1&Je&&(u.ynx(0),u.TgZ(1,"div",14),u._UZ(2,"div",15),u._UZ(3,"div",16),u._UZ(4,"div",17),u.qZA(),u.TgZ(5,"div",18),u._UZ(6,"div",15),u._UZ(7,"div",16),u._UZ(8,"div",17),u.qZA(),u.BQk())}function N(Je,At){1&Je&&(u.TgZ(0,"div",19),u.Hsn(1,1),u.qZA())}function B(Je,At){if(1&Je&&(u.ynx(0),u.Hsn(1,2),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.BQk()),2&Je){const ze=u.oxw(2);u.xp6(3),u.Oqu(ze._control.placeholder)}}function te(Je,At){1&Je&&u.Hsn(0,3,["*ngSwitchCase","true"])}function Ee(Je,At){1&Je&&(u.TgZ(0,"span",23),u._uU(1," *"),u.qZA())}function ue(Je,At){if(1&Je){const ze=u.EpF();u.TgZ(0,"label",20,21),u.NdJ("cdkObserveContent",function(){return u.CHM(ze),u.oxw().updateOutlineGap()}),u.YNc(2,B,4,1,"ng-container",12),u.YNc(3,te,1,0,"ng-content",12),u.YNc(4,Ee,2,0,"span",22),u.qZA()}if(2&Je){const ze=u.oxw();u.ekj("mat-empty",ze._control.empty&&!ze._shouldAlwaysFloat())("mat-form-field-empty",ze._control.empty&&!ze._shouldAlwaysFloat())("mat-accent","accent"==ze.color)("mat-warn","warn"==ze.color),u.Q6J("cdkObserveContentDisabled","outline"!=ze.appearance)("id",ze._labelId)("ngSwitch",ze._hasLabel()),u.uIk("for",ze._control.id)("aria-owns",ze._control.id),u.xp6(2),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngIf",!ze.hideRequiredMarker&&ze._control.required&&!ze._control.disabled)}}function V(Je,At){1&Je&&(u.TgZ(0,"div",24),u.Hsn(1,4),u.qZA())}function Z(Je,At){if(1&Je&&(u.TgZ(0,"div",25,26),u._UZ(2,"span",27),u.qZA()),2&Je){const ze=u.oxw();u.xp6(2),u.ekj("mat-accent","accent"==ze.color)("mat-warn","warn"==ze.color)}}function $(Je,At){if(1&Je&&(u.TgZ(0,"div"),u.Hsn(1,5),u.qZA()),2&Je){const ze=u.oxw();u.Q6J("@transitionMessages",ze._subscriptAnimationState)}}function re(Je,At){if(1&Je&&(u.TgZ(0,"div",31),u._uU(1),u.qZA()),2&Je){const ze=u.oxw(2);u.Q6J("id",ze._hintLabelId),u.xp6(1),u.Oqu(ze.hintLabel)}}function Se(Je,At){if(1&Je&&(u.TgZ(0,"div",28),u.YNc(1,re,2,2,"div",29),u.Hsn(2,6),u._UZ(3,"div",30),u.Hsn(4,7),u.qZA()),2&Je){const ze=u.oxw();u.Q6J("@transitionMessages",ze._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",ze.hintLabel)}}const qe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ge=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],lt=new u.OlP("MatError"),he={transitionMessages:(0,g.X$)("transitionMessages",[(0,g.SB)("enter",(0,g.oB)({opacity:1,transform:"translateY(0%)"})),(0,g.eR)("void => enter",[(0,g.oB)({opacity:0,transform:"translateY(-5px)"}),(0,g.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let De=(()=>{class Je{}return Je.\u0275fac=function(ze){return new(ze||Je)},Je.\u0275dir=u.lG2({type:Je}),Je})();const nt=new u.OlP("MatHint");let et=(()=>{class Je{}return Je.\u0275fac=function(ze){return new(ze||Je)},Je.\u0275dir=u.lG2({type:Je,selectors:[["mat-label"]]}),Je})(),Ft=(()=>{class Je{}return Je.\u0275fac=function(ze){return new(ze||Je)},Je.\u0275dir=u.lG2({type:Je,selectors:[["mat-placeholder"]]}),Je})();const Et=new u.OlP("MatPrefix"),mn=new u.OlP("MatSuffix");let En=0;const _n=(0,v.pj)(class{constructor(Je){this._elementRef=Je}},"primary"),yt=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Xt=new u.OlP("MatFormField");let Sn=(()=>{class Je extends _n{constructor(ze,rt,Ut,Ct,it,bt,Jt,bn){super(ze),this._changeDetectorRef=rt,this._dir=Ct,this._defaults=it,this._platform=bt,this._ngZone=Jt,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new p.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+En++,this._labelId="mat-form-field-label-"+En++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==bn,this.appearance=it&&it.appearance?it.appearance:"legacy",this._hideRequiredMarker=!(!it||null==it.hideRequiredMarker)&&it.hideRequiredMarker}get appearance(){return this._appearance}set appearance(ze){const rt=this._appearance;this._appearance=ze||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&rt!==ze&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(ze){this._hideRequiredMarker=(0,S.Ig)(ze)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(ze){this._hintLabel=ze,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(ze){ze!==this._floatLabel&&(this._floatLabel=ze||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(ze){this._explicitFormFieldControl=ze}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const ze=this._control;ze.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${ze.controlType}`),ze.stateChanges.pipe((0,w.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),ze.ngControl&&ze.ngControl.valueChanges&&ze.ngControl.valueChanges.pipe((0,C.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,C.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,T.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,w.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,w.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,C.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(ze){const rt=this._control?this._control.ngControl:null;return rt&&rt[ze]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,b.R)(this._label.nativeElement,"transitionend").pipe((0,D.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let ze=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&ze.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const rt=this._hintChildren?this._hintChildren.find(Ct=>"start"===Ct.align):null,Ut=this._hintChildren?this._hintChildren.find(Ct=>"end"===Ct.align):null;rt?ze.push(rt.id):this._hintLabel&&ze.push(this._hintLabelId),Ut&&ze.push(Ut.id)}else this._errorChildren&&ze.push(...this._errorChildren.map(rt=>rt.id));this._control.setDescribedByIds(ze)}}_validateControlChild(){}updateOutlineGap(){const ze=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&ze&&ze.children.length&&ze.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let rt=0,Ut=0;const Ct=this._connectionContainerRef.nativeElement,it=Ct.querySelectorAll(".mat-form-field-outline-start"),bt=Ct.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const Jt=Ct.getBoundingClientRect();if(0===Jt.width&&0===Jt.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const bn=this._getStartEnd(Jt),wn=ze.children,Yt=this._getStartEnd(wn[0].getBoundingClientRect());let an=0;for(let Dn=0;Dn<wn.length;Dn++)an+=wn[Dn].offsetWidth;rt=Math.abs(Yt-bn)-5,Ut=an>0?.75*an+10:0}for(let Jt=0;Jt<it.length;Jt++)it[Jt].style.width=`${rt}px`;for(let Jt=0;Jt<bt.length;Jt++)bt[Jt].style.width=`${Ut}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(ze){return this._dir&&"rtl"===this._dir.value?ze.right:ze.left}_isAttachedToDOM(){const ze=this._elementRef.nativeElement;if(ze.getRootNode){const rt=ze.getRootNode();return rt&&rt!==ze}return document.documentElement.contains(ze)}}return Je.\u0275fac=function(ze){return new(ze||Je)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(m.Is,8),u.Y36(yt,8),u.Y36(c.t4),u.Y36(u.R0b),u.Y36(l.Qb,8))},Je.\u0275cmp=u.Xpm({type:Je,selectors:[["mat-form-field"]],contentQueries:function(ze,rt,Ut){if(1&ze&&(u.Suo(Ut,De,5),u.Suo(Ut,De,7),u.Suo(Ut,et,5),u.Suo(Ut,et,7),u.Suo(Ut,Ft,5),u.Suo(Ut,lt,5),u.Suo(Ut,nt,5),u.Suo(Ut,Et,5),u.Suo(Ut,mn,5)),2&ze){let Ct;u.iGM(Ct=u.CRH())&&(rt._controlNonStatic=Ct.first),u.iGM(Ct=u.CRH())&&(rt._controlStatic=Ct.first),u.iGM(Ct=u.CRH())&&(rt._labelChildNonStatic=Ct.first),u.iGM(Ct=u.CRH())&&(rt._labelChildStatic=Ct.first),u.iGM(Ct=u.CRH())&&(rt._placeholderChild=Ct.first),u.iGM(Ct=u.CRH())&&(rt._errorChildren=Ct),u.iGM(Ct=u.CRH())&&(rt._hintChildren=Ct),u.iGM(Ct=u.CRH())&&(rt._prefixChildren=Ct),u.iGM(Ct=u.CRH())&&(rt._suffixChildren=Ct)}},viewQuery:function(ze,rt){if(1&ze&&(u.Gf(f,5),u.Gf(I,7),u.Gf(k,5),u.Gf(H,5)),2&ze){let Ut;u.iGM(Ut=u.CRH())&&(rt.underlineRef=Ut.first),u.iGM(Ut=u.CRH())&&(rt._connectionContainerRef=Ut.first),u.iGM(Ut=u.CRH())&&(rt._inputContainerRef=Ut.first),u.iGM(Ut=u.CRH())&&(rt._label=Ut.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(ze,rt){2&ze&&u.ekj("mat-form-field-appearance-standard","standard"==rt.appearance)("mat-form-field-appearance-fill","fill"==rt.appearance)("mat-form-field-appearance-outline","outline"==rt.appearance)("mat-form-field-appearance-legacy","legacy"==rt.appearance)("mat-form-field-invalid",rt._control.errorState)("mat-form-field-can-float",rt._canLabelFloat())("mat-form-field-should-float",rt._shouldLabelFloat())("mat-form-field-has-label",rt._hasFloatingLabel())("mat-form-field-hide-placeholder",rt._hideControlPlaceholder())("mat-form-field-disabled",rt._control.disabled)("mat-form-field-autofilled",rt._control.autofilled)("mat-focused",rt._control.focused)("ng-untouched",rt._shouldForward("untouched"))("ng-touched",rt._shouldForward("touched"))("ng-pristine",rt._shouldForward("pristine"))("ng-dirty",rt._shouldForward("dirty"))("ng-valid",rt._shouldForward("valid"))("ng-invalid",rt._shouldForward("invalid"))("ng-pending",rt._shouldForward("pending"))("_mat-animation-noopable",!rt._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:Xt,useExisting:Je}]),u.qOj],ngContentSelectors:Ge,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(ze,rt){1&ze&&(u.F$t(qe),u.TgZ(0,"div",0),u.TgZ(1,"div",1,2),u.NdJ("click",function(Ct){return rt._control.onContainerClick&&rt._control.onContainerClick(Ct)}),u.YNc(3,Y,9,0,"ng-container",3),u.YNc(4,N,2,0,"div",4),u.TgZ(5,"div",5,6),u.Hsn(7),u.TgZ(8,"span",7),u.YNc(9,ue,5,16,"label",8),u.qZA(),u.qZA(),u.YNc(10,V,2,0,"div",9),u.qZA(),u.YNc(11,Z,3,4,"div",10),u.TgZ(12,"div",11),u.YNc(13,$,2,1,"div",12),u.YNc(14,Se,5,2,"div",13),u.qZA(),u.qZA()),2&ze&&(u.xp6(3),u.Q6J("ngIf","outline"==rt.appearance),u.xp6(1),u.Q6J("ngIf",rt._prefixChildren.length),u.xp6(5),u.Q6J("ngIf",rt._hasFloatingLabel()),u.xp6(1),u.Q6J("ngIf",rt._suffixChildren.length),u.xp6(1),u.Q6J("ngIf","outline"!=rt.appearance),u.xp6(1),u.Q6J("ngSwitch",rt._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},directives:[P.O5,P.RF,P.n9,_.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[he.transitionMessages]},changeDetection:0}),Je})(),vn=(()=>{class Je{}return Je.\u0275fac=function(ze){return new(ze||Je)},Je.\u0275mod=u.oAB({type:Je}),Je.\u0275inj=u.cJS({imports:[[P.ez,v.BQ,_.Q8],v.BQ]}),Je})()},9983:(ut,Ve,W)=>{"use strict";W.d(Ve,{Nt:()=>Ee,c:()=>ue});var _=W(521),P=W(7716),u=W(9490),v=W(9193),S=W(9765);W(2759),W(13),W(6782),W(8583);const C=(0,_.i$)({passive:!0});let D=(()=>{class V{constructor($,re){this._platform=$,this._ngZone=re,this._monitoredElements=new Map}monitor($){if(!this._platform.isBrowser)return v.E;const re=(0,u.fI)($),Se=this._monitoredElements.get(re);if(Se)return Se.subject;const qe=new S.xQ,Ge="cdk-text-field-autofilled",tt=lt=>{"cdk-text-field-autofill-start"!==lt.animationName||re.classList.contains(Ge)?"cdk-text-field-autofill-end"===lt.animationName&&re.classList.contains(Ge)&&(re.classList.remove(Ge),this._ngZone.run(()=>qe.next({target:lt.target,isAutofilled:!1}))):(re.classList.add(Ge),this._ngZone.run(()=>qe.next({target:lt.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{re.addEventListener("animationstart",tt,C),re.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(re,{subject:qe,unlisten:()=>{re.removeEventListener("animationstart",tt,C)}}),qe}stopMonitoring($){const re=(0,u.fI)($),Se=this._monitoredElements.get(re);Se&&(Se.unlisten(),Se.subject.complete(),re.classList.remove("cdk-text-field-autofill-monitored"),re.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(re))}ngOnDestroy(){this._monitoredElements.forEach(($,re)=>this.stopMonitoring(re))}}return V.\u0275fac=function($){return new($||V)(P.LFG(_.t4),P.LFG(P.R0b))},V.\u0275prov=P.Yz7({factory:function(){return new V(P.LFG(_.t4),P.LFG(P.R0b))},token:V,providedIn:"root"}),V})(),m=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=P.oAB({type:V}),V.\u0275inj=P.cJS({imports:[[_.ud]]}),V})();var c=W(2458),f=W(8295),I=W(665);const Y=new P.OlP("MAT_INPUT_VALUE_ACCESSOR"),N=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let B=0;const te=(0,c.FD)(class{constructor(V,Z,$,re){this._defaultErrorStateMatcher=V,this._parentForm=Z,this._parentFormGroup=$,this.ngControl=re}});let Ee=(()=>{class V extends te{constructor($,re,Se,qe,Ge,tt,lt,_t,he,De){super(tt,qe,Ge,Se),this._elementRef=$,this._platform=re,this._autofillMonitor=_t,this._formField=De,this._uid="mat-input-"+B++,this.focused=!1,this.stateChanges=new S.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Be=>(0,_.qK)().has(Be));const Pe=this._elementRef.nativeElement,pe=Pe.nodeName.toLowerCase();this._inputValueAccessor=lt||Pe,this._previousNativeValue=this.value,this.id=this.id,re.IOS&&he.runOutsideAngular(()=>{$.nativeElement.addEventListener("keyup",Be=>{const Xe=Be.target;!Xe.value&&0===Xe.selectionStart&&0===Xe.selectionEnd&&(Xe.setSelectionRange(1,1),Xe.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===pe,this._isTextarea="textarea"===pe,this._isInFormField=!!De,this._isNativeSelect&&(this.controlType=Pe.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled($){this._disabled=(0,u.Ig)($),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id($){this._id=$||this._uid}get required(){return this._required}set required($){this._required=(0,u.Ig)($)}get type(){return this._type}set type($){this._type=$||"text",this._validateType(),!this._isTextarea&&(0,_.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value($){$!==this.value&&(this._inputValueAccessor.value=$,this.stateChanges.next())}get readonly(){return this._readonly}set readonly($){this._readonly=(0,u.Ig)($)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe($=>{this.autofilled=$.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus($){this._elementRef.nativeElement.focus($)}_focusChanged($){$!==this.focused&&(this.focused=$,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var $,re;const Se=(null===(re=null===($=this._formField)||void 0===$?void 0:$._hideControlPlaceholder)||void 0===re?void 0:re.call($))?null:this.placeholder;if(Se!==this._previousPlaceholder){const qe=this._elementRef.nativeElement;this._previousPlaceholder=Se,Se?qe.setAttribute("placeholder",Se):qe.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const $=this._elementRef.nativeElement.value;this._previousNativeValue!==$&&(this._previousNativeValue=$,this.stateChanges.next())}_validateType(){N.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let $=this._elementRef.nativeElement.validity;return $&&$.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const $=this._elementRef.nativeElement,re=$.options[0];return this.focused||$.multiple||!this.empty||!!($.selectedIndex>-1&&re&&re.label)}return this.focused||!this.empty}setDescribedByIds($){$.length?this._elementRef.nativeElement.setAttribute("aria-describedby",$.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const $=this._elementRef.nativeElement;return this._isNativeSelect&&($.multiple||$.size>1)}}return V.\u0275fac=function($){return new($||V)(P.Y36(P.SBq),P.Y36(_.t4),P.Y36(I.a5,10),P.Y36(I.F,8),P.Y36(I.sg,8),P.Y36(c.rD),P.Y36(Y,10),P.Y36(D),P.Y36(P.R0b),P.Y36(f.G_,8))},V.\u0275dir=P.lG2({type:V,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function($,re){1&$&&P.NdJ("focus",function(){return re._focusChanged(!0)})("blur",function(){return re._focusChanged(!1)})("input",function(){return re._onInput()}),2&$&&(P.Ikx("disabled",re.disabled)("required",re.required),P.uIk("id",re.id)("data-placeholder",re.placeholder)("readonly",re.readonly&&!re._isNativeSelect||null)("aria-invalid",re.empty&&re.required?null:re.errorState)("aria-required",re.required),P.ekj("mat-input-server",re._isServer)("mat-native-select-inline",re._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[P._Bn([{provide:f.Eo,useExisting:V}]),P.qOj,P.TTD]}),V})(),ue=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=P.oAB({type:V}),V.\u0275inj=P.cJS({providers:[c.rD],imports:[[m,f.lN,c.BQ],m,f.lN]}),V})()},5396:(ut,Ve,W)=>{"use strict";W.d(Ve,{Rr:()=>k,rP:()=>B});var _=W(8553),P=W(7716),u=W(2458),v=W(9490),S=W(665),p=W(6237),T=W(9531);const b=["thumbContainer"],w=["toggleBar"],C=["input"],D=function(te){return{enterDuration:te}},g=["*"],l=new P.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let m=0;const c={provide:S.JU,useExisting:(0,P.Gpc)(()=>k),multi:!0};class f{constructor(Ee,ue){this.source=Ee,this.checked=ue}}const I=(0,u.sb)((0,u.pj)((0,u.Kr)((0,u.Id)(class{constructor(te){this._elementRef=te}}))));let k=(()=>{class te extends I{constructor(ue,V,Z,$,re,Se){super(ue),this._focusMonitor=V,this._changeDetectorRef=Z,this.defaults=re,this._onChange=qe=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++m,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new P.vpe,this.toggleChange=new P.vpe,this.tabIndex=parseInt($)||0,this.color=this.defaultColor=re.color||"accent",this._noopAnimations="NoopAnimations"===Se}get required(){return this._required}set required(ue){this._required=(0,v.Ig)(ue)}get checked(){return this._checked}set checked(ue){this._checked=(0,v.Ig)(ue),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(ue=>{"keyboard"===ue||"program"===ue?this._inputElement.nativeElement.focus():ue||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(ue){ue.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(ue){ue.stopPropagation()}writeValue(ue){this.checked=!!ue}registerOnChange(ue){this._onChange=ue}registerOnTouched(ue){this._onTouched=ue}setDisabledState(ue){this.disabled=ue,this._changeDetectorRef.markForCheck()}focus(ue,V){V?this._focusMonitor.focusVia(this._inputElement,V,ue):this._inputElement.nativeElement.focus(ue)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new f(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return te.\u0275fac=function(ue){return new(ue||te)(P.Y36(P.SBq),P.Y36(T.tE),P.Y36(P.sBO),P.$8M("tabindex"),P.Y36(l),P.Y36(p.Qb,8))},te.\u0275cmp=P.Xpm({type:te,selectors:[["mat-slide-toggle"]],viewQuery:function(ue,V){if(1&ue&&(P.Gf(b,5),P.Gf(w,5),P.Gf(C,5)),2&ue){let Z;P.iGM(Z=P.CRH())&&(V._thumbEl=Z.first),P.iGM(Z=P.CRH())&&(V._thumbBarEl=Z.first),P.iGM(Z=P.CRH())&&(V._inputElement=Z.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(ue,V){2&ue&&(P.Ikx("id",V.id),P.uIk("tabindex",V.disabled?null:-1)("aria-label",null)("aria-labelledby",null),P.ekj("mat-checked",V.checked)("mat-disabled",V.disabled)("mat-slide-toggle-label-before","before"==V.labelPosition)("_mat-animation-noopable",V._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked",ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[P._Bn([c]),P.qOj],ngContentSelectors:g,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(ue,V){if(1&ue&&(P.F$t(),P.TgZ(0,"label",0,1),P.TgZ(2,"div",2,3),P.TgZ(4,"input",4,5),P.NdJ("change",function($){return V._onChangeEvent($)})("click",function($){return V._onInputClick($)}),P.qZA(),P.TgZ(6,"div",6,7),P._UZ(8,"div",8),P.TgZ(9,"div",9),P._UZ(10,"div",10),P.qZA(),P.qZA(),P.qZA(),P.TgZ(11,"span",11,12),P.NdJ("cdkObserveContent",function(){return V._onLabelTextChange()}),P.TgZ(13,"span",13),P._uU(14,"\xa0"),P.qZA(),P.Hsn(15),P.qZA(),P.qZA()),2&ue){const Z=P.MAs(1),$=P.MAs(12);P.uIk("for",V.inputId),P.xp6(2),P.ekj("mat-slide-toggle-bar-no-side-margin",!$.textContent||!$.textContent.trim()),P.xp6(2),P.Q6J("id",V.inputId)("required",V.required)("tabIndex",V.tabIndex)("checked",V.checked)("disabled",V.disabled),P.uIk("name",V.name)("aria-checked",V.checked.toString())("aria-label",V.ariaLabel)("aria-labelledby",V.ariaLabelledby)("aria-describedby",V.ariaDescribedby),P.xp6(5),P.Q6J("matRippleTrigger",Z)("matRippleDisabled",V.disableRipple||V.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",P.VKq(18,D,V._noopAnimations?0:150))}},directives:[u.wG,_.wD],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),te})(),N=(()=>{class te{}return te.\u0275fac=function(ue){return new(ue||te)},te.\u0275mod=P.oAB({type:te}),te.\u0275inj=P.cJS({}),te})(),B=(()=>{class te{}return te.\u0275fac=function(ue){return new(ue||te)},te.\u0275mod=P.oAB({type:te}),te.\u0275inj=P.cJS({imports:[[N,u.si,u.BQ,_.Q8],N,u.BQ]}),te})()},1923:(ut,Ve,W)=>{"use strict";W.d(Ve,{uX:()=>Li,SP:()=>Ii,Nh:()=>Nn});var _=W(9531),P=W(8553),u=W(7716),v=W(8583);class D{attach(q){return this._attachedHost=q,q.attach(this)}detach(){let q=this._attachedHost;null!=q&&(this._attachedHost=null,q.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(q){this._attachedHost=q}}class g extends D{constructor(q,E,U,ae){super(),this.component=q,this.viewContainerRef=E,this.injector=U,this.componentFactoryResolver=ae}}class l extends D{constructor(q,E,U){super(),this.templateRef=q,this.viewContainerRef=E,this.context=U}get origin(){return this.templateRef.elementRef}attach(q,E=this.context){return this.context=E,super.attach(q)}detach(){return this.context=void 0,super.detach()}}class m extends D{constructor(q){super(),this.element=q instanceof u.SBq?q.nativeElement:q}}let N=(()=>{class se extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(q){return q instanceof g?(this._attachedPortal=q,this.attachComponentPortal(q)):q instanceof l?(this._attachedPortal=q,this.attachTemplatePortal(q)):this.attachDomPortal&&q instanceof m?(this._attachedPortal=q,this.attachDomPortal(q)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(q){this._disposeFn=q}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(E,U,ae){super(),this._componentFactoryResolver=E,this._viewContainerRef=U,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=xe=>{const A=xe.element,z=this._document.createComment("dom-portal");xe.setAttachedHost(this),A.parentNode.insertBefore(z,A),this._getRootNode().appendChild(A),this._attachedPortal=xe,super.setDisposeFn(()=>{z.parentNode&&z.parentNode.replaceChild(A,z)})},this._document=ae}get portal(){return this._attachedPortal}set portal(E){this.hasAttached()&&!E&&!this._isInitialized||(this.hasAttached()&&super.detach(),E&&super.attach(E),this._attachedPortal=E)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(E){E.setAttachedHost(this);const U=null!=E.viewContainerRef?E.viewContainerRef:this._viewContainerRef,xe=(E.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(E.component),A=U.createComponent(xe,U.length,E.injector||U.injector);return U!==this._viewContainerRef&&this._getRootNode().appendChild(A.hostView.rootNodes[0]),super.setDisposeFn(()=>A.destroy()),this._attachedPortal=E,this._attachedRef=A,this.attached.emit(A),A}attachTemplatePortal(E){E.setAttachedHost(this);const U=this._viewContainerRef.createEmbeddedView(E.templateRef,E.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=E,this._attachedRef=U,this.attached.emit(U),U}_getRootNode(){const E=this._viewContainerRef.element.nativeElement;return E.nodeType===E.ELEMENT_NODE?E:E.parentNode}}return se.\u0275fac=function(E){return new(E||se)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(v.K0))},se.\u0275dir=u.lG2({type:se,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),se})(),te=(()=>{class se{}return se.\u0275fac=function(E){return new(E||se)},se.\u0275mod=u.oAB({type:se}),se.\u0275inj=u.cJS({}),se})();var ue=W(2458),V=W(6237),Z=W(9765),$=W(5319),re=W(6682),Se=W(2759),qe=W(5917),Ge=W(8634),tt=W(7238),lt=W(5088),_t=W(7519),he=W(6782),De=W(9490),Pe=W(521),pe=W(6461),Be=W(946),Xe=W(7574),nt=W(6465),et=W(6102);new class extends et.v{flush(q){this.active=!0,this.scheduled=void 0;const{actions:E}=this;let U,ae=-1,xe=E.length;q=q||E.shift();do{if(U=q.execute(q.state,q.delay))break}while(++ae<xe&&(q=E.shift()));if(this.active=!1,U){for(;++ae<xe&&(q=E.shift());)q.unsubscribe();throw U}}}(class extends nt.o{constructor(q,E){super(q,E),this.scheduler=q,this.work=E}requestAsyncId(q,E,U=0){return null!==U&&U>0?super.requestAsyncId(q,E,U):(q.actions.push(this),q.scheduled||(q.scheduled=requestAnimationFrame(()=>q.flush(null))))}recycleAsyncId(q,E,U=0){if(null!==U&&U>0||null===U&&this.delay>0)return super.recycleAsyncId(q,E,U);0===q.actions.length&&(cancelAnimationFrame(E),q.scheduled=void 0)}});let mn=1;const Mn=Promise.resolve(),En={};function rn(se){return se in En&&(delete En[se],!0)}const Kt={setImmediate(se){const q=mn++;return En[q]=!0,Mn.then(()=>rn(q)&&se()),q},clearImmediate(se){rn(se)}};new class extends et.v{flush(q){this.active=!0,this.scheduled=void 0;const{actions:E}=this;let U,ae=-1,xe=E.length;q=q||E.shift();do{if(U=q.execute(q.state,q.delay))break}while(++ae<xe&&(q=E.shift()));if(this.active=!1,U){for(;++ae<xe&&(q=E.shift());)q.unsubscribe();throw U}}}(class extends nt.o{constructor(q,E){super(q,E),this.scheduler=q,this.work=E}requestAsyncId(q,E,U=0){return null!==U&&U>0?super.requestAsyncId(q,E,U):(q.actions.push(this),q.scheduled||(q.scheduled=Kt.setImmediate(q.flush.bind(q,null))))}recycleAsyncId(q,E,U=0){if(null!==U&&U>0||null===U&&this.delay>0)return super.recycleAsyncId(q,E,U);0===q.actions.length&&(Kt.clearImmediate(E),q.scheduled=void 0)}});var At=W(13);W(5435),W(9328),W(8002),W(4402),W(5345),new class extends et.v{}(class extends nt.o{constructor(q,E){super(q,E),this.scheduler=q,this.work=E}schedule(q,E=0){return E>0?super.schedule(q,E):(this.delay=E,this.state=q,this.scheduler.flush(this),this)}execute(q,E){return E>0||this.closed?super.execute(q,E):this._execute(q,E)}requestAsyncId(q,E,U=0){return null!==U&&U>0||null===U&&this.delay>0?super.requestAsyncId(q,E,U):q.flush(this)}}),W(7393);var Bt=W(9193);class ln{constructor(q,E,U){this.kind=q,this.value=E,this.error=U,this.hasValue="N"===q}observe(q){switch(this.kind){case"N":return q.next&&q.next(this.value);case"E":return q.error&&q.error(this.error);case"C":return q.complete&&q.complete()}}do(q,E,U){switch(this.kind){case"N":return q&&q(this.value);case"E":return E&&E(this.error);case"C":return U&&U()}}accept(q,E,U){return q&&"function"==typeof q.next?this.observe(q):this.do(q,E,U)}toObservable(){switch(this.kind){case"N":return(0,qe.of)(this.value);case"E":return se=this.error,new Xe.y(E=>E.error(se));case"C":return(0,Bt.c)()}var se;throw new Error("unexpected notification kind value")}static createNext(q){return void 0!==q?new ln("N",q):ln.undefinedValueNotification}static createError(q){return new ln("E",void 0,q)}static createComplete(){return ln.completeNotification}}ln.completeNotification=new ln("C"),ln.undefinedValueNotification=new ln("N",void 0),W(7971),W(8858);let He=(()=>{class se{constructor(E,U,ae){this._platform=E,this._change=new Z.xQ,this._changeListener=xe=>{this._change.next(xe)},this._document=ae,U.runOutsideAngular(()=>{if(E.isBrowser){const xe=this._getWindow();xe.addEventListener("resize",this._changeListener),xe.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const E=this._getWindow();E.removeEventListener("resize",this._changeListener),E.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const E={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),E}getViewportRect(){const E=this.getViewportScrollPosition(),{width:U,height:ae}=this.getViewportSize();return{top:E.top,left:E.left,bottom:E.top+ae,right:E.left+U,height:ae,width:U}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const E=this._document,U=this._getWindow(),ae=E.documentElement,xe=ae.getBoundingClientRect();return{top:-xe.top||E.body.scrollTop||U.scrollY||ae.scrollTop||0,left:-xe.left||E.body.scrollLeft||U.scrollX||ae.scrollLeft||0}}change(E=20){return E>0?this._change.pipe((0,At.e)(E)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const E=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:E.innerWidth,height:E.innerHeight}:{width:0,height:0}}}return se.\u0275fac=function(E){return new(E||se)(u.LFG(Pe.t4),u.LFG(u.R0b),u.LFG(v.K0,8))},se.\u0275prov=u.Yz7({factory:function(){return new se(u.LFG(Pe.t4),u.LFG(u.R0b),u.LFG(v.K0,8))},token:se,providedIn:"root"}),se})();function gt(se,q){1&se&&u.Hsn(0)}const Mt=["*"];function Rt(se,q){}const ri=function(se){return{animationDuration:se}},si=function(se,q){return{value:se,params:q}},Xn=["tabBodyWrapper"],Un=["tabHeader"];function Yn(se,q){}function qn(se,q){if(1&se&&u.YNc(0,Yn,0,0,"ng-template",9),2&se){const E=u.oxw().$implicit;u.Q6J("cdkPortalOutlet",E.templateLabel)}}function ei(se,q){if(1&se&&u._uU(0),2&se){const E=u.oxw().$implicit;u.Oqu(E.textLabel)}}function In(se,q){if(1&se){const E=u.EpF();u.TgZ(0,"div",6),u.NdJ("click",function(){const ae=u.CHM(E),xe=ae.$implicit,A=ae.index,z=u.oxw(),F=u.MAs(1);return z._handleClick(xe,F,A)})("cdkFocusChange",function(ae){const A=u.CHM(E).index;return u.oxw()._tabFocusChanged(ae,A)}),u.TgZ(1,"div",7),u.YNc(2,qn,1,1,"ng-template",8),u.YNc(3,ei,1,1,"ng-template",8),u.qZA(),u.qZA()}if(2&se){const E=q.$implicit,U=q.index,ae=u.oxw();u.ekj("mat-tab-label-active",ae.selectedIndex==U),u.Q6J("id",ae._getTabLabelId(U))("disabled",E.disabled)("matRippleDisabled",E.disabled||ae.disableRipple),u.uIk("tabIndex",ae._getTabIndex(E,U))("aria-posinset",U+1)("aria-setsize",ae._tabs.length)("aria-controls",ae._getTabContentId(U))("aria-selected",ae.selectedIndex==U)("aria-label",E.ariaLabel||null)("aria-labelledby",!E.ariaLabel&&E.ariaLabelledby?E.ariaLabelledby:null),u.xp6(2),u.Q6J("ngIf",E.templateLabel),u.xp6(1),u.Q6J("ngIf",!E.templateLabel)}}function gi(se,q){if(1&se){const E=u.EpF();u.TgZ(0,"mat-tab-body",10),u.NdJ("_onCentered",function(){return u.CHM(E),u.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(ae){return u.CHM(E),u.oxw()._setTabBodyWrapperHeight(ae)}),u.qZA()}if(2&se){const E=q.$implicit,U=q.index,ae=u.oxw();u.ekj("mat-tab-body-active",ae.selectedIndex===U),u.Q6J("id",ae._getTabContentId(U))("content",E.content)("position",E.position)("origin",E.origin)("animationDuration",ae.animationDuration),u.uIk("tabindex",null!=ae.contentTabIndex&&ae.selectedIndex===U?ae.contentTabIndex:null)("aria-labelledby",ae._getTabLabelId(U))}}const Fn=["tabListContainer"],hn=["tabList"],mi=["nextPaginator"],Qn=["previousPaginator"],ui=new u.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return q=>({left:q?(q.offsetLeft||0)+"px":"0",width:q?(q.offsetWidth||0)+"px":"0"})}});let Pi=(()=>{class se{constructor(E,U,ae,xe){this._elementRef=E,this._ngZone=U,this._inkBarPositioner=ae,this._animationMode=xe}alignToElement(E){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(E))}):this._setStyles(E)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(E){const U=this._inkBarPositioner(E),ae=this._elementRef.nativeElement;ae.style.left=U.left,ae.style.width=U.width}}return se.\u0275fac=function(E){return new(E||se)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(ui),u.Y36(V.Qb,8))},se.\u0275dir=u.lG2({type:se,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(E,U){2&E&&u.ekj("_mat-animation-noopable","NoopAnimations"===U._animationMode)}}),se})();const ki=new u.OlP("MatTabContent"),xi=new u.OlP("MatTabLabel"),Br=new u.OlP("MAT_TAB"),Sr=(0,ue.Id)(class{}),wr=new u.OlP("MAT_TAB_GROUP");let Li=(()=>{class se extends Sr{constructor(E,U){super(),this._viewContainerRef=E,this._closestTabGroup=U,this.textLabel="",this._contentPortal=null,this._stateChanges=new Z.xQ,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(E){this._setTemplateLabelInput(E)}get content(){return this._contentPortal}ngOnChanges(E){(E.hasOwnProperty("textLabel")||E.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new l(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(E){E&&E._closestTab===this&&(this._templateLabel=E)}}return se.\u0275fac=function(E){return new(E||se)(u.Y36(u.s_b),u.Y36(wr,8))},se.\u0275cmp=u.Xpm({type:se,selectors:[["mat-tab"]],contentQueries:function(E,U,ae){if(1&E&&(u.Suo(ae,xi,5),u.Suo(ae,ki,7,u.Rgc)),2&E){let xe;u.iGM(xe=u.CRH())&&(U.templateLabel=xe.first),u.iGM(xe=u.CRH())&&(U._explicitContent=xe.first)}},viewQuery:function(E,U){if(1&E&&u.Gf(u.Rgc,7),2&E){let ae;u.iGM(ae=u.CRH())&&(U._implicitContent=ae.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[u._Bn([{provide:Br,useExisting:se}]),u.qOj,u.TTD],ngContentSelectors:Mt,decls:1,vars:0,template:function(E,U){1&E&&(u.F$t(),u.YNc(0,gt,1,0,"ng-template"))},encapsulation:2}),se})();const ss={translateTab:(0,tt.X$)("translateTab",[(0,tt.SB)("center, void, left-origin-center, right-origin-center",(0,tt.oB)({transform:"none"})),(0,tt.SB)("left",(0,tt.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),(0,tt.SB)("right",(0,tt.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),(0,tt.eR)("* => left, * => right, left => center, right => center",(0,tt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,tt.eR)("void => left-origin-center",[(0,tt.oB)({transform:"translate3d(-100%, 0, 0)"}),(0,tt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,tt.eR)("void => right-origin-center",[(0,tt.oB)({transform:"translate3d(100%, 0, 0)"}),(0,tt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let ti=(()=>{class se extends N{constructor(E,U,ae,xe){super(E,U,xe),this._host=ae,this._centeringSub=$.w.EMPTY,this._leavingSub=$.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,lt.O)(this._host._isCenterPosition(this._host._position))).subscribe(E=>{E&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return se.\u0275fac=function(E){return new(E||se)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36((0,u.Gpc)(()=>ar)),u.Y36(v.K0))},se.\u0275dir=u.lG2({type:se,selectors:[["","matTabBodyHost",""]],features:[u.qOj]}),se})(),Fi=(()=>{class se{constructor(E,U,ae){this._elementRef=E,this._dir=U,this._dirChangeSubscription=$.w.EMPTY,this._translateTabComplete=new Z.xQ,this._onCentering=new u.vpe,this._beforeCentering=new u.vpe,this._afterLeavingCenter=new u.vpe,this._onCentered=new u.vpe(!0),this.animationDuration="500ms",U&&(this._dirChangeSubscription=U.change.subscribe(xe=>{this._computePositionAnimationState(xe),ae.markForCheck()})),this._translateTabComplete.pipe((0,_t.x)((xe,A)=>xe.fromState===A.fromState&&xe.toState===A.toState)).subscribe(xe=>{this._isCenterPosition(xe.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(xe.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(E){this._positionIndex=E,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(E){const U=this._isCenterPosition(E.toState);this._beforeCentering.emit(U),U&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(E){return"center"==E||"left-origin-center"==E||"right-origin-center"==E}_computePositionAnimationState(E=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==E?"left":"right":this._positionIndex>0?"ltr"==E?"right":"left":"center"}_computePositionFromOrigin(E){const U=this._getLayoutDirection();return"ltr"==U&&E<=0||"rtl"==U&&E>0?"left-origin-center":"right-origin-center"}}return se.\u0275fac=function(E){return new(E||se)(u.Y36(u.SBq),u.Y36(Be.Is,8),u.Y36(u.sBO))},se.\u0275dir=u.lG2({type:se,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),se})(),ar=(()=>{class se extends Fi{constructor(E,U,ae){super(E,U,ae)}}return se.\u0275fac=function(E){return new(E||se)(u.Y36(u.SBq),u.Y36(Be.Is,8),u.Y36(u.sBO))},se.\u0275cmp=u.Xpm({type:se,selectors:[["mat-tab-body"]],viewQuery:function(E,U){if(1&E&&u.Gf(N,5),2&E){let ae;u.iGM(ae=u.CRH())&&(U._portalHost=ae.first)}},hostAttrs:[1,"mat-tab-body"],features:[u.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(E,U){1&E&&(u.TgZ(0,"div",0,1),u.NdJ("@translateTab.start",function(xe){return U._onTranslateTabStarted(xe)})("@translateTab.done",function(xe){return U._translateTabComplete.next(xe)}),u.YNc(2,Rt,0,0,"ng-template",2),u.qZA()),2&E&&u.Q6J("@translateTab",u.WLB(3,si,U._position,u.VKq(1,ri,U.animationDuration)))},directives:[ti],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[ss.translateTab]}}),se})();const Vr=new u.OlP("MAT_TABS_CONFIG");let Hr=0;class jr{}const Mr=(0,ue.pj)((0,ue.Kr)(class{constructor(se){this._elementRef=se}}),"primary");let Yi=(()=>{class se extends Mr{constructor(E,U,ae,xe){var A;super(E),this._changeDetectorRef=U,this._animationMode=xe,this._tabs=new u.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=$.w.EMPTY,this._tabLabelSubscription=$.w.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new u.vpe,this.focusChange=new u.vpe,this.animationDone=new u.vpe,this.selectedTabChange=new u.vpe(!0),this._groupId=Hr++,this.animationDuration=ae&&ae.animationDuration?ae.animationDuration:"500ms",this.disablePagination=!(!ae||null==ae.disablePagination)&&ae.disablePagination,this.dynamicHeight=!(!ae||null==ae.dynamicHeight)&&ae.dynamicHeight,this.contentTabIndex=null!==(A=null==ae?void 0:ae.contentTabIndex)&&void 0!==A?A:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(E){this._dynamicHeight=(0,De.Ig)(E)}get selectedIndex(){return this._selectedIndex}set selectedIndex(E){this._indexToSelect=(0,De.su)(E,null)}get animationDuration(){return this._animationDuration}set animationDuration(E){this._animationDuration=/^\d+$/.test(E)?E+"ms":E}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(E){this._contentTabIndex=(0,De.su)(E,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(E){const U=this._elementRef.nativeElement;U.classList.remove(`mat-background-${this.backgroundColor}`),E&&U.classList.add(`mat-background-${E}`),this._backgroundColor=E}ngAfterContentChecked(){const E=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=E){const U=null==this._selectedIndex;if(!U){this.selectedTabChange.emit(this._createChangeEvent(E));const ae=this._tabBodyWrapper.nativeElement;ae.style.minHeight=ae.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((ae,xe)=>ae.isActive=xe===E),U||(this.selectedIndexChange.emit(E),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((U,ae)=>{U.position=ae-E,null!=this._selectedIndex&&0==U.position&&!U.origin&&(U.origin=E-this._selectedIndex)}),this._selectedIndex!==E&&(this._selectedIndex=E,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const U=this._tabs.toArray();for(let ae=0;ae<U.length;ae++)if(U[ae].isActive){this._indexToSelect=this._selectedIndex=ae;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,lt.O)(this._allTabs)).subscribe(E=>{this._tabs.reset(E.filter(U=>U._closestTabGroup===this||!U._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(E){const U=this._tabHeader;U&&(U.focusIndex=E)}_focusChanged(E){this.focusChange.emit(this._createChangeEvent(E))}_createChangeEvent(E){const U=new jr;return U.index=E,this._tabs&&this._tabs.length&&(U.tab=this._tabs.toArray()[E]),U}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,re.T)(...this._tabs.map(E=>E._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(E){return Math.min(this._tabs.length-1,Math.max(E||0,0))}_getTabLabelId(E){return`mat-tab-label-${this._groupId}-${E}`}_getTabContentId(E){return`mat-tab-content-${this._groupId}-${E}`}_setTabBodyWrapperHeight(E){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const U=this._tabBodyWrapper.nativeElement;U.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(U.style.height=E+"px")}_removeTabBodyWrapperHeight(){const E=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=E.clientHeight,E.style.height="",this.animationDone.emit()}_handleClick(E,U,ae){E.disabled||(this.selectedIndex=U.focusIndex=ae)}_getTabIndex(E,U){return E.disabled?null:this.selectedIndex===U?0:-1}_tabFocusChanged(E,U){E&&"mouse"!==E&&"touch"!==E&&(this._tabHeader.focusIndex=U)}}return se.\u0275fac=function(E){return new(E||se)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Vr,8),u.Y36(V.Qb,8))},se.\u0275dir=u.lG2({type:se,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",contentTabIndex:"contentTabIndex",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[u.qOj]}),se})(),Ii=(()=>{class se extends Yi{constructor(E,U,ae,xe){super(E,U,ae,xe)}}return se.\u0275fac=function(E){return new(E||se)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Vr,8),u.Y36(V.Qb,8))},se.\u0275cmp=u.Xpm({type:se,selectors:[["mat-tab-group"]],contentQueries:function(E,U,ae){if(1&E&&u.Suo(ae,Li,5),2&E){let xe;u.iGM(xe=u.CRH())&&(U._allTabs=xe)}},viewQuery:function(E,U){if(1&E&&(u.Gf(Xn,5),u.Gf(Un,5)),2&E){let ae;u.iGM(ae=u.CRH())&&(U._tabBodyWrapper=ae.first),u.iGM(ae=u.CRH())&&(U._tabHeader=ae.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(E,U){2&E&&u.ekj("mat-tab-group-dynamic-height",U.dynamicHeight)("mat-tab-group-inverted-header","below"===U.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[u._Bn([{provide:wr,useExisting:se}]),u.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(E,U){1&E&&(u.TgZ(0,"mat-tab-header",0,1),u.NdJ("indexFocused",function(xe){return U._focusChanged(xe)})("selectFocusedIndex",function(xe){return U.selectedIndex=xe}),u.YNc(2,In,4,14,"div",2),u.qZA(),u.TgZ(3,"div",3,4),u.YNc(5,gi,1,9,"mat-tab-body",5),u.qZA()),2&E&&(u.Q6J("selectedIndex",U.selectedIndex||0)("disableRipple",U.disableRipple)("disablePagination",U.disablePagination),u.xp6(2),u.Q6J("ngForOf",U._tabs),u.xp6(1),u.ekj("_mat-animation-noopable","NoopAnimations"===U._animationMode),u.xp6(2),u.Q6J("ngForOf",U._tabs))},directives:function(){return[Tr,v.sg,Ri,ue.wG,_.kH,v.O5,N,ar]},styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),se})();const Xr=(0,ue.Id)(class{});let Ri=(()=>{class se extends Xr{constructor(E){super(),this.elementRef=E}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return se.\u0275fac=function(E){return new(E||se)(u.Y36(u.SBq))},se.\u0275dir=u.lG2({type:se,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(E,U){2&E&&(u.uIk("aria-disabled",!!U.disabled),u.ekj("mat-tab-disabled",U.disabled))},inputs:{disabled:"disabled"},features:[u.qOj]}),se})();const qi=(0,Pe.i$)({passive:!0});let Ni=(()=>{class se{constructor(E,U,ae,xe,A,z,F){this._elementRef=E,this._changeDetectorRef=U,this._viewportRuler=ae,this._dir=xe,this._ngZone=A,this._platform=z,this._animationMode=F,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Z.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Z.xQ,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new u.vpe,this.indexFocused=new u.vpe,A.runOutsideAngular(()=>{(0,Se.R)(E.nativeElement,"mouseleave").pipe((0,he.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(E){E=(0,De.su)(E),this._selectedIndex!=E&&(this._selectedIndexChanged=!0,this._selectedIndex=E,this._keyManager&&this._keyManager.updateActiveItem(E))}ngAfterViewInit(){(0,Se.R)(this._previousPaginator.nativeElement,"touchstart",qi).pipe((0,he.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,Se.R)(this._nextPaginator.nativeElement,"touchstart",qi).pipe((0,he.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const E=this._dir?this._dir.change:(0,qe.of)("ltr"),U=this._viewportRuler.change(150),ae=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new _.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(ae):ae(),(0,re.T)(E,U,this._items.changes).pipe((0,he.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(ae)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,he.R)(this._destroyed)).subscribe(xe=>{this.indexFocused.emit(xe),this._setTabFocus(xe)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(E){if(!(0,pe.Vb)(E))switch(E.keyCode){case pe.K5:case pe.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(E));break;default:this._keyManager.onKeydown(E)}}_onContentChanges(){const E=this._elementRef.nativeElement.textContent;E!==this._currentTextContent&&(this._currentTextContent=E||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(E){!this._isValidIndex(E)||this.focusIndex===E||!this._keyManager||this._keyManager.setActiveItem(E)}_isValidIndex(E){if(!this._items)return!0;const U=this._items?this._items.toArray()[E]:null;return!!U&&!U.disabled}_setTabFocus(E){if(this._showPaginationControls&&this._scrollToLabel(E),this._items&&this._items.length){this._items.toArray()[E].focus();const U=this._tabListContainer.nativeElement;U.scrollLeft="ltr"==this._getLayoutDirection()?0:U.scrollWidth-U.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const E=this.scrollDistance,U="ltr"===this._getLayoutDirection()?-E:E;this._tabList.nativeElement.style.transform=`translateX(${Math.round(U)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(E){this._scrollTo(E)}_scrollHeader(E){return this._scrollTo(this._scrollDistance+("before"==E?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(E){this._stopInterval(),this._scrollHeader(E)}_scrollToLabel(E){if(this.disablePagination)return;const U=this._items?this._items.toArray()[E]:null;if(!U)return;const ae=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:xe,offsetWidth:A}=U.elementRef.nativeElement;let z,F;"ltr"==this._getLayoutDirection()?(z=xe,F=z+A):(F=this._tabList.nativeElement.offsetWidth-xe,z=F-A);const X=this.scrollDistance,Ce=this.scrollDistance+ae;z<X?this.scrollDistance-=X-z+60:F>Ce&&(this.scrollDistance+=F-Ce+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const E=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;E||(this.scrollDistance=0),E!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=E}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const E=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,U=E?E.elementRef.nativeElement:null;U?this._inkBar.alignToElement(U):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(E,U){U&&null!=U.button&&0!==U.button||(this._stopInterval(),(0,Ge.H)(650,100).pipe((0,he.R)((0,re.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:ae,distance:xe}=this._scrollHeader(E);(0===xe||xe>=ae)&&this._stopInterval()}))}_scrollTo(E){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const U=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(U,E)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:U,distance:this._scrollDistance}}}return se.\u0275fac=function(E){return new(E||se)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(He),u.Y36(Be.Is,8),u.Y36(u.R0b),u.Y36(Pe.t4),u.Y36(V.Qb,8))},se.\u0275dir=u.lG2({type:se,inputs:{disablePagination:"disablePagination"}}),se})(),Ur=(()=>{class se extends Ni{constructor(E,U,ae,xe,A,z,F){super(E,U,ae,xe,A,z,F),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(E){this._disableRipple=(0,De.Ig)(E)}_itemSelected(E){E.preventDefault()}}return se.\u0275fac=function(E){return new(E||se)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(He),u.Y36(Be.Is,8),u.Y36(u.R0b),u.Y36(Pe.t4),u.Y36(V.Qb,8))},se.\u0275dir=u.lG2({type:se,inputs:{disableRipple:"disableRipple"},features:[u.qOj]}),se})(),Tr=(()=>{class se extends Ur{constructor(E,U,ae,xe,A,z,F){super(E,U,ae,xe,A,z,F)}}return se.\u0275fac=function(E){return new(E||se)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(He),u.Y36(Be.Is,8),u.Y36(u.R0b),u.Y36(Pe.t4),u.Y36(V.Qb,8))},se.\u0275cmp=u.Xpm({type:se,selectors:[["mat-tab-header"]],contentQueries:function(E,U,ae){if(1&E&&u.Suo(ae,Ri,4),2&E){let xe;u.iGM(xe=u.CRH())&&(U._items=xe)}},viewQuery:function(E,U){if(1&E&&(u.Gf(Pi,7),u.Gf(Fn,7),u.Gf(hn,7),u.Gf(mi,5),u.Gf(Qn,5)),2&E){let ae;u.iGM(ae=u.CRH())&&(U._inkBar=ae.first),u.iGM(ae=u.CRH())&&(U._tabListContainer=ae.first),u.iGM(ae=u.CRH())&&(U._tabList=ae.first),u.iGM(ae=u.CRH())&&(U._nextPaginator=ae.first),u.iGM(ae=u.CRH())&&(U._previousPaginator=ae.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(E,U){2&E&&u.ekj("mat-tab-header-pagination-controls-enabled",U._showPaginationControls)("mat-tab-header-rtl","rtl"==U._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[u.qOj],ngContentSelectors:Mt,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(E,U){1&E&&(u.F$t(),u.TgZ(0,"div",0,1),u.NdJ("click",function(){return U._handlePaginatorClick("before")})("mousedown",function(xe){return U._handlePaginatorPress("before",xe)})("touchend",function(){return U._stopInterval()}),u._UZ(2,"div",2),u.qZA(),u.TgZ(3,"div",3,4),u.NdJ("keydown",function(xe){return U._handleKeydown(xe)}),u.TgZ(5,"div",5,6),u.NdJ("cdkObserveContent",function(){return U._onContentChanges()}),u.TgZ(7,"div",7),u.Hsn(8),u.qZA(),u._UZ(9,"mat-ink-bar"),u.qZA(),u.qZA(),u.TgZ(10,"div",8,9),u.NdJ("mousedown",function(xe){return U._handlePaginatorPress("after",xe)})("click",function(){return U._handlePaginatorClick("after")})("touchend",function(){return U._stopInterval()}),u._UZ(12,"div",2),u.qZA()),2&E&&(u.ekj("mat-tab-header-pagination-disabled",U._disableScrollBefore),u.Q6J("matRippleDisabled",U._disableScrollBefore||U.disableRipple),u.xp6(5),u.ekj("_mat-animation-noopable","NoopAnimations"===U._animationMode),u.xp6(5),u.ekj("mat-tab-header-pagination-disabled",U._disableScrollAfter),u.Q6J("matRippleDisabled",U._disableScrollAfter||U.disableRipple))},directives:[ue.wG,P.wD,Pi],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),se})(),Nn=(()=>{class se{}return se.\u0275fac=function(E){return new(E||se)},se.\u0275mod=u.oAB({type:se}),se.\u0275inj=u.cJS({imports:[[v.ez,ue.BQ,te,ue.si,P.Q8,_.rt],ue.BQ]}),se})()},6237:(ut,Ve,W)=>{"use strict";W.d(Ve,{Qb:()=>nn,PW:()=>as});var _=W(7716),P=W(9075),u=W(7238);function v(){return"undefined"!=typeof window&&void 0!==window.document}function S(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function p(G){switch(G.length){case 0:return new u.ZN;case 1:return G[0];default:return new u.ZE(G)}}function T(G,d,h,x,K={},ee={}){const de=[],ye=[];let Ne=-1,Ke=null;if(x.forEach(ht=>{const wt=ht.offset,Wt=wt==Ne,sn=Wt&&Ke||{};Object.keys(ht).forEach(Ot=>{let zt=Ot,en=ht[Ot];if("offset"!==Ot)switch(zt=d.normalizePropertyName(zt,de),en){case u.k1:en=K[Ot];break;case u.l3:en=ee[Ot];break;default:en=d.normalizeStyleValue(Ot,zt,en,de)}sn[zt]=en}),Wt||ye.push(sn),Ke=sn,Ne=wt}),de.length){const ht="\n - ";throw new Error(`Unable to animate due to the following errors:${ht}${de.join(ht)}`)}return ye}function b(G,d,h,x){switch(d){case"start":G.onStart(()=>x(h&&w(h,"start",G)));break;case"done":G.onDone(()=>x(h&&w(h,"done",G)));break;case"destroy":G.onDestroy(()=>x(h&&w(h,"destroy",G)))}}function w(G,d,h){const x=h.totalTime,ee=C(G.element,G.triggerName,G.fromState,G.toState,d||G.phaseName,null==x?G.totalTime:x,!!h.disabled),de=G._data;return null!=de&&(ee._data=de),ee}function C(G,d,h,x,K="",ee=0,de){return{element:G,triggerName:d,fromState:h,toState:x,phaseName:K,totalTime:ee,disabled:!!de}}function D(G,d,h){let x;return G instanceof Map?(x=G.get(d),x||G.set(d,x=h)):(x=G[d],x||(x=G[d]=h)),x}function g(G){const d=G.indexOf(":");return[G.substring(1,d),G.substr(d+1)]}let l=(G,d)=>!1,c=(G,d)=>!1,I=(G,d,h)=>[];const H=S();(H||"undefined"!=typeof Element)&&(l=v()?(G,d)=>{for(;d&&d!==document.documentElement;){if(d===G)return!0;d=d.parentNode||d.host}return!1}:(G,d)=>G.contains(d),c=(()=>{if(H||Element.prototype.matches)return(G,d)=>G.matches(d);{const G=Element.prototype,d=G.matchesSelector||G.mozMatchesSelector||G.msMatchesSelector||G.oMatchesSelector||G.webkitMatchesSelector;return d?(h,x)=>d.apply(h,[x]):c}})(),I=(G,d,h)=>{let x=[];if(h){const K=G.querySelectorAll(d);for(let ee=0;ee<K.length;ee++)x.push(K[ee])}else{const K=G.querySelector(d);K&&x.push(K)}return x});let N=null,B=!1;function te(G){N||(N=("undefined"!=typeof document?document.body:null)||{},B=!!N.style&&"WebkitAppearance"in N.style);let d=!0;return N.style&&!function(G){return"ebkit"==G.substring(1,6)}(G)&&(d=G in N.style,!d&&B&&(d="Webkit"+G.charAt(0).toUpperCase()+G.substr(1)in N.style)),d}const ue=c,V=l,Z=I;function $(G){const d={};return Object.keys(G).forEach(h=>{const x=h.replace(/([a-z])([A-Z])/g,"$1-$2");d[x]=G[h]}),d}let re=(()=>{class G{validateStyleProperty(h){return te(h)}matchesElement(h,x){return ue(h,x)}containsElement(h,x){return V(h,x)}query(h,x,K){return Z(h,x,K)}computeStyle(h,x,K){return K||""}animate(h,x,K,ee,de,ye=[],Ne){return new u.ZN(K,ee)}}return G.\u0275fac=function(h){return new(h||G)},G.\u0275prov=_.Yz7({token:G,factory:G.\u0275fac}),G})(),Se=(()=>{class G{}return G.NOOP=new re,G})();const lt="ng-enter",_t="ng-leave",Pe="ng-trigger",pe=".ng-trigger",Be="ng-animating",Xe=".ng-animating";function nt(G){if("number"==typeof G)return G;const d=G.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:pt(parseFloat(d[1]),d[2])}function pt(G,d){switch(d){case"s":return 1e3*G;default:return G}}function et(G,d,h){return G.hasOwnProperty("duration")?G:function(G,d,h){let K,ee=0,de="";if("string"==typeof G){const ye=G.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ye)return d.push(`The provided timing value "${G}" is invalid.`),{duration:0,delay:0,easing:""};K=pt(parseFloat(ye[1]),ye[2]);const Ne=ye[3];null!=Ne&&(ee=pt(parseFloat(Ne),ye[4]));const Ke=ye[5];Ke&&(de=Ke)}else K=G;if(!h){let ye=!1,Ne=d.length;K<0&&(d.push("Duration values below 0 are not allowed for this animation step."),ye=!0),ee<0&&(d.push("Delay values below 0 are not allowed for this animation step."),ye=!0),ye&&d.splice(Ne,0,`The provided timing value "${G}" is invalid.`)}return{duration:K,delay:ee,easing:de}}(G,d,h)}function Et(G,d={}){return Object.keys(G).forEach(h=>{d[h]=G[h]}),d}function mn(G,d,h={}){if(d)for(let x in G)h[x]=G[x];else Et(G,h);return h}function Mn(G,d,h){return h?d+":"+h+";":""}function En(G){let d="";for(let h=0;h<G.style.length;h++){const x=G.style.item(h);d+=Mn(0,x,G.style.getPropertyValue(x))}for(const h in G.style)G.style.hasOwnProperty(h)&&!h.startsWith("_")&&(d+=Mn(0,rt(h),G.style[h]));G.setAttribute("style",d)}function rn(G,d,h){G.style&&(Object.keys(d).forEach(x=>{const K=ze(x);h&&!h.hasOwnProperty(x)&&(h[x]=G.style[K]),G.style[K]=d[x]}),S()&&En(G))}function Kt(G,d){G.style&&(Object.keys(d).forEach(h=>{const x=ze(h);G.style[x]=""}),S()&&En(G))}function _n(G){return Array.isArray(G)?1==G.length?G[0]:(0,u.vP)(G):G}const Xt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Sn(G){let d=[];if("string"==typeof G){let h;for(;h=Xt.exec(G);)d.push(h[1]);Xt.lastIndex=0}return d}function vn(G,d,h){const x=G.toString(),K=x.replace(Xt,(ee,de)=>{let ye=d[de];return d.hasOwnProperty(de)||(h.push(`Please provide a value for the animation param ${de}`),ye=""),ye.toString()});return K==x?G:K}function Je(G){const d=[];let h=G.next();for(;!h.done;)d.push(h.value),h=G.next();return d}const At=/-+([a-z0-9])/g;function ze(G){return G.replace(At,(...d)=>d[1].toUpperCase())}function rt(G){return G.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ut(G,d){return 0===G||0===d}function Ct(G,d,h){const x=Object.keys(h);if(x.length&&d.length){let ee=d[0],de=[];if(x.forEach(ye=>{ee.hasOwnProperty(ye)||de.push(ye),ee[ye]=h[ye]}),de.length)for(var K=1;K<d.length;K++){let ye=d[K];de.forEach(function(Ne){ye[Ne]=bt(G,Ne)})}}return d}function it(G,d,h){switch(d.type){case 7:return G.visitTrigger(d,h);case 0:return G.visitState(d,h);case 1:return G.visitTransition(d,h);case 2:return G.visitSequence(d,h);case 3:return G.visitGroup(d,h);case 4:return G.visitAnimate(d,h);case 5:return G.visitKeyframes(d,h);case 6:return G.visitStyle(d,h);case 8:return G.visitReference(d,h);case 9:return G.visitAnimateChild(d,h);case 10:return G.visitAnimateRef(d,h);case 11:return G.visitQuery(d,h);case 12:return G.visitStagger(d,h);default:throw new Error(`Unable to resolve animation metadata node #${d.type}`)}}function bt(G,d){return window.getComputedStyle(G)[d]}function bn(G,d){const h=[];return"string"==typeof G?G.split(/\s*,\s*/).forEach(x=>function(G,d,h){if(":"==G[0]){const Ne=function(G,d){switch(G){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(h,x)=>parseFloat(x)>parseFloat(h);case":decrement":return(h,x)=>parseFloat(x)<parseFloat(h);default:return d.push(`The transition alias value "${G}" is not supported`),"* => *"}}(G,h);if("function"==typeof Ne)return void d.push(Ne);G=Ne}const x=G.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return h.push(`The provided transition expression "${G}" is not supported`),d;const K=x[1],ee=x[2],de=x[3];d.push(Vt(K,de));"<"==ee[0]&&!("*"==K&&"*"==de)&&d.push(Vt(de,K))}(x,h,d)):h.push(G),h}const an=new Set(["true","1"]),Dn=new Set(["false","0"]);function Vt(G,d){const h=an.has(G)||Dn.has(G),x=an.has(d)||Dn.has(d);return(K,ee)=>{let de="*"==G||G==K,ye="*"==d||d==ee;return!de&&h&&"boolean"==typeof K&&(de=K?an.has(G):Dn.has(G)),!ye&&x&&"boolean"==typeof ee&&(ye=ee?an.has(d):Dn.has(d)),de&&ye}}const Nt=new RegExp("s*:selfs*,?","g");function jn(G,d,h){return new ln(G).build(d,h)}class ln{constructor(d){this._driver=d}build(d,h){const x=new ce(h);return this._resetContextStyleTimingState(x),it(this,_n(d),x)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles={},d.collectedStyles[""]={},d.currentTime=0}visitTrigger(d,h){let x=h.queryCount=0,K=h.depCount=0;const ee=[],de=[];return"@"==d.name.charAt(0)&&h.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),d.definitions.forEach(ye=>{if(this._resetContextStyleTimingState(h),0==ye.type){const Ne=ye,Ke=Ne.name;Ke.toString().split(/\s*,\s*/).forEach(ht=>{Ne.name=ht,ee.push(this.visitState(Ne,h))}),Ne.name=Ke}else if(1==ye.type){const Ne=this.visitTransition(ye,h);x+=Ne.queryCount,K+=Ne.depCount,de.push(Ne)}else h.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:d.name,states:ee,transitions:de,queryCount:x,depCount:K,options:null}}visitState(d,h){const x=this.visitStyle(d.styles,h),K=d.options&&d.options.params||null;if(x.containsDynamicStyles){const ee=new Set,de=K||{};if(x.styles.forEach(ye=>{if(ft(ye)){const Ne=ye;Object.keys(Ne).forEach(Ke=>{Sn(Ne[Ke]).forEach(ht=>{de.hasOwnProperty(ht)||ee.add(ht)})})}}),ee.size){const ye=Je(ee.values());h.errors.push(`state("${d.name}", ...) must define default values for all the following style substitutions: ${ye.join(", ")}`)}}return{type:0,name:d.name,style:x,options:K?{params:K}:null}}visitTransition(d,h){h.queryCount=0,h.depCount=0;const x=it(this,_n(d.animation),h);return{type:1,matchers:bn(d.expr,h.errors),animation:x,queryCount:h.queryCount,depCount:h.depCount,options:un(d.options)}}visitSequence(d,h){return{type:2,steps:d.steps.map(x=>it(this,x,h)),options:un(d.options)}}visitGroup(d,h){const x=h.currentTime;let K=0;const ee=d.steps.map(de=>{h.currentTime=x;const ye=it(this,de,h);return K=Math.max(K,h.currentTime),ye});return h.currentTime=K,{type:3,steps:ee,options:un(d.options)}}visitAnimate(d,h){const x=function(G,d){let h=null;if(G.hasOwnProperty("duration"))h=G;else if("number"==typeof G)return Kn(et(G,d).duration,0,"");const x=G;if(x.split(/\s+/).some(ee=>"{"==ee.charAt(0)&&"{"==ee.charAt(1))){const ee=Kn(0,0,"");return ee.dynamic=!0,ee.strValue=x,ee}return h=h||et(x,d),Kn(h.duration,h.delay,h.easing)}(d.timings,h.errors);h.currentAnimateTimings=x;let K,ee=d.styles?d.styles:(0,u.oB)({});if(5==ee.type)K=this.visitKeyframes(ee,h);else{let de=d.styles,ye=!1;if(!de){ye=!0;const Ke={};x.easing&&(Ke.easing=x.easing),de=(0,u.oB)(Ke)}h.currentTime+=x.duration+x.delay;const Ne=this.visitStyle(de,h);Ne.isEmptyStep=ye,K=Ne}return h.currentAnimateTimings=null,{type:4,timings:x,style:K,options:null}}visitStyle(d,h){const x=this._makeStyleAst(d,h);return this._validateStyleAst(x,h),x}_makeStyleAst(d,h){const x=[];Array.isArray(d.styles)?d.styles.forEach(de=>{"string"==typeof de?de==u.l3?x.push(de):h.errors.push(`The provided style string value ${de} is not allowed.`):x.push(de)}):x.push(d.styles);let K=!1,ee=null;return x.forEach(de=>{if(ft(de)){const ye=de,Ne=ye.easing;if(Ne&&(ee=Ne,delete ye.easing),!K)for(let Ke in ye)if(ye[Ke].toString().indexOf("{{")>=0){K=!0;break}}}),{type:6,styles:x,easing:ee,offset:d.offset,containsDynamicStyles:K,options:null}}_validateStyleAst(d,h){const x=h.currentAnimateTimings;let K=h.currentTime,ee=h.currentTime;x&&ee>0&&(ee-=x.duration+x.delay),d.styles.forEach(de=>{"string"!=typeof de&&Object.keys(de).forEach(ye=>{if(!this._driver.validateStyleProperty(ye))return void h.errors.push(`The provided animation property "${ye}" is not a supported CSS property for animations`);const Ne=h.collectedStyles[h.currentQuerySelector],Ke=Ne[ye];let ht=!0;Ke&&(ee!=K&&ee>=Ke.startTime&&K<=Ke.endTime&&(h.errors.push(`The CSS property "${ye}" that exists between the times of "${Ke.startTime}ms" and "${Ke.endTime}ms" is also being animated in a parallel animation between the times of "${ee}ms" and "${K}ms"`),ht=!1),ee=Ke.startTime),ht&&(Ne[ye]={startTime:ee,endTime:K}),h.options&&function(G,d,h){const x=d.params||{},K=Sn(G);K.length&&K.forEach(ee=>{x.hasOwnProperty(ee)||h.push(`Unable to resolve the local animation param ${ee} in the given list of values`)})}(de[ye],h.options,h.errors)})})}visitKeyframes(d,h){const x={type:5,styles:[],options:null};if(!h.currentAnimateTimings)return h.errors.push("keyframes() must be placed inside of a call to animate()"),x;let ee=0;const de=[];let ye=!1,Ne=!1,Ke=0;const ht=d.steps.map(Rn=>{const On=this._makeStyleAst(Rn,h);let _i=null!=On.offset?On.offset:function(G){if("string"==typeof G)return null;let d=null;if(Array.isArray(G))G.forEach(h=>{if(ft(h)&&h.hasOwnProperty("offset")){const x=h;d=parseFloat(x.offset),delete x.offset}});else if(ft(G)&&G.hasOwnProperty("offset")){const h=G;d=parseFloat(h.offset),delete h.offset}return d}(On.styles),ni=0;return null!=_i&&(ee++,ni=On.offset=_i),Ne=Ne||ni<0||ni>1,ye=ye||ni<Ke,Ke=ni,de.push(ni),On});Ne&&h.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),ye&&h.errors.push("Please ensure that all keyframe offsets are in order");const wt=d.steps.length;let Wt=0;ee>0&&ee<wt?h.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==ee&&(Wt=1/(wt-1));const sn=wt-1,Ot=h.currentTime,zt=h.currentAnimateTimings,en=zt.duration;return ht.forEach((Rn,On)=>{const _i=Wt>0?On==sn?1:Wt*On:de[On],ni=_i*en;h.currentTime=Ot+zt.delay+ni,zt.duration=ni,this._validateStyleAst(Rn,h),Rn.offset=_i,x.styles.push(Rn)}),x}visitReference(d,h){return{type:8,animation:it(this,_n(d.animation),h),options:un(d.options)}}visitAnimateChild(d,h){return h.depCount++,{type:9,options:un(d.options)}}visitAnimateRef(d,h){return{type:10,animation:this.visitReference(d.animation,h),options:un(d.options)}}visitQuery(d,h){const x=h.currentQuerySelector,K=d.options||{};h.queryCount++,h.currentQuery=d;const[ee,de]=function(G){const d=!!G.split(/\s*,\s*/).find(h=>":self"==h);return d&&(G=G.replace(Nt,"")),[G=G.replace(/@\*/g,pe).replace(/@\w+/g,h=>pe+"-"+h.substr(1)).replace(/:animating/g,Xe),d]}(d.selector);h.currentQuerySelector=x.length?x+" "+ee:ee,D(h.collectedStyles,h.currentQuerySelector,{});const ye=it(this,_n(d.animation),h);return h.currentQuery=null,h.currentQuerySelector=x,{type:11,selector:ee,limit:K.limit||0,optional:!!K.optional,includeSelf:de,animation:ye,originalSelector:d.selector,options:un(d.options)}}visitStagger(d,h){h.currentQuery||h.errors.push("stagger() can only be used inside of query()");const x="full"===d.timings?{duration:0,delay:0,easing:"full"}:et(d.timings,h.errors,!0);return{type:12,animation:it(this,_n(d.animation),h),timings:x,options:null}}}class ce{constructor(d){this.errors=d,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ft(G){return!Array.isArray(G)&&"object"==typeof G}function un(G){return G?(G=Et(G)).params&&(G.params=function(G){return G?Et(G):null}(G.params)):G={},G}function Kn(G,d,h){return{duration:G,delay:d,easing:h}}function ke(G,d,h,x,K,ee,de=null,ye=!1){return{type:1,element:G,keyframes:d,preStyleProps:h,postStyleProps:x,duration:K,delay:ee,totalTime:K+ee,easing:de,subTimeline:ye}}class fe{constructor(){this._map=new Map}consume(d){let h=this._map.get(d);return h?this._map.delete(d):h=[],h}append(d,h){let x=this._map.get(d);x||this._map.set(d,x=[]),x.push(...h)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const We=new RegExp(":enter","g"),Dt=new RegExp(":leave","g");function Pt(G,d,h,x,K,ee={},de={},ye,Ne,Ke=[]){return(new cn).buildKeyframes(G,d,h,x,K,ee,de,ye,Ne,Ke)}class cn{buildKeyframes(d,h,x,K,ee,de,ye,Ne,Ke,ht=[]){Ke=Ke||new fe;const wt=new kn(d,h,Ke,K,ee,ht,[]);wt.options=Ne,wt.currentTimeline.setStyles([de],null,wt.errors,Ne),it(this,x,wt);const Wt=wt.timelines.filter(sn=>sn.containsAnimation());if(Wt.length&&Object.keys(ye).length){const sn=Wt[Wt.length-1];sn.allowOnlyTimelineStyles()||sn.setStyles([ye],null,wt.errors,Ne)}return Wt.length?Wt.map(sn=>sn.buildKeyframes()):[ke(h,[],[],[],0,0,"",!1)]}visitTrigger(d,h){}visitState(d,h){}visitTransition(d,h){}visitAnimateChild(d,h){const x=h.subInstructions.consume(h.element);if(x){const K=h.createSubContext(d.options),ee=h.currentTimeline.currentTime,de=this._visitSubInstructions(x,K,K.options);ee!=de&&h.transformIntoNewTimeline(de)}h.previousNode=d}visitAnimateRef(d,h){const x=h.createSubContext(d.options);x.transformIntoNewTimeline(),this.visitReference(d.animation,x),h.transformIntoNewTimeline(x.currentTimeline.currentTime),h.previousNode=d}_visitSubInstructions(d,h,x){let ee=h.currentTimeline.currentTime;const de=null!=x.duration?nt(x.duration):null,ye=null!=x.delay?nt(x.delay):null;return 0!==de&&d.forEach(Ne=>{const Ke=h.appendInstructionToTimeline(Ne,de,ye);ee=Math.max(ee,Ke.duration+Ke.delay)}),ee}visitReference(d,h){h.updateOptions(d.options,!0),it(this,d.animation,h),h.previousNode=d}visitSequence(d,h){const x=h.subContextCount;let K=h;const ee=d.options;if(ee&&(ee.params||ee.delay)&&(K=h.createSubContext(ee),K.transformIntoNewTimeline(),null!=ee.delay)){6==K.previousNode.type&&(K.currentTimeline.snapshotCurrentStyles(),K.previousNode=dn);const de=nt(ee.delay);K.delayNextStep(de)}d.steps.length&&(d.steps.forEach(de=>it(this,de,K)),K.currentTimeline.applyStylesToKeyframe(),K.subContextCount>x&&K.transformIntoNewTimeline()),h.previousNode=d}visitGroup(d,h){const x=[];let K=h.currentTimeline.currentTime;const ee=d.options&&d.options.delay?nt(d.options.delay):0;d.steps.forEach(de=>{const ye=h.createSubContext(d.options);ee&&ye.delayNextStep(ee),it(this,de,ye),K=Math.max(K,ye.currentTimeline.currentTime),x.push(ye.currentTimeline)}),x.forEach(de=>h.currentTimeline.mergeTimelineCollectedStyles(de)),h.transformIntoNewTimeline(K),h.previousNode=d}_visitTiming(d,h){if(d.dynamic){const x=d.strValue;return et(h.params?vn(x,h.params,h.errors):x,h.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,h){const x=h.currentAnimateTimings=this._visitTiming(d.timings,h),K=h.currentTimeline;x.delay&&(h.incrementTime(x.delay),K.snapshotCurrentStyles());const ee=d.style;5==ee.type?this.visitKeyframes(ee,h):(h.incrementTime(x.duration),this.visitStyle(ee,h),K.applyStylesToKeyframe()),h.currentAnimateTimings=null,h.previousNode=d}visitStyle(d,h){const x=h.currentTimeline,K=h.currentAnimateTimings;!K&&x.getCurrentStyleProperties().length&&x.forwardFrame();const ee=K&&K.easing||d.easing;d.isEmptyStep?x.applyEmptyStep(ee):x.setStyles(d.styles,ee,h.errors,h.options),h.previousNode=d}visitKeyframes(d,h){const x=h.currentAnimateTimings,K=h.currentTimeline.duration,ee=x.duration,ye=h.createSubContext().currentTimeline;ye.easing=x.easing,d.styles.forEach(Ne=>{ye.forwardTime((Ne.offset||0)*ee),ye.setStyles(Ne.styles,Ne.easing,h.errors,h.options),ye.applyStylesToKeyframe()}),h.currentTimeline.mergeTimelineCollectedStyles(ye),h.transformIntoNewTimeline(K+ee),h.previousNode=d}visitQuery(d,h){const x=h.currentTimeline.currentTime,K=d.options||{},ee=K.delay?nt(K.delay):0;ee&&(6===h.previousNode.type||0==x&&h.currentTimeline.getCurrentStyleProperties().length)&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=dn);let de=x;const ye=h.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!K.optional,h.errors);h.currentQueryTotal=ye.length;let Ne=null;ye.forEach((Ke,ht)=>{h.currentQueryIndex=ht;const wt=h.createSubContext(d.options,Ke);ee&&wt.delayNextStep(ee),Ke===h.element&&(Ne=wt.currentTimeline),it(this,d.animation,wt),wt.currentTimeline.applyStylesToKeyframe(),de=Math.max(de,wt.currentTimeline.currentTime)}),h.currentQueryIndex=0,h.currentQueryTotal=0,h.transformIntoNewTimeline(de),Ne&&(h.currentTimeline.mergeTimelineCollectedStyles(Ne),h.currentTimeline.snapshotCurrentStyles()),h.previousNode=d}visitStagger(d,h){const x=h.parentContext,K=h.currentTimeline,ee=d.timings,de=Math.abs(ee.duration),ye=de*(h.currentQueryTotal-1);let Ne=de*h.currentQueryIndex;switch(ee.duration<0?"reverse":ee.easing){case"reverse":Ne=ye-Ne;break;case"full":Ne=x.currentStaggerTime}const ht=h.currentTimeline;Ne&&ht.delayNextStep(Ne);const wt=ht.currentTime;it(this,d.animation,h),h.previousNode=d,x.currentStaggerTime=K.currentTime-wt+(K.startTime-x.currentTimeline.startTime)}}const dn={};class kn{constructor(d,h,x,K,ee,de,ye,Ne){this._driver=d,this.element=h,this.subInstructions=x,this._enterClassName=K,this._leaveClassName=ee,this.errors=de,this.timelines=ye,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ne||new gn(this._driver,h,0),ye.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,h){if(!d)return;const x=d;let K=this.options;null!=x.duration&&(K.duration=nt(x.duration)),null!=x.delay&&(K.delay=nt(x.delay));const ee=x.params;if(ee){let de=K.params;de||(de=this.options.params={}),Object.keys(ee).forEach(ye=>{(!h||!de.hasOwnProperty(ye))&&(de[ye]=vn(ee[ye],de,this.errors))})}}_copyOptions(){const d={};if(this.options){const h=this.options.params;if(h){const x=d.params={};Object.keys(h).forEach(K=>{x[K]=h[K]})}}return d}createSubContext(d=null,h,x){const K=h||this.element,ee=new kn(this._driver,K,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(K,x||0));return ee.previousNode=this.previousNode,ee.currentAnimateTimings=this.currentAnimateTimings,ee.options=this._copyOptions(),ee.updateOptions(d),ee.currentQueryIndex=this.currentQueryIndex,ee.currentQueryTotal=this.currentQueryTotal,ee.parentContext=this,this.subContextCount++,ee}transformIntoNewTimeline(d){return this.previousNode=dn,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,h,x){const K={duration:null!=h?h:d.duration,delay:this.currentTimeline.currentTime+(null!=x?x:0)+d.delay,easing:""},ee=new ot(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,K,d.stretchStartingKeyframe);return this.timelines.push(ee),K}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,h,x,K,ee,de){let ye=[];if(K&&ye.push(this.element),d.length>0){d=(d=d.replace(We,"."+this._enterClassName)).replace(Dt,"."+this._leaveClassName);let Ke=this._driver.query(this.element,d,1!=x);0!==x&&(Ke=x<0?Ke.slice(Ke.length+x,Ke.length):Ke.slice(0,x)),ye.push(...Ke)}return!ee&&0==ye.length&&de.push(`\`query("${h}")\` returned zero elements. (Use \`query("${h}", { optional: true })\` if you wish to allow this.)`),ye}}class gn{constructor(d,h,x,K){this._driver=d,this.element=h,this.startTime=x,this._elementTimelineStylesLookup=K,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(h),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(h,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const h=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||h?(this.forwardTime(this.currentTime+d),h&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,h){return this.applyStylesToKeyframe(),new gn(this._driver,d,h||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,h){this._localTimelineStyles[d]=h,this._globalTimelineStyles[d]=h,this._styleSummary[d]={time:this.currentTime,value:h}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&(this._previousKeyframe.easing=d),Object.keys(this._globalTimelineStyles).forEach(h=>{this._backFill[h]=this._globalTimelineStyles[h]||u.l3,this._currentKeyframe[h]=u.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,h,x,K){h&&(this._previousKeyframe.easing=h);const ee=K&&K.params||{},de=function(G,d){const h={};let x;return G.forEach(K=>{"*"===K?(x=x||Object.keys(d),x.forEach(ee=>{h[ee]=u.l3})):mn(K,!1,h)}),h}(d,this._globalTimelineStyles);Object.keys(de).forEach(ye=>{const Ne=vn(de[ye],ee,x);this._pendingStyles[ye]=Ne,this._localTimelineStyles.hasOwnProperty(ye)||(this._backFill[ye]=this._globalTimelineStyles.hasOwnProperty(ye)?this._globalTimelineStyles[ye]:u.l3),this._updateStyle(ye,Ne)})}applyStylesToKeyframe(){const d=this._pendingStyles,h=Object.keys(d);0!=h.length&&(this._pendingStyles={},h.forEach(x=>{this._currentKeyframe[x]=d[x]}),Object.keys(this._localTimelineStyles).forEach(x=>{this._currentKeyframe.hasOwnProperty(x)||(this._currentKeyframe[x]=this._localTimelineStyles[x])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(d=>{const h=this._localTimelineStyles[d];this._pendingStyles[d]=h,this._updateStyle(d,h)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let h in this._currentKeyframe)d.push(h);return d}mergeTimelineCollectedStyles(d){Object.keys(d._styleSummary).forEach(h=>{const x=this._styleSummary[h],K=d._styleSummary[h];(!x||K.time>x.time)&&this._updateStyle(h,K.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,h=new Set,x=1===this._keyframes.size&&0===this.duration;let K=[];this._keyframes.forEach((ye,Ne)=>{const Ke=mn(ye,!0);Object.keys(Ke).forEach(ht=>{const wt=Ke[ht];wt==u.k1?d.add(ht):wt==u.l3&&h.add(ht)}),x||(Ke.offset=Ne/this.duration),K.push(Ke)});const ee=d.size?Je(d.values()):[],de=h.size?Je(h.values()):[];if(x){const ye=K[0],Ne=Et(ye);ye.offset=0,Ne.offset=1,K=[ye,Ne]}return ke(this.element,K,ee,de,this.duration,this.startTime,this.easing,!1)}}class ot extends gn{constructor(d,h,x,K,ee,de,ye=!1){super(d,h,de.delay),this.keyframes=x,this.preStyleProps=K,this.postStyleProps=ee,this._stretchStartingKeyframe=ye,this.timings={duration:de.duration,delay:de.delay,easing:de.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:h,duration:x,easing:K}=this.timings;if(this._stretchStartingKeyframe&&h){const ee=[],de=x+h,ye=h/de,Ne=mn(d[0],!1);Ne.offset=0,ee.push(Ne);const Ke=mn(d[0],!1);Ke.offset=It(ye),ee.push(Ke);const ht=d.length-1;for(let wt=1;wt<=ht;wt++){let Wt=mn(d[wt],!1);Wt.offset=It((h+Wt.offset*x)/de),ee.push(Wt)}x=de,h=0,K="",d=ee}return ke(this.element,d,this.preStyleProps,this.postStyleProps,x,h,K,!0)}}function It(G,d=3){const h=Math.pow(10,d-1);return Math.round(G*h)/h}class me{}class le extends me{normalizePropertyName(d,h){return ze(d)}normalizeStyleValue(d,h,x,K){let ee="";const de=x.toString().trim();if(Qe[h]&&0!==x&&"0"!==x)if("number"==typeof x)ee="px";else{const ye=x.match(/^[+-]?[\d\.]+([a-z]*)$/);ye&&0==ye[1].length&&K.push(`Please provide a CSS unit value for ${d}:${x}`)}return de+ee}}const Qe=(()=>function(G){const d={};return G.forEach(h=>d[h]=!0),d}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ye(G,d,h,x,K,ee,de,ye,Ne,Ke,ht,wt,Wt){return{type:0,element:G,triggerName:d,isRemovalTransition:K,fromState:h,fromStyles:ee,toState:x,toStyles:de,timelines:ye,queriedElements:Ne,preStyleProps:Ke,postStyleProps:ht,totalTime:wt,errors:Wt}}const _e={};class ve{constructor(d,h,x){this._triggerName=d,this.ast=h,this._stateStyles=x}match(d,h,x,K){return function(G,d,h,x,K){return G.some(ee=>ee(d,h,x,K))}(this.ast.matchers,d,h,x,K)}buildStyles(d,h,x){const K=this._stateStyles["*"],ee=this._stateStyles[d],de=K?K.buildStyles(h,x):{};return ee?ee.buildStyles(h,x):de}build(d,h,x,K,ee,de,ye,Ne,Ke,ht){const wt=[],Wt=this.ast.options&&this.ast.options.params||_e,Ot=this.buildStyles(x,ye&&ye.params||_e,wt),zt=Ne&&Ne.params||_e,en=this.buildStyles(K,zt,wt),Rn=new Set,On=new Map,_i=new Map,ni="void"===K,ur={params:Object.assign(Object.assign({},Wt),zt)},Hi=ht?[]:Pt(d,h,this.ast.animation,ee,de,Ot,en,ur,Ke,wt);let di=0;if(Hi.forEach(Xi=>{di=Math.max(Xi.duration+Xi.delay,di)}),wt.length)return Ye(h,this._triggerName,x,K,ni,Ot,en,[],[],On,_i,di,wt);Hi.forEach(Xi=>{const Oi=Xi.element,Ca=D(On,Oi,{});Xi.preStyleProps.forEach(Vn=>Ca[Vn]=!0);const ls=D(_i,Oi,{});Xi.postStyleProps.forEach(Vn=>ls[Vn]=!0),Oi!==h&&Rn.add(Oi)});const Ji=Je(Rn.values());return Ye(h,this._triggerName,x,K,ni,Ot,en,Hi,Ji,On,_i,di)}}class Te{constructor(d,h,x){this.styles=d,this.defaultParams=h,this.normalizer=x}buildStyles(d,h){const x={},K=Et(this.defaultParams);return Object.keys(d).forEach(ee=>{const de=d[ee];null!=de&&(K[ee]=de)}),this.styles.styles.forEach(ee=>{if("string"!=typeof ee){const de=ee;Object.keys(de).forEach(ye=>{let Ne=de[ye];Ne.length>1&&(Ne=vn(Ne,K,h));const Ke=this.normalizer.normalizePropertyName(ye,h);Ne=this.normalizer.normalizeStyleValue(ye,Ke,Ne,h),x[Ke]=Ne})}}),x}}class vt{constructor(d,h,x){this.name=d,this.ast=h,this._normalizer=x,this.transitionFactories=[],this.states={},h.states.forEach(K=>{this.states[K.name]=new Te(K.style,K.options&&K.options.params||{},x)}),Mt(this.states,"true","1"),Mt(this.states,"false","0"),h.transitions.forEach(K=>{this.transitionFactories.push(new ve(d,K,this.states))}),this.fallbackTransition=function(G,d,h){return new ve(G,{type:1,animation:{type:2,steps:[],options:null},matchers:[(de,ye)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,h,x,K){return this.transitionFactories.find(de=>de.match(d,h,x,K))||null}matchStyles(d,h,x){return this.fallbackTransition.buildStyles(d,h,x)}}function Mt(G,d,h){G.hasOwnProperty(d)?G.hasOwnProperty(h)||(G[h]=G[d]):G.hasOwnProperty(h)&&(G[d]=G[h])}const Rt=new fe;class ri{constructor(d,h,x){this.bodyNode=d,this._driver=h,this._normalizer=x,this._animations={},this._playersById={},this.players=[]}register(d,h){const x=[],K=jn(this._driver,h,x);if(x.length)throw new Error(`Unable to build the animation due to the following errors: ${x.join("\n")}`);this._animations[d]=K}_buildPlayer(d,h,x){const K=d.element,ee=T(0,this._normalizer,0,d.keyframes,h,x);return this._driver.animate(K,ee,d.duration,d.delay,d.easing,[],!0)}create(d,h,x={}){const K=[],ee=this._animations[d];let de;const ye=new Map;if(ee?(de=Pt(this._driver,h,ee,lt,_t,{},{},x,Rt,K),de.forEach(ht=>{const wt=D(ye,ht.element,{});ht.postStyleProps.forEach(Wt=>wt[Wt]=null)})):(K.push("The requested animation doesn't exist or has already been destroyed"),de=[]),K.length)throw new Error(`Unable to create the animation due to the following errors: ${K.join("\n")}`);ye.forEach((ht,wt)=>{Object.keys(ht).forEach(Wt=>{ht[Wt]=this._driver.computeStyle(wt,Wt,u.l3)})});const Ke=p(de.map(ht=>{const wt=ye.get(ht.element);return this._buildPlayer(ht,{},wt)}));return this._playersById[d]=Ke,Ke.onDestroy(()=>this.destroy(d)),this.players.push(Ke),Ke}destroy(d){const h=this._getPlayer(d);h.destroy(),delete this._playersById[d];const x=this.players.indexOf(h);x>=0&&this.players.splice(x,1)}_getPlayer(d){const h=this._playersById[d];if(!h)throw new Error(`Unable to find the timeline player referenced by ${d}`);return h}listen(d,h,x,K){const ee=C(h,"","","");return b(this._getPlayer(d),x,ee,K),()=>{}}command(d,h,x,K){if("register"==x)return void this.register(d,K[0]);if("create"==x)return void this.create(d,h,K[0]||{});const ee=this._getPlayer(d);switch(x){case"play":ee.play();break;case"pause":ee.pause();break;case"reset":ee.reset();break;case"restart":ee.restart();break;case"finish":ee.finish();break;case"init":ee.init();break;case"setPosition":ee.setPosition(parseFloat(K[0]));break;case"destroy":this.destroy(d)}}}const si="ng-animate-queued",Un="ng-animate-disabled",Yn=".ng-animate-disabled",In=[],gi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hn="__ng_removed";class mi{constructor(d,h=""){this.namespaceId=h;const x=d&&d.hasOwnProperty("value");if(this.value=null!=(G=x?d.value:d)?G:null,x){const ee=Et(d);delete ee.value,this.options=ee}else this.options={};var G;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(d){const h=d.params;if(h){const x=this.options.params;Object.keys(h).forEach(K=>{null==x[K]&&(x[K]=h[K])})}}}const Qn="void",vi=new mi(Qn);class ui{constructor(d,h,x){this.id=d,this.hostElement=h,this._engine=x,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+d,ti(h,this._hostClassName)}listen(d,h,x,K){if(!this._triggers.hasOwnProperty(h))throw new Error(`Unable to listen on the animation trigger event "${x}" because the animation trigger "${h}" doesn't exist!`);if(null==x||0==x.length)throw new Error(`Unable to listen on the animation trigger "${h}" because the provided event is undefined!`);if("start"!=(G=x)&&"done"!=G)throw new Error(`The provided animation trigger event "${x}" for the animation trigger "${h}" is not supported!`);var G;const ee=D(this._elementListeners,d,[]),de={name:h,phase:x,callback:K};ee.push(de);const ye=D(this._engine.statesByElement,d,{});return ye.hasOwnProperty(h)||(ti(d,Pe),ti(d,Pe+"-"+h),ye[h]=vi),()=>{this._engine.afterFlush(()=>{const Ne=ee.indexOf(de);Ne>=0&&ee.splice(Ne,1),this._triggers[h]||delete ye[h]})}}register(d,h){return!this._triggers[d]&&(this._triggers[d]=h,!0)}_getTrigger(d){const h=this._triggers[d];if(!h)throw new Error(`The provided animation trigger "${d}" has not been registered!`);return h}trigger(d,h,x,K=!0){const ee=this._getTrigger(h),de=new Pi(this.id,h,d);let ye=this._engine.statesByElement.get(d);ye||(ti(d,Pe),ti(d,Pe+"-"+h),this._engine.statesByElement.set(d,ye={}));let Ne=ye[h];const Ke=new mi(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&Ne&&Ke.absorbOptions(Ne.options),ye[h]=Ke,Ne||(Ne=vi),Ke.value!==Qn&&Ne.value===Ke.value){if(!function(G,d){const h=Object.keys(G),x=Object.keys(d);if(h.length!=x.length)return!1;for(let K=0;K<h.length;K++){const ee=h[K];if(!d.hasOwnProperty(ee)||G[ee]!==d[ee])return!1}return!0}(Ne.params,Ke.params)){const zt=[],en=ee.matchStyles(Ne.value,Ne.params,zt),Rn=ee.matchStyles(Ke.value,Ke.params,zt);zt.length?this._engine.reportError(zt):this._engine.afterFlush(()=>{Kt(d,en),rn(d,Rn)})}return}const Wt=D(this._engine.playersByElement,d,[]);Wt.forEach(zt=>{zt.namespaceId==this.id&&zt.triggerName==h&&zt.queued&&zt.destroy()});let sn=ee.matchTransition(Ne.value,Ke.value,d,Ke.params),Ot=!1;if(!sn){if(!K)return;sn=ee.fallbackTransition,Ot=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:h,transition:sn,fromState:Ne,toState:Ke,player:de,isFallbackTransition:Ot}),Ot||(ti(d,si),de.onStart(()=>{Fi(d,si)})),de.onDone(()=>{let zt=this.players.indexOf(de);zt>=0&&this.players.splice(zt,1);const en=this._engine.playersByElement.get(d);if(en){let Rn=en.indexOf(de);Rn>=0&&en.splice(Rn,1)}}),this.players.push(de),Wt.push(de),de}deregister(d){delete this._triggers[d],this._engine.statesByElement.forEach((h,x)=>{delete h[d]}),this._elementListeners.forEach((h,x)=>{this._elementListeners.set(x,h.filter(K=>K.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const h=this._engine.playersByElement.get(d);h&&(h.forEach(x=>x.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,h){const x=this._engine.driver.query(d,pe,!0);x.forEach(K=>{if(K[hn])return;const ee=this._engine.fetchNamespacesByElement(K);ee.size?ee.forEach(de=>de.triggerLeaveAnimation(K,h,!1,!0)):this.clearElementCache(K)}),this._engine.afterFlushAnimationsDone(()=>x.forEach(K=>this.clearElementCache(K)))}triggerLeaveAnimation(d,h,x,K){const ee=this._engine.statesByElement.get(d);if(ee){const de=[];if(Object.keys(ee).forEach(ye=>{if(this._triggers[ye]){const Ne=this.trigger(d,ye,Qn,K);Ne&&de.push(Ne)}}),de.length)return this._engine.markElementAsRemoved(this.id,d,!0,h),x&&p(de).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const h=this._elementListeners.get(d),x=this._engine.statesByElement.get(d);if(h&&x){const K=new Set;h.forEach(ee=>{const de=ee.name;if(K.has(de))return;K.add(de);const Ne=this._triggers[de].fallbackTransition,Ke=x[de]||vi,ht=new mi(Qn),wt=new Pi(this.id,de,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:de,transition:Ne,fromState:Ke,toState:ht,player:wt,isFallbackTransition:!0})})}}removeNode(d,h){const x=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,h),this.triggerLeaveAnimation(d,h,!0))return;let K=!1;if(x.totalAnimations){const ee=x.players.length?x.playersByQueriedElement.get(d):[];if(ee&&ee.length)K=!0;else{let de=d;for(;de=de.parentNode;)if(x.statesByElement.get(de)){K=!0;break}}}if(this.prepareLeaveAnimationListeners(d),K)x.markElementAsRemoved(this.id,d,!1,h);else{const ee=d[hn];(!ee||ee===gi)&&(x.afterFlush(()=>this.clearElementCache(d)),x.destroyInnerAnimations(d),x._onRemovalComplete(d,h))}}insertNode(d,h){ti(d,this._hostClassName)}drainQueuedTransitions(d){const h=[];return this._queue.forEach(x=>{const K=x.player;if(K.destroyed)return;const ee=x.element,de=this._elementListeners.get(ee);de&&de.forEach(ye=>{if(ye.name==x.triggerName){const Ne=C(ee,x.triggerName,x.fromState.value,x.toState.value);Ne._data=d,b(x.player,ye.phase,Ne,ye.callback)}}),K.markedForDestroy?this._engine.afterFlush(()=>{K.destroy()}):h.push(x)}),this._queue=[],h.sort((x,K)=>{const ee=x.transition.ast.depCount,de=K.transition.ast.depCount;return 0==ee||0==de?ee-de:this._engine.driver.containsElement(x.element,K.element)?1:-1})}destroy(d){this.players.forEach(h=>h.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}elementContainsData(d){let h=!1;return this._elementListeners.has(d)&&(h=!0),h=!!this._queue.find(x=>x.element===d)||h,h}}class Zn{constructor(d,h,x){this.bodyNode=d,this.driver=h,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(K,ee)=>{}}_onRemovalComplete(d,h){this.onRemovalComplete(d,h)}get queuedPlayers(){const d=[];return this._namespaceList.forEach(h=>{h.players.forEach(x=>{x.queued&&d.push(x)})}),d}createNamespace(d,h){const x=new ui(d,h,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,h)?this._balanceNamespaceList(x,h):(this.newHostElements.set(h,x),this.collectEnterElement(h)),this._namespaceLookup[d]=x}_balanceNamespaceList(d,h){const x=this._namespaceList.length-1;if(x>=0){let K=!1;for(let ee=x;ee>=0;ee--)if(this.driver.containsElement(this._namespaceList[ee].hostElement,h)){this._namespaceList.splice(ee+1,0,d),K=!0;break}K||this._namespaceList.splice(0,0,d)}else this._namespaceList.push(d);return this.namespacesByHostElement.set(h,d),d}register(d,h){let x=this._namespaceLookup[d];return x||(x=this.createNamespace(d,h)),x}registerTrigger(d,h,x){let K=this._namespaceLookup[d];K&&K.register(h,x)&&this.totalAnimations++}destroy(d,h){if(!d)return;const x=this._fetchNamespace(d);this.afterFlush(()=>{this.namespacesByHostElement.delete(x.hostElement),delete this._namespaceLookup[d];const K=this._namespaceList.indexOf(x);K>=0&&this._namespaceList.splice(K,1)}),this.afterFlushAnimationsDone(()=>x.destroy(h))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const h=new Set,x=this.statesByElement.get(d);if(x){const K=Object.keys(x);for(let ee=0;ee<K.length;ee++){const de=x[K[ee]].namespaceId;if(de){const ye=this._fetchNamespace(de);ye&&h.add(ye)}}}return h}trigger(d,h,x,K){if(xi(h)){const ee=this._fetchNamespace(d);if(ee)return ee.trigger(h,x,K),!0}return!1}insertNode(d,h,x,K){if(!xi(h))return;const ee=h[hn];if(ee&&ee.setForRemoval){ee.setForRemoval=!1,ee.setForMove=!0;const de=this.collectedLeaveElements.indexOf(h);de>=0&&this.collectedLeaveElements.splice(de,1)}if(d){const de=this._fetchNamespace(d);de&&de.insertNode(h,x)}K&&this.collectEnterElement(h)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,h){h?this.disabledNodes.has(d)||(this.disabledNodes.add(d),ti(d,Un)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),Fi(d,Un))}removeNode(d,h,x,K){if(xi(h)){const ee=d?this._fetchNamespace(d):null;if(ee?ee.removeNode(h,K):this.markElementAsRemoved(d,h,!1,K),x){const de=this.namespacesByHostElement.get(h);de&&de.id!==d&&de.removeNode(h,K)}}else this._onRemovalComplete(h,K)}markElementAsRemoved(d,h,x,K){this.collectedLeaveElements.push(h),h[hn]={namespaceId:d,setForRemoval:K,hasAnimation:x,removedBeforeQueried:!1}}listen(d,h,x,K,ee){return xi(h)?this._fetchNamespace(d).listen(h,x,K,ee):()=>{}}_buildInstruction(d,h,x,K,ee){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,x,K,d.fromState.options,d.toState.options,h,ee)}destroyInnerAnimations(d){let h=this.driver.query(d,pe,!0);h.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(h=this.driver.query(d,Xe,!0),h.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(d){const h=this.playersByElement.get(d);h&&h.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(d){const h=this.playersByQueriedElement.get(d);h&&h.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return p(this.players).onDone(()=>d());d()})}processLeaveNode(d){const h=d[hn];if(h&&h.setForRemoval){if(d[hn]=gi,h.namespaceId){this.destroyInnerAnimations(d);const x=this._fetchNamespace(h.namespaceId);x&&x.clearElementCache(d)}this._onRemovalComplete(d,h.setForRemoval)}this.driver.matchesElement(d,Yn)&&this.markElementAsDisabled(d,!1),this.driver.query(d,Yn,!0).forEach(x=>{this.markElementAsDisabled(x,!1)})}flush(d=-1){let h=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,K)=>this._balanceNamespaceList(x,K)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)ti(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{h=this._flushAnimations(x,d)}finally{for(let K=0;K<x.length;K++)x[K]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],h.length?p(h).onDone(()=>{x.forEach(K=>K())}):x.forEach(K=>K())}}reportError(d){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${d.join("\n")}`)}_flushAnimations(d,h){const x=new fe,K=[],ee=new Map,de=[],ye=new Map,Ne=new Map,Ke=new Map,ht=new Set;this.disabledNodes.forEach(St=>{ht.add(St);const xt=this.driver.query(St,".ng-animate-queued",!0);for(let $t=0;$t<xt.length;$t++)ht.add(xt[$t])});const wt=this.bodyNode,Wt=Array.from(this.statesByElement.keys()),sn=wr(Wt,this.collectedEnterElements),Ot=new Map;let zt=0;sn.forEach((St,xt)=>{const $t=lt+zt++;Ot.set(xt,$t),St.forEach(fn=>ti(fn,$t))});const en=[],Rn=new Set,On=new Set;for(let St=0;St<this.collectedLeaveElements.length;St++){const xt=this.collectedLeaveElements[St],$t=xt[hn];$t&&$t.setForRemoval&&(en.push(xt),Rn.add(xt),$t.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(fn=>Rn.add(fn)):On.add(xt))}const _i=new Map,ni=wr(Wt,Array.from(Rn));ni.forEach((St,xt)=>{const $t=_t+zt++;_i.set(xt,$t),St.forEach(fn=>ti(fn,$t))}),d.push(()=>{sn.forEach((St,xt)=>{const $t=Ot.get(xt);St.forEach(fn=>Fi(fn,$t))}),ni.forEach((St,xt)=>{const $t=_i.get(xt);St.forEach(fn=>Fi(fn,$t))}),en.forEach(St=>{this.processLeaveNode(St)})});const ur=[],Hi=[];for(let St=this._namespaceList.length-1;St>=0;St--)this._namespaceList[St].drainQueuedTransitions(h).forEach($t=>{const fn=$t.player,ii=$t.element;if(ur.push(fn),this.collectedEnterElements.length){const Ui=ii[hn];if(Ui&&Ui.setForMove)return void fn.destroy()}const er=!wt||!this.driver.containsElement(wt,ii),hi=_i.get(ii),ji=Ot.get(ii),Tn=this._buildInstruction($t,x,ji,hi,er);if(Tn.errors&&Tn.errors.length)Hi.push(Tn);else{if(er)return fn.onStart(()=>Kt(ii,Tn.fromStyles)),fn.onDestroy(()=>rn(ii,Tn.toStyles)),void K.push(fn);if($t.isFallbackTransition)return fn.onStart(()=>Kt(ii,Tn.fromStyles)),fn.onDestroy(()=>rn(ii,Tn.toStyles)),void K.push(fn);Tn.timelines.forEach(Ui=>Ui.stretchStartingKeyframe=!0),x.append(ii,Tn.timelines),de.push({instruction:Tn,player:fn,element:ii}),Tn.queriedElements.forEach(Ui=>D(ye,Ui,[]).push(fn)),Tn.preStyleProps.forEach((Ui,cs)=>{const zi=Object.keys(Ui);if(zi.length){let Wi=Ne.get(cs);Wi||Ne.set(cs,Wi=new Set),zi.forEach(Do=>Wi.add(Do))}}),Tn.postStyleProps.forEach((Ui,cs)=>{const zi=Object.keys(Ui);let Wi=Ke.get(cs);Wi||Ke.set(cs,Wi=new Set),zi.forEach(Do=>Wi.add(Do))})}});if(Hi.length){const St=[];Hi.forEach(xt=>{St.push(`@${xt.triggerName} has failed due to:\n`),xt.errors.forEach($t=>St.push(`- ${$t}\n`))}),ur.forEach(xt=>xt.destroy()),this.reportError(St)}const di=new Map,Ji=new Map;de.forEach(St=>{const xt=St.element;x.has(xt)&&(Ji.set(xt,xt),this._beforeAnimationBuild(St.player.namespaceId,St.instruction,di))}),K.forEach(St=>{const xt=St.element;this._getPreviousPlayers(xt,!1,St.namespaceId,St.triggerName,null).forEach(fn=>{D(di,xt,[]).push(fn),fn.destroy()})});const Xi=en.filter(St=>Mr(St,Ne,Ke)),Oi=new Map;Sr(Oi,this.driver,On,Ke,u.l3).forEach(St=>{Mr(St,Ne,Ke)&&Xi.push(St)});const ls=new Map;sn.forEach((St,xt)=>{Sr(ls,this.driver,new Set(St),Ne,u.k1)}),Xi.forEach(St=>{const xt=Oi.get(St),$t=ls.get(St);Oi.set(St,Object.assign(Object.assign({},xt),$t))});const Vn=[],dr=[],Pn={};de.forEach(St=>{const{element:xt,player:$t,instruction:fn}=St;if(x.has(xt)){if(ht.has(xt))return $t.onDestroy(()=>rn(xt,fn.toStyles)),$t.disabled=!0,$t.overrideTotalTime(fn.totalTime),void K.push($t);let ii=Pn;if(Ji.size>1){let hi=xt;const ji=[];for(;hi=hi.parentNode;){const Tn=Ji.get(hi);if(Tn){ii=Tn;break}ji.push(hi)}ji.forEach(Tn=>Ji.set(Tn,ii))}const er=this._buildAnimation($t.namespaceId,fn,di,ee,ls,Oi);if($t.setRealPlayer(er),ii===Pn)Vn.push($t);else{const hi=this.playersByElement.get(ii);hi&&hi.length&&($t.parentPlayer=p(hi)),K.push($t)}}else Kt(xt,fn.fromStyles),$t.onDestroy(()=>rn(xt,fn.toStyles)),dr.push($t),ht.has(xt)&&K.push($t)}),dr.forEach(St=>{const xt=ee.get(St.element);if(xt&&xt.length){const $t=p(xt);St.setRealPlayer($t)}}),K.forEach(St=>{St.parentPlayer?St.syncPlayerEvents(St.parentPlayer):St.destroy()});for(let St=0;St<en.length;St++){const xt=en[St],$t=xt[hn];if(Fi(xt,_t),$t&&$t.hasAnimation)continue;let fn=[];if(ye.size){let er=ye.get(xt);er&&er.length&&fn.push(...er);let hi=this.driver.query(xt,Xe,!0);for(let ji=0;ji<hi.length;ji++){let Tn=ye.get(hi[ji]);Tn&&Tn.length&&fn.push(...Tn)}}const ii=fn.filter(er=>!er.destroyed);ii.length?ar(this,xt,ii):this.processLeaveNode(xt)}return en.length=0,Vn.forEach(St=>{this.players.push(St),St.onDone(()=>{St.destroy();const xt=this.players.indexOf(St);this.players.splice(xt,1)}),St.play()}),Vn}elementContainsData(d,h){let x=!1;const K=h[hn];return K&&K.setForRemoval&&(x=!0),this.playersByElement.has(h)&&(x=!0),this.playersByQueriedElement.has(h)&&(x=!0),this.statesByElement.has(h)&&(x=!0),this._fetchNamespace(d).elementContainsData(h)||x}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,h,x,K,ee){let de=[];if(h){const ye=this.playersByQueriedElement.get(d);ye&&(de=ye)}else{const ye=this.playersByElement.get(d);if(ye){const Ne=!ee||ee==Qn;ye.forEach(Ke=>{Ke.queued||!Ne&&Ke.triggerName!=K||de.push(Ke)})}}return(x||K)&&(de=de.filter(ye=>!(x&&x!=ye.namespaceId||K&&K!=ye.triggerName))),de}_beforeAnimationBuild(d,h,x){const ee=h.element,de=h.isRemovalTransition?void 0:d,ye=h.isRemovalTransition?void 0:h.triggerName;for(const Ne of h.timelines){const Ke=Ne.element,ht=Ke!==ee,wt=D(x,Ke,[]);this._getPreviousPlayers(Ke,ht,de,ye,h.toState).forEach(sn=>{const Ot=sn.getRealPlayer();Ot.beforeDestroy&&Ot.beforeDestroy(),sn.destroy(),wt.push(sn)})}Kt(ee,h.fromStyles)}_buildAnimation(d,h,x,K,ee,de){const ye=h.triggerName,Ne=h.element,Ke=[],ht=new Set,wt=new Set,Wt=h.timelines.map(Ot=>{const zt=Ot.element;ht.add(zt);const en=zt[hn];if(en&&en.removedBeforeQueried)return new u.ZN(Ot.duration,Ot.delay);const Rn=zt!==Ne,On=function(G){const d=[];return Hr(G,d),d}((x.get(zt)||In).map(di=>di.getRealPlayer())).filter(di=>!!di.element&&di.element===zt),_i=ee.get(zt),ni=de.get(zt),ur=T(0,this._normalizer,0,Ot.keyframes,_i,ni),Hi=this._buildPlayer(Ot,ur,On);if(Ot.subTimeline&&K&&wt.add(zt),Rn){const di=new Pi(d,ye,zt);di.setRealPlayer(Hi),Ke.push(di)}return Hi});Ke.forEach(Ot=>{D(this.playersByQueriedElement,Ot.element,[]).push(Ot),Ot.onDone(()=>function(G,d,h){let x;if(G instanceof Map){if(x=G.get(d),x){if(x.length){const K=x.indexOf(h);x.splice(K,1)}0==x.length&&G.delete(d)}}else if(x=G[d],x){if(x.length){const K=x.indexOf(h);x.splice(K,1)}0==x.length&&delete G[d]}return x}(this.playersByQueriedElement,Ot.element,Ot))}),ht.forEach(Ot=>ti(Ot,Be));const sn=p(Wt);return sn.onDestroy(()=>{ht.forEach(Ot=>Fi(Ot,Be)),rn(Ne,h.toStyles)}),wt.forEach(Ot=>{D(K,Ot,[]).push(sn)}),sn}_buildPlayer(d,h,x){return h.length>0?this.driver.animate(d.element,h,d.duration,d.delay,d.easing,x):new u.ZN(d.duration,d.delay)}}class Pi{constructor(d,h,x){this.namespaceId=d,this.triggerName=h,this.element=x,this._player=new u.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(d){this._containsRealPlayer||(this._player=d,Object.keys(this._queuedCallbacks).forEach(h=>{this._queuedCallbacks[h].forEach(x=>b(d,h,void 0,x))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const h=this._player;h.triggerCallback&&d.onStart(()=>h.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,h){D(this._queuedCallbacks,d,[]).push(h)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const h=this._player;h.triggerCallback&&h.triggerCallback(d)}}function xi(G){return G&&1===G.nodeType}function Dr(G,d){const h=G.style.display;return G.style.display=null!=d?d:"none",h}function Sr(G,d,h,x,K){const ee=[];h.forEach(Ne=>ee.push(Dr(Ne)));const de=[];x.forEach((Ne,Ke)=>{const ht={};Ne.forEach(wt=>{const Wt=ht[wt]=d.computeStyle(Ke,wt,K);(!Wt||0==Wt.length)&&(Ke[hn]=Fn,de.push(Ke))}),G.set(Ke,ht)});let ye=0;return h.forEach(Ne=>Dr(Ne,ee[ye++])),de}function wr(G,d){const h=new Map;if(G.forEach(ye=>h.set(ye,[])),0==d.length)return h;const K=new Set(d),ee=new Map;function de(ye){if(!ye)return 1;let Ne=ee.get(ye);if(Ne)return Ne;const Ke=ye.parentNode;return Ne=h.has(Ke)?Ke:K.has(Ke)?1:de(Ke),ee.set(ye,Ne),Ne}return d.forEach(ye=>{const Ne=de(ye);1!==Ne&&h.get(Ne).push(ye)}),h}const Li="$$classes";function ti(G,d){if(G.classList)G.classList.add(d);else{let h=G[Li];h||(h=G[Li]={}),h[d]=!0}}function Fi(G,d){if(G.classList)G.classList.remove(d);else{let h=G[Li];h&&delete h[d]}}function ar(G,d,h){p(h).onDone(()=>G.processLeaveNode(d))}function Hr(G,d){for(let h=0;h<G.length;h++){const x=G[h];x instanceof u.ZE?Hr(x.players,d):d.push(x)}}function Mr(G,d,h){const x=h.get(G);if(!x)return!1;let K=d.get(G);return K?x.forEach(ee=>K.add(ee)):d.set(G,x),h.delete(G),!0}class Yi{constructor(d,h,x){this.bodyNode=d,this._driver=h,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=(K,ee)=>{},this._transitionEngine=new Zn(d,h,x),this._timelineEngine=new ri(d,h,x),this._transitionEngine.onRemovalComplete=(K,ee)=>this.onRemovalComplete(K,ee)}registerTrigger(d,h,x,K,ee){const de=d+"-"+K;let ye=this._triggerCache[de];if(!ye){const Ne=[],Ke=jn(this._driver,ee,Ne);if(Ne.length)throw new Error(`The animation trigger "${K}" has failed to build due to the following errors:\n - ${Ne.join("\n - ")}`);ye=function(G,d,h){return new vt(G,d,h)}(K,Ke,this._normalizer),this._triggerCache[de]=ye}this._transitionEngine.registerTrigger(h,K,ye)}register(d,h){this._transitionEngine.register(d,h)}destroy(d,h){this._transitionEngine.destroy(d,h)}onInsert(d,h,x,K){this._transitionEngine.insertNode(d,h,x,K)}onRemove(d,h,x,K){this._transitionEngine.removeNode(d,h,K||!1,x)}disableAnimations(d,h){this._transitionEngine.markElementAsDisabled(d,h)}process(d,h,x,K){if("@"==x.charAt(0)){const[ee,de]=g(x);this._timelineEngine.command(ee,h,de,K)}else this._transitionEngine.trigger(d,h,x,K)}listen(d,h,x,K,ee){if("@"==x.charAt(0)){const[de,ye]=g(x);return this._timelineEngine.listen(de,h,ye,ee)}return this._transitionEngine.listen(d,h,x,K,ee)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ii(G,d){let h=null,x=null;return Array.isArray(d)&&d.length?(h=Ri(d[0]),d.length>1&&(x=Ri(d[d.length-1]))):d&&(h=Ri(d)),h||x?new Xr(G,h,x):null}let Xr=(()=>{class G{constructor(h,x,K){this._element=h,this._startStyles=x,this._endStyles=K,this._state=0;let ee=G.initialStylesByElement.get(h);ee||G.initialStylesByElement.set(h,ee={}),this._initialStyles=ee}start(){this._state<1&&(this._startStyles&&rn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rn(this._element,this._initialStyles),this._endStyles&&(rn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(G.initialStylesByElement.delete(this._element),this._startStyles&&(Kt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Kt(this._element,this._endStyles),this._endStyles=null),rn(this._element,this._initialStyles),this._state=3)}}return G.initialStylesByElement=new WeakMap,G})();function Ri(G){let d=null;const h=Object.keys(G);for(let x=0;x<h.length;x++){const K=h[x];qi(K)&&(d=d||{},d[K]=G[K])}return d}function qi(G){return"display"===G||"position"===G}const lr="animation",Qi="animationend";class Ur{constructor(d,h,x,K,ee,de,ye){this._element=d,this._name=h,this._duration=x,this._delay=K,this._easing=ee,this._fillMode=de,this._onDoneFn=ye,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Ne=>this._handleCallback(Ne)}apply(){(function(G,d){const h=se(G,"").trim();let x=0;h.length&&(function(G,d){let h=0;for(let x=0;x<G.length;x++)","===G.charAt(x)&&h++;return h}(h)+1,d=`${h}, ${d}`),Nn(G,"",d)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Wr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Tr(this._element,this._name,"paused")}resume(){Tr(this._element,this._name,"running")}setPosition(d){const h=zr(this._element,this._name);this._position=d*this._duration,Nn(this._element,"Delay",`-${this._position}ms`,h)}getPosition(){return this._position}_handleCallback(d){const h=d._ngTestManualTimestamp||Date.now(),x=1e3*parseFloat(d.elapsedTime.toFixed(3));d.animationName==this._name&&Math.max(h-this._startTime,0)>=this._delay&&x>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Wr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(G,d){const x=se(G,"").split(","),K=Vi(x,d);K>=0&&(x.splice(K,1),Nn(G,"",x.join(",")))}(this._element,this._name))}}function Tr(G,d,h){Nn(G,"PlayState",h,zr(G,d))}function zr(G,d){const h=se(G,"");return h.indexOf(",")>0?Vi(h.split(","),d):Vi([h],d)}function Vi(G,d){for(let h=0;h<G.length;h++)if(G[h].indexOf(d)>=0)return h;return-1}function Wr(G,d,h){h?G.removeEventListener(Qi,d):G.addEventListener(Qi,d)}function Nn(G,d,h,x){const K=lr+d;if(null!=x){const ee=G.style[K];if(ee.length){const de=ee.split(",");de[x]=h,h=de.join(",")}}G.style[K]=h}function se(G,d){return G.style[lr+d]||""}class ae{constructor(d,h,x,K,ee,de,ye,Ne){this.element=d,this.keyframes=h,this.animationName=x,this._duration=K,this._delay=ee,this._finalStyles=ye,this._specialStyles=Ne,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=de||"linear",this.totalTime=K+ee,this._buildStyler()}onStart(d){this._onStartFns.push(d)}onDone(d){this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(d=>d()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(d=>d()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(d){this._styler.setPosition(d)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Ur(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(d){const h="start"==d?this._onStartFns:this._onDoneFns;h.forEach(x=>x()),h.length=0}beforeDestroy(){this.init();const d={};if(this.hasStarted()){const h=this._state>=3;Object.keys(this._finalStyles).forEach(x=>{"offset"!=x&&(d[x]=h?this._finalStyles[x]:bt(this.element,x))})}this.currentSnapshot=d}}class xe extends u.ZN{constructor(d,h){super(),this.element=d,this._startingStyles={},this.__initialized=!1,this._styles=$(h)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(d=>{this._startingStyles[d]=this.element.style[d]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(d=>this.element.style.setProperty(d,this._styles[d])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(d=>{const h=this._startingStyles[d];h?this.element.style.setProperty(d,h):this.element.style.removeProperty(d)}),this._startingStyles=null,super.destroy())}}class F{constructor(){this._count=0}validateStyleProperty(d){return te(d)}matchesElement(d,h){return ue(d,h)}containsElement(d,h){return V(d,h)}query(d,h,x){return Z(d,h,x)}computeStyle(d,h,x){return window.getComputedStyle(d)[h]}buildKeyframeElement(d,h,x){x=x.map(ye=>$(ye));let K=`@keyframes ${h} {\n`,ee="";x.forEach(ye=>{ee=" ";const Ne=parseFloat(ye.offset);K+=`${ee}${100*Ne}% {\n`,ee+=" ",Object.keys(ye).forEach(Ke=>{const ht=ye[Ke];switch(Ke){case"offset":return;case"easing":return void(ht&&(K+=`${ee}animation-timing-function: ${ht};\n`));default:return void(K+=`${ee}${Ke}: ${ht};\n`)}}),K+=`${ee}}\n`}),K+="}\n";const de=document.createElement("style");return de.textContent=K,de}animate(d,h,x,K,ee,de=[],ye){const Ne=de.filter(en=>en instanceof ae),Ke={};Ut(x,K)&&Ne.forEach(en=>{let Rn=en.currentSnapshot;Object.keys(Rn).forEach(On=>Ke[On]=Rn[On])});const ht=function(G){let d={};return G&&(Array.isArray(G)?G:[G]).forEach(x=>{Object.keys(x).forEach(K=>{"offset"==K||"easing"==K||(d[K]=x[K])})}),d}(h=Ct(d,h,Ke));if(0==x)return new xe(d,ht);const wt="gen_css_kf_"+this._count++,Wt=this.buildKeyframeElement(d,wt,h);(function(G){var d;const h=null===(d=G.getRootNode)||void 0===d?void 0:d.call(G);return"undefined"!=typeof ShadowRoot&&h instanceof ShadowRoot?h:document.head})(d).appendChild(Wt);const Ot=Ii(d,h),zt=new ae(d,h,wt,x,K,ee,ht,Ot);return zt.onDestroy(()=>{var G;(G=Wt).parentNode.removeChild(G)}),zt}}class O{constructor(d,h,x,K){this.element=d,this.keyframes=h,this.options=x,this._specialStyles=K,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(d,h,x){return d.animate(h,x)}onStart(d){this._onStartFns.push(d)}onDone(d){this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(h=>{"offset"!=h&&(d[h]=this._finished?this._finalKeyframe[h]:bt(this.element,h))}),this.currentSnapshot=d}triggerCallback(d){const h="start"==d?this._onStartFns:this._onDoneFns;h.forEach(x=>x()),h.length=0}}class M{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Le().toString()),this._cssKeyframesDriver=new F}validateStyleProperty(d){return te(d)}matchesElement(d,h){return ue(d,h)}containsElement(d,h){return V(d,h)}query(d,h,x){return Z(d,h,x)}computeStyle(d,h,x){return window.getComputedStyle(d)[h]}overrideWebAnimationsSupport(d){this._isNativeImpl=d}animate(d,h,x,K,ee,de=[],ye){if(!ye&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(d,h,x,K,ee,de);const ht={duration:x,delay:K,fill:0==K?"both":"forwards"};ee&&(ht.easing=ee);const wt={},Wt=de.filter(Ot=>Ot instanceof O);Ut(x,K)&&Wt.forEach(Ot=>{let zt=Ot.currentSnapshot;Object.keys(zt).forEach(en=>wt[en]=zt[en])});const sn=Ii(d,h=Ct(d,h=h.map(Ot=>mn(Ot,!1)),wt));return new O(d,h,ht,sn)}}function Le(){return v()&&Element.prototype.animate||{}}var dt=W(8583);let Ht=(()=>{class G extends u._j{constructor(h,x){super(),this._nextAnimationId=0,this._renderer=h.createRenderer(x.body,{id:"0",encapsulation:_.ifc.None,styles:[],data:{animation:[]}})}build(h){const x=this._nextAnimationId.toString();this._nextAnimationId++;const K=Array.isArray(h)?(0,u.vP)(h):h;return Bn(this._renderer,null,x,"register",[K]),new yn(x,this._renderer)}}return G.\u0275fac=function(h){return new(h||G)(_.LFG(_.FYo),_.LFG(dt.K0))},G.\u0275prov=_.Yz7({token:G,factory:G.\u0275fac}),G})();class yn extends u.LC{constructor(d,h){super(),this._id=d,this._renderer=h}create(d,h){return new Si(this._id,d,h||{},this._renderer)}}class Si{constructor(d,h,x,K){this.id=d,this.element=h,this._renderer=K,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(d,h){return this._renderer.listen(this.element,`@@${this.id}:${d}`,h)}_command(d,...h){return Bn(this._renderer,this.element,this.id,d,h)}onDone(d){this._listen("done",d)}onStart(d){this._listen("start",d)}onDestroy(d){this._listen("destroy",d)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(d){this._command("setPosition",d)}getPosition(){var d,h;return null!==(h=null===(d=this._renderer.engine.players[+this.id])||void 0===d?void 0:d.getPosition())&&void 0!==h?h:0}}function Bn(G,d,h,x,K){return G.setProperty(d,`@@${h}:${x}`,K)}const wi="@.disabled";let kt=(()=>{class G{constructor(h,x,K){this.delegate=h,this.engine=x,this._zone=K,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),x.onRemovalComplete=(ee,de)=>{de&&de.parentNode(ee)&&de.removeChild(ee.parentNode,ee)}}createRenderer(h,x){const ee=this.delegate.createRenderer(h,x);if(!(h&&x&&x.data&&x.data.animation)){let ht=this._rendererCache.get(ee);return ht||(ht=new os("",ee,this.engine),this._rendererCache.set(ee,ht)),ht}const de=x.id,ye=x.id+"-"+this._currentId;this._currentId++,this.engine.register(ye,h);const Ne=ht=>{Array.isArray(ht)?ht.forEach(Ne):this.engine.registerTrigger(de,ye,h,ht.name,ht)};return x.data.animation.forEach(Ne),new Ds(this,ye,ee,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(h,x,K){h>=0&&h<this._microtaskId?this._zone.run(()=>x(K)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ee=>{const[de,ye]=ee;de(ye)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,K]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return G.\u0275fac=function(h){return new(h||G)(_.LFG(_.FYo),_.LFG(Yi),_.LFG(_.R0b))},G.\u0275prov=_.Yz7({token:G,factory:G.\u0275fac}),G})();class os{constructor(d,h,x){this.namespaceId=d,this.delegate=h,this.engine=x,this.destroyNode=this.delegate.destroyNode?K=>h.destroyNode(K):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(d,h){return this.delegate.createElement(d,h)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,h){this.delegate.appendChild(d,h),this.engine.onInsert(this.namespaceId,h,d,!1)}insertBefore(d,h,x,K=!0){this.delegate.insertBefore(d,h,x),this.engine.onInsert(this.namespaceId,h,d,K)}removeChild(d,h,x){this.engine.onRemove(this.namespaceId,h,this.delegate,x)}selectRootElement(d,h){return this.delegate.selectRootElement(d,h)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,h,x,K){this.delegate.setAttribute(d,h,x,K)}removeAttribute(d,h,x){this.delegate.removeAttribute(d,h,x)}addClass(d,h){this.delegate.addClass(d,h)}removeClass(d,h){this.delegate.removeClass(d,h)}setStyle(d,h,x,K){this.delegate.setStyle(d,h,x,K)}removeStyle(d,h,x){this.delegate.removeStyle(d,h,x)}setProperty(d,h,x){"@"==h.charAt(0)&&h==wi?this.disableAnimations(d,!!x):this.delegate.setProperty(d,h,x)}setValue(d,h){this.delegate.setValue(d,h)}listen(d,h,x){return this.delegate.listen(d,h,x)}disableAnimations(d,h){this.engine.disableAnimations(d,h)}}class Ds extends os{constructor(d,h,x,K){super(h,x,K),this.factory=d,this.namespaceId=h}setProperty(d,h,x){"@"==h.charAt(0)?"."==h.charAt(1)&&h==wi?this.disableAnimations(d,x=void 0===x||!!x):this.engine.process(this.namespaceId,d,h.substr(1),x):this.delegate.setProperty(d,h,x)}listen(d,h,x){if("@"==h.charAt(0)){const K=function(G){switch(G){case"body":return document.body;case"document":return document;case"window":return window;default:return G}}(d);let ee=h.substr(1),de="";return"@"!=ee.charAt(0)&&([ee,de]=function(G){const d=G.indexOf(".");return[G.substring(0,d),G.substr(d+1)]}(ee)),this.engine.listen(this.namespaceId,K,ee,de,ye=>{this.factory.scheduleListenerCallback(ye._data||-1,x,ye)})}return this.delegate.listen(d,h,x)}}let ba=(()=>{class G extends Yi{constructor(h,x,K){super(h.body,x,K)}ngOnDestroy(){this.flush()}}return G.\u0275fac=function(h){return new(h||G)(_.LFG(dt.K0),_.LFG(Se),_.LFG(me))},G.\u0275prov=_.Yz7({token:G,factory:G.\u0275fac}),G})();const nn=new _.OlP("AnimationModuleType"),bo=[{provide:u._j,useClass:Ht},{provide:me,useFactory:function(){return new le}},{provide:Yi,useClass:ba},{provide:_.FYo,useFactory:function(G,d,h){return new kt(G,d,h)},deps:[P.se,Yi,_.R0b]}],zn=[{provide:Se,useFactory:function(){return"function"==typeof Le()?new M:new F}},{provide:nn,useValue:"BrowserAnimations"},...bo],Co=[{provide:Se,useClass:re},{provide:nn,useValue:"NoopAnimations"},...bo];let as=(()=>{class G{static withConfig(h){return{ngModule:G,providers:h.disableAnimations?Co:zn}}}return G.\u0275fac=function(h){return new(h||G)},G.\u0275mod=_.oAB({type:G}),G.\u0275inj=_.cJS({providers:zn,imports:[P.b2]}),G})()},9075:(ut,Ve,W)=>{"use strict";W.d(Ve,{b2:()=>fe,q6:()=>Kn,se:()=>Et});var _=W(8583),P=W(7716);class u extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class v extends u{static makeCurrent(){(0,_.HT)(new v)}onAndCancel(ve,ne,Te){return ve.addEventListener(ne,Te,!1),()=>{ve.removeEventListener(ne,Te,!1)}}dispatchEvent(ve,ne){ve.dispatchEvent(ne)}remove(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}createElement(ve,ne){return(ne=ne||this.getDefaultDocument()).createElement(ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ve){return ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(ve){return ve instanceof DocumentFragment}getGlobalEventTarget(ve,ne){return"window"===ne?window:"document"===ne?ve:"body"===ne?ve.body:null}getBaseHref(ve){const ne=(S=S||document.querySelector("base"),S?S.getAttribute("href"):null);return null==ne?null:function(_e){T=T||document.createElement("a"),T.setAttribute("href",_e);const ve=T.pathname;return"/"===ve.charAt(0)?ve:`/${ve}`}(ne)}resetBaseElement(){S=null}getUserAgent(){return window.navigator.userAgent}getCookie(ve){return(0,_.Mx)(document.cookie,ve)}}let T,S=null;const w=new P.OlP("TRANSITION_ID"),D=[{provide:P.ip1,useFactory:function(_e,ve,ne){return()=>{ne.get(P.CZH).donePromise.then(()=>{const Te=(0,_.q)(),je=ve.querySelectorAll(`style[ng-transition="${_e}"]`);for(let vt=0;vt<je.length;vt++)Te.remove(je[vt])})}},deps:[w,_.K0,P.zs3],multi:!0}];class g{static init(){(0,P.VLi)(new g)}addToWindow(ve){P.dqk.getAngularTestability=(Te,je=!0)=>{const vt=ve.findTestabilityInTree(Te,je);if(null==vt)throw new Error("Could not find testability for element.");return vt},P.dqk.getAllAngularTestabilities=()=>ve.getAllTestabilities(),P.dqk.getAllAngularRootElements=()=>ve.getAllRootElements(),P.dqk.frameworkStabilizers||(P.dqk.frameworkStabilizers=[]),P.dqk.frameworkStabilizers.push(Te=>{const je=P.dqk.getAllAngularTestabilities();let vt=je.length,gt=!1;const Mt=function(Rt){gt=gt||Rt,vt--,0==vt&&Te(gt)};je.forEach(function(Rt){Rt.whenStable(Mt)})})}findTestabilityInTree(ve,ne,Te){if(null==ne)return null;const je=ve.getTestability(ne);return null!=je?je:Te?(0,_.q)().isShadowRoot(ne)?this.findTestabilityInTree(ve,ne.host,!0):this.findTestabilityInTree(ve,ne.parentElement,!0):null}}let l=(()=>{class _e{build(){return new XMLHttpRequest}}return _e.\u0275fac=function(ne){return new(ne||_e)},_e.\u0275prov=P.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const re=new P.OlP("EventManagerPlugins");let Se=(()=>{class _e{constructor(ne,Te){this._zone=Te,this._eventNameToPlugin=new Map,ne.forEach(je=>je.manager=this),this._plugins=ne.slice().reverse()}addEventListener(ne,Te,je){return this._findPluginFor(Te).addEventListener(ne,Te,je)}addGlobalEventListener(ne,Te,je){return this._findPluginFor(Te).addGlobalEventListener(ne,Te,je)}getZone(){return this._zone}_findPluginFor(ne){const Te=this._eventNameToPlugin.get(ne);if(Te)return Te;const je=this._plugins;for(let vt=0;vt<je.length;vt++){const gt=je[vt];if(gt.supports(ne))return this._eventNameToPlugin.set(ne,gt),gt}throw new Error(`No event manager plugin found for event ${ne}`)}}return _e.\u0275fac=function(ne){return new(ne||_e)(P.LFG(re),P.LFG(P.R0b))},_e.\u0275prov=P.Yz7({token:_e,factory:_e.\u0275fac}),_e})();class qe{constructor(ve){this._doc=ve}addGlobalEventListener(ve,ne,Te){const je=(0,_.q)().getGlobalEventTarget(this._doc,ve);if(!je)throw new Error(`Unsupported event target ${je} for event ${ne}`);return this.addEventListener(je,ne,Te)}}let Ge=(()=>{class _e{constructor(){this._stylesSet=new Set}addStyles(ne){const Te=new Set;ne.forEach(je=>{this._stylesSet.has(je)||(this._stylesSet.add(je),Te.add(je))}),this.onStylesAdded(Te)}onStylesAdded(ne){}getAllStyles(){return Array.from(this._stylesSet)}}return _e.\u0275fac=function(ne){return new(ne||_e)},_e.\u0275prov=P.Yz7({token:_e,factory:_e.\u0275fac}),_e})(),tt=(()=>{class _e extends Ge{constructor(ne){super(),this._doc=ne,this._hostNodes=new Map,this._hostNodes.set(ne.head,[])}_addStylesToHost(ne,Te,je){ne.forEach(vt=>{const gt=this._doc.createElement("style");gt.textContent=vt,je.push(Te.appendChild(gt))})}addHost(ne){const Te=[];this._addStylesToHost(this._stylesSet,ne,Te),this._hostNodes.set(ne,Te)}removeHost(ne){const Te=this._hostNodes.get(ne);Te&&Te.forEach(lt),this._hostNodes.delete(ne)}onStylesAdded(ne){this._hostNodes.forEach((Te,je)=>{this._addStylesToHost(ne,je,Te)})}ngOnDestroy(){this._hostNodes.forEach(ne=>ne.forEach(lt))}}return _e.\u0275fac=function(ne){return new(ne||_e)(P.LFG(_.K0))},_e.\u0275prov=P.Yz7({token:_e,factory:_e.\u0275fac}),_e})();function lt(_e){(0,_.q)().remove(_e)}const _t={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},he=/%COMP%/g;function pt(_e,ve,ne){for(let Te=0;Te<ve.length;Te++){let je=ve[Te];Array.isArray(je)?pt(_e,je,ne):(je=je.replace(he,_e),ne.push(je))}return ne}function et(_e){return ve=>{if("__ngUnwrap__"===ve)return _e;!1===_e(ve)&&(ve.preventDefault(),ve.returnValue=!1)}}let Et=(()=>{class _e{constructor(ne,Te,je){this.eventManager=ne,this.sharedStylesHost=Te,this.appId=je,this.rendererByCompId=new Map,this.defaultRenderer=new pn(ne)}createRenderer(ne,Te){if(!ne||!Te)return this.defaultRenderer;switch(Te.encapsulation){case P.ifc.Emulated:{let je=this.rendererByCompId.get(Te.id);return je||(je=new rn(this.eventManager,this.sharedStylesHost,Te,this.appId),this.rendererByCompId.set(Te.id,je)),je.applyToHost(ne),je}case 1:case P.ifc.ShadowDom:return new Kt(this.eventManager,this.sharedStylesHost,ne,Te);default:if(!this.rendererByCompId.has(Te.id)){const je=pt(Te.id,Te.styles,[]);this.sharedStylesHost.addStyles(je),this.rendererByCompId.set(Te.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return _e.\u0275fac=function(ne){return new(ne||_e)(P.LFG(Se),P.LFG(tt),P.LFG(P.AFp))},_e.\u0275prov=P.Yz7({token:_e,factory:_e.\u0275fac}),_e})();class pn{constructor(ve){this.eventManager=ve,this.data=Object.create(null)}destroy(){}createElement(ve,ne){return ne?document.createElementNS(_t[ne]||ne,ve):document.createElement(ve)}createComment(ve){return document.createComment(ve)}createText(ve){return document.createTextNode(ve)}appendChild(ve,ne){ve.appendChild(ne)}insertBefore(ve,ne,Te){ve&&ve.insertBefore(ne,Te)}removeChild(ve,ne){ve&&ve.removeChild(ne)}selectRootElement(ve,ne){let Te="string"==typeof ve?document.querySelector(ve):ve;if(!Te)throw new Error(`The selector "${ve}" did not match any elements`);return ne||(Te.textContent=""),Te}parentNode(ve){return ve.parentNode}nextSibling(ve){return ve.nextSibling}setAttribute(ve,ne,Te,je){if(je){ne=je+":"+ne;const vt=_t[je];vt?ve.setAttributeNS(vt,ne,Te):ve.setAttribute(ne,Te)}else ve.setAttribute(ne,Te)}removeAttribute(ve,ne,Te){if(Te){const je=_t[Te];je?ve.removeAttributeNS(je,ne):ve.removeAttribute(`${Te}:${ne}`)}else ve.removeAttribute(ne)}addClass(ve,ne){ve.classList.add(ne)}removeClass(ve,ne){ve.classList.remove(ne)}setStyle(ve,ne,Te,je){je&(P.JOm.DashCase|P.JOm.Important)?ve.style.setProperty(ne,Te,je&P.JOm.Important?"important":""):ve.style[ne]=Te}removeStyle(ve,ne,Te){Te&P.JOm.DashCase?ve.style.removeProperty(ne):ve.style[ne]=""}setProperty(ve,ne,Te){ve[ne]=Te}setValue(ve,ne){ve.nodeValue=ne}listen(ve,ne,Te){return"string"==typeof ve?this.eventManager.addGlobalEventListener(ve,ne,et(Te)):this.eventManager.addEventListener(ve,ne,et(Te))}}class rn extends pn{constructor(ve,ne,Te,je){super(ve),this.component=Te;const vt=pt(je+"-"+Te.id,Te.styles,[]);ne.addStyles(vt),this.contentAttr="_ngcontent-%COMP%".replace(he,je+"-"+Te.id),this.hostAttr="_nghost-%COMP%".replace(he,je+"-"+Te.id)}applyToHost(ve){super.setAttribute(ve,this.hostAttr,"")}createElement(ve,ne){const Te=super.createElement(ve,ne);return super.setAttribute(Te,this.contentAttr,""),Te}}class Kt extends pn{constructor(ve,ne,Te,je){super(ve),this.sharedStylesHost=ne,this.hostEl=Te,this.shadowRoot=Te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const vt=pt(je.id,je.styles,[]);for(let gt=0;gt<vt.length;gt++){const Mt=document.createElement("style");Mt.textContent=vt[gt],this.shadowRoot.appendChild(Mt)}}nodeOrShadowRoot(ve){return ve===this.hostEl?this.shadowRoot:ve}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ve,ne){return super.appendChild(this.nodeOrShadowRoot(ve),ne)}insertBefore(ve,ne,Te){return super.insertBefore(this.nodeOrShadowRoot(ve),ne,Te)}removeChild(ve,ne){return super.removeChild(this.nodeOrShadowRoot(ve),ne)}parentNode(ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ve)))}}let _n=(()=>{class _e extends qe{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,Te,je){return ne.addEventListener(Te,je,!1),()=>this.removeEventListener(ne,Te,je)}removeEventListener(ne,Te,je){return ne.removeEventListener(Te,je)}}return _e.\u0275fac=function(ne){return new(ne||_e)(P.LFG(_.K0))},_e.\u0275prov=P.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const Ct=["alt","control","meta","shift"],bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dn={alt:_e=>_e.altKey,control:_e=>_e.ctrlKey,meta:_e=>_e.metaKey,shift:_e=>_e.shiftKey};let Vt=(()=>{class _e extends qe{constructor(ne){super(ne)}supports(ne){return null!=_e.parseEventName(ne)}addEventListener(ne,Te,je){const vt=_e.parseEventName(Te),gt=_e.eventCallback(vt.fullKey,je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(ne,vt.domEventName,gt))}static parseEventName(ne){const Te=ne.toLowerCase().split("."),je=Te.shift();if(0===Te.length||"keydown"!==je&&"keyup"!==je)return null;const vt=_e._normalizeKey(Te.pop());let gt="";if(Ct.forEach(Rt=>{const ri=Te.indexOf(Rt);ri>-1&&(Te.splice(ri,1),gt+=Rt+".")}),gt+=vt,0!=Te.length||0===vt.length)return null;const Mt={};return Mt.domEventName=je,Mt.fullKey=gt,Mt}static getEventFullKey(ne){let Te="",je=function(_e){let ve=_e.key;if(null==ve){if(ve=_e.keyIdentifier,null==ve)return"Unidentified";ve.startsWith("U+")&&(ve=String.fromCharCode(parseInt(ve.substring(2),16)),3===_e.location&&Jt.hasOwnProperty(ve)&&(ve=Jt[ve]))}return bt[ve]||ve}(ne);return je=je.toLowerCase()," "===je?je="space":"."===je&&(je="dot"),Ct.forEach(vt=>{vt!=je&&Dn[vt](ne)&&(Te+=vt+".")}),Te+=je,Te}static eventCallback(ne,Te,je){return vt=>{_e.getEventFullKey(vt)===ne&&je.runGuarded(()=>Te(vt))}}static _normalizeKey(ne){switch(ne){case"esc":return"escape";default:return ne}}}return _e.\u0275fac=function(ne){return new(ne||_e)(P.LFG(_.K0))},_e.\u0275prov=P.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const Kn=(0,P.eFA)(P._c5,"browser",[{provide:P.Lbi,useValue:_.bD},{provide:P.g9A,useValue:function(){v.makeCurrent(),g.init()},multi:!0},{provide:_.K0,useFactory:function(){return(0,P.RDi)(document),document},deps:[]}]),ke=[[],{provide:P.zSh,useValue:"root"},{provide:P.qLn,useFactory:function(){return new P.qLn},deps:[]},{provide:re,useClass:_n,multi:!0,deps:[_.K0,P.R0b,P.Lbi]},{provide:re,useClass:Vt,multi:!0,deps:[_.K0]},[],{provide:Et,useClass:Et,deps:[Se,tt,P.AFp]},{provide:P.FYo,useExisting:Et},{provide:Ge,useExisting:tt},{provide:tt,useClass:tt,deps:[_.K0]},{provide:P.dDg,useClass:P.dDg,deps:[P.R0b]},{provide:Se,useClass:Se,deps:[re,P.R0b]},{provide:_.JF,useClass:l,deps:[]},[]];let fe=(()=>{class _e{constructor(ne){if(ne)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ne){return{ngModule:_e,providers:[{provide:P.AFp,useValue:ne.appId},{provide:w,useExisting:P.AFp},D]}}}return _e.\u0275fac=function(ne){return new(ne||_e)(P.LFG(_e,12))},_e.\u0275mod=P.oAB({type:_e}),_e.\u0275inj=P.cJS({providers:ke,imports:[_.ez,P.hGG]}),_e})();"undefined"!=typeof window&&window},8596:(ut,Ve,W)=>{"use strict";W.d(Ve,{s:()=>C,Y:()=>w});var _=W(8583),P=W(7716);function u(D,g){1&D&&P._UZ(0,"div",9)}function v(D,g){if(1&D&&(P.TgZ(0,"span",10),P._uU(1),P.qZA()),2&D){const l=P.oxw().$implicit;P.xp6(1),P.Oqu(l.description)}}function S(D,g){if(1&D&&(P.TgZ(0,"section",11),P._UZ(1,"ngx-json-viewer",12),P.qZA()),2&D){const l=P.oxw().$implicit,m=P.oxw();P.xp6(1),P.Q6J("json",l.value)("expanded",m.expanded)}}const p=function(D){return["segment",D]},T=function(D,g){return{"segment-main":!0,expandable:D,expanded:g}};function b(D,g){if(1&D){const l=P.EpF();P.TgZ(0,"section",2),P.TgZ(1,"section",3),P.NdJ("click",function(){const f=P.CHM(l).$implicit;return P.oxw().toggle(f)}),P.YNc(2,u,1,0,"div",4),P.TgZ(3,"span",5),P._uU(4),P.qZA(),P.TgZ(5,"span",6),P._uU(6,": "),P.qZA(),P.YNc(7,v,2,1,"span",7),P.qZA(),P.YNc(8,S,2,2,"section",8),P.qZA()}if(2&D){const l=g.$implicit,m=P.oxw();P.Q6J("ngClass",P.VKq(6,p,"segment-type-"+l.type)),P.xp6(1),P.Q6J("ngClass",P.WLB(8,T,m.isExpandable(l),l.expanded)),P.xp6(1),P.Q6J("ngIf",m.isExpandable(l)),P.xp6(2),P.Oqu(l.key),P.xp6(3),P.Q6J("ngIf",!l.expanded||!m.isExpandable(l)),P.xp6(1),P.Q6J("ngIf",l.expanded&&m.isExpandable(l))}}let w=(()=>{class D{constructor(){this.expanded=!0,this.cleanOnChange=!0,this.segments=[]}ngOnChanges(){this.cleanOnChange&&(this.segments=[]),"object"==typeof this.json?Object.keys(this.json).forEach(l=>{this.segments.push(this.parseKeyValue(l,this.json[l]))}):this.segments.push(this.parseKeyValue(`(${typeof this.json})`,this.json))}isExpandable(l){return"object"===l.type||"array"===l.type}toggle(l){this.isExpandable(l)&&(l.expanded=!l.expanded)}parseKeyValue(l,m){const c={key:l,value:m,type:void 0,description:""+m,expanded:this.expanded};switch(typeof c.value){case"number":c.type="number";break;case"boolean":c.type="boolean";break;case"function":c.type="function";break;case"string":c.type="string",c.description='"'+c.value+'"';break;case"undefined":c.type="undefined",c.description="undefined";break;case"object":null===c.value?(c.type="null",c.description="null"):Array.isArray(c.value)?(c.type="array",c.description="Array["+c.value.length+"] "+JSON.stringify(c.value)):c.value instanceof Date?c.type="date":(c.type="object",c.description="Object "+JSON.stringify(c.value))}return c}}return D.\u0275fac=function(l){return new(l||D)},D.\u0275cmp=P.Xpm({type:D,selectors:[["ngx-json-viewer"]],inputs:{expanded:"expanded",cleanOnChange:"cleanOnChange",json:"json"},features:[P.TTD],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded"]],template:function(l,m){1&l&&(P.TgZ(0,"section",0),P.YNc(1,b,9,11,"section",1),P.qZA()),2&l&&(P.xp6(1),P.Q6J("ngForOf",m.segments))},directives:[_.sg,_.mk,_.O5,D],styles:['@charset "UTF-8";\n    .ngx-json-viewer[_ngcontent-%COMP%] {\n      font-family: monospace;\n      font-size: 1em;\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n      position: relative; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%] {\n        padding: 2px;\n        margin: 1px 1px 1px 12px; }\n        .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%] {\n          word-wrap: break-word; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%] {\n            position: absolute;\n            margin-left: -14px;\n            margin-top: 3px;\n            font-size: .8em;\n            line-height: 1.2em;\n            vertical-align: middle;\n            color: #787878; }\n            .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]::after {\n              display: inline-block;\n              content: "\u25ba";\n              -webkit-transition: -webkit-transform 0.1s ease-in;\n              transition: -webkit-transform 0.1s ease-in;\n              transition: transform 0.1s ease-in;\n              transition: transform 0.1s ease-in, -webkit-transform 0.1s ease-in; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%] {\n            color: #4E187C; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%] {\n            color: #999; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%] {\n            color: #000; }\n        .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%] {\n          margin-left: 12px; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #FF6B6B; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #009688; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #b938a4; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #05668D; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #fff; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #fff; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        background-color: red; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-key[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        background-color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%] {\n        white-space: nowrap; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%]    > .toggler[_ngcontent-%COMP%]::after {\n        -webkit-transform: rotate(90deg);\n                transform: rotate(90deg); }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]    > .toggler[_ngcontent-%COMP%] {\n        cursor: pointer; }']}),D})(),C=(()=>{class D{}return D.\u0275fac=function(l){return new(l||D)},D.\u0275mod=P.oAB({type:D}),D.\u0275inj=P.cJS({imports:[[_.ez]]}),D})()},7574:(ut,Ve,W)=>{"use strict";W.d(Ve,{y:()=>D});var _=W(7393),u=W(9181),v=W(6490),p=W(6554),T=W(4487);var C=W(2494);let D=(()=>{class l{constructor(c){this._isScalar=!1,c&&(this._subscribe=c)}lift(c){const f=new l;return f.source=this,f.operator=c,f}subscribe(c,f,I){const{operator:k}=this,H=function(l,m,c){if(l){if(l instanceof _.L)return l;if(l[u.b])return l[u.b]()}return l||m||c?new _.L(l,m,c):new _.L(v.c)}(c,f,I);if(H.add(k?k.call(H,this.source):this.source||C.v.useDeprecatedSynchronousErrorHandling&&!H.syncErrorThrowable?this._subscribe(H):this._trySubscribe(H)),C.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable&&(H.syncErrorThrowable=!1,H.syncErrorThrown))throw H.syncErrorValue;return H}_trySubscribe(c){try{return this._subscribe(c)}catch(f){C.v.useDeprecatedSynchronousErrorHandling&&(c.syncErrorThrown=!0,c.syncErrorValue=f),function(l){for(;l;){const{closed:m,destination:c,isStopped:f}=l;if(m||f)return!1;l=c&&c instanceof _.L?c:null}return!0}(c)?c.error(f):console.warn(f)}}forEach(c,f){return new(f=g(f))((I,k)=>{let H;H=this.subscribe(Y=>{try{c(Y)}catch(N){k(N),H&&H.unsubscribe()}},k,I)})}_subscribe(c){const{source:f}=this;return f&&f.subscribe(c)}[p.L](){return this}pipe(...c){return 0===c.length?this:function(l){return 0===l.length?T.y:1===l.length?l[0]:function(c){return l.reduce((f,I)=>I(f),c)}}(c)(this)}toPromise(c){return new(c=g(c))((f,I)=>{let k;this.subscribe(H=>k=H,H=>I(H),()=>f(k))})}}return l.create=m=>new l(m),l})();function g(l){if(l||(l=C.v.Promise||Promise),!l)throw new Error("no Promise impl found");return l}},6490:(ut,Ve,W)=>{"use strict";W.d(Ve,{c:()=>u});var _=W(2494),P=W(4449);const u={closed:!0,next(v){},error(v){if(_.v.useDeprecatedSynchronousErrorHandling)throw v;(0,P.z)(v)},complete(){}}},9765:(ut,Ve,W)=>{"use strict";W.d(Ve,{Yc:()=>T,xQ:()=>b});var _=W(7574),P=W(7393),u=W(5319),v=W(7971),S=W(8858),p=W(9181);class T extends P.L{constructor(D){super(D),this.destination=D}}let b=(()=>{class C extends _.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p.b](){return new T(this)}lift(g){const l=new w(this,this);return l.operator=g,l}next(g){if(this.closed)throw new v.N;if(!this.isStopped){const{observers:l}=this,m=l.length,c=l.slice();for(let f=0;f<m;f++)c[f].next(g)}}error(g){if(this.closed)throw new v.N;this.hasError=!0,this.thrownError=g,this.isStopped=!0;const{observers:l}=this,m=l.length,c=l.slice();for(let f=0;f<m;f++)c[f].error(g);this.observers.length=0}complete(){if(this.closed)throw new v.N;this.isStopped=!0;const{observers:g}=this,l=g.length,m=g.slice();for(let c=0;c<l;c++)m[c].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(g){if(this.closed)throw new v.N;return super._trySubscribe(g)}_subscribe(g){if(this.closed)throw new v.N;return this.hasError?(g.error(this.thrownError),u.w.EMPTY):this.isStopped?(g.complete(),u.w.EMPTY):(this.observers.push(g),new S.W(this,g))}asObservable(){const g=new _.y;return g.source=this,g}}return C.create=(D,g)=>new w(D,g),C})();class w extends b{constructor(D,g){super(),this.destination=D,this.source=g}next(D){const{destination:g}=this;g&&g.next&&g.next(D)}error(D){const{destination:g}=this;g&&g.error&&this.destination.error(D)}complete(){const{destination:D}=this;D&&D.complete&&this.destination.complete()}_subscribe(D){const{source:g}=this;return g?this.source.subscribe(D):u.w.EMPTY}}},8858:(ut,Ve,W)=>{"use strict";W.d(Ve,{W:()=>P});var _=W(5319);class P extends _.w{constructor(v,S){super(),this.subject=v,this.subscriber=S,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const v=this.subject,S=v.observers;if(this.subject=null,!S||0===S.length||v.isStopped||v.closed)return;const p=S.indexOf(this.subscriber);-1!==p&&S.splice(p,1)}}},7393:(ut,Ve,W)=>{"use strict";W.d(Ve,{L:()=>T});var _=W(9105),P=W(6490),u=W(5319),v=W(9181),S=W(2494),p=W(4449);class T extends u.w{constructor(C,D,g){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=P.c;break;case 1:if(!C){this.destination=P.c;break}if("object"==typeof C){C instanceof T?(this.syncErrorThrowable=C.syncErrorThrowable,this.destination=C,C.add(this)):(this.syncErrorThrowable=!0,this.destination=new b(this,C));break}default:this.syncErrorThrowable=!0,this.destination=new b(this,C,D,g)}}[v.b](){return this}static create(C,D,g){const l=new T(C,D,g);return l.syncErrorThrowable=!1,l}next(C){this.isStopped||this._next(C)}error(C){this.isStopped||(this.isStopped=!0,this._error(C))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(C){this.destination.next(C)}_error(C){this.destination.error(C),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:C}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=C,this}}class b extends T{constructor(C,D,g,l){super(),this._parentSubscriber=C;let m,c=this;(0,_.m)(D)?m=D:D&&(m=D.next,g=D.error,l=D.complete,D!==P.c&&(c=Object.create(D),(0,_.m)(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=m,this._error=g,this._complete=l}next(C){if(!this.isStopped&&this._next){const{_parentSubscriber:D}=this;S.v.useDeprecatedSynchronousErrorHandling&&D.syncErrorThrowable?this.__tryOrSetError(D,this._next,C)&&this.unsubscribe():this.__tryOrUnsub(this._next,C)}}error(C){if(!this.isStopped){const{_parentSubscriber:D}=this,{useDeprecatedSynchronousErrorHandling:g}=S.v;if(this._error)g&&D.syncErrorThrowable?(this.__tryOrSetError(D,this._error,C),this.unsubscribe()):(this.__tryOrUnsub(this._error,C),this.unsubscribe());else if(D.syncErrorThrowable)g?(D.syncErrorValue=C,D.syncErrorThrown=!0):(0,p.z)(C),this.unsubscribe();else{if(this.unsubscribe(),g)throw C;(0,p.z)(C)}}}complete(){if(!this.isStopped){const{_parentSubscriber:C}=this;if(this._complete){const D=()=>this._complete.call(this._context);S.v.useDeprecatedSynchronousErrorHandling&&C.syncErrorThrowable?(this.__tryOrSetError(C,D),this.unsubscribe()):(this.__tryOrUnsub(D),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(C,D){try{C.call(this._context,D)}catch(g){if(this.unsubscribe(),S.v.useDeprecatedSynchronousErrorHandling)throw g;(0,p.z)(g)}}__tryOrSetError(C,D,g){if(!S.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{D.call(this._context,g)}catch(l){return S.v.useDeprecatedSynchronousErrorHandling?(C.syncErrorValue=l,C.syncErrorThrown=!0,!0):((0,p.z)(l),!0)}return!1}_unsubscribe(){const{_parentSubscriber:C}=this;this._context=null,this._parentSubscriber=null,C.unsubscribe()}}},5319:(ut,Ve,W)=>{"use strict";W.d(Ve,{w:()=>p});var _=W(9796),P=W(1555),u=W(9105);const S=(()=>{function b(w){return Error.call(this),this.message=w?`${w.length} errors occurred during unsubscription:\n${w.map((C,D)=>`${D+1}) ${C.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=w,this}return b.prototype=Object.create(Error.prototype),b})();class p{constructor(w){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,w&&(this._ctorUnsubscribe=!0,this._unsubscribe=w)}unsubscribe(){let w;if(this.closed)return;let{_parentOrParents:C,_ctorUnsubscribe:D,_unsubscribe:g,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,C instanceof p)C.remove(this);else if(null!==C)for(let m=0;m<C.length;++m)C[m].remove(this);if((0,u.m)(g)){D&&(this._unsubscribe=void 0);try{g.call(this)}catch(m){w=m instanceof S?T(m.errors):[m]}}if((0,_.k)(l)){let m=-1,c=l.length;for(;++m<c;){const f=l[m];if((0,P.K)(f))try{f.unsubscribe()}catch(I){w=w||[],I instanceof S?w=w.concat(T(I.errors)):w.push(I)}}}if(w)throw new S(w)}add(w){let C=w;if(!w)return p.EMPTY;switch(typeof w){case"function":C=new p(w);case"object":if(C===this||C.closed||"function"!=typeof C.unsubscribe)return C;if(this.closed)return C.unsubscribe(),C;if(!(C instanceof p)){const l=C;C=new p,C._subscriptions=[l]}break;default:throw new Error("unrecognized teardown "+w+" added to Subscription.")}let{_parentOrParents:D}=C;if(null===D)C._parentOrParents=this;else if(D instanceof p){if(D===this)return C;C._parentOrParents=[D,this]}else{if(-1!==D.indexOf(this))return C;D.push(this)}const g=this._subscriptions;return null===g?this._subscriptions=[C]:g.push(C),C}remove(w){const C=this._subscriptions;if(C){const D=C.indexOf(w);-1!==D&&C.splice(D,1)}}}var b;function T(b){return b.reduce((w,C)=>w.concat(C instanceof S?C.errors:C),[])}p.EMPTY=((b=new p).closed=!0,b)},2494:(ut,Ve,W)=>{"use strict";W.d(Ve,{v:()=>P});let _=!1;const P={Promise:void 0,set useDeprecatedSynchronousErrorHandling(u){if(u){const v=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+v.stack)}else _&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_=u},get useDeprecatedSynchronousErrorHandling(){return _}}},5345:(ut,Ve,W)=>{"use strict";W.d(Ve,{IY:()=>v,Ds:()=>p,ft:()=>b});var _=W(7393),P=W(7574),u=W(7444);class v extends _.L{constructor(C){super(),this.parent=C}_next(C){this.parent.notifyNext(C)}_error(C){this.parent.notifyError(C),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class p extends _.L{notifyNext(C){this.destination.next(C)}notifyError(C){this.destination.error(C)}notifyComplete(){this.destination.complete()}}function b(w,C){if(C.closed)return;if(w instanceof P.y)return w.subscribe(C);let D;try{D=(0,u.s)(w)(C)}catch(g){C.error(g)}return D}},9193:(ut,Ve,W)=>{"use strict";W.d(Ve,{E:()=>P,c:()=>u});var _=W(7574);const P=new _.y(S=>S.complete());function u(S){return S?function(S){return new _.y(p=>S.schedule(()=>p.complete()))}(S):P}},4402:(ut,Ve,W)=>{"use strict";W.d(Ve,{D:()=>c});var _=W(7574),P=W(7444),u=W(5319),v=W(6554),T=W(4087),b=W(377),D=W(4072),g=W(9489);function c(f,I){return I?function(f,I){if(null!=f){if(function(f){return f&&"function"==typeof f[v.L]}(f))return function(f,I){return new _.y(k=>{const H=new u.w;return H.add(I.schedule(()=>{const Y=f[v.L]();H.add(Y.subscribe({next(N){H.add(I.schedule(()=>k.next(N)))},error(N){H.add(I.schedule(()=>k.error(N)))},complete(){H.add(I.schedule(()=>k.complete()))}}))})),H})}(f,I);if((0,D.t)(f))return function(f,I){return new _.y(k=>{const H=new u.w;return H.add(I.schedule(()=>f.then(Y=>{H.add(I.schedule(()=>{k.next(Y),H.add(I.schedule(()=>k.complete()))}))},Y=>{H.add(I.schedule(()=>k.error(Y)))}))),H})}(f,I);if((0,g.z)(f))return(0,T.r)(f,I);if(function(f){return f&&"function"==typeof f[b.hZ]}(f)||"string"==typeof f)return function(f,I){if(!f)throw new Error("Iterable cannot be null");return new _.y(k=>{const H=new u.w;let Y;return H.add(()=>{Y&&"function"==typeof Y.return&&Y.return()}),H.add(I.schedule(()=>{Y=f[b.hZ](),H.add(I.schedule(function(){if(k.closed)return;let N,B;try{const te=Y.next();N=te.value,B=te.done}catch(te){return void k.error(te)}B?k.complete():(k.next(N),this.schedule())}))})),H})}(f,I)}throw new TypeError((null!==f&&typeof f||f)+" is not observable")}(f,I):f instanceof _.y?f:new _.y((0,P.s)(f))}},6693:(ut,Ve,W)=>{"use strict";W.d(Ve,{n:()=>v});var _=W(7574),P=W(5015),u=W(4087);function v(S,p){return p?(0,u.r)(S,p):new _.y((0,P.V)(S))}},2759:(ut,Ve,W)=>{"use strict";W.d(Ve,{R:()=>p});var _=W(7574),P=W(9796),u=W(9105),v=W(8002);function p(D,g,l,m){return(0,u.m)(l)&&(m=l,l=void 0),m?p(D,g,l).pipe((0,v.U)(c=>(0,P.k)(c)?m(...c):m(c))):new _.y(c=>{T(D,g,function(I){c.next(arguments.length>1?Array.prototype.slice.call(arguments):I)},c,l)})}function T(D,g,l,m,c){let f;if(function(D){return D&&"function"==typeof D.addEventListener&&"function"==typeof D.removeEventListener}(D)){const I=D;D.addEventListener(g,l,c),f=()=>I.removeEventListener(g,l,c)}else if(function(D){return D&&"function"==typeof D.on&&"function"==typeof D.off}(D)){const I=D;D.on(g,l),f=()=>I.off(g,l)}else if(function(D){return D&&"function"==typeof D.addListener&&"function"==typeof D.removeListener}(D)){const I=D;D.addListener(g,l),f=()=>I.removeListener(g,l)}else{if(!D||!D.length)throw new TypeError("Invalid event target");for(let I=0,k=D.length;I<k;I++)T(D[I],g,l,m,c)}m.add(f)}},6682:(ut,Ve,W)=>{"use strict";W.d(Ve,{T:()=>S});var _=W(7574),P=W(4869),u=W(3282),v=W(6693);function S(...p){let T=Number.POSITIVE_INFINITY,b=null,w=p[p.length-1];return(0,P.K)(w)?(b=p.pop(),p.length>1&&"number"==typeof p[p.length-1]&&(T=p.pop())):"number"==typeof w&&(T=p.pop()),null===b&&1===p.length&&p[0]instanceof _.y?p[0]:(0,u.J)(T)((0,v.n)(p,b))}},5917:(ut,Ve,W)=>{"use strict";W.d(Ve,{of:()=>v});var _=W(4869),P=W(6693),u=W(4087);function v(...S){let p=S[S.length-1];return(0,_.K)(p)?(S.pop(),(0,u.r)(S,p)):(0,P.n)(S)}},8634:(ut,Ve,W)=>{"use strict";W.d(Ve,{H:()=>p});var _=W(7574),P=W(3637),u=W(9796);function v(b){return!(0,u.k)(b)&&b-parseFloat(b)+1>=0}var S=W(4869);function p(b=0,w,C){let D=-1;return v(w)?D=Number(w)<1?1:Number(w):(0,S.K)(w)&&(C=w),(0,S.K)(C)||(C=P.P),new _.y(g=>{const l=v(b)?b:+b-C.now();return C.schedule(T,l,{index:0,period:D,subscriber:g})})}function T(b){const{index:w,period:C,subscriber:D}=b;if(D.next(w),!D.closed){if(-1===C)return D.complete();b.index=w+1,this.schedule(b,C)}}},13:(ut,Ve,W)=>{"use strict";W.d(Ve,{e:()=>T});var _=W(3637),P=W(5345);class v{constructor(w){this.durationSelector=w}call(w,C){return C.subscribe(new S(w,this.durationSelector))}}class S extends P.Ds{constructor(w,C){super(w),this.durationSelector=C,this.hasValue=!1}_next(w){if(this.value=w,this.hasValue=!0,!this.throttled){let C;try{const{durationSelector:g}=this;C=g(w)}catch(g){return this.destination.error(g)}const D=(0,P.ft)(C,new P.IY(this));!D||D.closed?this.clearThrottle():this.add(this.throttled=D)}}clearThrottle(){const{value:w,hasValue:C,throttled:D}=this;D&&(this.remove(D),this.throttled=void 0,D.unsubscribe()),C&&(this.value=void 0,this.hasValue=!1,this.destination.next(w))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var p=W(8634);function T(b,w=_.P){return function(b){return function(C){return C.lift(new v(b))}}(()=>(0,p.H)(b,w))}},4395:(ut,Ve,W)=>{"use strict";W.d(Ve,{b:()=>u});var _=W(7393),P=W(3637);function u(T,b=P.P){return w=>w.lift(new v(T,b))}class v{constructor(b,w){this.dueTime=b,this.scheduler=w}call(b,w){return w.subscribe(new S(b,this.dueTime,this.scheduler))}}class S extends _.L{constructor(b,w,C){super(b),this.dueTime=w,this.scheduler=C,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(b){this.clearDebounce(),this.lastValue=b,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(p,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:b}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(b)}}clearDebounce(){const b=this.debouncedSubscription;null!==b&&(this.remove(b),b.unsubscribe(),this.debouncedSubscription=null)}}function p(T){T.debouncedNext()}},7519:(ut,Ve,W)=>{"use strict";W.d(Ve,{x:()=>P});var _=W(7393);function P(S,p){return T=>T.lift(new u(S,p))}class u{constructor(p,T){this.compare=p,this.keySelector=T}call(p,T){return T.subscribe(new v(p,this.compare,this.keySelector))}}class v extends _.L{constructor(p,T,b){super(p),this.keySelector=b,this.hasKey=!1,"function"==typeof T&&(this.compare=T)}compare(p,T){return p===T}_next(p){let T;try{const{keySelector:w}=this;T=w?w(p):p}catch(w){return this.destination.error(w)}let b=!1;if(this.hasKey)try{const{compare:w}=this;b=w(this.key,T)}catch(w){return this.destination.error(w)}else this.hasKey=!0;b||(this.key=T,this.destination.next(p))}}},5435:(ut,Ve,W)=>{"use strict";W.d(Ve,{h:()=>P});var _=W(7393);function P(S,p){return function(b){return b.lift(new u(S,p))}}class u{constructor(p,T){this.predicate=p,this.thisArg=T}call(p,T){return T.subscribe(new v(p,this.predicate,this.thisArg))}}class v extends _.L{constructor(p,T,b){super(p),this.predicate=T,this.thisArg=b,this.count=0}_next(p){let T;try{T=this.predicate.call(this.thisArg,p,this.count++)}catch(b){return void this.destination.error(b)}T&&this.destination.next(p)}}},8002:(ut,Ve,W)=>{"use strict";W.d(Ve,{U:()=>P});var _=W(7393);function P(S,p){return function(b){if("function"!=typeof S)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return b.lift(new u(S,p))}}class u{constructor(p,T){this.project=p,this.thisArg=T}call(p,T){return T.subscribe(new v(p,this.project,this.thisArg))}}class v extends _.L{constructor(p,T,b){super(p),this.project=T,this.count=0,this.thisArg=b||this}_next(p){let T;try{T=this.project.call(this.thisArg,p,this.count++)}catch(b){return void this.destination.error(b)}this.destination.next(T)}}},3282:(ut,Ve,W)=>{"use strict";W.d(Ve,{J:()=>u});var _=W(9773),P=W(4487);function u(v=Number.POSITIVE_INFINITY){return(0,_.zg)(P.y,v)}},9773:(ut,Ve,W)=>{"use strict";W.d(Ve,{zg:()=>v});var _=W(8002),P=W(4402),u=W(5345);function v(b,w,C=Number.POSITIVE_INFINITY){return"function"==typeof w?D=>D.pipe(v((g,l)=>(0,P.D)(b(g,l)).pipe((0,_.U)((m,c)=>w(g,m,l,c))),C)):("number"==typeof w&&(C=w),D=>D.lift(new S(b,C)))}class S{constructor(w,C=Number.POSITIVE_INFINITY){this.project=w,this.concurrent=C}call(w,C){return C.subscribe(new p(w,this.project,this.concurrent))}}class p extends u.Ds{constructor(w,C,D=Number.POSITIVE_INFINITY){super(w),this.project=C,this.concurrent=D,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(w){this.active<this.concurrent?this._tryNext(w):this.buffer.push(w)}_tryNext(w){let C;const D=this.index++;try{C=this.project(w,D)}catch(g){return void this.destination.error(g)}this.active++,this._innerSub(C)}_innerSub(w){const C=new u.IY(this),D=this.destination;D.add(C);const g=(0,u.ft)(w,C);g!==C&&D.add(g)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(w){this.destination.next(w)}notifyComplete(){const w=this.buffer;this.active--,w.length>0?this._next(w.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9328:(ut,Ve,W)=>{"use strict";W.d(Ve,{G:()=>P});var _=W(7393);function P(){return S=>S.lift(new u)}class u{call(p,T){return T.subscribe(new v(p))}}class v extends _.L{constructor(p){super(p),this.hasPrev=!1}_next(p){let T;this.hasPrev?T=[this.prev,p]:this.hasPrev=!0,this.prev=p,T&&this.destination.next(T)}}},3522:(ut,Ve,W)=>{"use strict";W.d(Ve,{B:()=>f});var _=W(9765),P=W(7574),u=W(5319),v=W(7393);function S(){return function(k){return k.lift(new p(k))}}class p{constructor(k){this.connectable=k}call(k,H){const{connectable:Y}=this;Y._refCount++;const N=new T(k,Y),B=H.subscribe(N);return N.closed||(N.connection=Y.connect()),B}}class T extends v.L{constructor(k,H){super(k),this.connectable=H}_unsubscribe(){const{connectable:k}=this;if(!k)return void(this.connection=null);this.connectable=null;const H=k._refCount;if(H<=0)return void(this.connection=null);if(k._refCount=H-1,H>1)return void(this.connection=null);const{connection:Y}=this,N=k._connection;this.connection=null,N&&(!Y||N===Y)&&N.unsubscribe()}}class b extends P.y{constructor(k,H){super(),this.source=k,this.subjectFactory=H,this._refCount=0,this._isComplete=!1}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let k=this._connection;return k||(this._isComplete=!1,k=this._connection=new u.w,k.add(this.source.subscribe(new C(this.getSubject(),this))),k.closed&&(this._connection=null,k=u.w.EMPTY)),k}refCount(){return S()(this)}}const w=(()=>{const I=b.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:I._subscribe},_isComplete:{value:I._isComplete,writable:!0},getSubject:{value:I.getSubject},connect:{value:I.connect},refCount:{value:I.refCount}}})();class C extends _.Yc{constructor(k,H){super(k),this.connectable=H}_error(k){this._unsubscribe(),super._error(k)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const k=this.connectable;if(k){this.connectable=null;const H=k._connection;k._refCount=0,k._subject=null,k._connection=null,H&&H.unsubscribe()}}}function c(){return new _.xQ}function f(){return I=>S()(function(I,k){return function(Y){let N;N="function"==typeof I?I:function(){return I};const B=Object.create(Y,w);return B.source=Y,B.subjectFactory=N,B}}(c)(I))}},5088:(ut,Ve,W)=>{"use strict";W.d(Ve,{O:()=>p});var _=W(5917),P=W(3282);function v(...T){return(0,P.J)(1)((0,_.of)(...T))}var S=W(4869);function p(...T){const b=T[T.length-1];return(0,S.K)(b)?(T.pop(),w=>v(T,w,b)):w=>v(T,w)}},8573:(ut,Ve,W)=>{"use strict";W.d(Ve,{q:()=>S});var _=W(7393);const u=(()=>{function b(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return b.prototype=Object.create(Error.prototype),b})();var v=W(9193);function S(b){return w=>0===b?(0,v.c)():w.lift(new p(b))}class p{constructor(w){if(this.total=w,this.total<0)throw new u}call(w,C){return C.subscribe(new T(w,this.total))}}class T extends _.L{constructor(w,C){super(w),this.total=C,this.count=0}_next(w){const C=this.total,D=++this.count;D<=C&&(this.destination.next(w),D===C&&(this.destination.complete(),this.unsubscribe()))}}},6782:(ut,Ve,W)=>{"use strict";W.d(Ve,{R:()=>P});var _=W(5345);function P(S){return p=>p.lift(new u(S))}class u{constructor(p){this.notifier=p}call(p,T){const b=new v(p),w=(0,_.ft)(this.notifier,new _.IY(b));return w&&!b.seenValue?(b.add(w),T.subscribe(b)):b}}class v extends _.Ds{constructor(p){super(p),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},3342:(ut,Ve,W)=>{"use strict";W.d(Ve,{b:()=>v});var _=W(7393);function P(){}var u=W(9105);function v(T,b,w){return function(D){return D.lift(new S(T,b,w))}}class S{constructor(b,w,C){this.nextOrObserver=b,this.error=w,this.complete=C}call(b,w){return w.subscribe(new p(b,this.nextOrObserver,this.error,this.complete))}}class p extends _.L{constructor(b,w,C,D){super(b),this._tapNext=P,this._tapError=P,this._tapComplete=P,this._tapError=C||P,this._tapComplete=D||P,(0,u.m)(w)?(this._context=this,this._tapNext=w):w&&(this._context=w,this._tapNext=w.next||P,this._tapError=w.error||P,this._tapComplete=w.complete||P)}_next(b){try{this._tapNext.call(this._context,b)}catch(w){return void this.destination.error(w)}this.destination.next(b)}_error(b){try{this._tapError.call(this._context,b)}catch(w){return void this.destination.error(w)}this.destination.error(b)}_complete(){try{this._tapComplete.call(this._context)}catch(b){return void this.destination.error(b)}return this.destination.complete()}}},4087:(ut,Ve,W)=>{"use strict";W.d(Ve,{r:()=>u});var _=W(7574),P=W(5319);function u(v,S){return new _.y(p=>{const T=new P.w;let b=0;return T.add(S.schedule(function(){b!==v.length?(p.next(v[b++]),p.closed||T.add(this.schedule())):p.complete()})),T})}},6465:(ut,Ve,W)=>{"use strict";W.d(Ve,{o:()=>u});var _=W(5319);class P extends _.w{constructor(S,p){super()}schedule(S,p=0){return this}}class u extends P{constructor(S,p){super(S,p),this.scheduler=S,this.work=p,this.pending=!1}schedule(S,p=0){if(this.closed)return this;this.state=S;const T=this.id,b=this.scheduler;return null!=T&&(this.id=this.recycleAsyncId(b,T,p)),this.pending=!0,this.delay=p,this.id=this.id||this.requestAsyncId(b,this.id,p),this}requestAsyncId(S,p,T=0){return setInterval(S.flush.bind(S,this),T)}recycleAsyncId(S,p,T=0){if(null!==T&&this.delay===T&&!1===this.pending)return p;clearInterval(p)}execute(S,p){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const T=this._execute(S,p);if(T)return T;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(S,p){let b,T=!1;try{this.work(S)}catch(w){T=!0,b=!!w&&w||new Error(w)}if(T)return this.unsubscribe(),b}_unsubscribe(){const S=this.id,p=this.scheduler,T=p.actions,b=T.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==b&&T.splice(b,1),null!=S&&(this.id=this.recycleAsyncId(p,S,null)),this.delay=null}}},6102:(ut,Ve,W)=>{"use strict";W.d(Ve,{v:()=>P});let _=(()=>{class u{constructor(S,p=u.now){this.SchedulerAction=S,this.now=p}schedule(S,p=0,T){return new this.SchedulerAction(this,S).schedule(T,p)}}return u.now=()=>Date.now(),u})();class P extends _{constructor(v,S=_.now){super(v,()=>P.delegate&&P.delegate!==this?P.delegate.now():S()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(v,S=0,p){return P.delegate&&P.delegate!==this?P.delegate.schedule(v,S,p):super.schedule(v,S,p)}flush(v){const{actions:S}=this;if(this.active)return void S.push(v);let p;this.active=!0;do{if(p=v.execute(v.state,v.delay))break}while(v=S.shift());if(this.active=!1,p){for(;v=S.shift();)v.unsubscribe();throw p}}}},3637:(ut,Ve,W)=>{"use strict";W.d(Ve,{P:()=>v});var _=W(6465);const v=new(W(6102).v)(_.o)},377:(ut,Ve,W)=>{"use strict";W.d(Ve,{hZ:()=>P});const P="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ut,Ve,W)=>{"use strict";W.d(Ve,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ut,Ve,W)=>{"use strict";W.d(Ve,{b:()=>_});const _="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(ut,Ve,W)=>{"use strict";W.d(Ve,{N:()=>P});const P=(()=>{function u(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return u.prototype=Object.create(Error.prototype),u})()},4449:(ut,Ve,W)=>{"use strict";function _(P){setTimeout(()=>{throw P},0)}W.d(Ve,{z:()=>_})},4487:(ut,Ve,W)=>{"use strict";function _(P){return P}W.d(Ve,{y:()=>_})},9796:(ut,Ve,W)=>{"use strict";W.d(Ve,{k:()=>_});const _=Array.isArray||(P=>P&&"number"==typeof P.length)},9489:(ut,Ve,W)=>{"use strict";W.d(Ve,{z:()=>_});const _=P=>P&&"number"==typeof P.length&&"function"!=typeof P},9105:(ut,Ve,W)=>{"use strict";function _(P){return"function"==typeof P}W.d(Ve,{m:()=>_})},1555:(ut,Ve,W)=>{"use strict";function _(P){return null!==P&&"object"==typeof P}W.d(Ve,{K:()=>_})},4072:(ut,Ve,W)=>{"use strict";function _(P){return!!P&&"function"!=typeof P.subscribe&&"function"==typeof P.then}W.d(Ve,{t:()=>_})},4869:(ut,Ve,W)=>{"use strict";function _(P){return P&&"function"==typeof P.schedule}W.d(Ve,{K:()=>_})},7444:(ut,Ve,W)=>{"use strict";W.d(Ve,{s:()=>D});var _=W(5015),P=W(4449),v=W(377),p=W(6554),b=W(9489),w=W(4072),C=W(1555);const D=g=>{if(g&&"function"==typeof g[p.L])return(g=>l=>{const m=g[p.L]();if("function"!=typeof m.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return m.subscribe(l)})(g);if((0,b.z)(g))return(0,_.V)(g);if((0,w.t)(g))return(g=>l=>(g.then(m=>{l.closed||(l.next(m),l.complete())},m=>l.error(m)).then(null,P.z),l))(g);if(g&&"function"==typeof g[v.hZ])return(g=>l=>{const m=g[v.hZ]();for(;;){let c;try{c=m.next()}catch(f){return l.error(f),l}if(c.done){l.complete();break}if(l.next(c.value),l.closed)break}return"function"==typeof m.return&&l.add(()=>{m.return&&m.return()}),l})(g);{const m=`You provided ${(0,C.K)(g)?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(m)}}},5015:(ut,Ve,W)=>{"use strict";W.d(Ve,{V:()=>_});const _=P=>u=>{for(let v=0,S=P.length;v<S&&!u.closed;v++)u.next(P[v]);u.complete()}},3891:ut=>{self,ut.exports=(()=>{"use strict";var W,Ve={};return W=Ve,Object.defineProperty(W,"__esModule",{value:!0}),W.FitAddon=void 0,W.FitAddon=class{constructor(){}activate(_){this._terminal=_}dispose(){}fit(){const _=this.proposeDimensions();_&&this._terminal&&!isNaN(_.cols)&&!isNaN(_.rows)&&(this._terminal.rows===_.rows&&this._terminal.cols===_.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(_.cols,_.rows)))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const _=this._terminal._core;if(0===_._renderService.dimensions.actualCellWidth||0===_._renderService.dimensions.actualCellHeight)return;const P=0===this._terminal.options.scrollback?0:_.viewport.scrollBarWidth,u=window.getComputedStyle(this._terminal.element.parentElement),v=parseInt(u.getPropertyValue("height")),S=Math.max(0,parseInt(u.getPropertyValue("width"))),p=window.getComputedStyle(this._terminal.element),T=v-(parseInt(p.getPropertyValue("padding-top"))+parseInt(p.getPropertyValue("padding-bottom"))),b=S-(parseInt(p.getPropertyValue("padding-right"))+parseInt(p.getPropertyValue("padding-left")))-P;return{cols:Math.max(2,Math.floor(b/_._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(T/_._renderService.dimensions.actualCellHeight))}}},Ve})()},1886:ut=>{self,ut.exports=(()=>{"use strict";var Ve={6:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.LinkComputer=v.WebLinkProvider=void 0,v.WebLinkProvider=class{constructor(p,T,b,w={}){this._terminal=p,this._regex=T,this._handler=b,this._options=w}provideLinks(p,T){const b=S.computeLink(p,this._regex,this._terminal,this._handler);T(this._addCallbacks(b))}_addCallbacks(p){return p.map(T=>(T.leave=this._options.leave,T.hover=(b,w)=>{if(this._options.hover){const{range:C}=T;this._options.hover(b,w,C)}},T))}};class S{static computeLink(T,b,w,C){const D=new RegExp(b.source,(b.flags||"")+"g"),[g,l]=S._translateBufferLineToStringWithWrap(T-1,!1,w);let m,c=-1;const f=[];for(;null!==(m=D.exec(g));){const I=m[1];if(!I){console.log("match found without corresponding matchIndex");break}if(c=g.indexOf(I,c+1),D.lastIndex=c+I.length,c<0)break;let k=c+I.length,H=l+1;for(;k>w.cols;)k-=w.cols,H++;let Y=c+1,N=l+1;for(;Y>w.cols;)Y-=w.cols,N++;f.push({range:{start:{x:Y,y:N},end:{x:k,y:H}},text:I,activate:C})}return f}static _translateBufferLineToStringWithWrap(T,b,w){let C,D,g="";do{const m=w.buffer.active.getLine(T);if(!m)break;m.isWrapped&&T--,D=m.isWrapped}while(D);const l=T;do{const m=w.buffer.active.getLine(T+1);C=!!m&&m.isWrapped;const c=w.buffer.active.getLine(T);if(!c)break;g+=c.translateToString(!C&&b).substring(0,w.cols),T++}while(C);return[g,l]}}v.LinkComputer=S}},W={};function _(u){var v=W[u];if(void 0!==v)return v.exports;var S=W[u]={exports:{}};return Ve[u](S,S.exports,_),S.exports}var P={};return(()=>{var u=P;Object.defineProperty(u,"__esModule",{value:!0}),u.WebLinksAddon=void 0;const v=_(6),S=new RegExp("(?:^|[^\\da-z\\.-]+)((https?:\\/\\/)((([\\da-z\\.-]+)\\.([a-z\\.]{2,18}))|((\\d{1,3}\\.){3}\\d{1,3})|(localhost))(:\\d{1,5})?((\\/[\\/\\w\\.\\-%~:+@]*)*([^:\"'\\s]))?(\\?[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*)?(#[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*)?)($|[^\\/\\w\\.\\-%]+)");function p(T,b){const w=window.open();if(w){try{w.opener=null}catch(C){}w.location.href=b}else console.warn("Opening link blocked as opener could not be cleared")}u.WebLinksAddon=class{constructor(T=p,b={}){this._handler=T,this._options=b}activate(T){this._terminal=T;const b=this._options;this._linkProvider=this._terminal.registerLinkProvider(new v.WebLinkProvider(this._terminal,b.urlRegex||S,this._handler,b))}dispose(){var T;null===(T=this._linkProvider)||void 0===T||T.dispose()}}})(),P})()},2217:ut=>{self,ut.exports=(()=>{"use strict";var Ve={4567:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.AccessibilityManager=void 0;const p=S(9042),T=S(6114),b=S(9924),w=S(3656),C=S(844),D=S(5596),g=S(9631);v.AccessibilityManager=class extends C.Disposable{constructor(c,f){super(),this._terminal=c,this._renderService=f,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityTreeRoot=document.createElement("div"),this._accessibilityTreeRoot.classList.add("xterm-accessibility"),this._accessibilityTreeRoot.tabIndex=0,this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let I=0;I<this._terminal.rows;I++)this._rowElements[I]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[I]);if(this._topBoundaryFocusListener=I=>this._onBoundaryFocus(I,0),this._bottomBoundaryFocusListener=I=>this._onBoundaryFocus(I,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityTreeRoot.appendChild(this._rowContainer),this._renderRowsDebouncer=new b.TimeBasedDebouncer(this._renderRows.bind(this)),this._refreshRows(),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityTreeRoot.appendChild(this._liveRegion),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityTreeRoot),this.register(this._renderRowsDebouncer),this.register(this._terminal.onResize(I=>this._onResize(I.rows))),this.register(this._terminal.onRender(I=>this._refreshRows(I.start,I.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(I=>this._onChar(I))),this.register(this._terminal.onLineFeed(()=>this._onChar("\n"))),this.register(this._terminal.onA11yTab(I=>this._onTab(I))),this.register(this._terminal.onKey(I=>this._onKey(I.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new D.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,w.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions()))}dispose(){super.dispose(),(0,g.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0}_onBoundaryFocus(c,f){const I=c.target,k=this._rowElements[0===f?1:this._rowElements.length-2];if(I.getAttribute("aria-posinset")===(0===f?"1":`${this._terminal.buffer.lines.length}`)||c.relatedTarget!==k)return;let H,Y;if(0===f?(H=I,Y=this._rowElements.pop(),this._rowContainer.removeChild(Y)):(H=this._rowElements.shift(),Y=I,this._rowContainer.removeChild(H)),H.removeEventListener("focus",this._topBoundaryFocusListener),Y.removeEventListener("focus",this._bottomBoundaryFocusListener),0===f){const N=this._createAccessibilityTreeNode();this._rowElements.unshift(N),this._rowContainer.insertAdjacentElement("afterbegin",N)}else{const N=this._createAccessibilityTreeNode();this._rowElements.push(N),this._rowContainer.appendChild(N)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===f?-1:1),this._rowElements[0===f?1:this._rowElements.length-2].focus(),c.preventDefault(),c.stopImmediatePropagation()}_onResize(c){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let f=this._rowContainer.children.length;f<this._terminal.rows;f++)this._rowElements[f]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[f]);for(;this._rowElements.length>c;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const c=document.createElement("div");return c.setAttribute("role","listitem"),c.tabIndex=-1,this._refreshRowDimensions(c),c}_onTab(c){for(let f=0;f<c;f++)this._onChar(" ")}_onChar(c){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==c&&(this._charsToAnnounce+=c):this._charsToAnnounce+=c,"\n"===c&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=p.tooMuchOutput)),T.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityTreeRoot.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,T.isMac&&(0,g.removeElementFromParent)(this._liveRegion)}_onKey(c){this._clearLiveRegion(),this._charsToConsume.push(c)}_refreshRows(c,f){this._renderRowsDebouncer.refresh(c,f,this._terminal.rows)}_renderRows(c,f){const I=this._terminal.buffer,k=I.lines.length.toString();for(let H=c;H<=f;H++){const Y=I.translateBufferLineToString(I.ydisp+H,!0),N=(I.ydisp+H+1).toString(),B=this._rowElements[H];B&&(0===Y.length?B.innerText="\xa0":B.textContent=Y,B.setAttribute("aria-posinset",N),B.setAttribute("aria-setsize",k))}this._announceCharacters()}_refreshRowsDimensions(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(let c=0;c<this._terminal.rows;c++)this._refreshRowDimensions(this._rowElements[c])}}_refreshRowDimensions(c){c.style.height=`${this._renderService.dimensions.actualCellHeight}px`}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}}},3614:(u,v)=>{function S(w){return w.replace(/\r?\n/g,"\r")}function p(w,C){return C?"\x1b[200~"+w+"\x1b[201~":w}function T(w,C,D){w=p(w=S(w),D.decPrivateModes.bracketedPasteMode),D.triggerDataEvent(w,!0),C.value=""}function b(w,C,D){const g=D.getBoundingClientRect(),l=w.clientX-g.left-10,m=w.clientY-g.top-10;C.style.width="20px",C.style.height="20px",C.style.left=`${l}px`,C.style.top=`${m}px`,C.style.zIndex="1000",C.focus()}Object.defineProperty(v,"__esModule",{value:!0}),v.rightClickHandler=v.moveTextAreaUnderMouseCursor=v.paste=v.handlePasteEvent=v.copyHandler=v.bracketTextForPaste=v.prepareTextForTerminal=void 0,v.prepareTextForTerminal=S,v.bracketTextForPaste=p,v.copyHandler=function(w,C){w.clipboardData&&w.clipboardData.setData("text/plain",C.selectionText),w.preventDefault()},v.handlePasteEvent=function(w,C,D){w.stopPropagation(),w.clipboardData&&T(w.clipboardData.getData("text/plain"),C,D)},v.paste=T,v.moveTextAreaUnderMouseCursor=b,v.rightClickHandler=function(w,C,D,g,l){b(w,C,D),l&&g.rightClickSelect(w),C.value=g.selectionText,C.select()}},7239:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ColorContrastCache=void 0;const p=S(1505);v.ColorContrastCache=class{constructor(){this._color=new p.TwoKeyMap,this._css=new p.TwoKeyMap}setCss(T,b,w){this._css.set(T,b,w)}getCss(T,b){return this._css.get(T,b)}setColor(T,b,w){this._color.set(T,b,w)}getColor(T,b){return this._color.get(T,b)}clear(){this._color.clear(),this._css.clear()}}},5680:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ColorManager=v.DEFAULT_ANSI_COLORS=void 0;const p=S(8055),T=S(7239),b=p.css.toColor("#ffffff"),w=p.css.toColor("#000000"),C=p.css.toColor("#ffffff"),D=p.css.toColor("#000000"),g={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};v.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const l=[p.css.toColor("#2e3436"),p.css.toColor("#cc0000"),p.css.toColor("#4e9a06"),p.css.toColor("#c4a000"),p.css.toColor("#3465a4"),p.css.toColor("#75507b"),p.css.toColor("#06989a"),p.css.toColor("#d3d7cf"),p.css.toColor("#555753"),p.css.toColor("#ef2929"),p.css.toColor("#8ae234"),p.css.toColor("#fce94f"),p.css.toColor("#729fcf"),p.css.toColor("#ad7fa8"),p.css.toColor("#34e2e2"),p.css.toColor("#eeeeec")],m=[0,95,135,175,215,255];for(let c=0;c<216;c++){const f=m[c/36%6|0],I=m[c/6%6|0],k=m[c%6];l.push({css:p.channels.toCss(f,I,k),rgba:p.channels.toRgba(f,I,k)})}for(let c=0;c<24;c++){const f=8+10*c;l.push({css:p.channels.toCss(f,f,f),rgba:p.channels.toRgba(f,f,f)})}return l})()),v.ColorManager=class{constructor(l,m){this.allowTransparency=m;const c=l.createElement("canvas");c.width=1,c.height=1;const f=c.getContext("2d");if(!f)throw new Error("Could not get rendering context");this._ctx=f,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new T.ColorContrastCache,this.colors={foreground:b,background:w,cursor:C,cursorAccent:D,selectionForeground:void 0,selectionBackgroundTransparent:g,selectionBackgroundOpaque:p.color.blend(w,g),selectionInactiveBackgroundTransparent:g,selectionInactiveBackgroundOpaque:p.color.blend(w,g),ansi:v.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}onOptionsChange(l,m){switch(l){case"minimumContrastRatio":this._contrastCache.clear();break;case"allowTransparency":this.allowTransparency=m}}setTheme(l={}){this.colors.foreground=this._parseColor(l.foreground,b),this.colors.background=this._parseColor(l.background,w),this.colors.cursor=this._parseColor(l.cursor,C,!0),this.colors.cursorAccent=this._parseColor(l.cursorAccent,D,!0),this.colors.selectionBackgroundTransparent=this._parseColor(l.selectionBackground,g,!0),this.colors.selectionBackgroundOpaque=p.color.blend(this.colors.background,this.colors.selectionBackgroundTransparent),this.colors.selectionInactiveBackgroundTransparent=this._parseColor(l.selectionInactiveBackground,this.colors.selectionBackgroundTransparent,!0),this.colors.selectionInactiveBackgroundOpaque=p.color.blend(this.colors.background,this.colors.selectionInactiveBackgroundTransparent);const m={css:"",rgba:0};if(this.colors.selectionForeground=l.selectionForeground?this._parseColor(l.selectionForeground,m):void 0,this.colors.selectionForeground===m&&(this.colors.selectionForeground=void 0),p.color.isOpaque(this.colors.selectionBackgroundTransparent)&&(this.colors.selectionBackgroundTransparent=p.color.opacity(this.colors.selectionBackgroundTransparent,.3)),p.color.isOpaque(this.colors.selectionInactiveBackgroundTransparent)&&(this.colors.selectionInactiveBackgroundTransparent=p.color.opacity(this.colors.selectionInactiveBackgroundTransparent,.3)),this.colors.ansi=v.DEFAULT_ANSI_COLORS.slice(),this.colors.ansi[0]=this._parseColor(l.black,v.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(l.red,v.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(l.green,v.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(l.yellow,v.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(l.blue,v.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(l.magenta,v.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(l.cyan,v.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(l.white,v.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(l.brightBlack,v.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(l.brightRed,v.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(l.brightGreen,v.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(l.brightYellow,v.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(l.brightBlue,v.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(l.brightMagenta,v.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(l.brightCyan,v.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(l.brightWhite,v.DEFAULT_ANSI_COLORS[15]),l.extendedAnsi){const c=Math.min(this.colors.ansi.length-16,l.extendedAnsi.length);for(let f=0;f<c;f++)this.colors.ansi[f+16]=this._parseColor(l.extendedAnsi[f],v.DEFAULT_ANSI_COLORS[f+16])}this._contrastCache.clear(),this._updateRestoreColors()}restoreColor(l){if(void 0!==l)switch(l){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[l]=this._restoreColors.ansi[l]}else for(let m=0;m<this._restoreColors.ansi.length;++m)this.colors.ansi[m]=this._restoreColors.ansi[m]}_updateRestoreColors(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:this.colors.ansi.slice()}}_parseColor(l,m,c=this.allowTransparency){if(void 0===l)return m;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=l,"string"!=typeof this._ctx.fillStyle)return console.warn(`Color: ${l} is invalid using fallback ${m.css}`),m;this._ctx.fillRect(0,0,1,1);const f=this._ctx.getImageData(0,0,1,1).data;if(255!==f[3]){if(!c)return console.warn(`Color: ${l} is using transparency, but allowTransparency is false. Using fallback ${m.css}.`),m;const[I,k,H,Y]=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(B=>Number(B)),N=Math.round(255*Y);return{rgba:p.channels.toRgba(I,k,H,N),css:l}}return{css:this._ctx.fillStyle,rgba:p.channels.toRgba(f[0],f[1],f[2],f[3])}}}},9631:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.removeElementFromParent=void 0,v.removeElementFromParent=function(...S){var p;for(const T of S)null===(p=null==T?void 0:T.parentElement)||void 0===p||p.removeChild(T)}},3656:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.addDisposableDomListener=void 0,v.addDisposableDomListener=function(S,p,T,b){S.addEventListener(p,T,b);let w=!1;return{dispose:()=>{w||(w=!0,S.removeEventListener(p,T,b))}}}},6465:function(u,v,S){var p=this&&this.__decorate||function(l,m,c,f){var I,k=arguments.length,H=k<3?m:null===f?f=Object.getOwnPropertyDescriptor(m,c):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(l,m,c,f);else for(var Y=l.length-1;Y>=0;Y--)(I=l[Y])&&(H=(k<3?I(H):k>3?I(m,c,H):I(m,c))||H);return k>3&&H&&Object.defineProperty(m,c,H),H},T=this&&this.__param||function(l,m){return function(c,f){m(c,f,l)}};Object.defineProperty(v,"__esModule",{value:!0}),v.Linkifier2=void 0;const b=S(2585),w=S(8460),C=S(844),D=S(3656);let g=class extends C.Disposable{constructor(l){super(),this._bufferService=l,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._activeLine=-1,this._onShowLinkUnderline=this.register(new w.EventEmitter),this._onHideLinkUnderline=this.register(new w.EventEmitter),this.register((0,C.getDisposeArrayDisposable)(this._linkCacheDisposables))}get currentLink(){return this._currentLink}get onShowLinkUnderline(){return this._onShowLinkUnderline.event}get onHideLinkUnderline(){return this._onHideLinkUnderline.event}dispose(){super.dispose(),this._lastMouseEvent=void 0}registerLinkProvider(l){return this._linkProviders.push(l),{dispose:()=>{const m=this._linkProviders.indexOf(l);-1!==m&&this._linkProviders.splice(m,1)}}}attachToDom(l,m,c){this._element=l,this._mouseService=m,this._renderService=c,this.register((0,D.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,D.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,D.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,D.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_onMouseMove(l){if(this._lastMouseEvent=l,!this._element||!this._mouseService)return;const m=this._positionFromMouseEvent(l,this._element,this._mouseService);if(!m)return;this._isMouseOut=!1;const c=l.composedPath();for(let f=0;f<c.length;f++){const I=c[f];if(I.classList.contains("xterm"))break;if(I.classList.contains("xterm-hover"))return}this._lastBufferCell&&m.x===this._lastBufferCell.x&&m.y===this._lastBufferCell.y||(this._onHover(m),this._lastBufferCell=m)}_onHover(l){if(this._activeLine!==l.y)return this._clearCurrentLink(),void this._askForLink(l,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,l)||(this._clearCurrentLink(),this._askForLink(l,!0))}_askForLink(l,m){var c,f;this._activeProviderReplies&&m||(null===(c=this._activeProviderReplies)||void 0===c||c.forEach(k=>{null==k||k.forEach(H=>{H.link.dispose&&H.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=l.y);let I=!1;for(const[k,H]of this._linkProviders.entries())m?(null===(f=this._activeProviderReplies)||void 0===f?void 0:f.get(k))&&(I=this._checkLinkProviderResult(k,l,I)):H.provideLinks(l.y,Y=>{var N,B;if(this._isMouseOut)return;const te=null==Y?void 0:Y.map(Ee=>({link:Ee}));null===(N=this._activeProviderReplies)||void 0===N||N.set(k,te),I=this._checkLinkProviderResult(k,l,I),(null===(B=this._activeProviderReplies)||void 0===B?void 0:B.size)===this._linkProviders.length&&this._removeIntersectingLinks(l.y,this._activeProviderReplies)})}_removeIntersectingLinks(l,m){const c=new Set;for(let f=0;f<m.size;f++){const I=m.get(f);if(I)for(let k=0;k<I.length;k++){const H=I[k],N=H.link.range.end.y>l?this._bufferService.cols:H.link.range.end.x;for(let B=H.link.range.start.y<l?0:H.link.range.start.x;B<=N;B++){if(c.has(B)){I.splice(k--,1);break}c.add(B)}}}}_checkLinkProviderResult(l,m,c){var f;if(!this._activeProviderReplies)return c;const I=this._activeProviderReplies.get(l);let k=!1;for(let H=0;H<l;H++)this._activeProviderReplies.has(H)&&!this._activeProviderReplies.get(H)||(k=!0);if(!k&&I){const H=I.find(Y=>this._linkAtPosition(Y.link,m));H&&(c=!0,this._handleNewLink(H))}if(this._activeProviderReplies.size===this._linkProviders.length&&!c)for(let H=0;H<this._activeProviderReplies.size;H++){const Y=null===(f=this._activeProviderReplies.get(H))||void 0===f?void 0:f.find(N=>this._linkAtPosition(N.link,m));if(Y){c=!0,this._handleNewLink(Y);break}}return c}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(l){if(!this._element||!this._mouseService||!this._currentLink)return;const m=this._positionFromMouseEvent(l,this._element,this._mouseService);m&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,m)&&this._currentLink.link.activate(l,this._currentLink.link.text)}_clearCurrentLink(l,m){this._element&&this._currentLink&&this._lastMouseEvent&&(!l||!m||this._currentLink.link.range.start.y>=l&&this._currentLink.link.range.end.y<=m)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,C.disposeArray)(this._linkCacheDisposables))}_handleNewLink(l){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const m=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);m&&this._linkAtPosition(l.link,m)&&(this._currentLink=l,this._currentLink.state={decorations:{underline:void 0===l.link.decorations||l.link.decorations.underline,pointerCursor:void 0===l.link.decorations||l.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,l.link,this._lastMouseEvent),l.link.decorations={},Object.defineProperties(l.link.decorations,{pointerCursor:{get:()=>{var c,f;return null===(f=null===(c=this._currentLink)||void 0===c?void 0:c.state)||void 0===f?void 0:f.decorations.pointerCursor},set:c=>{var f,I;(null===(f=this._currentLink)||void 0===f?void 0:f.state)&&this._currentLink.state.decorations.pointerCursor!==c&&(this._currentLink.state.decorations.pointerCursor=c,this._currentLink.state.isHovered&&(null===(I=this._element)||void 0===I||I.classList.toggle("xterm-cursor-pointer",c)))}},underline:{get:()=>{var c,f;return null===(f=null===(c=this._currentLink)||void 0===c?void 0:c.state)||void 0===f?void 0:f.decorations.underline},set:c=>{var f,I,k;(null===(f=this._currentLink)||void 0===f?void 0:f.state)&&(null===(k=null===(I=this._currentLink)||void 0===I?void 0:I.state)||void 0===k?void 0:k.decorations.underline)!==c&&(this._currentLink.state.decorations.underline=c,this._currentLink.state.isHovered&&this._fireUnderlineEvent(l.link,c))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(c=>{this._clearCurrentLink(0===c.start?0:c.start+1+this._bufferService.buffer.ydisp,c.end+1+this._bufferService.buffer.ydisp)})))}_linkHover(l,m,c){var f;(null===(f=this._currentLink)||void 0===f?void 0:f.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(m,!0),this._currentLink.state.decorations.pointerCursor&&l.classList.add("xterm-cursor-pointer")),m.hover&&m.hover(c,m.text)}_fireUnderlineEvent(l,m){const c=l.range,f=this._bufferService.buffer.ydisp,I=this._createLinkUnderlineEvent(c.start.x-1,c.start.y-f-1,c.end.x,c.end.y-f-1,void 0);(m?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(I)}_linkLeave(l,m,c){var f;(null===(f=this._currentLink)||void 0===f?void 0:f.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(m,!1),this._currentLink.state.decorations.pointerCursor&&l.classList.remove("xterm-cursor-pointer")),m.leave&&m.leave(c,m.text)}_linkAtPosition(l,m){const f=l.range.start.y<m.y,I=l.range.end.y>m.y;return(l.range.start.y===l.range.end.y&&l.range.start.x<=m.x&&l.range.end.x>=m.x||f&&l.range.end.x>=m.x||I&&l.range.start.x<=m.x||f&&I)&&l.range.start.y<=m.y&&l.range.end.y>=m.y}_positionFromMouseEvent(l,m,c){const f=c.getCoords(l,m,this._bufferService.cols,this._bufferService.rows);if(f)return{x:f[0],y:f[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(l,m,c,f,I){return{x1:l,y1:m,x2:c,y2:f,cols:this._bufferService.cols,fg:I}}};g=p([T(0,b.IBufferService)],g),v.Linkifier2=g},9042:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.tooMuchOutput=v.promptLabel=void 0,v.promptLabel="Terminal input",v.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},2962:function(u,v,S){var p=this&&this.__decorate||function(g,l,m,c){var f,I=arguments.length,k=I<3?l:null===c?c=Object.getOwnPropertyDescriptor(l,m):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(g,l,m,c);else for(var H=g.length-1;H>=0;H--)(f=g[H])&&(k=(I<3?f(k):I>3?f(l,m,k):f(l,m))||k);return I>3&&k&&Object.defineProperty(l,m,k),k},T=this&&this.__param||function(g,l){return function(m,c){l(m,c,g)}};Object.defineProperty(v,"__esModule",{value:!0}),v.OscLinkProvider=void 0;const b=S(511),w=S(2585);let C=class{constructor(g,l,m){this._bufferService=g,this._optionsService=l,this._oscLinkService=m}provideLinks(g,l){var m;const c=this._bufferService.buffer.lines.get(g-1);if(!c)return void l(void 0);const f=[],I=this._optionsService.rawOptions.linkHandler,k=new b.CellData,H=c.getTrimmedLength();let Y=-1,N=-1,B=!1;for(let te=0;te<H;te++)if(-1!==N||c.hasContent(te)){if(c.loadCell(te,k),k.hasExtendedAttrs()&&k.extended.urlId){if(-1===N){N=te,Y=k.extended.urlId;continue}B=k.extended.urlId!==Y}else-1!==N&&(B=!0);if(B||-1!==N&&te===H-1){const Ee=null===(m=this._oscLinkService.getLinkData(Y))||void 0===m?void 0:m.uri;if(Ee){const ue={start:{x:N+1,y:g},end:{x:te+(B||te!==H-1?0:1),y:g}};f.push({text:Ee,range:ue,activate:(V,Z)=>I?I.activate(V,Z,ue):D(0,Z),hover:(V,Z)=>{var $;return null===($=null==I?void 0:I.hover)||void 0===$?void 0:$.call(I,V,Z,ue)},leave:(V,Z)=>{var $;return null===($=null==I?void 0:I.leave)||void 0===$?void 0:$.call(I,V,Z,ue)}})}B=!1,k.hasExtendedAttrs()&&k.extended.urlId?(N=te,Y=k.extended.urlId):(N=-1,Y=-1)}}l(f)}};function D(g,l){if(confirm(`Do you want to navigate to ${l}?`)){const m=window.open();if(m){try{m.opener=null}catch(c){}m.location.href=l}else console.warn("Opening link blocked as opener could not be cleared")}}C=p([T(0,w.IBufferService),T(1,w.IOptionsService),T(2,w.IOscLinkService)],C),v.OscLinkProvider=C},6193:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.RenderDebouncer=void 0,v.RenderDebouncer=class{constructor(S,p){this._parentWindow=S,this._renderCallback=p,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(S){return this._refreshCallbacks.push(S),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(S,p,T){this._rowCount=T,S=void 0!==S?S:0,p=void 0!==p?p:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,S):S,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,p):p,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const S=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(S,p),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const S of this._refreshCallbacks)S(0);this._refreshCallbacks=[]}}},5596:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ScreenDprMonitor=void 0;const p=S(844);v.ScreenDprMonitor=class extends p.Disposable{constructor(w){super(),this._parentWindow=w,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio}setListener(w){this._listener&&this.clearListener(),this._listener=w,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}dispose(){super.dispose(),this.clearListener()}_updateDpr(){var w;this._outerListener&&(null===(w=this._resolutionMediaMatchList)||void 0===w||w.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}},3236:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Terminal=void 0;const p=S(2950),T=S(1680),b=S(3614),w=S(2584),C=S(5435),D=S(9312),g=S(6114),l=S(3656),m=S(9042),c=S(4567),f=S(1296),I=S(7399),k=S(8460),H=S(8437),Y=S(5680),N=S(3230),B=S(4725),te=S(428),Ee=S(8934),ue=S(6465),V=S(5114),Z=S(8969),$=S(8055),re=S(4269),Se=S(5941),qe=S(3107),Ge=S(5744),tt=S(9074),lt=S(2585),_t=S(2962),he="undefined"!=typeof window?window.document:null;v.Terminal=class extends Z.CoreTerminal{constructor(pe={}){super(pe),this.browser=g,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._onCursorMove=new k.EventEmitter,this._onKey=new k.EventEmitter,this._onRender=new k.EventEmitter,this._onSelectionChange=new k.EventEmitter,this._onTitleChange=new k.EventEmitter,this._onBell=new k.EventEmitter,this._onFocus=new k.EventEmitter,this._onBlur=new k.EventEmitter,this._onA11yCharEmitter=new k.EventEmitter,this._onA11yTabEmitter=new k.EventEmitter,this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(ue.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(_t.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(tt.DecorationService),this._instantiationService.setService(lt.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((Be,Xe)=>this.refresh(Be,Xe))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(Be=>this._reportWindowsOptions(Be))),this.register(this._inputHandler.onColor(Be=>this._handleColorEvent(Be))),this.register((0,k.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,k.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,k.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,k.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(Be=>this._afterResize(Be.cols,Be.rows)))}get onCursorMove(){return this._onCursorMove.event}get onKey(){return this._onKey.event}get onRender(){return this._onRender.event}get onSelectionChange(){return this._onSelectionChange.event}get onTitleChange(){return this._onTitleChange.event}get onBell(){return this._onBell.event}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}_handleColorEvent(pe){var Be,Xe;if(this._colorManager){for(const nt of pe){let pt,et="";switch(nt.index){case 256:pt="foreground",et="10";break;case 257:pt="background",et="11";break;case 258:pt="cursor",et="12";break;default:pt="ansi",et="4;"+nt.index}switch(nt.type){case 0:const Ft=$.color.toColorRGB("ansi"===pt?this._colorManager.colors.ansi[nt.index]:this._colorManager.colors[pt]);this.coreService.triggerDataEvent(`${w.C0.ESC}]${et};${(0,Se.toRgbString)(Ft)}${w.C1_ESCAPED.ST}`);break;case 1:"ansi"===pt?this._colorManager.colors.ansi[nt.index]=$.rgba.toColor(...nt.color):this._colorManager.colors[pt]=$.rgba.toColor(...nt.color);break;case 2:this._colorManager.restoreColor(nt.index)}}null===(Be=this._renderService)||void 0===Be||Be.setColors(this._colorManager.colors),null===(Xe=this.viewport)||void 0===Xe||Xe.onThemeChange(this._colorManager.colors)}}dispose(){var pe,Be,Xe;this._isDisposed||(super.dispose(),null===(pe=this._renderService)||void 0===pe||pe.dispose(),this._customKeyEventHandler=void 0,this.write=()=>{},null===(Xe=null===(Be=this.element)||void 0===Be?void 0:Be.parentNode)||void 0===Xe||Xe.removeChild(this.element))}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_updateOptions(pe){var Be,Xe,nt,pt;switch(super._updateOptions(pe),pe){case"fontFamily":case"fontSize":null===(Be=this._renderService)||void 0===Be||Be.clear(),null===(Xe=this._charSizeService)||void 0===Xe||Xe.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"scrollback":null===(nt=this.viewport)||void 0===nt||nt.syncScrollArea();break;case"screenReaderMode":this.optionsService.rawOptions.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new c.AccessibilityManager(this,this._renderService)):(null===(pt=this._accessibilityManager)||void 0===pt||pt.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.rawOptions.theme)}}_onTextAreaFocus(pe){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(w.C0.ESC+"[I"),this.updateCursorStyle(pe),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var pe;return null===(pe=this.textarea)||void 0===pe?void 0:pe.blur()}_onTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(w.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const Be=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(!Be)return;const Xe=Math.min(this.buffer.x,this.cols-1),nt=this._renderService.dimensions.actualCellHeight,pt=Be.getWidth(Xe),et=this._renderService.dimensions.actualCellWidth*pt,Ft=this.buffer.y*this._renderService.dimensions.actualCellHeight;this.textarea.style.left=Xe*this._renderService.dimensions.actualCellWidth+"px",this.textarea.style.top=Ft+"px",this.textarea.style.width=et+"px",this.textarea.style.height=nt+"px",this.textarea.style.lineHeight=nt+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,l.addDisposableDomListener)(this.element,"copy",Be=>{this.hasSelection()&&(0,b.copyHandler)(Be,this._selectionService)}));const pe=Be=>(0,b.handlePasteEvent)(Be,this.textarea,this.coreService);this.register((0,l.addDisposableDomListener)(this.textarea,"paste",pe)),this.register((0,l.addDisposableDomListener)(this.element,"paste",pe)),this.register(g.isFirefox?(0,l.addDisposableDomListener)(this.element,"mousedown",Be=>{2===Be.button&&(0,b.rightClickHandler)(Be,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}):(0,l.addDisposableDomListener)(this.element,"contextmenu",Be=>{(0,b.rightClickHandler)(Be,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),g.isLinux&&this.register((0,l.addDisposableDomListener)(this.element,"auxclick",Be=>{1===Be.button&&(0,b.moveTextAreaUnderMouseCursor)(Be,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,l.addDisposableDomListener)(this.textarea,"keyup",pe=>this._keyUp(pe),!0)),this.register((0,l.addDisposableDomListener)(this.textarea,"keydown",pe=>this._keyDown(pe),!0)),this.register((0,l.addDisposableDomListener)(this.textarea,"keypress",pe=>this._keyPress(pe),!0)),this.register((0,l.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,l.addDisposableDomListener)(this.textarea,"compositionupdate",pe=>this._compositionHelper.compositionupdate(pe))),this.register((0,l.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,l.addDisposableDomListener)(this.textarea,"input",pe=>this._inputEvent(pe),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(pe){var Be;if(!pe)throw new Error("Terminal requires a parent element.");pe.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=pe.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),pe.appendChild(this.element);const Xe=he.createDocumentFragment();this._viewportElement=he.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),Xe.appendChild(this._viewportElement),this._viewportScrollArea=he.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=he.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=he.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),Xe.appendChild(this.screenElement),this.textarea=he.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",m.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,l.addDisposableDomListener)(this.textarea,"focus",pt=>this._onTextAreaFocus(pt))),this.register((0,l.addDisposableDomListener)(this.textarea,"blur",()=>this._onTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._coreBrowserService=this._instantiationService.createInstance(V.CoreBrowserService,this.textarea,null!==(Be=this._document.defaultView)&&void 0!==Be?Be:window),this._instantiationService.setService(B.ICoreBrowserService,this._coreBrowserService),this._charSizeService=this._instantiationService.createInstance(te.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(B.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new Y.ColorManager(he,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(pt=>this._colorManager.onOptionsChange(pt,this.optionsService.rawOptions[pt]))),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(re.CharacterJoinerService),this._instantiationService.setService(B.ICharacterJoinerService,this._characterJoinerService);const nt=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(N.RenderService,nt,this.rows,this.screenElement)),this._instantiationService.setService(B.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(pt=>this._onRender.fire(pt))),this.onResize(pt=>this._renderService.resize(pt.cols,pt.rows)),this._compositionView=he.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(p.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(Xe),this._mouseService=this._instantiationService.createInstance(Ee.MouseService),this._instantiationService.setService(B.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(T.Viewport,pt=>this.scrollLines(pt,!0,1),this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.onCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.onResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.onBlur())),this.register(this.onFocus(()=>this._renderService.onFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(D.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(B.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(pt=>this.scrollLines(pt.amount,pt.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(pt=>this._renderService.onSelectionChanged(pt.start,pt.end,pt.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(pt=>{this.textarea.value=pt,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(pt=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,l.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(qe.BufferDecorationRenderer,this.screenElement)),this.register((0,l.addDisposableDomListener)(this.element,"mousedown",pt=>this._selectionService.onMouseDown(pt))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new c.AccessibilityManager(this,this._renderService)),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(Ge.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onOptionChange(()=>{!this._overviewRulerRenderer&&this.options.overviewRulerWidth&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(Ge.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(f.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier2)}_setTheme(pe){var Be,Xe,nt;this._theme=pe,null===(Be=this._colorManager)||void 0===Be||Be.setTheme(pe),null===(Xe=this._renderService)||void 0===Xe||Xe.setColors(this._colorManager.colors),null===(nt=this.viewport)||void 0===nt||nt.onThemeChange(this._colorManager.colors)}bindMouse(){const pe=this,Be=this.element;function Xe(et){const Ft=pe._mouseService.getMouseReportCoords(et,pe.screenElement);if(!Ft)return!1;let Et,pn;switch(et.overrideType||et.type){case"mousemove":pn=32,void 0===et.buttons?(Et=3,void 0!==et.button&&(Et=et.button<3?et.button:3)):Et=1&et.buttons?0:4&et.buttons?1:2&et.buttons?2:3;break;case"mouseup":pn=0,Et=et.button<3?et.button:3;break;case"mousedown":pn=1,Et=et.button<3?et.button:3;break;case"wheel":if(0===pe.viewport.getLinesScrolled(et))return!1;pn=et.deltaY<0?0:1,Et=4;break;default:return!1}return!(void 0===pn||void 0===Et||Et>4)&&pe.coreMouseService.triggerMouseEvent({col:Ft.col,row:Ft.row,x:Ft.x,y:Ft.y,button:Et,action:pn,ctrl:et.ctrlKey,alt:et.altKey,shift:et.shiftKey})}const nt={mouseup:null,wheel:null,mousedrag:null,mousemove:null},pt={mouseup:et=>(Xe(et),et.buttons||(this._document.removeEventListener("mouseup",nt.mouseup),nt.mousedrag&&this._document.removeEventListener("mousemove",nt.mousedrag)),this.cancel(et)),wheel:et=>(Xe(et),this.cancel(et,!0)),mousedrag:et=>{et.buttons&&Xe(et)},mousemove:et=>{et.buttons||Xe(et)}};this.register(this.coreMouseService.onProtocolChange(et=>{et?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(et)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&et?nt.mousemove||(Be.addEventListener("mousemove",pt.mousemove),nt.mousemove=pt.mousemove):(Be.removeEventListener("mousemove",nt.mousemove),nt.mousemove=null),16&et?nt.wheel||(Be.addEventListener("wheel",pt.wheel,{passive:!1}),nt.wheel=pt.wheel):(Be.removeEventListener("wheel",nt.wheel),nt.wheel=null),2&et?nt.mouseup||(nt.mouseup=pt.mouseup):(this._document.removeEventListener("mouseup",nt.mouseup),nt.mouseup=null),4&et?nt.mousedrag||(nt.mousedrag=pt.mousedrag):(this._document.removeEventListener("mousemove",nt.mousedrag),nt.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,l.addDisposableDomListener)(Be,"mousedown",et=>{if(et.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(et))return Xe(et),nt.mouseup&&this._document.addEventListener("mouseup",nt.mouseup),nt.mousedrag&&this._document.addEventListener("mousemove",nt.mousedrag),this.cancel(et)})),this.register((0,l.addDisposableDomListener)(Be,"wheel",et=>{if(!nt.wheel){if(!this.buffer.hasScrollback){const Ft=this.viewport.getLinesScrolled(et);if(0===Ft)return;const Et=w.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(et.deltaY<0?"A":"B");let pn="";for(let mn=0;mn<Math.abs(Ft);mn++)pn+=Et;return this.coreService.triggerDataEvent(pn,!0),this.cancel(et,!0)}return this.viewport.onWheel(et)?this.cancel(et):void 0}},{passive:!1})),this.register((0,l.addDisposableDomListener)(Be,"touchstart",et=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.onTouchStart(et),this.cancel(et)},{passive:!0})),this.register((0,l.addDisposableDomListener)(Be,"touchmove",et=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.onTouchMove(et)?void 0:this.cancel(et)},{passive:!1}))}refresh(pe,Be){var Xe;null===(Xe=this._renderService)||void 0===Xe||Xe.refreshRows(pe,Be)}updateCursorStyle(pe){var Be;(null===(Be=this._selectionService)||void 0===Be?void 0:Be.shouldColumnSelect(pe))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(pe,Be,Xe=0){super.scrollLines(pe,Be,Xe),this.refresh(0,this.rows-1)}paste(pe){(0,b.paste)(pe,this.textarea,this.coreService)}attachCustomKeyEventHandler(pe){this._customKeyEventHandler=pe}registerLinkProvider(pe){return this.linkifier2.registerLinkProvider(pe)}registerCharacterJoiner(pe){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const Be=this._characterJoinerService.register(pe);return this.refresh(0,this.rows-1),Be}deregisterCharacterJoiner(pe){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(pe)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}addMarker(pe){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+pe)}registerDecoration(pe){return this._decorationService.registerDecoration(pe)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(pe,Be,Xe){this._selectionService.setSelection(pe,Be,Xe)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var pe;null===(pe=this._selectionService)||void 0===pe||pe.clearSelection()}selectAll(){var pe;null===(pe=this._selectionService)||void 0===pe||pe.selectAll()}selectLines(pe,Be){var Xe;null===(Xe=this._selectionService)||void 0===Xe||Xe.selectLines(pe,Be)}_keyDown(pe){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(pe))return!1;const Be=this.browser.isMac&&this.options.macOptionIsMeta&&pe.altKey;if(!Be&&!this._compositionHelper.keydown(pe))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;Be||"Dead"!==pe.key&&"AltGraph"!==pe.key||(this._unprocessedDeadKey=!0);const Xe=(0,I.evaluateKeyboardEvent)(pe,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(pe),3===Xe.type||2===Xe.type){const nt=this.rows-1;return this.scrollLines(2===Xe.type?-nt:nt),this.cancel(pe,!0)}return 1===Xe.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,pe)||(Xe.cancel&&this.cancel(pe,!0),!Xe.key||!!(pe.key&&!pe.ctrlKey&&!pe.altKey&&!pe.metaKey&&1===pe.key.length&&pe.key.charCodeAt(0)>=65&&pe.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Xe.key!==w.C0.ETX&&Xe.key!==w.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Xe.key,domEvent:pe}),this._showCursor(),this.coreService.triggerDataEvent(Xe.key,!0),this.optionsService.rawOptions.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(pe,!0))))}_isThirdLevelShift(pe,Be){const Xe=pe.isMac&&!this.options.macOptionIsMeta&&Be.altKey&&!Be.ctrlKey&&!Be.metaKey||pe.isWindows&&Be.altKey&&Be.ctrlKey&&!Be.metaKey||pe.isWindows&&Be.getModifierState("AltGraph");return"keypress"===Be.type?Xe:Xe&&(!Be.keyCode||Be.keyCode>47)}_keyUp(pe){var Be;this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(pe)||(16===(Be=pe).keyCode||17===Be.keyCode||18===Be.keyCode||this.focus(),this.updateCursorStyle(pe),this._keyPressHandled=!1)}_keyPress(pe){let Be;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(pe))return!1;if(this.cancel(pe),pe.charCode)Be=pe.charCode;else if(null==pe.which)Be=pe.keyCode;else{if(0===pe.which||0===pe.charCode)return!1;Be=pe.which}return!(!Be||(pe.altKey||pe.ctrlKey||pe.metaKey)&&!this._isThirdLevelShift(this.browser,pe)||(Be=String.fromCharCode(Be),this._onKey.fire({key:Be,domEvent:pe}),this._showCursor(),this.coreService.triggerDataEvent(Be,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(pe){return!(!pe.data||"insertText"!==pe.inputType||pe.composed&&this._keyDownSeen||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(pe.data,!0),this.cancel(pe),0))}resize(pe,Be){pe!==this.cols||Be!==this.rows?super.resize(pe,Be):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(pe,Be){var Xe,nt;null===(Xe=this._charSizeService)||void 0===Xe||Xe.measure(),null===(nt=this.viewport)||void 0===nt||nt.syncScrollArea(!0)}clear(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let pe=1;pe<this.rows;pe++)this.buffer.lines.push(this.buffer.getBlankLine(H.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}}reset(){var pe,Be;this.options.rows=this.rows,this.options.cols=this.cols;const Xe=this._customKeyEventHandler;this._setup(),super.reset(),null===(pe=this._selectionService)||void 0===pe||pe.reset(),this._decorationService.reset(),this._customKeyEventHandler=Xe,this.refresh(0,this.rows-1),null===(Be=this.viewport)||void 0===Be||Be.syncScrollArea()}clearTextureAtlas(){var pe;null===(pe=this._renderService)||void 0===pe||pe.clearTextureAtlas()}_reportFocus(){var pe;(null===(pe=this.element)||void 0===pe?void 0:pe.classList.contains("focus"))?this.coreService.triggerDataEvent(w.C0.ESC+"[I"):this.coreService.triggerDataEvent(w.C0.ESC+"[O")}_reportWindowsOptions(pe){if(this._renderService)switch(pe){case C.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const Be=this._renderService.dimensions.canvasWidth.toFixed(0),Xe=this._renderService.dimensions.canvasHeight.toFixed(0);this.coreService.triggerDataEvent(`${w.C0.ESC}[4;${Xe};${Be}t`);break;case C.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const nt=this._renderService.dimensions.actualCellWidth.toFixed(0),pt=this._renderService.dimensions.actualCellHeight.toFixed(0);this.coreService.triggerDataEvent(`${w.C0.ESC}[6;${pt};${nt}t`)}}cancel(pe,Be){if(this.options.cancelEvents||Be)return pe.preventDefault(),pe.stopPropagation(),!1}}},9924:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.TimeBasedDebouncer=void 0,v.TimeBasedDebouncer=class{constructor(S,p=1e3){this._renderCallback=S,this._debounceThresholdMS=p,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(S,p,T){this._rowCount=T,S=void 0!==S?S:0,p=void 0!==p?p:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,S):S,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,p):p;const b=Date.now();if(b-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=b,this._innerRefresh();else if(!this._additionalRefreshRequested){const C=this._debounceThresholdMS-(b-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},C)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const S=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(S,p)}}},1680:function(u,v,S){var p=this&&this.__decorate||function(l,m,c,f){var I,k=arguments.length,H=k<3?m:null===f?f=Object.getOwnPropertyDescriptor(m,c):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(l,m,c,f);else for(var Y=l.length-1;Y>=0;Y--)(I=l[Y])&&(H=(k<3?I(H):k>3?I(m,c,H):I(m,c))||H);return k>3&&H&&Object.defineProperty(m,c,H),H},T=this&&this.__param||function(l,m){return function(c,f){m(c,f,l)}};Object.defineProperty(v,"__esModule",{value:!0}),v.Viewport=void 0;const b=S(844),w=S(3656),C=S(4725),D=S(2585);let g=class extends b.Disposable{constructor(l,m,c,f,I,k,H,Y,N){super(),this._scrollLines=l,this._viewportElement=m,this._scrollArea=c,this._element=f,this._bufferService=I,this._optionsService=k,this._charSizeService=H,this._renderService=Y,this._coreBrowserService=N,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentScaledCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,w.addDisposableDomListener)(this._viewportElement,"scroll",this._onScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(B=>this._activeBuffer=B.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(B=>this._renderDimensions=B)),setTimeout(()=>this.syncScrollArea(),0)}onThemeChange(l){this._viewportElement.style.backgroundColor=l.background.css}_refresh(l){if(l)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/this._coreBrowserService.dpr,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const m=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==m&&(this._lastRecordedBufferHeight=m,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const l=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==l&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=l),this._refreshAnimationFrame=null}syncScrollArea(l=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(l);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight||this._refresh(l)}_onScroll(l){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);const m=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(m)}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const l=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(l*(this._smoothScrollState.target-this._smoothScrollState.origin)),l<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(l,m){return!(m<0&&0!==this._viewportElement.scrollTop||m>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(l.cancelable&&l.preventDefault(),!1)}onWheel(l){const m=this._getPixelsScrolled(l);return 0!==m&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+m:this._smoothScrollState.target+=m,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=m,this._bubbleScroll(l,m))}_getPixelsScrolled(l){if(0===l.deltaY||l.shiftKey)return 0;let m=this._applyScrollModifier(l.deltaY,l);return l.deltaMode===WheelEvent.DOM_DELTA_LINE?m*=this._currentRowHeight:l.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(m*=this._currentRowHeight*this._bufferService.rows),m}getLinesScrolled(l){if(0===l.deltaY||l.shiftKey)return 0;let m=this._applyScrollModifier(l.deltaY,l);return l.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(m/=this._currentRowHeight+0,this._wheelPartialScroll+=m,m=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):l.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(m*=this._bufferService.rows),m}_applyScrollModifier(l,m){const c=this._optionsService.rawOptions.fastScrollModifier;return"alt"===c&&m.altKey||"ctrl"===c&&m.ctrlKey||"shift"===c&&m.shiftKey?l*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:l*this._optionsService.rawOptions.scrollSensitivity}onTouchStart(l){this._lastTouchY=l.touches[0].pageY}onTouchMove(l){const m=this._lastTouchY-l.touches[0].pageY;return this._lastTouchY=l.touches[0].pageY,0!==m&&(this._viewportElement.scrollTop+=m,this._bubbleScroll(l,m))}};g=p([T(4,D.IBufferService),T(5,D.IOptionsService),T(6,C.ICharSizeService),T(7,C.IRenderService),T(8,C.ICoreBrowserService)],g),v.Viewport=g},3107:function(u,v,S){var p=this&&this.__decorate||function(l,m,c,f){var I,k=arguments.length,H=k<3?m:null===f?f=Object.getOwnPropertyDescriptor(m,c):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(l,m,c,f);else for(var Y=l.length-1;Y>=0;Y--)(I=l[Y])&&(H=(k<3?I(H):k>3?I(m,c,H):I(m,c))||H);return k>3&&H&&Object.defineProperty(m,c,H),H},T=this&&this.__param||function(l,m){return function(c,f){m(c,f,l)}};Object.defineProperty(v,"__esModule",{value:!0}),v.BufferDecorationRenderer=void 0;const b=S(3656),w=S(4725),C=S(844),D=S(2585);let g=class extends C.Disposable{constructor(l,m,c,f){super(),this._screenElement=l,this._bufferService=m,this._decorationService=c,this._renderService=f,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,b.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(I=>this._removeDecoration(I)))}dispose(){this._container.remove(),this._decorationElements.clear(),super.dispose()}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this.refreshDecorations(),this._animationFrame=void 0}))}refreshDecorations(){for(const l of this._decorationService.decorations)this._renderDecoration(l);this._dimensionsChanged=!1}_renderDecoration(l){this._refreshStyle(l),this._dimensionsChanged&&this._refreshXPosition(l)}_createElement(l){var m;const c=document.createElement("div");c.classList.add("xterm-decoration"),c.style.width=`${Math.round((l.options.width||1)*this._renderService.dimensions.actualCellWidth)}px`,c.style.height=(l.options.height||1)*this._renderService.dimensions.actualCellHeight+"px",c.style.top=(l.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.actualCellHeight+"px",c.style.lineHeight=`${this._renderService.dimensions.actualCellHeight}px`;const f=null!==(m=l.options.x)&&void 0!==m?m:0;return f&&f>this._bufferService.cols&&(c.style.display="none"),this._refreshXPosition(l,c),c}_refreshStyle(l){const m=l.marker.line-this._bufferService.buffers.active.ydisp;if(m<0||m>=this._bufferService.rows)l.element&&(l.element.style.display="none",l.onRenderEmitter.fire(l.element));else{let c=this._decorationElements.get(l);c||(l.onDispose(()=>this._removeDecoration(l)),c=this._createElement(l),l.element=c,this._decorationElements.set(l,c),this._container.appendChild(c)),c.style.top=m*this._renderService.dimensions.actualCellHeight+"px",c.style.display=this._altBufferIsActive?"none":"block",l.onRenderEmitter.fire(c)}}_refreshXPosition(l,m=l.element){var c;if(!m)return;const f=null!==(c=l.options.x)&&void 0!==c?c:0;"right"===(l.options.anchor||"left")?m.style.right=f?f*this._renderService.dimensions.actualCellWidth+"px":"":m.style.left=f?f*this._renderService.dimensions.actualCellWidth+"px":""}_removeDecoration(l){var m;null===(m=this._decorationElements.get(l))||void 0===m||m.remove(),this._decorationElements.delete(l)}};g=p([T(1,D.IBufferService),T(2,D.IDecorationService),T(3,w.IRenderService)],g),v.BufferDecorationRenderer=g},5871:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ColorZoneStore=void 0,v.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(S){if(S.options.overviewRulerOptions){for(const p of this._zones)if(p.color===S.options.overviewRulerOptions.color&&p.position===S.options.overviewRulerOptions.position){if(this._lineIntersectsZone(p,S.marker.line))return;if(this._lineAdjacentToZone(p,S.marker.line,S.options.overviewRulerOptions.position))return void this._addLineToZone(p,S.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=S.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=S.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=S.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=S.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:S.options.overviewRulerOptions.color,position:S.options.overviewRulerOptions.position,startBufferLine:S.marker.line,endBufferLine:S.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(S){this._linePadding=S}_lineIntersectsZone(S,p){return p>=S.startBufferLine&&p<=S.endBufferLine}_lineAdjacentToZone(S,p,T){return p>=S.startBufferLine-this._linePadding[T||"full"]&&p<=S.endBufferLine+this._linePadding[T||"full"]}_addLineToZone(S,p){S.startBufferLine=Math.min(S.startBufferLine,p),S.endBufferLine=Math.max(S.endBufferLine,p)}}},5744:function(u,v,S){var p=this&&this.__decorate||function(I,k,H,Y){var N,B=arguments.length,te=B<3?k:null===Y?Y=Object.getOwnPropertyDescriptor(k,H):Y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(I,k,H,Y);else for(var Ee=I.length-1;Ee>=0;Ee--)(N=I[Ee])&&(te=(B<3?N(te):B>3?N(k,H,te):N(k,H))||te);return B>3&&te&&Object.defineProperty(k,H,te),te},T=this&&this.__param||function(I,k){return function(H,Y){k(H,Y,I)}};Object.defineProperty(v,"__esModule",{value:!0}),v.OverviewRulerRenderer=void 0;const b=S(5871),w=S(3656),C=S(4725),D=S(844),g=S(2585),l={full:0,left:0,center:0,right:0},m={full:0,left:0,center:0,right:0},c={full:0,left:0,center:0,right:0};let f=class extends D.Disposable{constructor(I,k,H,Y,N,B,te){var Ee;super(),this._viewportElement=I,this._screenElement=k,this._bufferService=H,this._decorationService=Y,this._renderService=N,this._optionsService=B,this._coreBrowseService=te,this._colorZoneStore=new b.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null===(Ee=this._viewportElement.parentElement)||void 0===Ee||Ee.insertBefore(this._canvas,this._viewportElement);const ue=this._canvas.getContext("2d");if(!ue)throw new Error("Ctx cannot be null");this._ctx=ue,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners()}get _width(){return this._optionsService.options.overviewRulerWidth||0}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onOptionChange(I=>{"overviewRulerWidth"===I&&this._queueRefresh(!0)})),this.register((0,w.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>{this._queueRefresh(!0)})),this._queueRefresh(!0)}dispose(){var I;null===(I=this._canvas)||void 0===I||I.remove(),super.dispose()}_refreshDrawConstants(){const I=Math.floor(this._canvas.width/3),k=Math.ceil(this._canvas.width/3);m.full=this._canvas.width,m.left=I,m.center=k,m.right=I,this._refreshDrawHeightConstants(),c.full=0,c.left=0,c.center=m.left,c.right=m.left+m.center}_refreshDrawHeightConstants(){l.full=Math.round(2*this._coreBrowseService.dpr);const k=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowseService.dpr);l.left=k,l.center=k,l.right=k}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*l.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*l.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*l.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*l.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const k of this._decorationService.decorations)this._colorZoneStore.addDecoration(k);this._ctx.lineWidth=1;const I=this._colorZoneStore.zones;for(const k of I)"full"!==k.position&&this._renderColorZone(k);for(const k of I)"full"===k.position&&this._renderColorZone(k);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(I){this._ctx.fillStyle=I.color,this._ctx.fillRect(c[I.position||"full"],Math.round(I.startBufferLine/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)-l[I.position||"full"]/2),m[I.position||"full"],Math.round((I.endBufferLine-I.startBufferLine)/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)+l[I.position||"full"]))}_queueRefresh(I,k){this._shouldUpdateDimensions=I||this._shouldUpdateDimensions,this._shouldUpdateAnchor=k||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};f=p([T(2,g.IBufferService),T(3,g.IDecorationService),T(4,C.IRenderService),T(5,g.IOptionsService),T(6,C.ICoreBrowserService)],f),v.OverviewRulerRenderer=f},2950:function(u,v,S){var p=this&&this.__decorate||function(g,l,m,c){var f,I=arguments.length,k=I<3?l:null===c?c=Object.getOwnPropertyDescriptor(l,m):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(g,l,m,c);else for(var H=g.length-1;H>=0;H--)(f=g[H])&&(k=(I<3?f(k):I>3?f(l,m,k):f(l,m))||k);return I>3&&k&&Object.defineProperty(l,m,k),k},T=this&&this.__param||function(g,l){return function(m,c){l(m,c,g)}};Object.defineProperty(v,"__esModule",{value:!0}),v.CompositionHelper=void 0;const b=S(4725),w=S(2585),C=S(2584);let D=class{constructor(g,l,m,c,f,I){this._textarea=g,this._compositionView=l,this._bufferService=m,this._optionsService=c,this._coreService=f,this._renderService=I,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(g){this._compositionView.textContent=g.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(g){if(this._isComposing||this._isSendingComposition){if(229===g.keyCode||16===g.keyCode||17===g.keyCode||18===g.keyCode)return!1;this._finalizeComposition(!1)}return 229!==g.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(g){if(this._compositionView.classList.remove("active"),this._isComposing=!1,g){const l={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let m;this._isSendingComposition=!1,l.start+=this._dataAlreadySent.length,m=this._isComposing?this._textarea.value.substring(l.start,l.end):this._textarea.value.substring(l.start),m.length>0&&this._coreService.triggerDataEvent(m,!0)}},0)}else{this._isSendingComposition=!1;const l=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(l,!0)}}_handleAnyTextareaChanges(){const g=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const l=this._textarea.value,m=l.replace(g,"");this._dataAlreadySent=m,l.length>g.length?this._coreService.triggerDataEvent(m,!0):l.length<g.length?this._coreService.triggerDataEvent(`${C.C0.DEL}`,!0):l.length===g.length&&l!==g&&this._coreService.triggerDataEvent(l,!0)}},0)}updateCompositionElements(g){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const l=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),m=this._renderService.dimensions.actualCellHeight,c=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,f=l*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=f+"px",this._compositionView.style.top=c+"px",this._compositionView.style.height=m+"px",this._compositionView.style.lineHeight=m+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const I=this._compositionView.getBoundingClientRect();this._textarea.style.left=f+"px",this._textarea.style.top=c+"px",this._textarea.style.width=Math.max(I.width,1)+"px",this._textarea.style.height=Math.max(I.height,1)+"px",this._textarea.style.lineHeight=I.height+"px"}g||setTimeout(()=>this.updateCompositionElements(!0),0)}}};D=p([T(2,w.IBufferService),T(3,w.IOptionsService),T(4,w.ICoreService),T(5,b.IRenderService)],D),v.CompositionHelper=D},9806:(u,v)=>{function S(p,T,b){const w=b.getBoundingClientRect(),C=p.getComputedStyle(b),D=parseInt(C.getPropertyValue("padding-left")),g=parseInt(C.getPropertyValue("padding-top"));return[T.clientX-w.left-D,T.clientY-w.top-g]}Object.defineProperty(v,"__esModule",{value:!0}),v.getCoords=v.getCoordsRelativeToElement=void 0,v.getCoordsRelativeToElement=S,v.getCoords=function(p,T,b,w,C,D,g,l,m){if(!D)return;const c=S(p,T,b);return c?(c[0]=Math.ceil((c[0]+(m?g/2:0))/g),c[1]=Math.ceil(c[1]/l),c[0]=Math.min(Math.max(c[0],1),w+(m?1:0)),c[1]=Math.min(Math.max(c[1],1),C),c):void 0}},9504:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.moveToCellSequence=void 0;const p=S(2584);function T(l,m,c,f){const I=l-b(c,l),k=m-b(c,m);return g(Math.abs(I-k)-function(Y,N,B){let te=0;const Ee=Y-b(B,Y),ue=N-b(B,N);for(let V=0;V<Math.abs(Ee-ue);V++){const Z="A"===w(Y,N)?-1:1,$=B.buffer.lines.get(Ee+Z*V);(null==$?void 0:$.isWrapped)&&te++}return te}(l,m,c),D(w(l,m),f))}function b(l,m){let c=0,f=l.buffer.lines.get(m),I=null==f?void 0:f.isWrapped;for(;I&&m>=0&&m<l.rows;)c++,f=l.buffer.lines.get(--m),I=null==f?void 0:f.isWrapped;return c}function w(l,m){return l>m?"A":"B"}function C(l,m,c,f,I,k){let H=l,Y=m,N="";for(;H!==c||Y!==f;)H+=I?1:-1,I&&H>k.cols-1?(N+=k.buffer.translateBufferLineToString(Y,!1,l,H),H=0,l=0,Y++):!I&&H<0&&(N+=k.buffer.translateBufferLineToString(Y,!1,0,l+1),H=k.cols-1,l=H,Y--);return N+k.buffer.translateBufferLineToString(Y,!1,l,H)}function D(l,m){return p.C0.ESC+(m?"O":"[")+l}function g(l,m){l=Math.floor(l);let c="";for(let f=0;f<l;f++)c+=m;return c}v.moveToCellSequence=function(l,m,c,f){const I=c.buffer.x,k=c.buffer.y;if(!c.buffer.hasScrollback)return N=I,(0===T(B=k,m,ue=c,V=f).length?"":g(C(N,B,N,B-b(ue,B),!1,ue).length,D("D",V)))+T(k,m,c,f)+function(N,B,te,Ee,ue,V){let Z;Z=T(B,Ee,ue,V).length>0?Ee-b(ue,Ee):B;const $=Ee,re=function(Se,qe,Ge,tt,lt,_t){let he;return he=T(Ge,tt,lt,_t).length>0?tt-b(lt,tt):qe,Se<Ge&&he<=tt||Se>=Ge&&he<tt?"C":"D"}(N,B,te,Ee,ue,V);return g(C(N,Z,te,$,"C"===re,ue).length,D(re,V))}(I,k,l,m,c,f);var N,B,ue,V;let H;if(k===m)return H=I>l?"D":"C",g(Math.abs(I-l),D(H,f));H=k>m?"D":"C";const Y=Math.abs(k-m);return g(function(N,B){return B.cols-N}(k>m?l:I,c)+(Y-1)*c.cols+1+((k>m?I:l)-1),D(H,f))}},8036:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.TEXT_BASELINE=v.DIM_OPACITY=v.INVERTED_DEFAULT_COLOR=void 0;const p=S(6114);v.INVERTED_DEFAULT_COLOR=257,v.DIM_OPACITY=.5,v.TEXT_BASELINE=p.isFirefox||p.isLegacyEdge?"bottom":"ideographic"},1752:(u,v)=>{function S(p){return 57508<=p&&p<=57558}Object.defineProperty(v,"__esModule",{value:!0}),v.excludeFromContrastRatioDemands=v.isRestrictedPowerlineGlyph=v.isPowerlineGlyph=v.throwIfFalsy=void 0,v.throwIfFalsy=function(p){if(!p)throw new Error("value must not be falsy");return p},v.isPowerlineGlyph=S,v.isRestrictedPowerlineGlyph=function(p){return 57520<=p&&p<=57527},v.excludeFromContrastRatioDemands=function(p){return S(p)||9472<=(T=p)&&T<=9631;var T}},1296:function(u,v,S){var p=this&&this.__decorate||function(Y,N,B,te){var Ee,ue=arguments.length,V=ue<3?N:null===te?te=Object.getOwnPropertyDescriptor(N,B):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)V=Reflect.decorate(Y,N,B,te);else for(var Z=Y.length-1;Z>=0;Z--)(Ee=Y[Z])&&(V=(ue<3?Ee(V):ue>3?Ee(N,B,V):Ee(N,B))||V);return ue>3&&V&&Object.defineProperty(N,B,V),V},T=this&&this.__param||function(Y,N){return function(B,te){N(B,te,Y)}};Object.defineProperty(v,"__esModule",{value:!0}),v.DomRenderer=void 0;const b=S(3787),w=S(8036),C=S(844),D=S(4725),g=S(2585),l=S(8460),m=S(8055),c=S(9631),f="xterm-dom-renderer-owner-",I="xterm-focus";let k=1,H=class extends C.Disposable{constructor(Y,N,B,te,Ee,ue,V,Z,$,re){super(),this._colors=Y,this._element=N,this._screenElement=B,this._viewportElement=te,this._linkifier2=Ee,this._charSizeService=V,this._optionsService=Z,this._bufferService=$,this._coreBrowserService=re,this._terminalClass=k++,this._rowElements=[],this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-rows"),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add("xterm-selection"),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},this._updateDimensions(),this._injectCss(),this._rowFactory=ue.createInstance(b.DomRendererRowFactory,document,this._colors),this._element.classList.add(f+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(Se=>this._onLinkHover(Se))),this.register(this._linkifier2.onHideLinkUnderline(Se=>this._onLinkLeave(Se)))}get onRequestRedraw(){return(new l.EventEmitter).event}dispose(){this._element.classList.remove(f+this._terminalClass),(0,c.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),super.dispose()}_updateDimensions(){const Y=this._coreBrowserService.dpr;this.dimensions.scaledCharWidth=this._charSizeService.width*Y,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*Y),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/Y),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/Y),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(const B of this._rowElements)B.style.width=`${this.dimensions.canvasWidth}px`,B.style.height=`${this.dimensions.actualCellHeight}px`,B.style.lineHeight=`${this.dimensions.actualCellHeight}px`,B.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=`${this._terminalSelector} .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: ${this.dimensions.actualCellWidth}px}`,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.canvasWidth}px`,this._screenElement.style.height=`${this.dimensions.canvasHeight}px`}setColors(Y){this._colors=Y,this._injectCss()}_injectCss(){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let Y=`${this._terminalSelector} .xterm-rows { color: ${this._colors.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px;}`;Y+=`${this._terminalSelector} span:not(.${b.BOLD_CLASS}) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.${b.BOLD_CLASS} { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.${b.ITALIC_CLASS} { font-style: italic;}`,Y+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",Y+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${this._colors.cursor.css};  color: ${this._colors.cursorAccent.css}; } 50% {  background-color: ${this._colors.cursorAccent.css};  color: ${this._colors.cursor.css}; }}`,Y+=`${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${b.CURSOR_CLASS}.${b.CURSOR_STYLE_BLOCK_CLASS} { outline: 1px solid ${this._colors.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .xterm-rows.xterm-focus .${b.CURSOR_CLASS}.${b.CURSOR_BLINK_CLASS}:not(.${b.CURSOR_STYLE_BLOCK_CLASS}) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${b.CURSOR_CLASS}.${b.CURSOR_BLINK_CLASS}.${b.CURSOR_STYLE_BLOCK_CLASS} { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${b.CURSOR_CLASS}.${b.CURSOR_STYLE_BLOCK_CLASS} { background-color: ${this._colors.cursor.css}; color: ${this._colors.cursorAccent.css};}${this._terminalSelector} .xterm-rows .${b.CURSOR_CLASS}.${b.CURSOR_STYLE_BAR_CLASS} { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${this._colors.cursor.css} inset;}${this._terminalSelector} .xterm-rows .${b.CURSOR_CLASS}.${b.CURSOR_STYLE_UNDERLINE_CLASS} { box-shadow: 0 -1px 0 ${this._colors.cursor.css} inset;}`,Y+=`${this._terminalSelector} .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .xterm-selection div { position: absolute; background-color: ${this._colors.selectionBackgroundOpaque.css};}${this._terminalSelector} .xterm-selection div { position: absolute; background-color: ${this._colors.selectionInactiveBackgroundOpaque.css};}`,this._colors.ansi.forEach((N,B)=>{Y+=`${this._terminalSelector} .xterm-fg-${B} { color: ${N.css}; }${this._terminalSelector} .xterm-bg-${B} { background-color: ${N.css}; }`}),Y+=`${this._terminalSelector} .xterm-fg-${w.INVERTED_DEFAULT_COLOR} { color: ${m.color.opaque(this._colors.background).css}; }${this._terminalSelector} .xterm-bg-${w.INVERTED_DEFAULT_COLOR} { background-color: ${this._colors.foreground.css}; }`,this._themeStyleElement.textContent=Y}onDevicePixelRatioChange(){this._updateDimensions()}_refreshRowElements(Y,N){for(let B=this._rowElements.length;B<=N;B++){const te=document.createElement("div");this._rowContainer.appendChild(te),this._rowElements.push(te)}for(;this._rowElements.length>N;)this._rowContainer.removeChild(this._rowElements.pop())}onResize(Y,N){this._refreshRowElements(Y,N),this._updateDimensions()}onCharSizeChanged(){this._updateDimensions()}onBlur(){this._rowContainer.classList.remove(I)}onFocus(){this._rowContainer.classList.add(I)}onSelectionChanged(Y,N,B){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.onSelectionChanged(Y,N,B),this.renderRows(0,this._bufferService.rows-1),!Y||!N)return;const te=Y[1]-this._bufferService.buffer.ydisp,Ee=N[1]-this._bufferService.buffer.ydisp,ue=Math.max(te,0),V=Math.min(Ee,this._bufferService.rows-1);if(ue>=this._bufferService.rows||V<0)return;const Z=document.createDocumentFragment();if(B){const $=Y[0]>N[0];Z.appendChild(this._createSelectionElement(ue,$?N[0]:Y[0],$?Y[0]:N[0],V-ue+1))}else Z.appendChild(this._createSelectionElement(ue,te===ue?Y[0]:0,ue===Ee?N[0]:this._bufferService.cols)),Z.appendChild(this._createSelectionElement(ue+1,0,this._bufferService.cols,V-ue-1)),ue!==V&&Z.appendChild(this._createSelectionElement(V,0,Ee===V?N[0]:this._bufferService.cols));this._selectionContainer.appendChild(Z)}_createSelectionElement(Y,N,B,te=1){const Ee=document.createElement("div");return Ee.style.height=te*this.dimensions.actualCellHeight+"px",Ee.style.top=Y*this.dimensions.actualCellHeight+"px",Ee.style.left=N*this.dimensions.actualCellWidth+"px",Ee.style.width=this.dimensions.actualCellWidth*(B-N)+"px",Ee}onCursorMove(){}onOptionsChanged(){this._updateDimensions(),this._injectCss()}clear(){for(const Y of this._rowElements)Y.innerText=""}renderRows(Y,N){const B=this._bufferService.buffer.ybase+this._bufferService.buffer.y,te=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),Ee=this._optionsService.rawOptions.cursorBlink;for(let ue=Y;ue<=N;ue++){const V=this._rowElements[ue];V.innerText="";const Z=ue+this._bufferService.buffer.ydisp,$=this._bufferService.buffer.lines.get(Z);V.appendChild(this._rowFactory.createRow($,Z,Z===B,this._optionsService.rawOptions.cursorStyle,te,Ee,this.dimensions.actualCellWidth,this._bufferService.cols))}}get _terminalSelector(){return`.${f}${this._terminalClass}`}_onLinkHover(Y){this._setCellUnderline(Y.x1,Y.x2,Y.y1,Y.y2,Y.cols,!0)}_onLinkLeave(Y){this._setCellUnderline(Y.x1,Y.x2,Y.y1,Y.y2,Y.cols,!1)}_setCellUnderline(Y,N,B,te,Ee,ue){for(;Y!==N||B!==te;){const V=this._rowElements[B];if(!V)return;const Z=V.children[Y];Z&&(Z.style.textDecoration=ue?"underline":"none"),++Y>=Ee&&(Y=0,B++)}}};H=p([T(5,g.IInstantiationService),T(6,D.ICharSizeService),T(7,g.IOptionsService),T(8,g.IBufferService),T(9,D.ICoreBrowserService)],H),v.DomRenderer=H},3787:function(u,v,S){var p=this&&this.__decorate||function(H,Y,N,B){var te,Ee=arguments.length,ue=Ee<3?Y:null===B?B=Object.getOwnPropertyDescriptor(Y,N):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(H,Y,N,B);else for(var V=H.length-1;V>=0;V--)(te=H[V])&&(ue=(Ee<3?te(ue):Ee>3?te(Y,N,ue):te(Y,N))||ue);return Ee>3&&ue&&Object.defineProperty(Y,N,ue),ue},T=this&&this.__param||function(H,Y){return function(N,B){Y(N,B,H)}};Object.defineProperty(v,"__esModule",{value:!0}),v.DomRendererRowFactory=v.CURSOR_STYLE_UNDERLINE_CLASS=v.CURSOR_STYLE_BAR_CLASS=v.CURSOR_STYLE_BLOCK_CLASS=v.CURSOR_BLINK_CLASS=v.CURSOR_CLASS=v.STRIKETHROUGH_CLASS=v.UNDERLINE_CLASS=v.ITALIC_CLASS=v.DIM_CLASS=v.BOLD_CLASS=void 0;const b=S(8036),w=S(643),C=S(511),D=S(2585),g=S(8055),l=S(4725),m=S(4269),c=S(1752),f=S(3734);v.BOLD_CLASS="xterm-bold",v.DIM_CLASS="xterm-dim",v.ITALIC_CLASS="xterm-italic",v.UNDERLINE_CLASS="xterm-underline",v.STRIKETHROUGH_CLASS="xterm-strikethrough",v.CURSOR_CLASS="xterm-cursor",v.CURSOR_BLINK_CLASS="xterm-cursor-blink",v.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",v.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",v.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";let I=class{constructor(H,Y,N,B,te,Ee,ue){this._document=H,this._colors=Y,this._characterJoinerService=N,this._optionsService=B,this._coreBrowserService=te,this._coreService=Ee,this._decorationService=ue,this._workCell=new C.CellData,this._columnSelectMode=!1}setColors(H){this._colors=H}onSelectionChanged(H,Y,N){this._selectionStart=H,this._selectionEnd=Y,this._columnSelectMode=N}createRow(H,Y,N,B,te,Ee,ue,V){const Z=this._document.createDocumentFragment(),$=this._characterJoinerService.getJoinedCharacters(Y);let re=0;for(let Se=Math.min(H.length,V)-1;Se>=0;Se--)if(H.loadCell(Se,this._workCell).getCode()!==w.NULL_CELL_CODE||N&&Se===te){re=Se+1;break}for(let Se=0;Se<re;Se++){H.loadCell(Se,this._workCell);let qe=this._workCell.getWidth();if(0===qe)continue;let Ge=!1,tt=Se,lt=this._workCell;if($.length>0&&Se===$[0][0]){Ge=!0;const Et=$.shift();lt=new m.JoinedCellData(this._workCell,H.translateToString(!0,Et[0],Et[1]),Et[1]-Et[0]),tt=Et[1]-1,qe=lt.getWidth()}const _t=this._document.createElement("span");if(qe>1&&(_t.style.width=ue*qe+"px"),Ge&&(_t.style.display="inline",te>=Se&&te<=tt&&(te=Se)),!this._coreService.isCursorHidden&&N&&Se===te)switch(_t.classList.add(v.CURSOR_CLASS),Ee&&_t.classList.add(v.CURSOR_BLINK_CLASS),B){case"bar":_t.classList.add(v.CURSOR_STYLE_BAR_CLASS);break;case"underline":_t.classList.add(v.CURSOR_STYLE_UNDERLINE_CLASS);break;default:_t.classList.add(v.CURSOR_STYLE_BLOCK_CLASS)}if(lt.isBold()&&_t.classList.add(v.BOLD_CLASS),lt.isItalic()&&_t.classList.add(v.ITALIC_CLASS),lt.isDim()&&_t.classList.add(v.DIM_CLASS),_t.textContent=lt.isInvisible()?w.WHITESPACE_CELL_CHAR:lt.getChars()||w.WHITESPACE_CELL_CHAR,lt.isUnderline()&&(_t.classList.add(`${v.UNDERLINE_CLASS}-${lt.extended.underlineStyle}`)," "===_t.textContent&&(_t.innerHTML="&nbsp;"),!lt.isUnderlineColorDefault()))if(lt.isUnderlineColorRGB())_t.style.textDecorationColor=`rgb(${f.AttributeData.toColorRGB(lt.getUnderlineColor()).join(",")})`;else{let Et=lt.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&lt.isBold()&&Et<8&&(Et+=8),_t.style.textDecorationColor=this._colors.ansi[Et].css}lt.isStrikethrough()&&_t.classList.add(v.STRIKETHROUGH_CLASS);let he=lt.getFgColor(),De=lt.getFgColorMode(),Pe=lt.getBgColor(),pe=lt.getBgColorMode();const Be=!!lt.isInverse();if(Be){const Et=he;he=Pe,Pe=Et;const pn=De;De=pe,pe=pn}let Xe,nt,pt=!1;this._decorationService.forEachDecorationAtCell(Se,Y,void 0,Et=>{"top"!==Et.options.layer&&pt||(Et.backgroundColorRGB&&(pe=50331648,Pe=Et.backgroundColorRGB.rgba>>8&16777215,Xe=Et.backgroundColorRGB),Et.foregroundColorRGB&&(De=50331648,he=Et.foregroundColorRGB.rgba>>8&16777215,nt=Et.foregroundColorRGB),pt="top"===Et.options.layer)});const et=this._isCellInSelection(Se,Y);let Ft;switch(pt||this._colors.selectionForeground&&et&&(De=50331648,he=this._colors.selectionForeground.rgba>>8&16777215,nt=this._colors.selectionForeground),et&&(Xe=this._coreBrowserService.isFocused?this._colors.selectionBackgroundOpaque:this._colors.selectionInactiveBackgroundOpaque,pt=!0),pt&&_t.classList.add("xterm-decoration-top"),pe){case 16777216:case 33554432:Ft=this._colors.ansi[Pe],_t.classList.add(`xterm-bg-${Pe}`);break;case 50331648:Ft=g.rgba.toColor(Pe>>16,Pe>>8&255,255&Pe),this._addStyle(_t,`background-color:#${k((Pe>>>0).toString(16),"0",6)}`);break;default:Be?(Ft=this._colors.foreground,_t.classList.add(`xterm-bg-${b.INVERTED_DEFAULT_COLOR}`)):Ft=this._colors.background}switch(Xe||lt.isDim()&&(Xe=g.color.multiplyOpacity(Ft,.5)),De){case 16777216:case 33554432:lt.isBold()&&he<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(he+=8),this._applyMinimumContrast(_t,Ft,this._colors.ansi[he],lt,Xe,void 0)||_t.classList.add(`xterm-fg-${he}`);break;case 50331648:const Et=g.rgba.toColor(he>>16&255,he>>8&255,255&he);this._applyMinimumContrast(_t,Ft,Et,lt,Xe,nt)||this._addStyle(_t,`color:#${k(he.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(_t,Ft,this._colors.foreground,lt,Xe,void 0)||Be&&_t.classList.add(`xterm-fg-${b.INVERTED_DEFAULT_COLOR}`)}Z.appendChild(_t),Se=tt}return Z}_applyMinimumContrast(H,Y,N,B,te,Ee){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,c.excludeFromContrastRatioDemands)(B.getCode()))return!1;let ue;return te||Ee||(ue=this._colors.contrastCache.getColor(Y.rgba,N.rgba)),void 0===ue&&(ue=g.color.ensureContrastRatio(te||Y,Ee||N,this._optionsService.rawOptions.minimumContrastRatio),this._colors.contrastCache.setColor((te||Y).rgba,(Ee||N).rgba,null!=ue?ue:null)),!!ue&&(this._addStyle(H,`color:${ue.css}`),!0)}_addStyle(H,Y){H.setAttribute("style",`${H.getAttribute("style")||""}${Y};`)}_isCellInSelection(H,Y){const N=this._selectionStart,B=this._selectionEnd;return!(!N||!B)&&(this._columnSelectMode?N[0]<=B[0]?H>=N[0]&&Y>=N[1]&&H<B[0]&&Y<=B[1]:H<N[0]&&Y>=N[1]&&H>=B[0]&&Y<=B[1]:Y>N[1]&&Y<B[1]||N[1]===B[1]&&Y===N[1]&&H>=N[0]&&H<B[0]||N[1]<B[1]&&Y===B[1]&&H<B[0]||N[1]<B[1]&&Y===N[1]&&H>=N[0])}};function k(H,Y,N){for(;H.length<N;)H=Y+H;return H}I=p([T(2,l.ICharacterJoinerService),T(3,D.IOptionsService),T(4,l.ICoreBrowserService),T(5,D.ICoreService),T(6,D.IDecorationService)],I),v.DomRendererRowFactory=I},456:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.SelectionModel=void 0,v.SelectionModel=class{constructor(S){this._bufferService=S,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const S=this.selectionStart[0]+this.selectionStartLength;return S>this._bufferService.cols?S%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(S/this._bufferService.cols)-1]:[S%this._bufferService.cols,this.selectionStart[1]+Math.floor(S/this._bufferService.cols)]:[S,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const S=this.selectionStart[0]+this.selectionStartLength;return S>this._bufferService.cols?[S%this._bufferService.cols,this.selectionStart[1]+Math.floor(S/this._bufferService.cols)]:[Math.max(S,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const S=this.selectionStart,p=this.selectionEnd;return!(!S||!p)&&(S[1]>p[1]||S[1]===p[1]&&S[0]>p[0])}onTrim(S){return this.selectionStart&&(this.selectionStart[1]-=S),this.selectionEnd&&(this.selectionEnd[1]-=S),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(u,v,S){var p=this&&this.__decorate||function(g,l,m,c){var f,I=arguments.length,k=I<3?l:null===c?c=Object.getOwnPropertyDescriptor(l,m):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(g,l,m,c);else for(var H=g.length-1;H>=0;H--)(f=g[H])&&(k=(I<3?f(k):I>3?f(l,m,k):f(l,m))||k);return I>3&&k&&Object.defineProperty(l,m,k),k},T=this&&this.__param||function(g,l){return function(m,c){l(m,c,g)}};Object.defineProperty(v,"__esModule",{value:!0}),v.CharSizeService=void 0;const b=S(2585),w=S(8460);let C=class{constructor(g,l,m){this._optionsService=m,this.width=0,this.height=0,this._onCharSizeChange=new w.EventEmitter,this._measureStrategy=new D(g,l,this._optionsService)}get hasValidSize(){return this.width>0&&this.height>0}get onCharSizeChange(){return this._onCharSizeChange.event}measure(){const g=this._measureStrategy.measure();g.width===this.width&&g.height===this.height||(this.width=g.width,this.height=g.height,this._onCharSizeChange.fire())}};C=p([T(2,b.IOptionsService)],C),v.CharSizeService=C;class D{constructor(l,m,c){this._document=l,this._parentElement=m,this._optionsService=c,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const l=this._measureElement.getBoundingClientRect();return 0!==l.width&&0!==l.height&&(this._result.width=l.width,this._result.height=Math.ceil(l.height)),this._result}}},4269:function(u,v,S){var p=this&&this.__decorate||function(m,c,f,I){var k,H=arguments.length,Y=H<3?c:null===I?I=Object.getOwnPropertyDescriptor(c,f):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(m,c,f,I);else for(var N=m.length-1;N>=0;N--)(k=m[N])&&(Y=(H<3?k(Y):H>3?k(c,f,Y):k(c,f))||Y);return H>3&&Y&&Object.defineProperty(c,f,Y),Y},T=this&&this.__param||function(m,c){return function(f,I){c(f,I,m)}};Object.defineProperty(v,"__esModule",{value:!0}),v.CharacterJoinerService=v.JoinedCellData=void 0;const b=S(3734),w=S(643),C=S(511),D=S(2585);v.JoinedCellData=class extends b.AttributeData{constructor(c,f,I){super(),this.content=0,this.combinedData="",this.fg=c.fg,this.bg=c.bg,this.combinedData=f,this._width=I}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(c){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};let l=class Hm{constructor(c){this._bufferService=c,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new C.CellData}register(c){const f={id:this._nextCharacterJoinerId++,handler:c};return this._characterJoiners.push(f),f.id}deregister(c){for(let f=0;f<this._characterJoiners.length;f++)if(this._characterJoiners[f].id===c)return this._characterJoiners.splice(f,1),!0;return!1}getJoinedCharacters(c){if(0===this._characterJoiners.length)return[];const f=this._bufferService.buffer.lines.get(c);if(!f||0===f.length)return[];const I=[],k=f.translateToString(!0);let H=0,Y=0,N=0,B=f.getFg(0),te=f.getBg(0);for(let Ee=0;Ee<f.getTrimmedLength();Ee++)if(f.loadCell(Ee,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==B||this._workCell.bg!==te){if(Ee-H>1){const ue=this._getJoinedRanges(k,N,Y,f,H);for(let V=0;V<ue.length;V++)I.push(ue[V])}H=Ee,N=Y,B=this._workCell.fg,te=this._workCell.bg}Y+=this._workCell.getChars().length||w.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-H>1){const Ee=this._getJoinedRanges(k,N,Y,f,H);for(let ue=0;ue<Ee.length;ue++)I.push(Ee[ue])}return I}_getJoinedRanges(c,f,I,k,H){const Y=c.substring(f,I);let N=[];try{N=this._characterJoiners[0].handler(Y)}catch(B){console.error(B)}for(let B=1;B<this._characterJoiners.length;B++)try{const te=this._characterJoiners[B].handler(Y);for(let Ee=0;Ee<te.length;Ee++)Hm._mergeRanges(N,te[Ee])}catch(te){console.error(te)}return this._stringRangesToCellRanges(N,k,H),N}_stringRangesToCellRanges(c,f,I){let k=0,H=!1,Y=0,N=c[k];if(N){for(let B=I;B<this._bufferService.cols;B++){const te=f.getWidth(B),Ee=f.getString(B).length||w.WHITESPACE_CELL_CHAR.length;if(0!==te){if(!H&&N[0]<=Y&&(N[0]=B,H=!0),N[1]<=Y){if(N[1]=B,N=c[++k],!N)break;N[0]<=Y?(N[0]=B,H=!0):H=!1}Y+=Ee}}N&&(N[1]=this._bufferService.cols)}}static _mergeRanges(c,f){let I=!1;for(let k=0;k<c.length;k++){const H=c[k];if(I){if(f[1]<=H[0])return c[k-1][1]=f[1],c;if(f[1]<=H[1])return c[k-1][1]=Math.max(f[1],H[1]),c.splice(k,1),c;c.splice(k,1),k--}else{if(f[1]<=H[0])return c.splice(k,0,f),c;if(f[1]<=H[1])return H[0]=Math.min(f[0],H[0]),c;f[0]<H[1]&&(H[0]=Math.min(f[0],H[0]),I=!0)}}return I?c[c.length-1][1]=f[1]:c.push(f),c}};l=p([T(0,D.IBufferService)],l),v.CharacterJoinerService=l},5114:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CoreBrowserService=void 0,v.CoreBrowserService=class{constructor(S,p){this._textarea=S,this.window=p}get dpr(){return this.window.devicePixelRatio}get isFocused(){return(this._textarea.getRootNode?this._textarea.getRootNode():this._textarea.ownerDocument).activeElement===this._textarea&&this._textarea.ownerDocument.hasFocus()}}},8934:function(u,v,S){var p=this&&this.__decorate||function(D,g,l,m){var c,f=arguments.length,I=f<3?g:null===m?m=Object.getOwnPropertyDescriptor(g,l):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(D,g,l,m);else for(var k=D.length-1;k>=0;k--)(c=D[k])&&(I=(f<3?c(I):f>3?c(g,l,I):c(g,l))||I);return f>3&&I&&Object.defineProperty(g,l,I),I},T=this&&this.__param||function(D,g){return function(l,m){g(l,m,D)}};Object.defineProperty(v,"__esModule",{value:!0}),v.MouseService=void 0;const b=S(4725),w=S(9806);let C=class{constructor(D,g){this._renderService=D,this._charSizeService=g}getCoords(D,g,l,m,c){return(0,w.getCoords)(window,D,g,l,m,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,c)}getMouseReportCoords(D,g){const l=(0,w.getCoordsRelativeToElement)(window,D,g);if(!(!this._charSizeService.hasValidSize||l[0]<0||l[1]<0||l[0]>=this._renderService.dimensions.canvasWidth||l[1]>=this._renderService.dimensions.canvasHeight))return{col:Math.floor(l[0]/this._renderService.dimensions.actualCellWidth),row:Math.floor(l[1]/this._renderService.dimensions.actualCellHeight),x:Math.floor(l[0]),y:Math.floor(l[1])}}};C=p([T(0,b.IRenderService),T(1,b.ICharSizeService)],C),v.MouseService=C},3230:function(u,v,S){var p=this&&this.__decorate||function(f,I,k,H){var Y,N=arguments.length,B=N<3?I:null===H?H=Object.getOwnPropertyDescriptor(I,k):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(f,I,k,H);else for(var te=f.length-1;te>=0;te--)(Y=f[te])&&(B=(N<3?Y(B):N>3?Y(I,k,B):Y(I,k))||B);return N>3&&B&&Object.defineProperty(I,k,B),B},T=this&&this.__param||function(f,I){return function(k,H){I(k,H,f)}};Object.defineProperty(v,"__esModule",{value:!0}),v.RenderService=void 0;const b=S(6193),w=S(8460),C=S(844),D=S(5596),g=S(3656),l=S(2585),m=S(4725);let c=class extends C.Disposable{constructor(f,I,k,H,Y,N,B,te){if(super(),this._renderer=f,this._rowCount=I,this._charSizeService=Y,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=new w.EventEmitter,this._onRenderedViewportChange=new w.EventEmitter,this._onRender=new w.EventEmitter,this._onRefreshRequest=new w.EventEmitter,this.register({dispose:()=>this._renderer.dispose()}),this._renderDebouncer=new b.RenderDebouncer(te.window,(Ee,ue)=>this._renderRows(Ee,ue)),this.register(this._renderDebouncer),this._screenDprMonitor=new D.ScreenDprMonitor(te.window),this._screenDprMonitor.setListener(()=>this.onDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(B.onResize(()=>this._fullRefresh())),this.register(B.buffers.onBufferActivate(()=>{var Ee;return null===(Ee=this._renderer)||void 0===Ee?void 0:Ee.clear()})),this.register(H.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.onCharSizeChanged())),this.register(N.onDecorationRegistered(()=>this._fullRefresh())),this.register(N.onDecorationRemoved(()=>this._fullRefresh())),this._renderer.onRequestRedraw(Ee=>this.refreshRows(Ee.start,Ee.end,!0)),this.register((0,g.addDisposableDomListener)(te.window,"resize",()=>this.onDevicePixelRatioChange())),"IntersectionObserver"in te.window){const Ee=new te.window.IntersectionObserver(ue=>this._onIntersectionChange(ue[ue.length-1]),{threshold:0});Ee.observe(k),this.register({dispose:()=>Ee.disconnect()})}}get onDimensionsChange(){return this._onDimensionsChange.event}get onRenderedViewportChange(){return this._onRenderedViewportChange.event}get onRender(){return this._onRender.event}get onRefreshRequest(){return this._onRefreshRequest.event}get dimensions(){return this._renderer.dimensions}_onIntersectionChange(f){this._isPaused=void 0===f.isIntersecting?0===f.intersectionRatio:!f.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(f,I,k=!1){this._isPaused?this._needsFullRefresh=!0:(k||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(f,I,this._rowCount))}_renderRows(f,I){this._renderer.renderRows(f,I),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:f,end:I}),this._onRender.fire({start:f,end:I}),this._isNextRenderRedrawOnly=!0}resize(f,I){this._rowCount=I,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()}_fireOnCanvasResize(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)}dispose(){super.dispose()}setRenderer(f){this._renderer.dispose(),this._renderer=f,this._renderer.onRequestRedraw(I=>this.refreshRows(I.start,I.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(f){return this._renderDebouncer.addRefreshCallback(f)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var f,I;null===(I=null===(f=this._renderer)||void 0===f?void 0:f.clearTextureAtlas)||void 0===I||I.call(f),this._fullRefresh()}setColors(f){this._renderer.setColors(f),this._fullRefresh()}onDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)}onResize(f,I){this._renderer.onResize(f,I),this._fullRefresh()}onCharSizeChanged(){this._renderer.onCharSizeChanged()}onBlur(){this._renderer.onBlur()}onFocus(){this._renderer.onFocus()}onSelectionChanged(f,I,k){this._selectionState.start=f,this._selectionState.end=I,this._selectionState.columnSelectMode=k,this._renderer.onSelectionChanged(f,I,k)}onCursorMove(){this._renderer.onCursorMove()}clear(){this._renderer.clear()}};c=p([T(3,l.IOptionsService),T(4,m.ICharSizeService),T(5,l.IDecorationService),T(6,l.IBufferService),T(7,m.ICoreBrowserService)],c),v.RenderService=c},9312:function(u,v,S){var p=this&&this.__decorate||function(N,B,te,Ee){var ue,V=arguments.length,Z=V<3?B:null===Ee?Ee=Object.getOwnPropertyDescriptor(B,te):Ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(N,B,te,Ee);else for(var $=N.length-1;$>=0;$--)(ue=N[$])&&(Z=(V<3?ue(Z):V>3?ue(B,te,Z):ue(B,te))||Z);return V>3&&Z&&Object.defineProperty(B,te,Z),Z},T=this&&this.__param||function(N,B){return function(te,Ee){B(te,Ee,N)}};Object.defineProperty(v,"__esModule",{value:!0}),v.SelectionService=void 0;const b=S(6114),w=S(456),C=S(511),D=S(8460),g=S(4725),l=S(2585),m=S(9806),c=S(9504),f=S(844),I=S(4841),k=String.fromCharCode(160),H=new RegExp(k,"g");let Y=class extends f.Disposable{constructor(N,B,te,Ee,ue,V,Z,$,re){super(),this._element=N,this._screenElement=B,this._linkifier=te,this._bufferService=Ee,this._coreService=ue,this._mouseService=V,this._optionsService=Z,this._renderService=$,this._coreBrowserService=re,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new C.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new D.EventEmitter),this._onRedrawRequest=this.register(new D.EventEmitter),this._onSelectionChange=this.register(new D.EventEmitter),this._onRequestScrollLines=this.register(new D.EventEmitter),this._mouseMoveListener=Se=>this._onMouseMove(Se),this._mouseUpListener=Se=>this._onMouseUp(Se),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(Se=>this._onTrim(Se)),this.register(this._bufferService.buffers.onBufferActivate(Se=>this._onBufferActivate(Se))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0}get onLinuxMouseSelection(){return this._onLinuxMouseSelection.event}get onRequestRedraw(){return this._onRedrawRequest.event}get onSelectionChange(){return this._onSelectionChange.event}get onRequestScrollLines(){return this._onRequestScrollLines.event}dispose(){this._removeMouseDownListeners()}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const N=this._model.finalSelectionStart,B=this._model.finalSelectionEnd;return!(!N||!B||N[0]===B[0]&&N[1]===B[1])}get selectionText(){const N=this._model.finalSelectionStart,B=this._model.finalSelectionEnd;if(!N||!B)return"";const te=this._bufferService.buffer,Ee=[];if(3===this._activeSelectionMode){if(N[0]===B[0])return"";const ue=N[0]<B[0]?N[0]:B[0],V=N[0]<B[0]?B[0]:N[0];for(let Z=N[1];Z<=B[1];Z++){const $=te.translateBufferLineToString(Z,!0,ue,V);Ee.push($)}}else{Ee.push(te.translateBufferLineToString(N[1],!0,N[0],N[1]===B[1]?B[0]:void 0));for(let V=N[1]+1;V<=B[1]-1;V++){const Z=te.lines.get(V),$=te.translateBufferLineToString(V,!0);(null==Z?void 0:Z.isWrapped)?Ee[Ee.length-1]+=$:Ee.push($)}if(N[1]!==B[1]){const V=te.lines.get(B[1]),Z=te.translateBufferLineToString(B[1],!0,0,B[0]);V&&V.isWrapped?Ee[Ee.length-1]+=Z:Ee.push(Z)}}return Ee.map(ue=>ue.replace(H," ")).join(b.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(N){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),b.isLinux&&N&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(N){const B=this._getMouseBufferCoords(N),te=this._model.finalSelectionStart,Ee=this._model.finalSelectionEnd;return!!(te&&Ee&&B)&&this._areCoordsInSelection(B,te,Ee)}isCellInSelection(N,B){const te=this._model.finalSelectionStart,Ee=this._model.finalSelectionEnd;return!(!te||!Ee)&&this._areCoordsInSelection([N,B],te,Ee)}_areCoordsInSelection(N,B,te){return N[1]>B[1]&&N[1]<te[1]||B[1]===te[1]&&N[1]===B[1]&&N[0]>=B[0]&&N[0]<te[0]||B[1]<te[1]&&N[1]===te[1]&&N[0]<te[0]||B[1]<te[1]&&N[1]===B[1]&&N[0]>=B[0]}_selectWordAtCursor(N,B){var te,Ee;const ue=null===(Ee=null===(te=this._linkifier.currentLink)||void 0===te?void 0:te.link)||void 0===Ee?void 0:Ee.range;if(ue)return this._model.selectionStart=[ue.start.x-1,ue.start.y-1],this._model.selectionStartLength=(0,I.getRangeLength)(ue,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const V=this._getMouseBufferCoords(N);return!!V&&(this._selectWordAt(V,B),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(N,B){this._model.clearSelection(),N=Math.max(N,0),B=Math.min(B,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,N],this._model.selectionEnd=[this._bufferService.cols,B],this.refresh(),this._onSelectionChange.fire()}_onTrim(N){this._model.onTrim(N)&&this.refresh()}_getMouseBufferCoords(N){const B=this._mouseService.getCoords(N,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(B)return B[0]--,B[1]--,B[1]+=this._bufferService.buffer.ydisp,B}_getMouseEventScrollAmount(N){let B=(0,m.getCoordsRelativeToElement)(this._coreBrowserService.window,N,this._screenElement)[1];const te=this._renderService.dimensions.canvasHeight;return B>=0&&B<=te?0:(B>te&&(B-=te),B=Math.min(Math.max(B,-50),50),B/=50,B/Math.abs(B)+Math.round(14*B))}shouldForceSelection(N){return b.isMac?N.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:N.shiftKey}onMouseDown(N){if(this._mouseDownTimeStamp=N.timeStamp,(2!==N.button||!this.hasSelection)&&0===N.button){if(!this._enabled){if(!this.shouldForceSelection(N))return;N.stopPropagation()}N.preventDefault(),this._dragScrollAmount=0,this._enabled&&N.shiftKey?this._onIncrementalClick(N):1===N.detail?this._onSingleClick(N):2===N.detail?this._onDoubleClick(N):3===N.detail&&this._onTripleClick(N),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_onIncrementalClick(N){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(N))}_onSingleClick(N){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(N)?3:0,this._model.selectionStart=this._getMouseBufferCoords(N),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const B=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);B&&B.length!==this._model.selectionStart[0]&&0===B.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_onDoubleClick(N){this._selectWordAtCursor(N,!0)&&(this._activeSelectionMode=1)}_onTripleClick(N){const B=this._getMouseBufferCoords(N);B&&(this._activeSelectionMode=2,this._selectLineAt(B[1]))}shouldColumnSelect(N){return N.altKey&&!(b.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_onMouseMove(N){if(N.stopImmediatePropagation(),!this._model.selectionStart)return;const B=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(N),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(N),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const te=this._bufferService.buffer;if(this._model.selectionEnd[1]<te.lines.length){const Ee=te.lines.get(this._model.selectionEnd[1]);Ee&&0===Ee.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}B&&B[0]===this._model.selectionEnd[0]&&B[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const N=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(N.ydisp+this._bufferService.rows,N.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=N.ydisp),this.refresh()}}_onMouseUp(N){const B=N.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&B<500&&N.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const te=this._mouseService.getCoords(N,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(te&&void 0!==te[0]&&void 0!==te[1]){const Ee=(0,c.moveToCellSequence)(te[0]-1,te[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(Ee,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const N=this._model.finalSelectionStart,B=this._model.finalSelectionEnd,te=!(!N||!B||N[0]===B[0]&&N[1]===B[1]);te?N&&B&&(this._oldSelectionStart&&this._oldSelectionEnd&&N[0]===this._oldSelectionStart[0]&&N[1]===this._oldSelectionStart[1]&&B[0]===this._oldSelectionEnd[0]&&B[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(N,B,te)):this._oldHasSelection&&this._fireOnSelectionChange(N,B,te)}_fireOnSelectionChange(N,B,te){this._oldSelectionStart=N,this._oldSelectionEnd=B,this._oldHasSelection=te,this._onSelectionChange.fire()}_onBufferActivate(N){this.clearSelection(),this._trimListener.dispose(),this._trimListener=N.activeBuffer.lines.onTrim(B=>this._onTrim(B))}_convertViewportColToCharacterIndex(N,B){let te=B[0];for(let Ee=0;B[0]>=Ee;Ee++){const ue=N.loadCell(Ee,this._workCell).getChars().length;0===this._workCell.getWidth()?te--:ue>1&&B[0]!==Ee&&(te+=ue-1)}return te}setSelection(N,B,te){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[N,B],this._model.selectionStartLength=te,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(N){this._isClickInSelection(N)||(this._selectWordAtCursor(N,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(N,B,te=!0,Ee=!0){if(N[0]>=this._bufferService.cols)return;const ue=this._bufferService.buffer,V=ue.lines.get(N[1]);if(!V)return;const Z=ue.translateBufferLineToString(N[1],!1);let $=this._convertViewportColToCharacterIndex(V,N),re=$;const Se=N[0]-$;let qe=0,Ge=0,tt=0,lt=0;if(" "===Z.charAt($)){for(;$>0&&" "===Z.charAt($-1);)$--;for(;re<Z.length&&" "===Z.charAt(re+1);)re++}else{let De=N[0],Pe=N[0];0===V.getWidth(De)&&(qe++,De--),2===V.getWidth(Pe)&&(Ge++,Pe++);const pe=V.getString(Pe).length;for(pe>1&&(lt+=pe-1,re+=pe-1);De>0&&$>0&&!this._isCharWordSeparator(V.loadCell(De-1,this._workCell));){V.loadCell(De-1,this._workCell);const Be=this._workCell.getChars().length;0===this._workCell.getWidth()?(qe++,De--):Be>1&&(tt+=Be-1,$-=Be-1),$--,De--}for(;Pe<V.length&&re+1<Z.length&&!this._isCharWordSeparator(V.loadCell(Pe+1,this._workCell));){V.loadCell(Pe+1,this._workCell);const Be=this._workCell.getChars().length;2===this._workCell.getWidth()?(Ge++,Pe++):Be>1&&(lt+=Be-1,re+=Be-1),re++,Pe++}}re++;let _t=$+Se-qe+tt,he=Math.min(this._bufferService.cols,re-$+qe+Ge-tt-lt);if(B||""!==Z.slice($,re).trim()){if(te&&0===_t&&32!==V.getCodePoint(0)){const De=ue.lines.get(N[1]-1);if(De&&V.isWrapped&&32!==De.getCodePoint(this._bufferService.cols-1)){const Pe=this._getWordAt([this._bufferService.cols-1,N[1]-1],!1,!0,!1);if(Pe){const pe=this._bufferService.cols-Pe.start;_t-=pe,he+=pe}}}if(Ee&&_t+he===this._bufferService.cols&&32!==V.getCodePoint(this._bufferService.cols-1)){const De=ue.lines.get(N[1]+1);if((null==De?void 0:De.isWrapped)&&32!==De.getCodePoint(0)){const Pe=this._getWordAt([0,N[1]+1],!1,!1,!0);Pe&&(he+=Pe.length)}}return{start:_t,length:he}}}_selectWordAt(N,B){const te=this._getWordAt(N,B);if(te){for(;te.start<0;)te.start+=this._bufferService.cols,N[1]--;this._model.selectionStart=[te.start,N[1]],this._model.selectionStartLength=te.length}}_selectToWordAt(N){const B=this._getWordAt(N,!0);if(B){let te=N[1];for(;B.start<0;)B.start+=this._bufferService.cols,te--;if(!this._model.areSelectionValuesReversed())for(;B.start+B.length>this._bufferService.cols;)B.length-=this._bufferService.cols,te++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?B.start:B.start+B.length,te]}}_isCharWordSeparator(N){return 0!==N.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(N.getChars())>=0}_selectLineAt(N){const B=this._bufferService.buffer.getWrappedRangeForLine(N),te={start:{x:0,y:B.first},end:{x:this._bufferService.cols-1,y:B.last}};this._model.selectionStart=[0,B.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,I.getRangeLength)(te,this._bufferService.cols)}};Y=p([T(3,l.IBufferService),T(4,l.ICoreService),T(5,g.IMouseService),T(6,l.IOptionsService),T(7,g.IRenderService),T(8,g.ICoreBrowserService)],Y),v.SelectionService=Y},4725:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ICharacterJoinerService=v.ISelectionService=v.IRenderService=v.IMouseService=v.ICoreBrowserService=v.ICharSizeService=void 0;const p=S(8343);v.ICharSizeService=(0,p.createDecorator)("CharSizeService"),v.ICoreBrowserService=(0,p.createDecorator)("CoreBrowserService"),v.IMouseService=(0,p.createDecorator)("MouseService"),v.IRenderService=(0,p.createDecorator)("RenderService"),v.ISelectionService=(0,p.createDecorator)("SelectionService"),v.ICharacterJoinerService=(0,p.createDecorator)("CharacterJoinerService")},6349:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CircularList=void 0;const p=S(8460);v.CircularList=class{constructor(T){this._maxLength=T,this.onDeleteEmitter=new p.EventEmitter,this.onInsertEmitter=new p.EventEmitter,this.onTrimEmitter=new p.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get onDelete(){return this.onDeleteEmitter.event}get onInsert(){return this.onInsertEmitter.event}get onTrim(){return this.onTrimEmitter.event}get maxLength(){return this._maxLength}set maxLength(T){if(this._maxLength===T)return;const b=new Array(T);for(let w=0;w<Math.min(T,this.length);w++)b[w]=this._array[this._getCyclicIndex(w)];this._array=b,this._maxLength=T,this._startIndex=0}get length(){return this._length}set length(T){if(T>this._length)for(let b=this._length;b<T;b++)this._array[b]=void 0;this._length=T}get(T){return this._array[this._getCyclicIndex(T)]}set(T,b){this._array[this._getCyclicIndex(T)]=b}push(T){this._array[this._getCyclicIndex(this._length)]=T,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(T,b,...w){if(b){for(let C=T;C<this._length-b;C++)this._array[this._getCyclicIndex(C)]=this._array[this._getCyclicIndex(C+b)];this._length-=b,this.onDeleteEmitter.fire({index:T,amount:b})}for(let C=this._length-1;C>=T;C--)this._array[this._getCyclicIndex(C+w.length)]=this._array[this._getCyclicIndex(C)];for(let C=0;C<w.length;C++)this._array[this._getCyclicIndex(T+C)]=w[C];if(w.length&&this.onInsertEmitter.fire({index:T,amount:w.length}),this._length+w.length>this._maxLength){const C=this._length+w.length-this._maxLength;this._startIndex+=C,this._length=this._maxLength,this.onTrimEmitter.fire(C)}else this._length+=w.length}trimStart(T){T>this._length&&(T=this._length),this._startIndex+=T,this._length-=T,this.onTrimEmitter.fire(T)}shiftElements(T,b,w){if(!(b<=0)){if(T<0||T>=this._length)throw new Error("start argument out of range");if(T+w<0)throw new Error("Cannot shift elements in list beyond index 0");if(w>0){for(let D=b-1;D>=0;D--)this.set(T+D+w,this.get(T+D));const C=T+b+w-this._length;if(C>0)for(this._length+=C;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let C=0;C<b;C++)this.set(T+C+w,this.get(T+C))}}_getCyclicIndex(T){return(this._startIndex+T)%this._maxLength}}},1439:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.clone=void 0,v.clone=function S(p,T=5){if("object"!=typeof p)return p;const b=Array.isArray(p)?[]:{};for(const w in p)b[w]=T<=1?p[w]:p[w]&&S(p[w],T-1);return b}},8055:(u,v)=>{var S,p,T,C;function b(C){const D=C.toString(16);return D.length<2?"0"+D:D}function w(C,D){return C<D?(D+.05)/(C+.05):(C+.05)/(D+.05)}Object.defineProperty(v,"__esModule",{value:!0}),v.contrastRatio=v.toPaddedHex=v.rgba=v.rgb=v.css=v.color=v.channels=void 0,(C=S=v.channels||(v.channels={})).toCss=function(D,g,l,m){return void 0!==m?`#${b(D)}${b(g)}${b(l)}${b(m)}`:`#${b(D)}${b(g)}${b(l)}`},C.toRgba=function(D,g,l,m=255){return(D<<24|g<<16|l<<8|m)>>>0},function(C){function D(g,l){const m=Math.round(255*l),[c,f,I]=T.toChannels(g.rgba);return{css:S.toCss(c,f,I,m),rgba:S.toRgba(c,f,I,m)}}C.blend=function(g,l){const m=(255&l.rgba)/255;if(1===m)return{css:l.css,rgba:l.rgba};const f=l.rgba>>16&255,I=l.rgba>>8&255,k=g.rgba>>24&255,H=g.rgba>>16&255,Y=g.rgba>>8&255,N=k+Math.round(((l.rgba>>24&255)-k)*m),B=H+Math.round((f-H)*m),te=Y+Math.round((I-Y)*m);return{css:S.toCss(N,B,te),rgba:S.toRgba(N,B,te)}},C.isOpaque=function(g){return 255==(255&g.rgba)},C.ensureContrastRatio=function(g,l,m){const c=T.ensureContrastRatio(g.rgba,l.rgba,m);if(c)return T.toColor(c>>24&255,c>>16&255,c>>8&255)},C.opaque=function(g){const l=(255|g.rgba)>>>0,[m,c,f]=T.toChannels(l);return{css:S.toCss(m,c,f),rgba:l}},C.opacity=D,C.multiplyOpacity=function(g,l){return D(g,(255&g.rgba)*l/255)},C.toColorRGB=function(g){return[g.rgba>>24&255,g.rgba>>16&255,g.rgba>>8&255]}}(v.color||(v.color={})),(v.css||(v.css={})).toColor=function(C){if(C.match(/#[0-9a-f]{3,8}/i))switch(C.length){case 4:{const g=parseInt(C.slice(1,2).repeat(2),16),l=parseInt(C.slice(2,3).repeat(2),16),m=parseInt(C.slice(3,4).repeat(2),16);return T.toColor(g,l,m)}case 5:{const g=parseInt(C.slice(1,2).repeat(2),16),l=parseInt(C.slice(2,3).repeat(2),16),m=parseInt(C.slice(3,4).repeat(2),16),c=parseInt(C.slice(4,5).repeat(2),16);return T.toColor(g,l,m,c)}case 7:return{css:C,rgba:(parseInt(C.slice(1),16)<<8|255)>>>0};case 9:return{css:C,rgba:parseInt(C.slice(1),16)>>>0}}const D=C.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(D){const g=parseInt(D[1]),l=parseInt(D[2]),m=parseInt(D[3]),c=Math.round(255*(void 0===D[5]?1:parseFloat(D[5])));return T.toColor(g,l,m,c)}throw new Error("css.toColor: Unsupported css format")},function(C){function D(g,l,m){const c=g/255,f=l/255,I=m/255;return.2126*(c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4))+.7152*(f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4))+.0722*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))}C.relativeLuminance=function(g){return D(g>>16&255,g>>8&255,255&g)},C.relativeLuminance2=D}(p=v.rgb||(v.rgb={})),function(C){function D(l,m,c){const f=l>>24&255,I=l>>16&255,k=l>>8&255;let H=m>>24&255,Y=m>>16&255,N=m>>8&255,B=w(p.relativeLuminance2(H,Y,N),p.relativeLuminance2(f,I,k));for(;B<c&&(H>0||Y>0||N>0);)H-=Math.max(0,Math.ceil(.1*H)),Y-=Math.max(0,Math.ceil(.1*Y)),N-=Math.max(0,Math.ceil(.1*N)),B=w(p.relativeLuminance2(H,Y,N),p.relativeLuminance2(f,I,k));return(H<<24|Y<<16|N<<8|255)>>>0}function g(l,m,c){const f=l>>24&255,I=l>>16&255,k=l>>8&255;let H=m>>24&255,Y=m>>16&255,N=m>>8&255,B=w(p.relativeLuminance2(H,Y,N),p.relativeLuminance2(f,I,k));for(;B<c&&(H<255||Y<255||N<255);)H=Math.min(255,H+Math.ceil(.1*(255-H))),Y=Math.min(255,Y+Math.ceil(.1*(255-Y))),N=Math.min(255,N+Math.ceil(.1*(255-N))),B=w(p.relativeLuminance2(H,Y,N),p.relativeLuminance2(f,I,k));return(H<<24|Y<<16|N<<8|255)>>>0}C.ensureContrastRatio=function(l,m,c){const f=p.relativeLuminance(l>>8),I=p.relativeLuminance(m>>8);if(w(f,I)<c){if(I<f){const Y=D(l,m,c),N=w(f,p.relativeLuminance(Y>>8));if(N<c){const B=g(l,m,c);return N>w(f,p.relativeLuminance(B>>8))?Y:B}return Y}const k=g(l,m,c),H=w(f,p.relativeLuminance(k>>8));if(H<c){const Y=D(l,m,c);return H>w(f,p.relativeLuminance(Y>>8))?k:Y}return k}},C.reduceLuminance=D,C.increaseLuminance=g,C.toChannels=function(l){return[l>>24&255,l>>16&255,l>>8&255,255&l]},C.toColor=function(l,m,c,f){return{css:S.toCss(l,m,c,f),rgba:S.toRgba(l,m,c,f)}}}(T=v.rgba||(v.rgba={})),v.toPaddedHex=b,v.contrastRatio=w},8969:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CoreTerminal=void 0;const p=S(844),T=S(2585),b=S(4348),w=S(7866),C=S(744),D=S(7302),g=S(6975),l=S(8460),m=S(1753),c=S(3730),f=S(1480),I=S(7994),k=S(9282),H=S(5435),Y=S(5981),N=S(2660);let B=!1;v.CoreTerminal=class extends p.Disposable{constructor(ue){super(),this._onBinary=new l.EventEmitter,this._onData=new l.EventEmitter,this._onLineFeed=new l.EventEmitter,this._onResize=new l.EventEmitter,this._onScroll=new l.EventEmitter,this._onWriteParsed=new l.EventEmitter,this._instantiationService=new b.InstantiationService,this.optionsService=new D.OptionsService(ue),this._instantiationService.setService(T.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(C.BufferService)),this._instantiationService.setService(T.IBufferService,this._bufferService),this._logService=this._instantiationService.createInstance(w.LogService),this._instantiationService.setService(T.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(g.CoreService,()=>this.scrollToBottom())),this._instantiationService.setService(T.ICoreService,this.coreService),this.coreMouseService=this._instantiationService.createInstance(m.CoreMouseService),this._instantiationService.setService(T.ICoreMouseService,this.coreMouseService),this._dirtyRowService=this._instantiationService.createInstance(c.DirtyRowService),this._instantiationService.setService(T.IDirtyRowService,this._dirtyRowService),this.unicodeService=this._instantiationService.createInstance(f.UnicodeService),this._instantiationService.setService(T.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(I.CharsetService),this._instantiationService.setService(T.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(N.OscLinkService),this._instantiationService.setService(T.IOscLinkService,this._oscLinkService),this._inputHandler=new H.InputHandler(this._bufferService,this._charsetService,this.coreService,this._dirtyRowService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService),this.register((0,l.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,l.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,l.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,l.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.optionsService.onOptionChange(V=>this._updateOptions(V))),this.register(this._bufferService.onScroll(V=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._dirtyRowService.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(V=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._dirtyRowService.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=new Y.WriteBuffer((V,Z)=>this._inputHandler.parse(V,Z)),this.register((0,l.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}get onBinary(){return this._onBinary.event}get onData(){return this._onData.event}get onLineFeed(){return this._onLineFeed.event}get onResize(){return this._onResize.event}get onWriteParsed(){return this._onWriteParsed.event}get onScroll(){return this._onScrollApi||(this._onScrollApi=new l.EventEmitter,this.register(this._onScroll.event(ue=>{var V;null===(V=this._onScrollApi)||void 0===V||V.fire(ue.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(ue){for(const V in ue)this.optionsService.options[V]=ue[V]}dispose(){var ue;this._isDisposed||(super.dispose(),null===(ue=this._windowsMode)||void 0===ue||ue.dispose(),this._windowsMode=void 0)}write(ue,V){this._writeBuffer.write(ue,V)}writeSync(ue,V){this._logService.logLevel<=T.LogLevelEnum.WARN&&!B&&(this._logService.warn("writeSync is unreliable and will be removed soon."),B=!0),this._writeBuffer.writeSync(ue,V)}resize(ue,V){isNaN(ue)||isNaN(V)||(ue=Math.max(ue,C.MINIMUM_COLS),V=Math.max(V,C.MINIMUM_ROWS),this._bufferService.resize(ue,V))}scroll(ue,V=!1){this._bufferService.scroll(ue,V)}scrollLines(ue,V,Z){this._bufferService.scrollLines(ue,V,Z)}scrollPages(ue){this._bufferService.scrollPages(ue)}scrollToTop(){this._bufferService.scrollToTop()}scrollToBottom(){this._bufferService.scrollToBottom()}scrollToLine(ue){this._bufferService.scrollToLine(ue)}registerEscHandler(ue,V){return this._inputHandler.registerEscHandler(ue,V)}registerDcsHandler(ue,V){return this._inputHandler.registerDcsHandler(ue,V)}registerCsiHandler(ue,V){return this._inputHandler.registerCsiHandler(ue,V)}registerOscHandler(ue,V){return this._inputHandler.registerOscHandler(ue,V)}_setup(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_updateOptions(ue){var V;switch(ue){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.rawOptions.windowsMode?this._enableWindowsMode():(null===(V=this._windowsMode)||void 0===V||V.dispose(),this._windowsMode=void 0)}}_enableWindowsMode(){if(!this._windowsMode){const ue=[];ue.push(this.onLineFeed(k.updateWindowsModeWrappedState.bind(null,this._bufferService))),ue.push(this.registerCsiHandler({final:"H"},()=>((0,k.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsMode={dispose:()=>{for(const V of ue)V.dispose()}}}}}},8460:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.forwardEvent=v.EventEmitter=void 0,v.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=S=>(this._listeners.push(S),{dispose:()=>{if(!this._disposed)for(let p=0;p<this._listeners.length;p++)if(this._listeners[p]===S)return void this._listeners.splice(p,1)}})),this._event}fire(S,p){const T=[];for(let b=0;b<this._listeners.length;b++)T.push(this._listeners[b]);for(let b=0;b<T.length;b++)T[b].call(void 0,S,p)}dispose(){this._listeners&&(this._listeners.length=0),this._disposed=!0}},v.forwardEvent=function(S,p){return S(T=>p.fire(T))}},5435:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.InputHandler=v.WindowsOptionsReportType=void 0;const p=S(2584),T=S(7116),b=S(2015),w=S(844),C=S(482),D=S(8437),g=S(8460),l=S(643),m=S(511),c=S(3734),f=S(2585),I=S(6242),k=S(6351),H=S(5941),Y={"(":0,")":1,"*":2,"+":3,"-":1,".":2},N=131072;function B(ue,V){if(ue>24)return V.setWinLines||!1;switch(ue){case 1:return!!V.restoreWin;case 2:return!!V.minimizeWin;case 3:return!!V.setWinPosition;case 4:return!!V.setWinSizePixels;case 5:return!!V.raiseWin;case 6:return!!V.lowerWin;case 7:return!!V.refreshWin;case 8:return!!V.setWinSizeChars;case 9:return!!V.maximizeWin;case 10:return!!V.fullscreenWin;case 11:return!!V.getWinState;case 13:return!!V.getWinPosition;case 14:return!!V.getWinSizePixels;case 15:return!!V.getScreenSizePixels;case 16:return!!V.getCellSizePixels;case 18:return!!V.getWinSizeChars;case 19:return!!V.getScreenSizeChars;case 20:return!!V.getIconTitle;case 21:return!!V.getWinTitle;case 22:return!!V.pushTitle;case 23:return!!V.popTitle;case 24:return!!V.setWinLines}return!1}var te,ue;(ue=te=v.WindowsOptionsReportType||(v.WindowsOptionsReportType={}))[ue.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",ue[ue.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";v.InputHandler=class extends w.Disposable{constructor(V,Z,$,re,Se,qe,Ge,tt,lt,_t=new b.EscapeSequenceParser){super(),this._bufferService=V,this._charsetService=Z,this._coreService=$,this._dirtyRowService=re,this._logService=Se,this._optionsService=qe,this._oscLinkService=Ge,this._coreMouseService=tt,this._unicodeService=lt,this._parser=_t,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new C.StringToUtf32,this._utf8Decoder=new C.Utf8ToUtf32,this._workCell=new m.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=D.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=D.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=new g.EventEmitter,this._onRequestRefreshRows=new g.EventEmitter,this._onRequestReset=new g.EventEmitter,this._onRequestSendFocus=new g.EventEmitter,this._onRequestSyncScrollBar=new g.EventEmitter,this._onRequestWindowsOptionsReport=new g.EventEmitter,this._onA11yChar=new g.EventEmitter,this._onA11yTab=new g.EventEmitter,this._onCursorMove=new g.EventEmitter,this._onLineFeed=new g.EventEmitter,this._onScroll=new g.EventEmitter,this._onTitleChange=new g.EventEmitter,this._onColor=new g.EventEmitter,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(he=>this._activeBuffer=he.activeBuffer)),this._parser.setCsiHandlerFallback((he,De)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(he),params:De.toArray()})}),this._parser.setEscHandlerFallback(he=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(he)})}),this._parser.setExecuteHandlerFallback(he=>{this._logService.debug("Unknown EXECUTE code: ",{code:he})}),this._parser.setOscHandlerFallback((he,De,Pe)=>{this._logService.debug("Unknown OSC code: ",{identifier:he,action:De,data:Pe})}),this._parser.setDcsHandlerFallback((he,De,Pe)=>{"HOOK"===De&&(Pe=Pe.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(he),action:De,payload:Pe})}),this._parser.setPrintHandler((he,De,Pe)=>this.print(he,De,Pe)),this._parser.registerCsiHandler({final:"@"},he=>this.insertChars(he)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},he=>this.scrollLeft(he)),this._parser.registerCsiHandler({final:"A"},he=>this.cursorUp(he)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},he=>this.scrollRight(he)),this._parser.registerCsiHandler({final:"B"},he=>this.cursorDown(he)),this._parser.registerCsiHandler({final:"C"},he=>this.cursorForward(he)),this._parser.registerCsiHandler({final:"D"},he=>this.cursorBackward(he)),this._parser.registerCsiHandler({final:"E"},he=>this.cursorNextLine(he)),this._parser.registerCsiHandler({final:"F"},he=>this.cursorPrecedingLine(he)),this._parser.registerCsiHandler({final:"G"},he=>this.cursorCharAbsolute(he)),this._parser.registerCsiHandler({final:"H"},he=>this.cursorPosition(he)),this._parser.registerCsiHandler({final:"I"},he=>this.cursorForwardTab(he)),this._parser.registerCsiHandler({final:"J"},he=>this.eraseInDisplay(he,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},he=>this.eraseInDisplay(he,!0)),this._parser.registerCsiHandler({final:"K"},he=>this.eraseInLine(he,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},he=>this.eraseInLine(he,!0)),this._parser.registerCsiHandler({final:"L"},he=>this.insertLines(he)),this._parser.registerCsiHandler({final:"M"},he=>this.deleteLines(he)),this._parser.registerCsiHandler({final:"P"},he=>this.deleteChars(he)),this._parser.registerCsiHandler({final:"S"},he=>this.scrollUp(he)),this._parser.registerCsiHandler({final:"T"},he=>this.scrollDown(he)),this._parser.registerCsiHandler({final:"X"},he=>this.eraseChars(he)),this._parser.registerCsiHandler({final:"Z"},he=>this.cursorBackwardTab(he)),this._parser.registerCsiHandler({final:"`"},he=>this.charPosAbsolute(he)),this._parser.registerCsiHandler({final:"a"},he=>this.hPositionRelative(he)),this._parser.registerCsiHandler({final:"b"},he=>this.repeatPrecedingCharacter(he)),this._parser.registerCsiHandler({final:"c"},he=>this.sendDeviceAttributesPrimary(he)),this._parser.registerCsiHandler({prefix:">",final:"c"},he=>this.sendDeviceAttributesSecondary(he)),this._parser.registerCsiHandler({final:"d"},he=>this.linePosAbsolute(he)),this._parser.registerCsiHandler({final:"e"},he=>this.vPositionRelative(he)),this._parser.registerCsiHandler({final:"f"},he=>this.hVPosition(he)),this._parser.registerCsiHandler({final:"g"},he=>this.tabClear(he)),this._parser.registerCsiHandler({final:"h"},he=>this.setMode(he)),this._parser.registerCsiHandler({prefix:"?",final:"h"},he=>this.setModePrivate(he)),this._parser.registerCsiHandler({final:"l"},he=>this.resetMode(he)),this._parser.registerCsiHandler({prefix:"?",final:"l"},he=>this.resetModePrivate(he)),this._parser.registerCsiHandler({final:"m"},he=>this.charAttributes(he)),this._parser.registerCsiHandler({final:"n"},he=>this.deviceStatus(he)),this._parser.registerCsiHandler({prefix:"?",final:"n"},he=>this.deviceStatusPrivate(he)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},he=>this.softReset(he)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},he=>this.setCursorStyle(he)),this._parser.registerCsiHandler({final:"r"},he=>this.setScrollRegion(he)),this._parser.registerCsiHandler({final:"s"},he=>this.saveCursor(he)),this._parser.registerCsiHandler({final:"t"},he=>this.windowOptions(he)),this._parser.registerCsiHandler({final:"u"},he=>this.restoreCursor(he)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},he=>this.insertColumns(he)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},he=>this.deleteColumns(he)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},he=>this.selectProtected(he)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},he=>this.requestMode(he,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},he=>this.requestMode(he,!1)),this._parser.setExecuteHandler(p.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(p.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(p.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(p.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(p.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(p.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(p.C1.IND,()=>this.index()),this._parser.setExecuteHandler(p.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(p.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new I.OscHandler(he=>(this.setTitle(he),this.setIconName(he),!0))),this._parser.registerOscHandler(1,new I.OscHandler(he=>this.setIconName(he))),this._parser.registerOscHandler(2,new I.OscHandler(he=>this.setTitle(he))),this._parser.registerOscHandler(4,new I.OscHandler(he=>this.setOrReportIndexedColor(he))),this._parser.registerOscHandler(8,new I.OscHandler(he=>this.setHyperlink(he))),this._parser.registerOscHandler(10,new I.OscHandler(he=>this.setOrReportFgColor(he))),this._parser.registerOscHandler(11,new I.OscHandler(he=>this.setOrReportBgColor(he))),this._parser.registerOscHandler(12,new I.OscHandler(he=>this.setOrReportCursorColor(he))),this._parser.registerOscHandler(104,new I.OscHandler(he=>this.restoreIndexedColor(he))),this._parser.registerOscHandler(110,new I.OscHandler(he=>this.restoreFgColor(he))),this._parser.registerOscHandler(111,new I.OscHandler(he=>this.restoreBgColor(he))),this._parser.registerOscHandler(112,new I.OscHandler(he=>this.restoreCursorColor(he))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const he in T.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:he},()=>this.selectCharset("("+he)),this._parser.registerEscHandler({intermediates:")",final:he},()=>this.selectCharset(")"+he)),this._parser.registerEscHandler({intermediates:"*",final:he},()=>this.selectCharset("*"+he)),this._parser.registerEscHandler({intermediates:"+",final:he},()=>this.selectCharset("+"+he)),this._parser.registerEscHandler({intermediates:"-",final:he},()=>this.selectCharset("-"+he)),this._parser.registerEscHandler({intermediates:".",final:he},()=>this.selectCharset("."+he)),this._parser.registerEscHandler({intermediates:"/",final:he},()=>this.selectCharset("/"+he));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(he=>(this._logService.error("Parsing error: ",he),he)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new k.DcsHandler((he,De)=>this.requestStatusString(he,De)))}getAttrData(){return this._curAttrData}get onRequestBell(){return this._onRequestBell.event}get onRequestRefreshRows(){return this._onRequestRefreshRows.event}get onRequestReset(){return this._onRequestReset.event}get onRequestSendFocus(){return this._onRequestSendFocus.event}get onRequestSyncScrollBar(){return this._onRequestSyncScrollBar.event}get onRequestWindowsOptionsReport(){return this._onRequestWindowsOptionsReport.event}get onA11yChar(){return this._onA11yChar.event}get onA11yTab(){return this._onA11yTab.event}get onCursorMove(){return this._onCursorMove.event}get onLineFeed(){return this._onLineFeed.event}get onScroll(){return this._onScroll.event}get onTitleChange(){return this._onTitleChange.event}get onColor(){return this._onColor.event}dispose(){super.dispose()}_preserveStack(V,Z,$,re){this._parseStack.paused=!0,this._parseStack.cursorStartX=V,this._parseStack.cursorStartY=Z,this._parseStack.decodedLength=$,this._parseStack.position=re}_logSlowResolvingAsync(V){this._logService.logLevel<=f.LogLevelEnum.WARN&&Promise.race([V,new Promise((Z,$)=>setTimeout(()=>$("#SLOW_TIMEOUT"),5e3))]).catch(Z=>{if("#SLOW_TIMEOUT"!==Z)throw Z;console.warn("async parser handler taking longer than 5000 ms")})}parse(V,Z){let $,re=this._activeBuffer.x,Se=this._activeBuffer.y,qe=0;const Ge=this._parseStack.paused;if(Ge){if($=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,Z))return this._logSlowResolvingAsync($),$;re=this._parseStack.cursorStartX,Se=this._parseStack.cursorStartY,this._parseStack.paused=!1,V.length>N&&(qe=this._parseStack.position+N)}if(this._logService.logLevel<=f.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof V?` "${V}"`:` "${Array.prototype.map.call(V,tt=>String.fromCharCode(tt)).join("")}"`),"string"==typeof V?V.split("").map(tt=>tt.charCodeAt(0)):V),this._parseBuffer.length<V.length&&this._parseBuffer.length<N&&(this._parseBuffer=new Uint32Array(Math.min(V.length,N))),Ge||this._dirtyRowService.clearRange(),V.length>N)for(let tt=qe;tt<V.length;tt+=N){const lt=tt+N<V.length?tt+N:V.length,_t="string"==typeof V?this._stringDecoder.decode(V.substring(tt,lt),this._parseBuffer):this._utf8Decoder.decode(V.subarray(tt,lt),this._parseBuffer);if($=this._parser.parse(this._parseBuffer,_t))return this._preserveStack(re,Se,_t,tt),this._logSlowResolvingAsync($),$}else if(!Ge){const tt="string"==typeof V?this._stringDecoder.decode(V,this._parseBuffer):this._utf8Decoder.decode(V,this._parseBuffer);if($=this._parser.parse(this._parseBuffer,tt))return this._preserveStack(re,Se,tt,0),this._logSlowResolvingAsync($),$}this._activeBuffer.x===re&&this._activeBuffer.y===Se||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)}print(V,Z,$){let re,Se;const qe=this._charsetService.charset,Ge=this._optionsService.rawOptions.screenReaderMode,tt=this._bufferService.cols,lt=this._coreService.decPrivateModes.wraparound,_t=this._coreService.modes.insertMode,he=this._curAttrData;let De=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&$-Z>0&&2===De.getWidth(this._activeBuffer.x-1)&&De.setCellFromCodePoint(this._activeBuffer.x-1,0,1,he.fg,he.bg,he.extended);for(let Pe=Z;Pe<$;++Pe){if(re=V[Pe],Se=this._unicodeService.wcwidth(re),re<127&&qe){const pe=qe[String.fromCharCode(re)];pe&&(re=pe.charCodeAt(0))}if(Ge&&this._onA11yChar.fire((0,C.stringFromCodePoint)(re)),void 0!==this._currentLinkId&&this._oscLinkService.addLineToLink(this._currentLinkId,this._activeBuffer.ybase+this._activeBuffer.y),Se||!this._activeBuffer.x){if(this._activeBuffer.x+Se-1>=tt)if(lt){for(;this._activeBuffer.x<tt;)De.setCellFromCodePoint(this._activeBuffer.x++,0,1,he.fg,he.bg,he.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),De=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=tt-1,2===Se)continue;if(_t&&(De.insertCells(this._activeBuffer.x,Se,this._activeBuffer.getNullCell(he),he),2===De.getWidth(tt-1)&&De.setCellFromCodePoint(tt-1,l.NULL_CELL_CODE,l.NULL_CELL_WIDTH,he.fg,he.bg,he.extended)),De.setCellFromCodePoint(this._activeBuffer.x++,re,Se,he.fg,he.bg,he.extended),Se>0)for(;--Se;)De.setCellFromCodePoint(this._activeBuffer.x++,0,0,he.fg,he.bg,he.extended)}else De.getWidth(this._activeBuffer.x-1)?De.addCodepointToCell(this._activeBuffer.x-1,re):De.addCodepointToCell(this._activeBuffer.x-2,re)}$-Z>0&&(De.loadCell(this._activeBuffer.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._activeBuffer.x<tt&&$-Z>0&&0===De.getWidth(this._activeBuffer.x)&&!De.hasContent(this._activeBuffer.x)&&De.setCellFromCodePoint(this._activeBuffer.x,0,1,he.fg,he.bg,he.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)}registerCsiHandler(V,Z){return this._parser.registerCsiHandler(V,"t"!==V.final||V.prefix||V.intermediates?Z:$=>!B($.params[0],this._optionsService.rawOptions.windowOptions)||Z($))}registerDcsHandler(V,Z){return this._parser.registerDcsHandler(V,new k.DcsHandler(Z))}registerEscHandler(V,Z){return this._parser.registerEscHandler(V,Z)}registerOscHandler(V,Z){return this._parser.registerOscHandler(V,new I.OscHandler(Z))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var V;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(V=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===V?void 0:V.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const Z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);Z.hasWidth(this._activeBuffer.x)&&!Z.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const V=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-V),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(V=this._bufferService.cols-1){this._activeBuffer.x=Math.min(V,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)}_setCursor(V,Z){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=V,this._activeBuffer.y=this._activeBuffer.scrollTop+Z):(this._activeBuffer.x=V,this._activeBuffer.y=Z),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)}_moveCursor(V,Z){this._restrictCursor(),this._setCursor(this._activeBuffer.x+V,this._activeBuffer.y+Z)}cursorUp(V){const Z=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,Z>=0?-Math.min(Z,V.params[0]||1):-(V.params[0]||1)),!0}cursorDown(V){const Z=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,Z>=0?Math.min(Z,V.params[0]||1):V.params[0]||1),!0}cursorForward(V){return this._moveCursor(V.params[0]||1,0),!0}cursorBackward(V){return this._moveCursor(-(V.params[0]||1),0),!0}cursorNextLine(V){return this.cursorDown(V),this._activeBuffer.x=0,!0}cursorPrecedingLine(V){return this.cursorUp(V),this._activeBuffer.x=0,!0}cursorCharAbsolute(V){return this._setCursor((V.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(V){return this._setCursor(V.length>=2?(V.params[1]||1)-1:0,(V.params[0]||1)-1),!0}charPosAbsolute(V){return this._setCursor((V.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(V){return this._moveCursor(V.params[0]||1,0),!0}linePosAbsolute(V){return this._setCursor(this._activeBuffer.x,(V.params[0]||1)-1),!0}vPositionRelative(V){return this._moveCursor(0,V.params[0]||1),!0}hVPosition(V){return this.cursorPosition(V),!0}tabClear(V){const Z=V.params[0];return 0===Z?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===Z&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(V){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let Z=V.params[0]||1;for(;Z--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(V){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let Z=V.params[0]||1;for(;Z--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(V){const Z=V.params[0];return 1===Z&&(this._curAttrData.bg|=536870912),2!==Z&&0!==Z||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(V,Z,$,re=!1,Se=!1){const qe=this._activeBuffer.lines.get(this._activeBuffer.ybase+V);qe.replaceCells(Z,$,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),Se),re&&(qe.isWrapped=!1)}_resetBufferLine(V,Z=!1){const $=this._activeBuffer.lines.get(this._activeBuffer.ybase+V);$.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),Z),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+V),$.isWrapped=!1}eraseInDisplay(V,Z=!1){let $;switch(this._restrictCursor(this._bufferService.cols),V.params[0]){case 0:for($=this._activeBuffer.y,this._dirtyRowService.markDirty($),this._eraseInBufferLine($++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,Z);$<this._bufferService.rows;$++)this._resetBufferLine($,Z);this._dirtyRowService.markDirty($);break;case 1:for($=this._activeBuffer.y,this._dirtyRowService.markDirty($),this._eraseInBufferLine($,0,this._activeBuffer.x+1,!0,Z),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get($+1).isWrapped=!1);$--;)this._resetBufferLine($,Z);this._dirtyRowService.markDirty(0);break;case 2:for($=this._bufferService.rows,this._dirtyRowService.markDirty($-1);$--;)this._resetBufferLine($,Z);this._dirtyRowService.markDirty(0);break;case 3:const re=this._activeBuffer.lines.length-this._bufferService.rows;re>0&&(this._activeBuffer.lines.trimStart(re),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-re,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-re,0),this._onScroll.fire(0))}return!0}eraseInLine(V,Z=!1){switch(this._restrictCursor(this._bufferService.cols),V.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,Z);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,Z);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,Z)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0}insertLines(V){this._restrictCursor();let Z=V.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const $=this._activeBuffer.ybase+this._activeBuffer.y,Se=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;for(;Z--;)this._activeBuffer.lines.splice(Se-1,1),this._activeBuffer.lines.splice($,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(V){this._restrictCursor();let Z=V.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const $=this._activeBuffer.ybase+this._activeBuffer.y;let re;for(re=this._bufferService.rows-1-this._activeBuffer.scrollBottom,re=this._bufferService.rows-1+this._activeBuffer.ybase-re;Z--;)this._activeBuffer.lines.splice($,1),this._activeBuffer.lines.splice(re,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(V){this._restrictCursor();const Z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return Z&&(Z.insertCells(this._activeBuffer.x,V.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0}deleteChars(V){this._restrictCursor();const Z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return Z&&(Z.deleteCells(this._activeBuffer.x,V.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0}scrollUp(V){let Z=V.params[0]||1;for(;Z--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(V){let Z=V.params[0]||1;for(;Z--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(D.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(V){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const Z=V.params[0]||1;for(let $=this._activeBuffer.scrollTop;$<=this._activeBuffer.scrollBottom;++$){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+$);re.deleteCells(0,Z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),re.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(V){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const Z=V.params[0]||1;for(let $=this._activeBuffer.scrollTop;$<=this._activeBuffer.scrollBottom;++$){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+$);re.insertCells(0,Z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),re.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(V){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const Z=V.params[0]||1;for(let $=this._activeBuffer.scrollTop;$<=this._activeBuffer.scrollBottom;++$){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+$);re.insertCells(this._activeBuffer.x,Z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),re.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(V){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const Z=V.params[0]||1;for(let $=this._activeBuffer.scrollTop;$<=this._activeBuffer.scrollBottom;++$){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+$);re.deleteCells(this._activeBuffer.x,Z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),re.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(V){this._restrictCursor();const Z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return Z&&(Z.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(V.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(V){if(!this._parser.precedingCodepoint)return!0;const Z=V.params[0]||1,$=new Uint32Array(Z);for(let re=0;re<Z;++re)$[re]=this._parser.precedingCodepoint;return this.print($,0,$.length),!0}sendDeviceAttributesPrimary(V){return V.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(p.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(p.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(V){return V.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(p.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(p.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(V.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(p.C0.ESC+"[>83;40003;0c")),!0}_is(V){return 0===(this._optionsService.rawOptions.termName+"").indexOf(V)}setMode(V){for(let Z=0;Z<V.length;Z++)switch(V.params[Z]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(V){for(let Z=0;Z<V.length;Z++)switch(V.params[Z]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,T.DEFAULT_CHARSET),this._charsetService.setgCharset(1,T.DEFAULT_CHARSET),this._charsetService.setgCharset(2,T.DEFAULT_CHARSET),this._charsetService.setgCharset(3,T.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(V){for(let Z=0;Z<V.length;Z++)switch(V.params[Z]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(V){for(let Z=0;Z<V.length;Z++)switch(V.params[Z]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===V.params[Z]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(V,Z){const $=this._coreService.decPrivateModes,{activeProtocol:re,activeEncoding:Se}=this._coreMouseService,qe=this._coreService,{buffers:Ge,cols:tt}=this._bufferService,{active:lt,alt:_t}=Ge,he=this._optionsService.rawOptions,De=Xe=>Xe?1:2,Pe=V.params[0];return pe=Pe,Be=Z?2===Pe?3:4===Pe?De(qe.modes.insertMode):12===Pe?4:20===Pe?De(he.convertEol):0:1===Pe?De($.applicationCursorKeys):3===Pe?he.windowOptions.setWinLines?80===tt?2:132===tt?1:0:0:6===Pe?De($.origin):7===Pe?De($.wraparound):8===Pe?3:9===Pe?De("X10"===re):12===Pe?De(he.cursorBlink):25===Pe?De(!qe.isCursorHidden):45===Pe?De($.reverseWraparound):66===Pe?De($.applicationKeypad):1e3===Pe?De("VT200"===re):1002===Pe?De("DRAG"===re):1003===Pe?De("ANY"===re):1004===Pe?De($.sendFocus):1005===Pe?4:1006===Pe?De("SGR"===Se):1015===Pe?4:1016===Pe?De("SGR_PIXELS"===Se):1048===Pe?1:47===Pe||1047===Pe||1049===Pe?De(lt===_t):2004===Pe?De($.bracketedPasteMode):0,qe.triggerDataEvent(`${p.C0.ESC}[${Z?"":"?"}${pe};${Be}$y`),!0;var pe,Be}_updateAttrColor(V,Z,$,re,Se){return 2===Z?(V|=50331648,V&=-16777216,V|=c.AttributeData.fromColorRGB([$,re,Se])):5===Z&&(V&=-50331904,V|=33554432|255&$),V}_extractColor(V,Z,$){const re=[0,0,-1,0,0,0];let Se=0,qe=0;do{if(re[qe+Se]=V.params[Z+qe],V.hasSubParams(Z+qe)){const Ge=V.getSubParams(Z+qe);let tt=0;do{5===re[1]&&(Se=1),re[qe+tt+1+Se]=Ge[tt]}while(++tt<Ge.length&&tt+qe+1+Se<re.length);break}if(5===re[1]&&qe+Se>=2||2===re[1]&&qe+Se>=5)break;re[1]&&(Se=1)}while(++qe+Z<V.length&&qe+Se<re.length);for(let Ge=2;Ge<re.length;++Ge)-1===re[Ge]&&(re[Ge]=0);switch(re[0]){case 38:$.fg=this._updateAttrColor($.fg,re[1],re[3],re[4],re[5]);break;case 48:$.bg=this._updateAttrColor($.bg,re[1],re[3],re[4],re[5]);break;case 58:$.extended=$.extended.clone(),$.extended.underlineColor=this._updateAttrColor($.extended.underlineColor,re[1],re[3],re[4],re[5])}return qe}_processUnderline(V,Z){Z.extended=Z.extended.clone(),(!~V||V>5)&&(V=1),Z.extended.underlineStyle=V,Z.fg|=268435456,0===V&&(Z.fg&=-268435457),Z.updateExtended()}charAttributes(V){if(1===V.length&&0===V.params[0])return this._curAttrData.fg=D.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=D.DEFAULT_ATTR_DATA.bg,!0;const Z=V.length;let $;const re=this._curAttrData;for(let Se=0;Se<Z;Se++)$=V.params[Se],$>=30&&$<=37?(re.fg&=-50331904,re.fg|=16777216|$-30):$>=40&&$<=47?(re.bg&=-50331904,re.bg|=16777216|$-40):$>=90&&$<=97?(re.fg&=-50331904,re.fg|=16777224|$-90):$>=100&&$<=107?(re.bg&=-50331904,re.bg|=16777224|$-100):0===$?(re.fg=D.DEFAULT_ATTR_DATA.fg,re.bg=D.DEFAULT_ATTR_DATA.bg):1===$?re.fg|=134217728:3===$?re.bg|=67108864:4===$?(re.fg|=268435456,this._processUnderline(V.hasSubParams(Se)?V.getSubParams(Se)[0]:1,re)):5===$?re.fg|=536870912:7===$?re.fg|=67108864:8===$?re.fg|=1073741824:9===$?re.fg|=2147483648:2===$?re.bg|=134217728:21===$?this._processUnderline(2,re):22===$?(re.fg&=-134217729,re.bg&=-134217729):23===$?re.bg&=-67108865:24===$?(re.fg&=-268435457,this._processUnderline(0,re)):25===$?re.fg&=-536870913:27===$?re.fg&=-67108865:28===$?re.fg&=-1073741825:29===$?re.fg&=2147483647:39===$?(re.fg&=-67108864,re.fg|=16777215&D.DEFAULT_ATTR_DATA.fg):49===$?(re.bg&=-67108864,re.bg|=16777215&D.DEFAULT_ATTR_DATA.bg):38===$||48===$||58===$?Se+=this._extractColor(V,Se,re):59===$?(re.extended=re.extended.clone(),re.extended.underlineColor=-1,re.updateExtended()):100===$?(re.fg&=-67108864,re.fg|=16777215&D.DEFAULT_ATTR_DATA.fg,re.bg&=-67108864,re.bg|=16777215&D.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",$);return!0}deviceStatus(V){switch(V.params[0]){case 5:this._coreService.triggerDataEvent(`${p.C0.ESC}[0n`);break;case 6:this._coreService.triggerDataEvent(`${p.C0.ESC}[${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`)}return!0}deviceStatusPrivate(V){return 6===V.params[0]&&this._coreService.triggerDataEvent(`${p.C0.ESC}[?${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`),!0}softReset(V){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=D.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(V){const Z=V.params[0]||1;switch(Z){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=Z%2==1,!0}setScrollRegion(V){const Z=V.params[0]||1;let $;return(V.length<2||($=V.params[1])>this._bufferService.rows||0===$)&&($=this._bufferService.rows),$>Z&&(this._activeBuffer.scrollTop=Z-1,this._activeBuffer.scrollBottom=$-1,this._setCursor(0,0)),!0}windowOptions(V){if(!B(V.params[0],this._optionsService.rawOptions.windowOptions))return!0;const Z=V.length>1?V.params[1]:0;switch(V.params[0]){case 14:2!==Z&&this._onRequestWindowsOptionsReport.fire(te.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(te.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${p.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==Z&&2!==Z||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==Z&&1!==Z||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==Z&&2!==Z||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==Z&&1!==Z||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(V){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(V){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(V){return this._windowTitle=V,this._onTitleChange.fire(V),!0}setIconName(V){return this._iconName=V,!0}setOrReportIndexedColor(V){const Z=[],$=V.split(";");for(;$.length>1;){const re=$.shift(),Se=$.shift();if(/^\d+$/.exec(re)){const qe=parseInt(re);if(0<=qe&&qe<256)if("?"===Se)Z.push({type:0,index:qe});else{const Ge=(0,H.parseColor)(Se);Ge&&Z.push({type:1,index:qe,color:Ge})}}}return Z.length&&this._onColor.fire(Z),!0}setHyperlink(V){const Z=V.split(";");return!(Z.length<2)&&(Z[1]?this._createHyperlink(Z[0],Z[1]):!Z[0]&&this._finishHyperlink())}_createHyperlink(V,Z){void 0!==this._currentLinkId&&this._finishHyperlink();const $=V.split(":");let re;const Se=$.findIndex(qe=>qe.startsWith("id="));return-1!==Se&&(re=$[Se].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._currentLinkId=this._oscLinkService.registerLink({id:re,uri:Z}),this._curAttrData.extended.urlId=this._currentLinkId,this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),this._currentLinkId=void 0,!0}_setOrReportSpecialColor(V,Z){const $=V.split(";");for(let re=0;re<$.length&&!(Z>=this._specialColors.length);++re,++Z)if("?"===$[re])this._onColor.fire([{type:0,index:this._specialColors[Z]}]);else{const Se=(0,H.parseColor)($[re]);Se&&this._onColor.fire([{type:1,index:this._specialColors[Z],color:Se}])}return!0}setOrReportFgColor(V){return this._setOrReportSpecialColor(V,0)}setOrReportBgColor(V){return this._setOrReportSpecialColor(V,1)}setOrReportCursorColor(V){return this._setOrReportSpecialColor(V,2)}restoreIndexedColor(V){if(!V)return this._onColor.fire([{type:2}]),!0;const Z=[],$=V.split(";");for(let re=0;re<$.length;++re)if(/^\d+$/.exec($[re])){const Se=parseInt($[re]);0<=Se&&Se<256&&Z.push({type:2,index:Se})}return Z.length&&this._onColor.fire(Z),!0}restoreFgColor(V){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(V){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(V){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,T.DEFAULT_CHARSET),!0}selectCharset(V){return 2!==V.length?(this.selectDefaultCharset(),!0):("/"===V[0]||this._charsetService.setgCharset(Y[V[0]],T.CHARSETS[V[1]]||T.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=D.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=D.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(V){return this._charsetService.setgLevel(V),!0}screenAlignmentPattern(){const V=new m.CellData;V.content=1<<22|"E".charCodeAt(0),V.fg=this._curAttrData.fg,V.bg=this._curAttrData.bg,this._setCursor(0,0);for(let Z=0;Z<this._bufferService.rows;++Z){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+Z);re&&(re.fill(V),re.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(V,Z){const $=this._bufferService.buffer,re=this._optionsService.rawOptions;return(Se=>(this._coreService.triggerDataEvent(`${p.C0.ESC}${Se}${p.C0.ESC}\\`),!0))('"q'===V?`P1$r${this._curAttrData.isProtected()?1:0}"q`:'"p'===V?'P1$r61;1"p':"r"===V?`P1$r${$.scrollTop+1};${$.scrollBottom+1}r`:"m"===V?"P1$r0m":" q"===V?`P1$r${{block:2,underline:4,bar:6}[re.cursorStyle]-(re.cursorBlink?1:0)} q`:"P0$r")}}},844:(u,v)=>{function S(p){for(const T of p)T.dispose();p.length=0}Object.defineProperty(v,"__esModule",{value:!0}),v.getDisposeArrayDisposable=v.disposeArray=v.toDisposable=v.Disposable=void 0,v.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const p of this._disposables)p.dispose();this._disposables.length=0}register(p){return this._disposables.push(p),p}unregister(p){const T=this._disposables.indexOf(p);-1!==T&&this._disposables.splice(T,1)}},v.toDisposable=function(p){return{dispose:p}},v.disposeArray=S,v.getDisposeArrayDisposable=function(p){return{dispose:()=>S(p)}}},1505:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.FourKeyMap=v.TwoKeyMap=void 0;class S{constructor(){this._data={}}set(T,b,w){this._data[T]||(this._data[T]={}),this._data[T][b]=w}get(T,b){return this._data[T]?this._data[T][b]:void 0}clear(){this._data={}}}v.TwoKeyMap=S,v.FourKeyMap=class{constructor(){this._data=new S}set(p,T,b,w,C){this._data.get(p,T)||this._data.set(p,T,new S),this._data.get(p,T).set(b,w,C)}get(p,T,b,w){var C;return null===(C=this._data.get(p,T))||void 0===C?void 0:C.get(b,w)}clear(){this._data.clear()}}},6114:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.isLinux=v.isWindows=v.isIphone=v.isIpad=v.isMac=v.isSafari=v.isLegacyEdge=v.isFirefox=void 0;const S="undefined"==typeof navigator,p=S?"node":navigator.userAgent,T=S?"node":navigator.platform;v.isFirefox=p.includes("Firefox"),v.isLegacyEdge=p.includes("Edge"),v.isSafari=/^((?!chrome|android).)*safari/i.test(p),v.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(T),v.isIpad="iPad"===T,v.isIphone="iPhone"===T,v.isWindows=["Windows","Win16","Win32","WinCE"].includes(T),v.isLinux=T.indexOf("Linux")>=0},6106:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.SortedList=void 0;let S=0;v.SortedList=class{constructor(p){this._getKey=p,this._array=[]}clear(){this._array.length=0}insert(p){0!==this._array.length?(S=this._search(this._getKey(p),0,this._array.length-1),this._array.splice(S,0,p)):this._array.push(p)}delete(p){if(0===this._array.length)return!1;const T=this._getKey(p);if(void 0===T||(S=this._search(T,0,this._array.length-1),-1===S)||this._getKey(this._array[S])!==T)return!1;do{if(this._array[S]===p)return this._array.splice(S,1),!0}while(++S<this._array.length&&this._getKey(this._array[S])===T);return!1}*getKeyIterator(p){if(0!==this._array.length&&(S=this._search(p,0,this._array.length-1),!(S<0||S>=this._array.length)&&this._getKey(this._array[S])===p))do{yield this._array[S]}while(++S<this._array.length&&this._getKey(this._array[S])===p)}forEachByKey(p,T){if(0!==this._array.length&&(S=this._search(p,0,this._array.length-1),!(S<0||S>=this._array.length)&&this._getKey(this._array[S])===p))do{T(this._array[S])}while(++S<this._array.length&&this._getKey(this._array[S])===p)}values(){return this._array.values()}_search(p,T,b){if(b<T)return T;let w=Math.floor((T+b)/2);const C=this._getKey(this._array[w]);if(C>p)return this._search(p,T,w-1);if(C<p)return this._search(p,w+1,b);for(;w>0&&this._getKey(this._array[w-1])===p;)w--;return w}}},8273:(u,v)=>{function S(p,T,b=0,w=p.length){if(b>=p.length)return p;w=w>=p.length?p.length:(p.length+w)%p.length;for(let C=b=(p.length+b)%p.length;C<w;++C)p[C]=T;return p}Object.defineProperty(v,"__esModule",{value:!0}),v.concat=v.fillFallback=v.fill=void 0,v.fill=function(p,T,b,w){return p.fill?p.fill(T,b,w):S(p,T,b,w)},v.fillFallback=S,v.concat=function(p,T){const b=new p.constructor(p.length+T.length);return b.set(p),b.set(T,p.length),b}},9282:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.updateWindowsModeWrappedState=void 0;const p=S(643);v.updateWindowsModeWrappedState=function(T){const b=T.buffer.lines.get(T.buffer.ybase+T.buffer.y-1),w=null==b?void 0:b.get(T.cols-1),C=T.buffer.lines.get(T.buffer.ybase+T.buffer.y);C&&w&&(C.isWrapped=w[p.CHAR_DATA_CODE_INDEX]!==p.NULL_CELL_CODE&&w[p.CHAR_DATA_CODE_INDEX]!==p.WHITESPACE_CELL_CODE)}},3734:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ExtendedAttrs=v.AttributeData=void 0;class S{constructor(){this.fg=0,this.bg=0,this.extended=new p}static toColorRGB(b){return[b>>>16&255,b>>>8&255,255&b]}static fromColorRGB(b){return(255&b[0])<<16|(255&b[1])<<8|255&b[2]}clone(){const b=new S;return b.fg=this.fg,b.bg=this.bg,b.extended=this.extended.clone(),b}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}v.AttributeData=S;class p{constructor(b=0,w=0){this._ext=0,this._urlId=0,this._ext=b,this._urlId=w}get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(b){this._ext=b}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(b){this._ext&=-469762049,this._ext|=b<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(b){this._ext&=-67108864,this._ext|=67108863&b}get urlId(){return this._urlId}set urlId(b){this._urlId=b}clone(){return new p(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}v.ExtendedAttrs=p},9092:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.BufferStringIterator=v.Buffer=v.MAX_BUFFER_SIZE=void 0;const p=S(6349),T=S(8437),b=S(511),w=S(643),C=S(4634),D=S(4863),g=S(7116),l=S(3734);v.MAX_BUFFER_SIZE=4294967295,v.Buffer=class{constructor(c,f,I){this._hasScrollback=c,this._optionsService=f,this._bufferService=I,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=T.DEFAULT_ATTR_DATA.clone(),this.savedCharset=g.DEFAULT_CHARSET,this.markers=[],this._nullCell=b.CellData.fromCharData([0,w.NULL_CELL_CHAR,w.NULL_CELL_WIDTH,w.NULL_CELL_CODE]),this._whitespaceCell=b.CellData.fromCharData([0,w.WHITESPACE_CELL_CHAR,w.WHITESPACE_CELL_WIDTH,w.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new p.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(c){return c?(this._nullCell.fg=c.fg,this._nullCell.bg=c.bg,this._nullCell.extended=c.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new l.ExtendedAttrs),this._nullCell}getWhitespaceCell(c){return c?(this._whitespaceCell.fg=c.fg,this._whitespaceCell.bg=c.bg,this._whitespaceCell.extended=c.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new l.ExtendedAttrs),this._whitespaceCell}getBlankLine(c,f){return new T.BufferLine(this._bufferService.cols,this.getNullCell(c),f)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const c=this.ybase+this.y-this.ydisp;return c>=0&&c<this._rows}_getCorrectBufferLength(c){if(!this._hasScrollback)return c;const f=c+this._optionsService.rawOptions.scrollback;return f>v.MAX_BUFFER_SIZE?v.MAX_BUFFER_SIZE:f}fillViewportRows(c){if(0===this.lines.length){void 0===c&&(c=T.DEFAULT_ATTR_DATA);let f=this._rows;for(;f--;)this.lines.push(this.getBlankLine(c))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new p.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(c,f){const I=this.getNullCell(T.DEFAULT_ATTR_DATA),k=this._getCorrectBufferLength(f);if(k>this.lines.maxLength&&(this.lines.maxLength=k),this.lines.length>0){if(this._cols<c)for(let Y=0;Y<this.lines.length;Y++)this.lines.get(Y).resize(c,I);let H=0;if(this._rows<f)for(let Y=this._rows;Y<f;Y++)this.lines.length<f+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new T.BufferLine(c,I)):this.ybase>0&&this.lines.length<=this.ybase+this.y+H+1?(this.ybase--,H++,this.ydisp>0&&this.ydisp--):this.lines.push(new T.BufferLine(c,I)));else for(let Y=this._rows;Y>f;Y--)this.lines.length>f+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(k<this.lines.maxLength){const Y=this.lines.length-k;Y>0&&(this.lines.trimStart(Y),this.ybase=Math.max(this.ybase-Y,0),this.ydisp=Math.max(this.ydisp-Y,0),this.savedY=Math.max(this.savedY-Y,0)),this.lines.maxLength=k}this.x=Math.min(this.x,c-1),this.y=Math.min(this.y,f-1),H&&(this.y+=H),this.savedX=Math.min(this.savedX,c-1),this.scrollTop=0}if(this.scrollBottom=f-1,this._isReflowEnabled&&(this._reflow(c,f),this._cols>c))for(let H=0;H<this.lines.length;H++)this.lines.get(H).resize(c,I);this._cols=c,this._rows=f}get _isReflowEnabled(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(c,f){this._cols!==c&&(c>this._cols?this._reflowLarger(c,f):this._reflowSmaller(c,f))}_reflowLarger(c,f){const I=(0,C.reflowLargerGetLinesToRemove)(this.lines,this._cols,c,this.ybase+this.y,this.getNullCell(T.DEFAULT_ATTR_DATA));if(I.length>0){const k=(0,C.reflowLargerCreateNewLayout)(this.lines,I);(0,C.reflowLargerApplyNewLayout)(this.lines,k.layout),this._reflowLargerAdjustViewport(c,f,k.countRemoved)}}_reflowLargerAdjustViewport(c,f,I){const k=this.getNullCell(T.DEFAULT_ATTR_DATA);let H=I;for(;H-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<f&&this.lines.push(new T.BufferLine(c,k))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-I,0)}_reflowSmaller(c,f){const I=this.getNullCell(T.DEFAULT_ATTR_DATA),k=[];let H=0;for(let Y=this.lines.length-1;Y>=0;Y--){let N=this.lines.get(Y);if(!N||!N.isWrapped&&N.getTrimmedLength()<=c)continue;const B=[N];for(;N.isWrapped&&Y>0;)N=this.lines.get(--Y),B.unshift(N);const te=this.ybase+this.y;if(te>=Y&&te<Y+B.length)continue;const Ee=B[B.length-1].getTrimmedLength(),ue=(0,C.reflowSmallerGetNewLineLengths)(B,this._cols,c),V=ue.length-B.length;let Z;Z=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+V):Math.max(0,this.lines.length-this.lines.maxLength+V);const $=[];for(let lt=0;lt<V;lt++){const _t=this.getBlankLine(T.DEFAULT_ATTR_DATA,!0);$.push(_t)}$.length>0&&(k.push({start:Y+B.length+H,newLines:$}),H+=$.length),B.push(...$);let re=ue.length-1,Se=ue[re];0===Se&&(re--,Se=ue[re]);let qe=B.length-V-1,Ge=Ee;for(;qe>=0;){const lt=Math.min(Ge,Se);if(void 0===B[re])break;if(B[re].copyCellsFrom(B[qe],Ge-lt,Se-lt,lt,!0),Se-=lt,0===Se&&(re--,Se=ue[re]),Ge-=lt,0===Ge){qe--;const _t=Math.max(qe,0);Ge=(0,C.getWrappedLineTrimmedLength)(B,_t,this._cols)}}for(let lt=0;lt<B.length;lt++)ue[lt]<c&&B[lt].setCell(ue[lt],I);let tt=V-Z;for(;tt-- >0;)0===this.ybase?this.y<f-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+H)-f&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+V,this.ybase+f-1)}if(k.length>0){const Y=[],N=[];for(let re=0;re<this.lines.length;re++)N.push(this.lines.get(re));const B=this.lines.length;let te=B-1,Ee=0,ue=k[Ee];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+H);let V=0;for(let re=Math.min(this.lines.maxLength-1,B+H-1);re>=0;re--)if(ue&&ue.start>te+V){for(let Se=ue.newLines.length-1;Se>=0;Se--)this.lines.set(re--,ue.newLines[Se]);re++,Y.push({index:te+1,amount:ue.newLines.length}),V+=ue.newLines.length,ue=k[++Ee]}else this.lines.set(re,N[te--]);let Z=0;for(let re=Y.length-1;re>=0;re--)Y[re].index+=Z,this.lines.onInsertEmitter.fire(Y[re]),Z+=Y[re].amount;const $=Math.max(0,B+H-this.lines.maxLength);$>0&&this.lines.onTrimEmitter.fire($)}}stringIndexToBufferIndex(c,f,I=!1){for(;f;){const k=this.lines.get(c);if(!k)return[-1,-1];const H=I?k.getTrimmedLength():k.length;for(let Y=0;Y<H;++Y)if(k.get(Y)[w.CHAR_DATA_WIDTH_INDEX]&&(f-=k.get(Y)[w.CHAR_DATA_CHAR_INDEX].length||1),f<0)return[c,Y];c++}return[c,0]}translateBufferLineToString(c,f,I=0,k){const H=this.lines.get(c);return H?H.translateToString(f,I,k):""}getWrappedRangeForLine(c){let f=c,I=c;for(;f>0&&this.lines.get(f).isWrapped;)f--;for(;I+1<this.lines.length&&this.lines.get(I+1).isWrapped;)I++;return{first:f,last:I}}setupTabStops(c){for(null!=c?this.tabs[c]||(c=this.prevStop(c)):(this.tabs={},c=0);c<this._cols;c+=this._optionsService.rawOptions.tabStopWidth)this.tabs[c]=!0}prevStop(c){for(null==c&&(c=this.x);!this.tabs[--c]&&c>0;);return c>=this._cols?this._cols-1:c<0?0:c}nextStop(c){for(null==c&&(c=this.x);!this.tabs[++c]&&c<this._cols;);return c>=this._cols?this._cols-1:c<0?0:c}clearMarkers(c){this._isClearing=!0;for(let f=0;f<this.markers.length;f++)this.markers[f].line===c&&(this.markers[f].dispose(),this.markers.splice(f--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let c=0;c<this.markers.length;c++)this.markers[c].dispose(),this.markers.splice(c--,1);this._isClearing=!1}addMarker(c){const f=new D.Marker(c);return this.markers.push(f),f.register(this.lines.onTrim(I=>{f.line-=I,f.line<0&&f.dispose()})),f.register(this.lines.onInsert(I=>{f.line>=I.index&&(f.line+=I.amount)})),f.register(this.lines.onDelete(I=>{f.line>=I.index&&f.line<I.index+I.amount&&f.dispose(),f.line>I.index&&(f.line-=I.amount)})),f.register(f.onDispose(()=>this._removeMarker(f))),f}_removeMarker(c){this._isClearing||this.markers.splice(this.markers.indexOf(c),1)}iterator(c,f,I,k,H){return new m(this,c,f,I,k,H)}};class m{constructor(f,I,k=0,H=f.lines.length,Y=0,N=0){this._buffer=f,this._trimRight=I,this._startIndex=k,this._endIndex=H,this._startOverscan=Y,this._endOverscan=N,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}hasNext(){return this._current<this._endIndex}next(){const f=this._buffer.getWrappedRangeForLine(this._current);f.first<this._startIndex-this._startOverscan&&(f.first=this._startIndex-this._startOverscan),f.last>this._endIndex+this._endOverscan&&(f.last=this._endIndex+this._endOverscan),f.first=Math.max(f.first,0),f.last=Math.min(f.last,this._buffer.lines.length);let I="";for(let k=f.first;k<=f.last;++k)I+=this._buffer.translateBufferLineToString(k,this._trimRight);return this._current=f.last+1,{range:f,content:I}}}v.BufferStringIterator=m},8437:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.BufferLine=v.DEFAULT_ATTR_DATA=void 0;const p=S(482),T=S(643),b=S(511),w=S(3734);v.DEFAULT_ATTR_DATA=Object.freeze(new w.AttributeData);const C={startIndex:0};class D{constructor(l,m,c=!1){this.isWrapped=c,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*l);const f=m||b.CellData.fromCharData([0,T.NULL_CELL_CHAR,T.NULL_CELL_WIDTH,T.NULL_CELL_CODE]);for(let I=0;I<l;++I)this.setCell(I,f);this.length=l}get(l){const m=this._data[3*l+0],c=2097151&m;return[this._data[3*l+1],2097152&m?this._combined[l]:c?(0,p.stringFromCodePoint)(c):"",m>>22,2097152&m?this._combined[l].charCodeAt(this._combined[l].length-1):c]}set(l,m){this._data[3*l+1]=m[T.CHAR_DATA_ATTR_INDEX],m[T.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[l]=m[1],this._data[3*l+0]=2097152|l|m[T.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*l+0]=m[T.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|m[T.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(l){return this._data[3*l+0]>>22}hasWidth(l){return 12582912&this._data[3*l+0]}getFg(l){return this._data[3*l+1]}getBg(l){return this._data[3*l+2]}hasContent(l){return 4194303&this._data[3*l+0]}getCodePoint(l){const m=this._data[3*l+0];return 2097152&m?this._combined[l].charCodeAt(this._combined[l].length-1):2097151&m}isCombined(l){return 2097152&this._data[3*l+0]}getString(l){const m=this._data[3*l+0];return 2097152&m?this._combined[l]:2097151&m?(0,p.stringFromCodePoint)(2097151&m):""}isProtected(l){return 536870912&this._data[3*l+2]}loadCell(l,m){return C.startIndex=3*l,m.content=this._data[C.startIndex+0],m.fg=this._data[C.startIndex+1],m.bg=this._data[C.startIndex+2],2097152&m.content&&(m.combinedData=this._combined[l]),268435456&m.bg&&(m.extended=this._extendedAttrs[l]),m}setCell(l,m){2097152&m.content&&(this._combined[l]=m.combinedData),268435456&m.bg&&(this._extendedAttrs[l]=m.extended),this._data[3*l+0]=m.content,this._data[3*l+1]=m.fg,this._data[3*l+2]=m.bg}setCellFromCodePoint(l,m,c,f,I,k){268435456&I&&(this._extendedAttrs[l]=k),this._data[3*l+0]=m|c<<22,this._data[3*l+1]=f,this._data[3*l+2]=I}addCodepointToCell(l,m){let c=this._data[3*l+0];2097152&c?this._combined[l]+=(0,p.stringFromCodePoint)(m):(2097151&c?(this._combined[l]=(0,p.stringFromCodePoint)(2097151&c)+(0,p.stringFromCodePoint)(m),c&=-2097152,c|=2097152):c=m|1<<22,this._data[3*l+0]=c)}insertCells(l,m,c,f){if((l%=this.length)&&2===this.getWidth(l-1)&&this.setCellFromCodePoint(l-1,0,1,(null==f?void 0:f.fg)||0,(null==f?void 0:f.bg)||0,(null==f?void 0:f.extended)||new w.ExtendedAttrs),m<this.length-l){const I=new b.CellData;for(let k=this.length-l-m-1;k>=0;--k)this.setCell(l+m+k,this.loadCell(l+k,I));for(let k=0;k<m;++k)this.setCell(l+k,c)}else for(let I=l;I<this.length;++I)this.setCell(I,c);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==f?void 0:f.fg)||0,(null==f?void 0:f.bg)||0,(null==f?void 0:f.extended)||new w.ExtendedAttrs)}deleteCells(l,m,c,f){if(m<this.length-(l%=this.length)){const I=new b.CellData;for(let k=0;k<this.length-l-m;++k)this.setCell(l+k,this.loadCell(l+m+k,I));for(let k=this.length-m;k<this.length;++k)this.setCell(k,c)}else for(let I=l;I<this.length;++I)this.setCell(I,c);l&&2===this.getWidth(l-1)&&this.setCellFromCodePoint(l-1,0,1,(null==f?void 0:f.fg)||0,(null==f?void 0:f.bg)||0,(null==f?void 0:f.extended)||new w.ExtendedAttrs),0!==this.getWidth(l)||this.hasContent(l)||this.setCellFromCodePoint(l,0,1,(null==f?void 0:f.fg)||0,(null==f?void 0:f.bg)||0,(null==f?void 0:f.extended)||new w.ExtendedAttrs)}replaceCells(l,m,c,f,I=!1){if(I)for(l&&2===this.getWidth(l-1)&&!this.isProtected(l-1)&&this.setCellFromCodePoint(l-1,0,1,(null==f?void 0:f.fg)||0,(null==f?void 0:f.bg)||0,(null==f?void 0:f.extended)||new w.ExtendedAttrs),m<this.length&&2===this.getWidth(m-1)&&!this.isProtected(m)&&this.setCellFromCodePoint(m,0,1,(null==f?void 0:f.fg)||0,(null==f?void 0:f.bg)||0,(null==f?void 0:f.extended)||new w.ExtendedAttrs);l<m&&l<this.length;)this.isProtected(l)||this.setCell(l,c),l++;else for(l&&2===this.getWidth(l-1)&&this.setCellFromCodePoint(l-1,0,1,(null==f?void 0:f.fg)||0,(null==f?void 0:f.bg)||0,(null==f?void 0:f.extended)||new w.ExtendedAttrs),m<this.length&&2===this.getWidth(m-1)&&this.setCellFromCodePoint(m,0,1,(null==f?void 0:f.fg)||0,(null==f?void 0:f.bg)||0,(null==f?void 0:f.extended)||new w.ExtendedAttrs);l<m&&l<this.length;)this.setCell(l++,c)}resize(l,m){if(l!==this.length){if(l>this.length){const c=new Uint32Array(3*l);this.length&&c.set(3*l<this._data.length?this._data.subarray(0,3*l):this._data),this._data=c;for(let f=this.length;f<l;++f)this.setCell(f,m)}else if(l){const c=new Uint32Array(3*l);c.set(this._data.subarray(0,3*l)),this._data=c;const f=Object.keys(this._combined);for(let I=0;I<f.length;I++){const k=parseInt(f[I],10);k>=l&&delete this._combined[k]}}else this._data=new Uint32Array(0),this._combined={};this.length=l}}fill(l,m=!1){if(m)for(let c=0;c<this.length;++c)this.isProtected(c)||this.setCell(c,l);else{this._combined={},this._extendedAttrs={};for(let c=0;c<this.length;++c)this.setCell(c,l)}}copyFrom(l){this.length!==l.length?this._data=new Uint32Array(l._data):this._data.set(l._data),this.length=l.length,this._combined={};for(const m in l._combined)this._combined[m]=l._combined[m];this._extendedAttrs={};for(const m in l._extendedAttrs)this._extendedAttrs[m]=l._extendedAttrs[m];this.isWrapped=l.isWrapped}clone(){const l=new D(0);l._data=new Uint32Array(this._data),l.length=this.length;for(const m in this._combined)l._combined[m]=this._combined[m];for(const m in this._extendedAttrs)l._extendedAttrs[m]=this._extendedAttrs[m];return l.isWrapped=this.isWrapped,l}getTrimmedLength(){for(let l=this.length-1;l>=0;--l)if(4194303&this._data[3*l+0])return l+(this._data[3*l+0]>>22);return 0}copyCellsFrom(l,m,c,f,I){const k=l._data;if(I)for(let Y=f-1;Y>=0;Y--){for(let N=0;N<3;N++)this._data[3*(c+Y)+N]=k[3*(m+Y)+N];268435456&k[3*(m+Y)+2]&&(this._extendedAttrs[c+Y]=l._extendedAttrs[m+Y])}else for(let Y=0;Y<f;Y++){for(let N=0;N<3;N++)this._data[3*(c+Y)+N]=k[3*(m+Y)+N];268435456&k[3*(m+Y)+2]&&(this._extendedAttrs[c+Y]=l._extendedAttrs[m+Y])}const H=Object.keys(l._combined);for(let Y=0;Y<H.length;Y++){const N=parseInt(H[Y],10);N>=m&&(this._combined[N-m+c]=l._combined[N])}}translateToString(l=!1,m=0,c=this.length){l&&(c=Math.min(c,this.getTrimmedLength()));let f="";for(;m<c;){const I=this._data[3*m+0],k=2097151&I;f+=2097152&I?this._combined[m]:k?(0,p.stringFromCodePoint)(k):T.WHITESPACE_CELL_CHAR,m+=I>>22||1}return f}}v.BufferLine=D},4841:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.getRangeLength=void 0,v.getRangeLength=function(S,p){if(S.start.y>S.end.y)throw new Error(`Buffer range end (${S.end.x}, ${S.end.y}) cannot be before start (${S.start.x}, ${S.start.y})`);return p*(S.end.y-S.start.y)+(S.end.x-S.start.x+1)}},4634:(u,v)=>{function S(p,T,b){if(T===p.length-1)return p[T].getTrimmedLength();const w=!p[T].hasContent(b-1)&&1===p[T].getWidth(b-1),C=2===p[T+1].getWidth(0);return w&&C?b-1:b}Object.defineProperty(v,"__esModule",{value:!0}),v.getWrappedLineTrimmedLength=v.reflowSmallerGetNewLineLengths=v.reflowLargerApplyNewLayout=v.reflowLargerCreateNewLayout=v.reflowLargerGetLinesToRemove=void 0,v.reflowLargerGetLinesToRemove=function(p,T,b,w,C){const D=[];for(let g=0;g<p.length-1;g++){let l=g,m=p.get(++l);if(!m.isWrapped)continue;const c=[p.get(g)];for(;l<p.length&&m.isWrapped;)c.push(m),m=p.get(++l);if(w>=g&&w<l){g+=c.length-1;continue}let f=0,I=S(c,f,T),k=1,H=0;for(;k<c.length;){const N=S(c,k,T),Ee=Math.min(N-H,b-I);c[f].copyCellsFrom(c[k],H,I,Ee,!1),I+=Ee,I===b&&(f++,I=0),H+=Ee,H===N&&(k++,H=0),0===I&&0!==f&&2===c[f-1].getWidth(b-1)&&(c[f].copyCellsFrom(c[f-1],b-1,I++,1,!1),c[f-1].setCell(b-1,C))}c[f].replaceCells(I,b,C);let Y=0;for(let N=c.length-1;N>0&&(N>f||0===c[N].getTrimmedLength());N--)Y++;Y>0&&(D.push(g+c.length-Y),D.push(Y)),g+=c.length-1}return D},v.reflowLargerCreateNewLayout=function(p,T){const b=[];let w=0,C=T[w],D=0;for(let g=0;g<p.length;g++)if(C===g){const l=T[++w];p.onDeleteEmitter.fire({index:g-D,amount:l}),g+=l-1,D+=l,C=T[++w]}else b.push(g);return{layout:b,countRemoved:D}},v.reflowLargerApplyNewLayout=function(p,T){const b=[];for(let w=0;w<T.length;w++)b.push(p.get(T[w]));for(let w=0;w<b.length;w++)p.set(w,b[w]);p.length=T.length},v.reflowSmallerGetNewLineLengths=function(p,T,b){const w=[],C=p.map((m,c)=>S(p,c,T)).reduce((m,c)=>m+c);let D=0,g=0,l=0;for(;l<C;){if(C-l<b){w.push(C-l);break}D+=b;const m=S(p,g,T);D>m&&(D-=m,g++);const c=2===p[g].getWidth(D-1);c&&D--;const f=c?b-1:b;w.push(f),l+=f}return w},v.getWrappedLineTrimmedLength=S},5295:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.BufferSet=void 0;const p=S(9092),T=S(8460),b=S(844);v.BufferSet=class extends b.Disposable{constructor(D,g){super(),this._optionsService=D,this._bufferService=g,this._onBufferActivate=this.register(new T.EventEmitter),this.reset()}get onBufferActivate(){return this._onBufferActivate.event}reset(){this._normal=new p.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new p.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(D){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(D),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(D,g){this._normal.resize(D,g),this._alt.resize(D,g)}setupTabStops(D){this._normal.setupTabStops(D),this._alt.setupTabStops(D)}}},511:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CellData=void 0;const p=S(482),T=S(643),b=S(3734);class w extends b.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new b.ExtendedAttrs,this.combinedData=""}static fromCharData(D){const g=new w;return g.setFromCharData(D),g}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,p.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(D){this.fg=D[T.CHAR_DATA_ATTR_INDEX],this.bg=0;let g=!1;if(D[T.CHAR_DATA_CHAR_INDEX].length>2)g=!0;else if(2===D[T.CHAR_DATA_CHAR_INDEX].length){const l=D[T.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=l&&l<=56319){const m=D[T.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=m&&m<=57343?this.content=1024*(l-55296)+m-56320+65536|D[T.CHAR_DATA_WIDTH_INDEX]<<22:g=!0}else g=!0}else this.content=D[T.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|D[T.CHAR_DATA_WIDTH_INDEX]<<22;g&&(this.combinedData=D[T.CHAR_DATA_CHAR_INDEX],this.content=2097152|D[T.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}v.CellData=w},643:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.WHITESPACE_CELL_CODE=v.WHITESPACE_CELL_WIDTH=v.WHITESPACE_CELL_CHAR=v.NULL_CELL_CODE=v.NULL_CELL_WIDTH=v.NULL_CELL_CHAR=v.CHAR_DATA_CODE_INDEX=v.CHAR_DATA_WIDTH_INDEX=v.CHAR_DATA_CHAR_INDEX=v.CHAR_DATA_ATTR_INDEX=v.DEFAULT_EXT=v.DEFAULT_ATTR=v.DEFAULT_COLOR=void 0,v.DEFAULT_COLOR=256,v.DEFAULT_ATTR=256|v.DEFAULT_COLOR<<9,v.DEFAULT_EXT=0,v.CHAR_DATA_ATTR_INDEX=0,v.CHAR_DATA_CHAR_INDEX=1,v.CHAR_DATA_WIDTH_INDEX=2,v.CHAR_DATA_CODE_INDEX=3,v.NULL_CELL_CHAR="",v.NULL_CELL_WIDTH=1,v.NULL_CELL_CODE=0,v.WHITESPACE_CELL_CHAR=" ",v.WHITESPACE_CELL_WIDTH=1,v.WHITESPACE_CELL_CODE=32},4863:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Marker=void 0;const p=S(8460),T=S(844);class b extends T.Disposable{constructor(C){super(),this.line=C,this._id=b._nextId++,this.isDisposed=!1,this._onDispose=new p.EventEmitter}get id(){return this._id}get onDispose(){return this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),super.dispose())}}v.Marker=b,b._nextId=1},7116:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.DEFAULT_CHARSET=v.CHARSETS=void 0,v.CHARSETS={},v.DEFAULT_CHARSET=v.CHARSETS.B,v.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},v.CHARSETS.A={"#":"\xa3"},v.CHARSETS.B=void 0,v.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},v.CHARSETS.C=v.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},v.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},v.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},v.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},v.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},v.CHARSETS.E=v.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},v.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},v.CHARSETS.H=v.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},v.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(u,v)=>{var S,p,T;Object.defineProperty(v,"__esModule",{value:!0}),v.C1_ESCAPED=v.C1=v.C0=void 0,(T=S=v.C0||(v.C0={})).NUL="\0",T.SOH="\x01",T.STX="\x02",T.ETX="\x03",T.EOT="\x04",T.ENQ="\x05",T.ACK="\x06",T.BEL="\x07",T.BS="\b",T.HT="\t",T.LF="\n",T.VT="\v",T.FF="\f",T.CR="\r",T.SO="\x0e",T.SI="\x0f",T.DLE="\x10",T.DC1="\x11",T.DC2="\x12",T.DC3="\x13",T.DC4="\x14",T.NAK="\x15",T.SYN="\x16",T.ETB="\x17",T.CAN="\x18",T.EM="\x19",T.SUB="\x1a",T.ESC="\x1b",T.FS="\x1c",T.GS="\x1d",T.RS="\x1e",T.US="\x1f",T.SP=" ",T.DEL="\x7f",(p=v.C1||(v.C1={})).PAD="\x80",p.HOP="\x81",p.BPH="\x82",p.NBH="\x83",p.IND="\x84",p.NEL="\x85",p.SSA="\x86",p.ESA="\x87",p.HTS="\x88",p.HTJ="\x89",p.VTS="\x8a",p.PLD="\x8b",p.PLU="\x8c",p.RI="\x8d",p.SS2="\x8e",p.SS3="\x8f",p.DCS="\x90",p.PU1="\x91",p.PU2="\x92",p.STS="\x93",p.CCH="\x94",p.MW="\x95",p.SPA="\x96",p.EPA="\x97",p.SOS="\x98",p.SGCI="\x99",p.SCI="\x9a",p.CSI="\x9b",p.ST="\x9c",p.OSC="\x9d",p.PM="\x9e",p.APC="\x9f",(v.C1_ESCAPED||(v.C1_ESCAPED={})).ST=`${S.ESC}\\`},7399:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.evaluateKeyboardEvent=void 0;const p=S(2584),T={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};v.evaluateKeyboardEvent=function(b,w,C,D){const g={type:0,cancel:!1,key:void 0},l=(b.shiftKey?1:0)|(b.altKey?2:0)|(b.ctrlKey?4:0)|(b.metaKey?8:0);switch(b.keyCode){case 0:"UIKeyInputUpArrow"===b.key?g.key=w?p.C0.ESC+"OA":p.C0.ESC+"[A":"UIKeyInputLeftArrow"===b.key?g.key=w?p.C0.ESC+"OD":p.C0.ESC+"[D":"UIKeyInputRightArrow"===b.key?g.key=w?p.C0.ESC+"OC":p.C0.ESC+"[C":"UIKeyInputDownArrow"===b.key&&(g.key=w?p.C0.ESC+"OB":p.C0.ESC+"[B");break;case 8:if(b.altKey){g.key=p.C0.ESC+p.C0.DEL;break}g.key=p.C0.DEL;break;case 9:if(b.shiftKey){g.key=p.C0.ESC+"[Z";break}g.key=p.C0.HT,g.cancel=!0;break;case 13:g.key=b.altKey?p.C0.ESC+p.C0.CR:p.C0.CR,g.cancel=!0;break;case 27:g.key=p.C0.ESC,b.altKey&&(g.key=p.C0.ESC+p.C0.ESC),g.cancel=!0;break;case 37:if(b.metaKey)break;l?(g.key=p.C0.ESC+"[1;"+(l+1)+"D",g.key===p.C0.ESC+"[1;3D"&&(g.key=p.C0.ESC+(C?"b":"[1;5D"))):g.key=w?p.C0.ESC+"OD":p.C0.ESC+"[D";break;case 39:if(b.metaKey)break;l?(g.key=p.C0.ESC+"[1;"+(l+1)+"C",g.key===p.C0.ESC+"[1;3C"&&(g.key=p.C0.ESC+(C?"f":"[1;5C"))):g.key=w?p.C0.ESC+"OC":p.C0.ESC+"[C";break;case 38:if(b.metaKey)break;l?(g.key=p.C0.ESC+"[1;"+(l+1)+"A",C||g.key!==p.C0.ESC+"[1;3A"||(g.key=p.C0.ESC+"[1;5A")):g.key=w?p.C0.ESC+"OA":p.C0.ESC+"[A";break;case 40:if(b.metaKey)break;l?(g.key=p.C0.ESC+"[1;"+(l+1)+"B",C||g.key!==p.C0.ESC+"[1;3B"||(g.key=p.C0.ESC+"[1;5B")):g.key=w?p.C0.ESC+"OB":p.C0.ESC+"[B";break;case 45:b.shiftKey||b.ctrlKey||(g.key=p.C0.ESC+"[2~");break;case 46:g.key=l?p.C0.ESC+"[3;"+(l+1)+"~":p.C0.ESC+"[3~";break;case 36:g.key=l?p.C0.ESC+"[1;"+(l+1)+"H":w?p.C0.ESC+"OH":p.C0.ESC+"[H";break;case 35:g.key=l?p.C0.ESC+"[1;"+(l+1)+"F":w?p.C0.ESC+"OF":p.C0.ESC+"[F";break;case 33:b.shiftKey?g.type=2:g.key=b.ctrlKey?p.C0.ESC+"[5;"+(l+1)+"~":p.C0.ESC+"[5~";break;case 34:b.shiftKey?g.type=3:g.key=b.ctrlKey?p.C0.ESC+"[6;"+(l+1)+"~":p.C0.ESC+"[6~";break;case 112:g.key=l?p.C0.ESC+"[1;"+(l+1)+"P":p.C0.ESC+"OP";break;case 113:g.key=l?p.C0.ESC+"[1;"+(l+1)+"Q":p.C0.ESC+"OQ";break;case 114:g.key=l?p.C0.ESC+"[1;"+(l+1)+"R":p.C0.ESC+"OR";break;case 115:g.key=l?p.C0.ESC+"[1;"+(l+1)+"S":p.C0.ESC+"OS";break;case 116:g.key=l?p.C0.ESC+"[15;"+(l+1)+"~":p.C0.ESC+"[15~";break;case 117:g.key=l?p.C0.ESC+"[17;"+(l+1)+"~":p.C0.ESC+"[17~";break;case 118:g.key=l?p.C0.ESC+"[18;"+(l+1)+"~":p.C0.ESC+"[18~";break;case 119:g.key=l?p.C0.ESC+"[19;"+(l+1)+"~":p.C0.ESC+"[19~";break;case 120:g.key=l?p.C0.ESC+"[20;"+(l+1)+"~":p.C0.ESC+"[20~";break;case 121:g.key=l?p.C0.ESC+"[21;"+(l+1)+"~":p.C0.ESC+"[21~";break;case 122:g.key=l?p.C0.ESC+"[23;"+(l+1)+"~":p.C0.ESC+"[23~";break;case 123:g.key=l?p.C0.ESC+"[24;"+(l+1)+"~":p.C0.ESC+"[24~";break;default:if(!b.ctrlKey||b.shiftKey||b.altKey||b.metaKey)if(C&&!D||!b.altKey||b.metaKey)!C||b.altKey||b.ctrlKey||b.shiftKey||!b.metaKey?b.key&&!b.ctrlKey&&!b.altKey&&!b.metaKey&&b.keyCode>=48&&1===b.key.length?g.key=b.key:b.key&&b.ctrlKey&&("_"===b.key&&(g.key=p.C0.US),"@"===b.key&&(g.key=p.C0.NUL)):65===b.keyCode&&(g.type=1);else{const m=T[b.keyCode],c=null==m?void 0:m[b.shiftKey?1:0];if(c)g.key=p.C0.ESC+c;else if(b.keyCode>=65&&b.keyCode<=90){let I=String.fromCharCode(b.ctrlKey?b.keyCode-64:b.keyCode+32);b.shiftKey&&(I=I.toUpperCase()),g.key=p.C0.ESC+I}else if("Dead"===b.key&&b.code.startsWith("Key")){let f=b.code.slice(3,4);b.shiftKey||(f=f.toLowerCase()),g.key=p.C0.ESC+f,g.cancel=!0}}else b.keyCode>=65&&b.keyCode<=90?g.key=String.fromCharCode(b.keyCode-64):32===b.keyCode?g.key=p.C0.NUL:b.keyCode>=51&&b.keyCode<=55?g.key=String.fromCharCode(b.keyCode-51+27):56===b.keyCode?g.key=p.C0.DEL:219===b.keyCode?g.key=p.C0.ESC:220===b.keyCode?g.key=p.C0.FS:221===b.keyCode&&(g.key=p.C0.GS)}return g}},482:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Utf8ToUtf32=v.StringToUtf32=v.utf32ToString=v.stringFromCodePoint=void 0,v.stringFromCodePoint=function(S){return S>65535?(S-=65536,String.fromCharCode(55296+(S>>10))+String.fromCharCode(S%1024+56320)):String.fromCharCode(S)},v.utf32ToString=function(S,p=0,T=S.length){let b="";for(let w=p;w<T;++w){let C=S[w];C>65535?(C-=65536,b+=String.fromCharCode(55296+(C>>10))+String.fromCharCode(C%1024+56320)):b+=String.fromCharCode(C)}return b},v.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(S,p){const T=S.length;if(!T)return 0;let b=0,w=0;if(this._interim){const C=S.charCodeAt(w++);56320<=C&&C<=57343?p[b++]=1024*(this._interim-55296)+C-56320+65536:(p[b++]=this._interim,p[b++]=C),this._interim=0}for(let C=w;C<T;++C){const D=S.charCodeAt(C);if(55296<=D&&D<=56319){if(++C>=T)return this._interim=D,b;const g=S.charCodeAt(C);56320<=g&&g<=57343?p[b++]=1024*(D-55296)+g-56320+65536:(p[b++]=D,p[b++]=g)}else 65279!==D&&(p[b++]=D)}return b}},v.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(S,p){const T=S.length;if(!T)return 0;let b,w,C,D,g=0,l=0,m=0;if(this.interim[0]){let I=!1,k=this.interim[0];k&=192==(224&k)?31:224==(240&k)?15:7;let H,Y=0;for(;(H=63&this.interim[++Y])&&Y<4;)k<<=6,k|=H;const N=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,B=N-Y;for(;m<B;){if(m>=T)return 0;if(H=S[m++],128!=(192&H)){m--,I=!0;break}this.interim[Y++]=H,k<<=6,k|=63&H}I||(2===N?k<128?m--:p[g++]=k:3===N?k<2048||k>=55296&&k<=57343||65279===k||(p[g++]=k):k<65536||k>1114111||(p[g++]=k)),this.interim.fill(0)}const c=T-4;let f=m;for(;f<T;){for(;!(!(f<c)||128&(b=S[f])||128&(w=S[f+1])||128&(C=S[f+2])||128&(D=S[f+3]));)p[g++]=b,p[g++]=w,p[g++]=C,p[g++]=D,f+=4;if(b=S[f++],b<128)p[g++]=b;else if(192==(224&b)){if(f>=T)return this.interim[0]=b,g;if(w=S[f++],128!=(192&w)){f--;continue}if(l=(31&b)<<6|63&w,l<128){f--;continue}p[g++]=l}else if(224==(240&b)){if(f>=T)return this.interim[0]=b,g;if(w=S[f++],128!=(192&w)){f--;continue}if(f>=T)return this.interim[0]=b,this.interim[1]=w,g;if(C=S[f++],128!=(192&C)){f--;continue}if(l=(15&b)<<12|(63&w)<<6|63&C,l<2048||l>=55296&&l<=57343||65279===l)continue;p[g++]=l}else if(240==(248&b)){if(f>=T)return this.interim[0]=b,g;if(w=S[f++],128!=(192&w)){f--;continue}if(f>=T)return this.interim[0]=b,this.interim[1]=w,g;if(C=S[f++],128!=(192&C)){f--;continue}if(f>=T)return this.interim[0]=b,this.interim[1]=w,this.interim[2]=C,g;if(D=S[f++],128!=(192&D)){f--;continue}if(l=(7&b)<<18|(63&w)<<12|(63&C)<<6|63&D,l<65536||l>1114111)continue;p[g++]=l}}return g}}},225:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.UnicodeV6=void 0;const p=S(8273),T=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],b=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let w;v.UnicodeV6=class{constructor(){if(this.version="6",!w){w=new Uint8Array(65536),(0,p.fill)(w,1),w[0]=0,(0,p.fill)(w,0,1,32),(0,p.fill)(w,0,127,160),(0,p.fill)(w,2,4352,4448),w[9001]=2,w[9002]=2,(0,p.fill)(w,2,11904,42192),w[12351]=1,(0,p.fill)(w,2,44032,55204),(0,p.fill)(w,2,63744,64256),(0,p.fill)(w,2,65040,65050),(0,p.fill)(w,2,65072,65136),(0,p.fill)(w,2,65280,65377),(0,p.fill)(w,2,65504,65511);for(let C=0;C<T.length;++C)(0,p.fill)(w,0,T[C][0],T[C][1]+1)}}wcwidth(C){return C<32?0:C<127?1:C<65536?w[C]:function(D,g){let l,m=0,c=g.length-1;if(D<g[0][0]||D>g[c][1])return!1;for(;c>=m;)if(l=m+c>>1,D>g[l][1])m=l+1;else{if(!(D<g[l][0]))return!0;c=l-1}return!1}(C,b)?0:C>=131072&&C<=196605||C>=196608&&C<=262141?2:1}}},5981:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.WriteBuffer=void 0;const p=S(8460),T="undefined"==typeof queueMicrotask?b=>{Promise.resolve().then(b)}:queueMicrotask;v.WriteBuffer=class{constructor(b){this._action=b,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._onWriteParsed=new p.EventEmitter}get onWriteParsed(){return this._onWriteParsed.event}writeSync(b,w){if(void 0!==w&&this._syncCalls>w)return void(this._syncCalls=0);if(this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let C;for(this._isSyncWriting=!0;C=this._writeBuffer.shift();){this._action(C);const D=this._callbacks.shift();D&&D()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(b,w){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(()=>this._innerWrite())),this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(w)}_innerWrite(b=0,w=!0){const C=b||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const D=this._writeBuffer[this._bufferOffset],g=this._action(D,w);if(g){const m=c=>Date.now()-C>=12?setTimeout(()=>this._innerWrite(0,c)):this._innerWrite(C,c);return void g.catch(c=>(T(()=>{throw c}),Promise.resolve(!1))).then(m)}const l=this._callbacks[this._bufferOffset];if(l&&l(),this._bufferOffset++,this._pendingData-=D.length,Date.now()-C>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.toRgbString=v.parseColor=void 0;const S=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,p=/^[\da-f]+$/;function T(b,w){const C=b.toString(16),D=C.length<2?"0"+C:C;switch(w){case 4:return C[0];case 8:return D;case 12:return(D+D).slice(0,3);default:return D+D}}v.parseColor=function(b){if(!b)return;let w=b.toLowerCase();if(0===w.indexOf("rgb:")){w=w.slice(4);const C=S.exec(w);if(C){const D=C[1]?15:C[4]?255:C[7]?4095:65535;return[Math.round(parseInt(C[1]||C[4]||C[7]||C[10],16)/D*255),Math.round(parseInt(C[2]||C[5]||C[8]||C[11],16)/D*255),Math.round(parseInt(C[3]||C[6]||C[9]||C[12],16)/D*255)]}}else if(0===w.indexOf("#")&&(w=w.slice(1),p.exec(w)&&[3,6,9,12].includes(w.length))){const C=w.length/3,D=[0,0,0];for(let g=0;g<3;++g){const l=parseInt(w.slice(C*g,C*g+C),16);D[g]=1===C?l<<4:2===C?l:3===C?l>>4:l>>8}return D}},v.toRgbString=function(b,w=16){const[C,D,g]=b;return`rgb:${T(C,w)}/${T(D,w)}/${T(g,w)}`}},5770:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PAYLOAD_LIMIT=void 0,v.PAYLOAD_LIMIT=1e7},6351:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.DcsHandler=v.DcsParser=void 0;const p=S(482),T=S(8742),b=S(5770),w=[];v.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=w,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=w}registerHandler(D,g){void 0===this._handlers[D]&&(this._handlers[D]=[]);const l=this._handlers[D];return l.push(g),{dispose:()=>{const m=l.indexOf(g);-1!==m&&l.splice(m,1)}}}clearHandler(D){this._handlers[D]&&delete this._handlers[D]}setHandlerFallback(D){this._handlerFb=D}reset(){if(this._active.length)for(let D=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;D>=0;--D)this._active[D].unhook(!1);this._stack.paused=!1,this._active=w,this._ident=0}hook(D,g){if(this.reset(),this._ident=D,this._active=this._handlers[D]||w,this._active.length)for(let l=this._active.length-1;l>=0;l--)this._active[l].hook(g);else this._handlerFb(this._ident,"HOOK",g)}put(D,g,l){if(this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].put(D,g,l);else this._handlerFb(this._ident,"PUT",(0,p.utf32ToString)(D,g,l))}unhook(D,g=!0){if(this._active.length){let l=!1,m=this._active.length-1,c=!1;if(this._stack.paused&&(m=this._stack.loopPosition-1,l=g,c=this._stack.fallThrough,this._stack.paused=!1),!c&&!1===l){for(;m>=0&&(l=this._active[m].unhook(D),!0!==l);m--)if(l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!1,l;m--}for(;m>=0;m--)if(l=this._active[m].unhook(!1),l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!0,l}else this._handlerFb(this._ident,"UNHOOK",D);this._active=w,this._ident=0}};const C=new T.Params;C.addParam(0),v.DcsHandler=class{constructor(D){this._handler=D,this._data="",this._params=C,this._hitLimit=!1}hook(D){this._params=D.length>1||D.params[0]?D.clone():C,this._data="",this._hitLimit=!1}put(D,g,l){this._hitLimit||(this._data+=(0,p.utf32ToString)(D,g,l),this._data.length>b.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(D){let g=!1;if(this._hitLimit)g=!1;else if(D&&(g=this._handler(this._data,this._params),g instanceof Promise))return g.then(l=>(this._params=C,this._data="",this._hitLimit=!1,l));return this._params=C,this._data="",this._hitLimit=!1,g}}},2015:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.EscapeSequenceParser=v.VT500_TRANSITION_TABLE=v.TransitionTable=void 0;const p=S(844),T=S(8273),b=S(8742),w=S(6242),C=S(6351);class D{constructor(c){this.table=new Uint8Array(c)}setDefault(c,f){(0,T.fill)(this.table,c<<4|f)}add(c,f,I,k){this.table[f<<8|c]=I<<4|k}addMany(c,f,I,k){for(let H=0;H<c.length;H++)this.table[f<<8|c[H]]=I<<4|k}}v.TransitionTable=D;const g=160;v.VT500_TRANSITION_TABLE=function(){const m=new D(4095),c=Array.apply(null,Array(256)).map((N,B)=>B),f=(N,B)=>c.slice(N,B),I=f(32,127),k=f(0,24);k.push(25),k.push.apply(k,f(28,32));const H=f(0,14);let Y;for(Y in m.setDefault(1,0),m.addMany(I,0,2,0),H)m.addMany([24,26,153,154],Y,3,0),m.addMany(f(128,144),Y,3,0),m.addMany(f(144,152),Y,3,0),m.add(156,Y,0,0),m.add(27,Y,11,1),m.add(157,Y,4,8),m.addMany([152,158,159],Y,0,7),m.add(155,Y,11,3),m.add(144,Y,11,9);return m.addMany(k,0,3,0),m.addMany(k,1,3,1),m.add(127,1,0,1),m.addMany(k,8,0,8),m.addMany(k,3,3,3),m.add(127,3,0,3),m.addMany(k,4,3,4),m.add(127,4,0,4),m.addMany(k,6,3,6),m.addMany(k,5,3,5),m.add(127,5,0,5),m.addMany(k,2,3,2),m.add(127,2,0,2),m.add(93,1,4,8),m.addMany(I,8,5,8),m.add(127,8,5,8),m.addMany([156,27,24,26,7],8,6,0),m.addMany(f(28,32),8,0,8),m.addMany([88,94,95],1,0,7),m.addMany(I,7,0,7),m.addMany(k,7,0,7),m.add(156,7,0,0),m.add(127,7,0,7),m.add(91,1,11,3),m.addMany(f(64,127),3,7,0),m.addMany(f(48,60),3,8,4),m.addMany([60,61,62,63],3,9,4),m.addMany(f(48,60),4,8,4),m.addMany(f(64,127),4,7,0),m.addMany([60,61,62,63],4,0,6),m.addMany(f(32,64),6,0,6),m.add(127,6,0,6),m.addMany(f(64,127),6,0,0),m.addMany(f(32,48),3,9,5),m.addMany(f(32,48),5,9,5),m.addMany(f(48,64),5,0,6),m.addMany(f(64,127),5,7,0),m.addMany(f(32,48),4,9,5),m.addMany(f(32,48),1,9,2),m.addMany(f(32,48),2,9,2),m.addMany(f(48,127),2,10,0),m.addMany(f(48,80),1,10,0),m.addMany(f(81,88),1,10,0),m.addMany([89,90,92],1,10,0),m.addMany(f(96,127),1,10,0),m.add(80,1,11,9),m.addMany(k,9,0,9),m.add(127,9,0,9),m.addMany(f(28,32),9,0,9),m.addMany(f(32,48),9,9,12),m.addMany(f(48,60),9,8,10),m.addMany([60,61,62,63],9,9,10),m.addMany(k,11,0,11),m.addMany(f(32,128),11,0,11),m.addMany(f(28,32),11,0,11),m.addMany(k,10,0,10),m.add(127,10,0,10),m.addMany(f(28,32),10,0,10),m.addMany(f(48,60),10,8,10),m.addMany([60,61,62,63],10,0,11),m.addMany(f(32,48),10,9,12),m.addMany(k,12,0,12),m.add(127,12,0,12),m.addMany(f(28,32),12,0,12),m.addMany(f(32,48),12,9,12),m.addMany(f(48,64),12,0,11),m.addMany(f(64,127),12,12,13),m.addMany(f(64,127),10,12,13),m.addMany(f(64,127),9,12,13),m.addMany(k,13,13,13),m.addMany(I,13,13,13),m.add(127,13,0,13),m.addMany([27,156,24,26],13,14,0),m.add(g,0,2,0),m.add(g,8,5,8),m.add(g,6,0,6),m.add(g,11,0,11),m.add(g,13,13,13),m}();v.EscapeSequenceParser=class extends p.Disposable{constructor(c=v.VT500_TRANSITION_TABLE){super(),this._transitions=c,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new b.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(f,I,k)=>{},this._executeHandlerFb=f=>{},this._csiHandlerFb=(f,I)=>{},this._escHandlerFb=f=>{},this._errorHandlerFb=f=>f,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser=new w.OscParser,this._dcsParser=new C.DcsParser,this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(c,f=[64,126]){let I=0;if(c.prefix){if(c.prefix.length>1)throw new Error("only one byte as prefix supported");if(I=c.prefix.charCodeAt(0),I&&60>I||I>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(c.intermediates){if(c.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let H=0;H<c.intermediates.length;++H){const Y=c.intermediates.charCodeAt(H);if(32>Y||Y>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");I<<=8,I|=Y}}if(1!==c.final.length)throw new Error("final must be a single byte");const k=c.final.charCodeAt(0);if(f[0]>k||k>f[1])throw new Error(`final must be in range ${f[0]} .. ${f[1]}`);return I<<=8,I|=k,I}identToString(c){const f=[];for(;c;)f.push(String.fromCharCode(255&c)),c>>=8;return f.reverse().join("")}dispose(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()}setPrintHandler(c){this._printHandler=c}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(c,f){const I=this._identifier(c,[48,126]);void 0===this._escHandlers[I]&&(this._escHandlers[I]=[]);const k=this._escHandlers[I];return k.push(f),{dispose:()=>{const H=k.indexOf(f);-1!==H&&k.splice(H,1)}}}clearEscHandler(c){this._escHandlers[this._identifier(c,[48,126])]&&delete this._escHandlers[this._identifier(c,[48,126])]}setEscHandlerFallback(c){this._escHandlerFb=c}setExecuteHandler(c,f){this._executeHandlers[c.charCodeAt(0)]=f}clearExecuteHandler(c){this._executeHandlers[c.charCodeAt(0)]&&delete this._executeHandlers[c.charCodeAt(0)]}setExecuteHandlerFallback(c){this._executeHandlerFb=c}registerCsiHandler(c,f){const I=this._identifier(c);void 0===this._csiHandlers[I]&&(this._csiHandlers[I]=[]);const k=this._csiHandlers[I];return k.push(f),{dispose:()=>{const H=k.indexOf(f);-1!==H&&k.splice(H,1)}}}clearCsiHandler(c){this._csiHandlers[this._identifier(c)]&&delete this._csiHandlers[this._identifier(c)]}setCsiHandlerFallback(c){this._csiHandlerFb=c}registerDcsHandler(c,f){return this._dcsParser.registerHandler(this._identifier(c),f)}clearDcsHandler(c){this._dcsParser.clearHandler(this._identifier(c))}setDcsHandlerFallback(c){this._dcsParser.setHandlerFallback(c)}registerOscHandler(c,f){return this._oscParser.registerHandler(c,f)}clearOscHandler(c){this._oscParser.clearHandler(c)}setOscHandlerFallback(c){this._oscParser.setHandlerFallback(c)}setErrorHandler(c){this._errorHandler=c}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(c,f,I,k,H){this._parseStack.state=c,this._parseStack.handlers=f,this._parseStack.handlerPos=I,this._parseStack.transition=k,this._parseStack.chunkPos=H}parse(c,f,I){let k,H=0,Y=0,N=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,N=this._parseStack.chunkPos+1;else{if(void 0===I||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const B=this._parseStack.handlers;let te=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===I&&te>-1)for(;te>=0&&(k=B[te](this._params),!0!==k);te--)if(k instanceof Promise)return this._parseStack.handlerPos=te,k;this._parseStack.handlers=[];break;case 4:if(!1===I&&te>-1)for(;te>=0&&(k=B[te](),!0!==k);te--)if(k instanceof Promise)return this._parseStack.handlerPos=te,k;this._parseStack.handlers=[];break;case 6:if(H=c[this._parseStack.chunkPos],k=this._dcsParser.unhook(24!==H&&26!==H,I),k)return k;27===H&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(H=c[this._parseStack.chunkPos],k=this._oscParser.end(24!==H&&26!==H,I),k)return k;27===H&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,N=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let B=N;B<f;++B){switch(H=c[B],Y=this._transitions.table[this.currentState<<8|(H<160?H:g)],Y>>4){case 2:for(let Z=B+1;;++Z){if(Z>=f||(H=c[Z])<32||H>126&&H<g){this._printHandler(c,B,Z),B=Z-1;break}if(++Z>=f||(H=c[Z])<32||H>126&&H<g){this._printHandler(c,B,Z),B=Z-1;break}if(++Z>=f||(H=c[Z])<32||H>126&&H<g){this._printHandler(c,B,Z),B=Z-1;break}if(++Z>=f||(H=c[Z])<32||H>126&&H<g){this._printHandler(c,B,Z),B=Z-1;break}}break;case 3:this._executeHandlers[H]?this._executeHandlers[H]():this._executeHandlerFb(H),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:B,code:H,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const te=this._csiHandlers[this._collect<<8|H];let Ee=te?te.length-1:-1;for(;Ee>=0&&(k=te[Ee](this._params),!0!==k);Ee--)if(k instanceof Promise)return this._preserveStack(3,te,Ee,Y,B),k;Ee<0&&this._csiHandlerFb(this._collect<<8|H,this._params),this.precedingCodepoint=0;break;case 8:do{switch(H){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(H-48)}}while(++B<f&&(H=c[B])>47&&H<60);B--;break;case 9:this._collect<<=8,this._collect|=H;break;case 10:const ue=this._escHandlers[this._collect<<8|H];let V=ue?ue.length-1:-1;for(;V>=0&&(k=ue[V](),!0!==k);V--)if(k instanceof Promise)return this._preserveStack(4,ue,V,Y,B),k;V<0&&this._escHandlerFb(this._collect<<8|H),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|H,this._params);break;case 13:for(let Z=B+1;;++Z)if(Z>=f||24===(H=c[Z])||26===H||27===H||H>127&&H<g){this._dcsParser.put(c,B,Z),B=Z-1;break}break;case 14:if(k=this._dcsParser.unhook(24!==H&&26!==H),k)return this._preserveStack(6,[],0,Y,B),k;27===H&&(Y|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let Z=B+1;;Z++)if(Z>=f||(H=c[Z])<32||H>127&&H<g){this._oscParser.put(c,B,Z),B=Z-1;break}break;case 6:if(k=this._oscParser.end(24!==H&&26!==H),k)return this._preserveStack(5,[],0,Y,B),k;27===H&&(Y|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&Y}}}},6242:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.OscHandler=v.OscParser=void 0;const p=S(5770),T=S(482),b=[];v.OscParser=class{constructor(){this._state=0,this._active=b,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(w,C){void 0===this._handlers[w]&&(this._handlers[w]=[]);const D=this._handlers[w];return D.push(C),{dispose:()=>{const g=D.indexOf(C);-1!==g&&D.splice(g,1)}}}clearHandler(w){this._handlers[w]&&delete this._handlers[w]}setHandlerFallback(w){this._handlerFb=w}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=b}reset(){if(2===this._state)for(let w=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;w>=0;--w)this._active[w].end(!1);this._stack.paused=!1,this._active=b,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||b,this._active.length)for(let w=this._active.length-1;w>=0;w--)this._active[w].start();else this._handlerFb(this._id,"START")}_put(w,C,D){if(this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].put(w,C,D);else this._handlerFb(this._id,"PUT",(0,T.utf32ToString)(w,C,D))}start(){this.reset(),this._state=1}put(w,C,D){if(3!==this._state){if(1===this._state)for(;C<D;){const g=w[C++];if(59===g){this._state=2,this._start();break}if(g<48||57<g)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+g-48}2===this._state&&D-C>0&&this._put(w,C,D)}}end(w,C=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let D=!1,g=this._active.length-1,l=!1;if(this._stack.paused&&(g=this._stack.loopPosition-1,D=C,l=this._stack.fallThrough,this._stack.paused=!1),!l&&!1===D){for(;g>=0&&(D=this._active[g].end(w),!0!==D);g--)if(D instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=g,this._stack.fallThrough=!1,D;g--}for(;g>=0;g--)if(D=this._active[g].end(!1),D instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=g,this._stack.fallThrough=!0,D}else this._handlerFb(this._id,"END",w);this._active=b,this._id=-1,this._state=0}}},v.OscHandler=class{constructor(w){this._handler=w,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(w,C,D){this._hitLimit||(this._data+=(0,T.utf32ToString)(w,C,D),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(w){let C=!1;if(this._hitLimit)C=!1;else if(w&&(C=this._handler(this._data),C instanceof Promise))return C.then(D=>(this._data="",this._hitLimit=!1,D));return this._data="",this._hitLimit=!1,C}}},8742:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Params=void 0;const S=2147483647;class p{constructor(b=32,w=32){if(this.maxLength=b,this.maxSubParamsLength=w,w>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(b),this.length=0,this._subParams=new Int32Array(w),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(b),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(b){const w=new p;if(!b.length)return w;for(let C=Array.isArray(b[0])?1:0;C<b.length;++C){const D=b[C];if(Array.isArray(D))for(let g=0;g<D.length;++g)w.addSubParam(D[g]);else w.addParam(D)}return w}clone(){const b=new p(this.maxLength,this.maxSubParamsLength);return b.params.set(this.params),b.length=this.length,b._subParams.set(this._subParams),b._subParamsLength=this._subParamsLength,b._subParamsIdx.set(this._subParamsIdx),b._rejectDigits=this._rejectDigits,b._rejectSubDigits=this._rejectSubDigits,b._digitIsSub=this._digitIsSub,b}toArray(){const b=[];for(let w=0;w<this.length;++w){b.push(this.params[w]);const C=this._subParamsIdx[w]>>8,D=255&this._subParamsIdx[w];D-C>0&&b.push(Array.prototype.slice.call(this._subParams,C,D))}return b}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(b){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(b<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=b>S?S:b}}addSubParam(b){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(b<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=b>S?S:b,this._subParamsIdx[this.length-1]++}}hasSubParams(b){return(255&this._subParamsIdx[b])-(this._subParamsIdx[b]>>8)>0}getSubParams(b){const w=this._subParamsIdx[b]>>8,C=255&this._subParamsIdx[b];return C-w>0?this._subParams.subarray(w,C):null}getSubParamsAll(){const b={};for(let w=0;w<this.length;++w){const C=this._subParamsIdx[w]>>8,D=255&this._subParamsIdx[w];D-C>0&&(b[w]=this._subParams.slice(C,D))}return b}addDigit(b){let w;if(this._rejectDigits||!(w=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const C=this._digitIsSub?this._subParams:this.params,D=C[w-1];C[w-1]=~D?Math.min(10*D+b,S):b}}v.Params=p},5741:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.AddonManager=void 0,v.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let S=this._addons.length-1;S>=0;S--)this._addons[S].instance.dispose()}loadAddon(S,p){const T={instance:p,dispose:p.dispose,isDisposed:!1};this._addons.push(T),p.dispose=()=>this._wrappedAddonDispose(T),p.activate(S)}_wrappedAddonDispose(S){if(S.isDisposed)return;let p=-1;for(let T=0;T<this._addons.length;T++)if(this._addons[T]===S){p=T;break}if(-1===p)throw new Error("Could not dispose an addon that has not been loaded");S.isDisposed=!0,S.dispose.apply(S.instance),this._addons.splice(p,1)}}},8771:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.BufferApiView=void 0;const p=S(3785),T=S(511);v.BufferApiView=class{constructor(b,w){this._buffer=b,this.type=w}init(b){return this._buffer=b,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(b){const w=this._buffer.lines.get(b);if(w)return new p.BufferLineApiView(w)}getNullCell(){return new T.CellData}}},3785:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.BufferLineApiView=void 0;const p=S(511);v.BufferLineApiView=class{constructor(T){this._line=T}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(T,b){if(!(T<0||T>=this._line.length))return b?(this._line.loadCell(T,b),b):this._line.loadCell(T,new p.CellData)}translateToString(T,b,w){return this._line.translateToString(T,b,w)}}},8285:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.BufferNamespaceApi=void 0;const p=S(8771),T=S(8460);v.BufferNamespaceApi=class{constructor(b){this._core=b,this._onBufferChange=new T.EventEmitter,this._normal=new p.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new p.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get onBufferChange(){return this._onBufferChange.event}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ParserApi=void 0,v.ParserApi=class{constructor(S){this._core=S}registerCsiHandler(S,p){return this._core.registerCsiHandler(S,T=>p(T.toArray()))}addCsiHandler(S,p){return this.registerCsiHandler(S,p)}registerDcsHandler(S,p){return this._core.registerDcsHandler(S,(T,b)=>p(T,b.toArray()))}addDcsHandler(S,p){return this.registerDcsHandler(S,p)}registerEscHandler(S,p){return this._core.registerEscHandler(S,p)}addEscHandler(S,p){return this.registerEscHandler(S,p)}registerOscHandler(S,p){return this._core.registerOscHandler(S,p)}addOscHandler(S,p){return this.registerOscHandler(S,p)}}},7090:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.UnicodeApi=void 0,v.UnicodeApi=class{constructor(S){this._core=S}register(S){this._core.unicodeService.register(S)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(S){this._core.unicodeService.activeVersion=S}}},744:function(u,v,S){var p=this&&this.__decorate||function(l,m,c,f){var I,k=arguments.length,H=k<3?m:null===f?f=Object.getOwnPropertyDescriptor(m,c):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(l,m,c,f);else for(var Y=l.length-1;Y>=0;Y--)(I=l[Y])&&(H=(k<3?I(H):k>3?I(m,c,H):I(m,c))||H);return k>3&&H&&Object.defineProperty(m,c,H),H},T=this&&this.__param||function(l,m){return function(c,f){m(c,f,l)}};Object.defineProperty(v,"__esModule",{value:!0}),v.BufferService=v.MINIMUM_ROWS=v.MINIMUM_COLS=void 0;const b=S(2585),w=S(5295),C=S(8460),D=S(844);v.MINIMUM_COLS=2,v.MINIMUM_ROWS=1;let g=class extends D.Disposable{constructor(l){super(),this.isUserScrolling=!1,this._onResize=new C.EventEmitter,this._onScroll=new C.EventEmitter,this.cols=Math.max(l.rawOptions.cols||0,v.MINIMUM_COLS),this.rows=Math.max(l.rawOptions.rows||0,v.MINIMUM_ROWS),this.buffers=new w.BufferSet(l,this)}get onResize(){return this._onResize.event}get onScroll(){return this._onScroll.event}get buffer(){return this.buffers.active}dispose(){super.dispose(),this.buffers.dispose()}resize(l,m){this.cols=l,this.rows=m,this.buffers.resize(l,m),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:l,rows:m})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(l,m=!1){const c=this.buffer;let f;f=this._cachedBlankLine,f&&f.length===this.cols&&f.getFg(0)===l.fg&&f.getBg(0)===l.bg||(f=c.getBlankLine(l,m),this._cachedBlankLine=f),f.isWrapped=m;const I=c.ybase+c.scrollTop,k=c.ybase+c.scrollBottom;if(0===c.scrollTop){const H=c.lines.isFull;k===c.lines.length-1?H?c.lines.recycle().copyFrom(f):c.lines.push(f.clone()):c.lines.splice(k+1,0,f.clone()),H?this.isUserScrolling&&(c.ydisp=Math.max(c.ydisp-1,0)):(c.ybase++,this.isUserScrolling||c.ydisp++)}else c.lines.shiftElements(I+1,k-I+1-1,-1),c.lines.set(k,f.clone());this.isUserScrolling||(c.ydisp=c.ybase),this._onScroll.fire(c.ydisp)}scrollLines(l,m,c){const f=this.buffer;if(l<0){if(0===f.ydisp)return;this.isUserScrolling=!0}else l+f.ydisp>=f.ybase&&(this.isUserScrolling=!1);const I=f.ydisp;f.ydisp=Math.max(Math.min(f.ydisp+l,f.ybase),0),I!==f.ydisp&&(m||this._onScroll.fire(f.ydisp))}scrollPages(l){this.scrollLines(l*(this.rows-1))}scrollToTop(){this.scrollLines(-this.buffer.ydisp)}scrollToBottom(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)}scrollToLine(l){const m=l-this.buffer.ydisp;0!==m&&this.scrollLines(m)}};g=p([T(0,b.IOptionsService)],g),v.BufferService=g},7994:(u,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CharsetService=void 0,v.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(S){this.glevel=S,this.charset=this._charsets[S]}setgCharset(S,p){this._charsets[S]=p,this.glevel===S&&(this.charset=p)}}},1753:function(u,v,S){var p=this&&this.__decorate||function(c,f,I,k){var H,Y=arguments.length,N=Y<3?f:null===k?k=Object.getOwnPropertyDescriptor(f,I):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(c,f,I,k);else for(var B=c.length-1;B>=0;B--)(H=c[B])&&(N=(Y<3?H(N):Y>3?H(f,I,N):H(f,I))||N);return Y>3&&N&&Object.defineProperty(f,I,N),N},T=this&&this.__param||function(c,f){return function(I,k){f(I,k,c)}};Object.defineProperty(v,"__esModule",{value:!0}),v.CoreMouseService=void 0;const b=S(2585),w=S(8460),C={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:c=>4!==c.button&&1===c.action&&(c.ctrl=!1,c.alt=!1,c.shift=!1,!0)},VT200:{events:19,restrict:c=>32!==c.action},DRAG:{events:23,restrict:c=>32!==c.action||3!==c.button},ANY:{events:31,restrict:c=>!0}};function D(c,f){let I=(c.ctrl?16:0)|(c.shift?4:0)|(c.alt?8:0);return 4===c.button?(I|=64,I|=c.action):(I|=3&c.button,4&c.button&&(I|=64),8&c.button&&(I|=128),32===c.action?I|=32:0!==c.action||f||(I|=3)),I}const g=String.fromCharCode,l={DEFAULT:c=>{const f=[D(c,!1)+32,c.col+32,c.row+32];return f[0]>255||f[1]>255||f[2]>255?"":`\x1b[M${g(f[0])}${g(f[1])}${g(f[2])}`},SGR:c=>{const f=0===c.action&&4!==c.button?"m":"M";return`\x1b[<${D(c,!0)};${c.col};${c.row}${f}`},SGR_PIXELS:c=>{const f=0===c.action&&4!==c.button?"m":"M";return`\x1b[<${D(c,!0)};${c.x};${c.y}${f}`}};let m=class{constructor(c,f){this._bufferService=c,this._coreService=f,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new w.EventEmitter,this._lastEvent=null;for(const I of Object.keys(C))this.addProtocol(I,C[I]);for(const I of Object.keys(l))this.addEncoding(I,l[I]);this.reset()}addProtocol(c,f){this._protocols[c]=f}addEncoding(c,f){this._encodings[c]=f}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(c){if(!this._protocols[c])throw new Error(`unknown protocol "${c}"`);this._activeProtocol=c,this._onProtocolChange.fire(this._protocols[c].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(c){if(!this._encodings[c])throw new Error(`unknown encoding "${c}"`);this._activeEncoding=c}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}get onProtocolChange(){return this._onProtocolChange.event}triggerMouseEvent(c){if(c.col<0||c.col>=this._bufferService.cols||c.row<0||c.row>=this._bufferService.rows||4===c.button&&32===c.action||3===c.button&&32!==c.action||4!==c.button&&(2===c.action||3===c.action)||(c.col++,c.row++,32===c.action&&this._lastEvent&&this._equalEvents(this._lastEvent,c,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(c))return!1;const f=this._encodings[this._activeEncoding](c);return f&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(f):this._coreService.triggerDataEvent(f,!0)),this._lastEvent=c,!0}explainEvents(c){return{down:!!(1&c),up:!!(2&c),drag:!!(4&c),move:!!(8&c),wheel:!!(16&c)}}_equalEvents(c,f,I){if(I){if(c.x!==f.x||c.y!==f.y)return!1}else if(c.col!==f.col||c.row!==f.row)return!1;return c.button===f.button&&c.action===f.action&&c.ctrl===f.ctrl&&c.alt===f.alt&&c.shift===f.shift}};m=p([T(0,b.IBufferService),T(1,b.ICoreService)],m),v.CoreMouseService=m},6975:function(u,v,S){var p=this&&this.__decorate||function(c,f,I,k){var H,Y=arguments.length,N=Y<3?f:null===k?k=Object.getOwnPropertyDescriptor(f,I):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(c,f,I,k);else for(var B=c.length-1;B>=0;B--)(H=c[B])&&(N=(Y<3?H(N):Y>3?H(f,I,N):H(f,I))||N);return Y>3&&N&&Object.defineProperty(f,I,N),N},T=this&&this.__param||function(c,f){return function(I,k){f(I,k,c)}};Object.defineProperty(v,"__esModule",{value:!0}),v.CoreService=void 0;const b=S(2585),w=S(8460),C=S(1439),D=S(844),g=Object.freeze({insertMode:!1}),l=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let m=class extends D.Disposable{constructor(c,f,I,k){super(),this._bufferService=f,this._logService=I,this._optionsService=k,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new w.EventEmitter),this._onUserInput=this.register(new w.EventEmitter),this._onBinary=this.register(new w.EventEmitter),this._scrollToBottom=c,this.register({dispose:()=>this._scrollToBottom=void 0}),this.modes=(0,C.clone)(g),this.decPrivateModes=(0,C.clone)(l)}get onData(){return this._onData.event}get onUserInput(){return this._onUserInput.event}get onBinary(){return this._onBinary.event}reset(){this.modes=(0,C.clone)(g),this.decPrivateModes=(0,C.clone)(l)}triggerDataEvent(c,f=!1){if(this._optionsService.rawOptions.disableStdin)return;const I=this._bufferService.buffer;I.ybase!==I.ydisp&&this._scrollToBottom(),f&&this._onUserInput.fire(),this._logService.debug(`sending data "${c}"`,()=>c.split("").map(k=>k.charCodeAt(0))),this._onData.fire(c)}triggerBinaryEvent(c){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${c}"`,()=>c.split("").map(f=>f.charCodeAt(0))),this._onBinary.fire(c))}};m=p([T(1,b.IBufferService),T(2,b.ILogService),T(3,b.IOptionsService)],m),v.CoreService=m},9074:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.DecorationService=void 0;const p=S(8055),T=S(8460),b=S(844),w=S(6106),C={xmin:0,xmax:0};v.DecorationService=class extends b.Disposable{constructor(){super(...arguments),this._decorations=new w.SortedList(m=>null==m?void 0:m.marker.line),this._onDecorationRegistered=this.register(new T.EventEmitter),this._onDecorationRemoved=this.register(new T.EventEmitter)}get onDecorationRegistered(){return this._onDecorationRegistered.event}get onDecorationRemoved(){return this._onDecorationRemoved.event}get decorations(){return this._decorations.values()}registerDecoration(m){if(m.marker.isDisposed)return;const c=new g(m);if(c){const f=c.marker.onDispose(()=>c.dispose());c.onDispose(()=>{c&&(this._decorations.delete(c)&&this._onDecorationRemoved.fire(c),f.dispose())}),this._decorations.insert(c),this._onDecorationRegistered.fire(c)}return c}reset(){for(const m of this._decorations.values())m.dispose();this._decorations.clear()}*getDecorationsAtCell(m,c,f){var I,k,H;let Y=0,N=0;for(const B of this._decorations.getKeyIterator(c))Y=null!==(I=B.options.x)&&void 0!==I?I:0,N=Y+(null!==(k=B.options.width)&&void 0!==k?k:1),m>=Y&&m<N&&(!f||(null!==(H=B.options.layer)&&void 0!==H?H:"bottom")===f)&&(yield B)}forEachDecorationAtCell(m,c,f,I){this._decorations.forEachByKey(c,k=>{var H,Y,N;C.xmin=null!==(H=k.options.x)&&void 0!==H?H:0,C.xmax=C.xmin+(null!==(Y=k.options.width)&&void 0!==Y?Y:1),m>=C.xmin&&m<C.xmax&&(!f||(null!==(N=k.options.layer)&&void 0!==N?N:"bottom")===f)&&I(k)})}dispose(){for(const m of this._decorations.values())this._onDecorationRemoved.fire(m);this.reset()}};class g extends b.Disposable{constructor(m){super(),this.options=m,this.isDisposed=!1,this.onRenderEmitter=this.register(new T.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new T.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=m.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return null===this._cachedBg&&(this._cachedBg=this.options.backgroundColor?p.css.toColor(this.options.backgroundColor):void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this._cachedFg=this.options.foregroundColor?p.css.toColor(this.options.foregroundColor):void 0),this._cachedFg}dispose(){this._isDisposed||(this._isDisposed=!0,this._onDispose.fire(),super.dispose())}}},3730:function(u,v,S){var p=this&&this.__decorate||function(C,D,g,l){var m,c=arguments.length,f=c<3?D:null===l?l=Object.getOwnPropertyDescriptor(D,g):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(C,D,g,l);else for(var I=C.length-1;I>=0;I--)(m=C[I])&&(f=(c<3?m(f):c>3?m(D,g,f):m(D,g))||f);return c>3&&f&&Object.defineProperty(D,g,f),f},T=this&&this.__param||function(C,D){return function(g,l){D(g,l,C)}};Object.defineProperty(v,"__esModule",{value:!0}),v.DirtyRowService=void 0;const b=S(2585);let w=class{constructor(C){this._bufferService=C,this.clearRange()}get start(){return this._start}get end(){return this._end}clearRange(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y}markDirty(C){C<this._start?this._start=C:C>this._end&&(this._end=C)}markRangeDirty(C,D){if(C>D){const g=C;C=D,D=g}C<this._start&&(this._start=C),D>this._end&&(this._end=D)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};w=p([T(0,b.IBufferService)],w),v.DirtyRowService=w},4348:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.InstantiationService=v.ServiceCollection=void 0;const p=S(2585),T=S(8343);class b{constructor(...C){this._entries=new Map;for(const[D,g]of C)this.set(D,g)}set(C,D){const g=this._entries.get(C);return this._entries.set(C,D),g}forEach(C){this._entries.forEach((D,g)=>C(g,D))}has(C){return this._entries.has(C)}get(C){return this._entries.get(C)}}v.ServiceCollection=b,v.InstantiationService=class{constructor(){this._services=new b,this._services.set(p.IInstantiationService,this)}setService(w,C){this._services.set(w,C)}getService(w){return this._services.get(w)}createInstance(w,...C){const D=(0,T.getServiceDependencies)(w).sort((m,c)=>m.index-c.index),g=[];for(const m of D){const c=this._services.get(m.id);if(!c)throw new Error(`[createInstance] ${w.name} depends on UNKNOWN service ${m.id}.`);g.push(c)}const l=D.length>0?D[0].index:C.length;if(C.length!==l)throw new Error(`[createInstance] First service dependency of ${w.name} at position ${l+1} conflicts with ${C.length} static arguments`);return new w(...[...C,...g])}}},7866:function(u,v,S){var p=this&&this.__decorate||function(D,g,l,m){var c,f=arguments.length,I=f<3?g:null===m?m=Object.getOwnPropertyDescriptor(g,l):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(D,g,l,m);else for(var k=D.length-1;k>=0;k--)(c=D[k])&&(I=(f<3?c(I):f>3?c(g,l,I):c(g,l))||I);return f>3&&I&&Object.defineProperty(g,l,I),I},T=this&&this.__param||function(D,g){return function(l,m){g(l,m,D)}};Object.defineProperty(v,"__esModule",{value:!0}),v.LogService=void 0;const b=S(2585),w={debug:b.LogLevelEnum.DEBUG,info:b.LogLevelEnum.INFO,warn:b.LogLevelEnum.WARN,error:b.LogLevelEnum.ERROR,off:b.LogLevelEnum.OFF};let C=class{constructor(D){this._optionsService=D,this.logLevel=b.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(g=>{"logLevel"===g&&this._updateLogLevel()})}_updateLogLevel(){this.logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(D){for(let g=0;g<D.length;g++)"function"==typeof D[g]&&(D[g]=D[g]())}_log(D,g,l){this._evalLazyOptionalParams(l),D.call(console,"xterm.js: "+g,...l)}debug(D,...g){this.logLevel<=b.LogLevelEnum.DEBUG&&this._log(console.log,D,g)}info(D,...g){this.logLevel<=b.LogLevelEnum.INFO&&this._log(console.info,D,g)}warn(D,...g){this.logLevel<=b.LogLevelEnum.WARN&&this._log(console.warn,D,g)}error(D,...g){this.logLevel<=b.LogLevelEnum.ERROR&&this._log(console.error,D,g)}};C=p([T(0,b.IOptionsService)],C),v.LogService=C},7302:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.OptionsService=v.DEFAULT_OPTIONS=void 0;const p=S(8460),T=S(6114);v.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:T.isMac,windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const b=["normal","bold","100","200","300","400","500","600","700","800","900"];v.OptionsService=class{constructor(w){this._onOptionChange=new p.EventEmitter;const C=Object.assign({},v.DEFAULT_OPTIONS);for(const D in w)if(D in C)try{C[D]=this._sanitizeAndValidateOption(D,w[D])}catch(g){console.error(g)}this.rawOptions=C,this.options=Object.assign({},C),this._setupOptions()}get onOptionChange(){return this._onOptionChange.event}_setupOptions(){const w=D=>{if(!(D in v.DEFAULT_OPTIONS))throw new Error(`No option with key "${D}"`);return this.rawOptions[D]},C=(D,g)=>{if(!(D in v.DEFAULT_OPTIONS))throw new Error(`No option with key "${D}"`);g=this._sanitizeAndValidateOption(D,g),this.rawOptions[D]!==g&&(this.rawOptions[D]=g,this._onOptionChange.fire(D))};for(const D in this.rawOptions){const g={get:w.bind(this,D),set:C.bind(this,D)};Object.defineProperty(this.options,D,g)}}_sanitizeAndValidateOption(w,C){switch(w){case"cursorStyle":if(C||(C=v.DEFAULT_OPTIONS[w]),"block"!==(D=C)&&"underline"!==D&&"bar"!==D)throw new Error(`"${C}" is not a valid value for ${w}`);break;case"wordSeparator":C||(C=v.DEFAULT_OPTIONS[w]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof C&&1<=C&&C<=1e3)break;C=b.includes(C)?C:v.DEFAULT_OPTIONS[w];break;case"cursorWidth":C=Math.floor(C);case"lineHeight":case"tabStopWidth":if(C<1)throw new Error(`${w} cannot be less than 1, value: ${C}`);break;case"minimumContrastRatio":C=Math.max(1,Math.min(21,Math.round(10*C)/10));break;case"scrollback":if((C=Math.min(C,4294967295))<0)throw new Error(`${w} cannot be less than 0, value: ${C}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(C<=0)throw new Error(`${w} cannot be less than or equal to 0, value: ${C}`);case"rows":case"cols":if(!C&&0!==C)throw new Error(`${w} must be numeric, value: ${C}`)}var D;return C}}},2660:function(u,v,S){var p=this&&this.__decorate||function(C,D,g,l){var m,c=arguments.length,f=c<3?D:null===l?l=Object.getOwnPropertyDescriptor(D,g):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(C,D,g,l);else for(var I=C.length-1;I>=0;I--)(m=C[I])&&(f=(c<3?m(f):c>3?m(D,g,f):m(D,g))||f);return c>3&&f&&Object.defineProperty(D,g,f),f},T=this&&this.__param||function(C,D){return function(g,l){D(g,l,C)}};Object.defineProperty(v,"__esModule",{value:!0}),v.OscLinkService=void 0;const b=S(2585);let w=class{constructor(C){this._bufferService=C,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(C){const D=this._bufferService.buffer;if(void 0===C.id){const I=D.addMarker(D.ybase+D.y),k={data:C,id:this._nextId++,lines:[I]};return I.onDispose(()=>this._removeMarkerFromLink(k,I)),this._dataByLinkId.set(k.id,k),k.id}const g=C,l=this._getEntryIdKey(g),m=this._entriesWithId.get(l);if(m)return this.addLineToLink(m.id,D.ybase+D.y),m.id;const c=D.addMarker(D.ybase+D.y),f={id:this._nextId++,key:this._getEntryIdKey(g),data:g,lines:[c]};return c.onDispose(()=>this._removeMarkerFromLink(f,c)),this._entriesWithId.set(f.key,f),this._dataByLinkId.set(f.id,f),f.id}addLineToLink(C,D){const g=this._dataByLinkId.get(C);if(g&&g.lines.every(l=>l.line!==D)){const l=this._bufferService.buffer.addMarker(D);g.lines.push(l),l.onDispose(()=>this._removeMarkerFromLink(g,l))}}getLinkData(C){var D;return null===(D=this._dataByLinkId.get(C))||void 0===D?void 0:D.data}_getEntryIdKey(C){return`${C.id};;${C.uri}`}_removeMarkerFromLink(C,D){const g=C.lines.indexOf(D);-1!==g&&(C.lines.splice(g,1),0===C.lines.length&&(void 0!==C.data.id&&this._entriesWithId.delete(C.key),this._dataByLinkId.delete(C.id)))}};w=p([T(0,b.IBufferService)],w),v.OscLinkService=w},8343:(u,v)=>{function S(p,T,b){T.di$target===T?T.di$dependencies.push({id:p,index:b}):(T.di$dependencies=[{id:p,index:b}],T.di$target=T)}Object.defineProperty(v,"__esModule",{value:!0}),v.createDecorator=v.getServiceDependencies=v.serviceRegistry=void 0,v.serviceRegistry=new Map,v.getServiceDependencies=function(p){return p.di$dependencies||[]},v.createDecorator=function(p){if(v.serviceRegistry.has(p))return v.serviceRegistry.get(p);const T=function(b,w,C){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");S(T,b,C)};return T.toString=()=>p,v.serviceRegistry.set(p,T),T}},2585:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.IDecorationService=v.IUnicodeService=v.IOscLinkService=v.IOptionsService=v.ILogService=v.LogLevelEnum=v.IInstantiationService=v.IDirtyRowService=v.ICharsetService=v.ICoreService=v.ICoreMouseService=v.IBufferService=void 0;const p=S(8343);var T;v.IBufferService=(0,p.createDecorator)("BufferService"),v.ICoreMouseService=(0,p.createDecorator)("CoreMouseService"),v.ICoreService=(0,p.createDecorator)("CoreService"),v.ICharsetService=(0,p.createDecorator)("CharsetService"),v.IDirtyRowService=(0,p.createDecorator)("DirtyRowService"),v.IInstantiationService=(0,p.createDecorator)("InstantiationService"),(T=v.LogLevelEnum||(v.LogLevelEnum={}))[T.DEBUG=0]="DEBUG",T[T.INFO=1]="INFO",T[T.WARN=2]="WARN",T[T.ERROR=3]="ERROR",T[T.OFF=4]="OFF",v.ILogService=(0,p.createDecorator)("LogService"),v.IOptionsService=(0,p.createDecorator)("OptionsService"),v.IOscLinkService=(0,p.createDecorator)("OscLinkService"),v.IUnicodeService=(0,p.createDecorator)("UnicodeService"),v.IDecorationService=(0,p.createDecorator)("DecorationService")},1480:(u,v,S)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.UnicodeService=void 0;const p=S(8460),T=S(225);v.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new p.EventEmitter;const b=new T.UnicodeV6;this.register(b),this._active=b.version,this._activeProvider=b}get onChange(){return this._onChange.event}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(b){if(!this._providers[b])throw new Error(`unknown Unicode version "${b}"`);this._active=b,this._activeProvider=this._providers[b],this._onChange.fire(b)}register(b){this._providers[b.version]=b}wcwidth(b){return this._activeProvider.wcwidth(b)}getStringCellWidth(b){let w=0;const C=b.length;for(let D=0;D<C;++D){let g=b.charCodeAt(D);if(55296<=g&&g<=56319){if(++D>=C)return w+this.wcwidth(g);const l=b.charCodeAt(D);56320<=l&&l<=57343?g=1024*(g-55296)+l-56320+65536:w+=this.wcwidth(l)}w+=this.wcwidth(g)}return w}}}},W={};function _(u){var v=W[u];if(void 0!==v)return v.exports;var S=W[u]={exports:{}};return Ve[u].call(S.exports,S,S.exports,_),S.exports}var P={};return(()=>{var u=P;Object.defineProperty(u,"__esModule",{value:!0}),u.Terminal=void 0;const v=_(3236),S=_(9042),p=_(7975),T=_(7090),b=_(5741),w=_(8285),C=["cols","rows"];u.Terminal=class{constructor(D){this._core=new v.Terminal(D),this._addonManager=new b.AddonManager,this._publicOptions=Object.assign({},this._core.options);const g=m=>this._core.options[m],l=(m,c)=>{this._checkReadonlyOptions(m),this._core.options[m]=c};for(const m in this._core.options){const c={get:g.bind(this,m),set:l.bind(this,m)};Object.defineProperty(this._publicOptions,m,c)}}_checkReadonlyOptions(D){if(C.includes(D))throw new Error(`Option "${D}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._checkProposedApi(),this._parser||(this._parser=new p.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new T.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._checkProposedApi(),this._buffer||(this._buffer=new w.BufferNamespaceApi(this._core)),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const D=this._core.coreService.decPrivateModes;let g="none";switch(this._core.coreMouseService.activeProtocol){case"X10":g="x10";break;case"VT200":g="vt200";break;case"DRAG":g="drag";break;case"ANY":g="any"}return{applicationCursorKeysMode:D.applicationCursorKeys,applicationKeypadMode:D.applicationKeypad,bracketedPasteMode:D.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:g,originMode:D.origin,reverseWraparoundMode:D.reverseWraparound,sendFocusMode:D.sendFocus,wraparoundMode:D.wraparound}}get options(){return this._publicOptions}set options(D){for(const g in D)this._publicOptions[g]=D[g]}blur(){this._core.blur()}focus(){this._core.focus()}resize(D,g){this._verifyIntegers(D,g),this._core.resize(D,g)}open(D){this._core.open(D)}attachCustomKeyEventHandler(D){this._core.attachCustomKeyEventHandler(D)}registerLinkProvider(D){return this._checkProposedApi(),this._core.registerLinkProvider(D)}registerCharacterJoiner(D){return this._checkProposedApi(),this._core.registerCharacterJoiner(D)}deregisterCharacterJoiner(D){this._checkProposedApi(),this._core.deregisterCharacterJoiner(D)}registerMarker(D=0){return this._verifyIntegers(D),this._core.addMarker(D)}registerDecoration(D){var g,l,m;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(g=D.x)&&void 0!==g?g:0,null!==(l=D.width)&&void 0!==l?l:0,null!==(m=D.height)&&void 0!==m?m:0),this._core.registerDecoration(D)}hasSelection(){return this._core.hasSelection()}select(D,g,l){this._verifyIntegers(D,g,l),this._core.select(D,g,l)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(D,g){this._verifyIntegers(D,g),this._core.selectLines(D,g)}dispose(){this._addonManager.dispose(),this._core.dispose()}scrollLines(D){this._verifyIntegers(D),this._core.scrollLines(D)}scrollPages(D){this._verifyIntegers(D),this._core.scrollPages(D)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(D){this._verifyIntegers(D),this._core.scrollToLine(D)}clear(){this._core.clear()}write(D,g){this._core.write(D,g)}writeln(D,g){this._core.write(D),this._core.write("\r\n",g)}paste(D){this._core.paste(D)}refresh(D,g){this._verifyIntegers(D,g),this._core.refresh(D,g)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(D){return this._addonManager.loadAddon(this,D)}static get strings(){return S}_verifyIntegers(...D){for(const g of D)if(g===1/0||isNaN(g)||g%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...D){for(const g of D)if(g&&(g===1/0||isNaN(g)||g%1!=0||g<0))throw new Error("This API only accepts positive integers")}}})(),P})()},2390:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>ExampleComponent});var rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9765),_angular_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(665),ng_terminal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4567),xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1886),xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_0__),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7716),_angular_material_tabs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1923),_angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5396),_angular_material_form_field__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(8295),_angular_material_input__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(9983),ngx_json_viewer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8596),_angular_material_button__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1095);const _c0=["term"];let ExampleComponent=(()=>{class ExampleComponent{constructor(){this.title="NgTerminal Live Example",this.color="accent",this.prompt="\n"+ng_terminal__WEBPACK_IMPORTED_MODULE_2__.vd.cursorColumn(1)+"$ ",this._rows=void 0,this._cols=void 0,this._draggable=void 0,this.fixed=!1,this.disabled=!1,this.rowsControl=new _angular_forms__WEBPACK_IMPORTED_MODULE_3__.NI,this.colsControl=new _angular_forms__WEBPACK_IMPORTED_MODULE_3__.NI,this.inputControl=new _angular_forms__WEBPACK_IMPORTED_MODULE_3__.NI,this.writeSubject=new rxjs__WEBPACK_IMPORTED_MODULE_4__.xQ,this.baseTheme={foreground:"#F8F8F8",background:"#2D2E2C",selectionBackground:"#5DA5D533",black:"#1E1E1D",brightBlack:"#262625",red:"#CE5C5C",brightRed:"#FF7272",green:"#5BCC5B",brightGreen:"#72FF72",yellow:"#CCCC5B",brightYellow:"#FFFF72",blue:"#5D5DD3",brightBlue:"#7279FF",magenta:"#BC5ED1",brightMagenta:"#E572FF",cyan:"#5DA5D5",brightCyan:"#72F0FF",white:"#F8F8F8",brightWhite:"#FFFFFF",border:"#85858a"}}ngOnInit(){}ngAfterViewInit(){this.underlying=this.child.underlying,this.underlying.options.fontSize=20,console.debug("example: font apply"),this.underlying.loadAddon(new xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_0__.WebLinksAddon),this.invalidate(),this.child.setXtermOptions({fontFamily:'"Cascadia Code", Menlo, monospace',theme:this.baseTheme,cursorBlink:!0}),this.child.write("$ NgTerminal Live Example"),this.child.write(this.prompt),this.child.onData().subscribe(ut=>{"\r"===ut?this.child.write(this.prompt):"\x7f"===ut?this.child.underlying.buffer.active.cursorX>2&&this.child.write("\b \b"):"\x03"===ut?(this.child.write("^C"),this.child.write(this.prompt)):this.child.write(ut)}),this.child.onKey().subscribe(ut=>{}),this.rowsControl.valueChanges.subscribe(()=>{this.updateRows()}),this.colsControl.valueChanges.subscribe(()=>{this.updateCols()})}invalidate(){}resizableChange(ut){this.draggableMode=ut.checked,this.updateDraggable()}apiModeChange(ut){this.apiMode=ut.checked}updateDraggable(){this.apiMode?this.child.setDraggable(this.draggableMode):this._draggable=this.draggableMode}updateRows(){this.apiMode?this.child.setRows(this.rowsControl.value):this._rows=this.rowsControl.value}updateCols(){this.apiMode?this.child.setCols(this.colsControl.value):this._cols=this.colsControl.value}write(){this.writeSubject.next(eval(`'${this.inputControl.value}'`))}onKeyInput(ut){this.keyInput=ut}get displayOptionForLiveUpdate(){return{rows:this.rowsControl.value,cols:this.colsControl.value,draggable:this.draggableMode}}}return ExampleComponent.\u0275fac=function(Ve){return new(Ve||ExampleComponent)},ExampleComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Xpm({type:ExampleComponent,selectors:[["app-root"]],viewQuery:function(Ve,W){if(1&Ve&&_angular_core__WEBPACK_IMPORTED_MODULE_5__.Gf(_c0,5),2&Ve){let _;_angular_core__WEBPACK_IMPORTED_MODULE_5__.iGM(_=_angular_core__WEBPACK_IMPORTED_MODULE_5__.CRH())&&(W.child=_.first)}},decls:42,vars:19,consts:[["tabGroup",""],["label","Tab1"],["label","Tab2"],[2,"width","100px","height","100px"],[1,"outer-box"],[1,"ng-terminal",3,"dataSource","rows","cols","minWidth","minHeight","draggable","keyInput"],["term",""],[2,"padding-left","1em","padding-top","0.3em","margin-top","0.7em","padding-bottom","1em"],[2,"display","inline-block","vertical-align","top","margin-bottom","0.8em"],[3,"checked","color","disabled","change"],[2,"margin-left","10px",3,"checked","color","disabled","change"],["matInput","","placeholder","rows","type","number",3,"formControl"],["matInput","","placeholder","cols","type","number",3,"formControl"],[2,"display","inline-block","vertical-align","top"],[3,"json"],[2,"font-size","0.8em","font-weight","bold"],["matInput","","placeholder","Type here","value","",3,"formControl"],["mat-raised-button","","color","primary",3,"click"]],template:function(Ve,W){1&Ve&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"mat-tab-group",null,0),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(2,"mat-tab",1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(3,"mat-tab",2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(4,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(5,"ng-terminal"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(6,"h2"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(7,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(8,"ng-terminal",5,6),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("keyInput",function(P){return W.onKeyInput(P)}),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(10,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(11,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(12,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(13,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(14,"Display Opiton"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(15,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(16,"mat-slide-toggle",9),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("change",function(P){return W.resizableChange(P)}),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(17," Draggable "),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(18,"mat-slide-toggle",10),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("change",function(P){return W.apiModeChange(P)}),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(19," by using API "),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(20,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(21,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(22,"input",11),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(23,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(24,"input",12),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(25,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(26,"h4"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(27,"JSON"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(28,"ngx-json-viewer",14),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(29,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(30,"Examples of data binding"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(31,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(32,"span",15),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(33,"[dataSource]"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(34,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(35,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(36,"input",16),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(37,"button",17),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("click",function(){return W.write()}),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(38,"Write"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(39,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(40,"span",15),_angular_core__WEBPACK_IMPORTED_MODULE_5__._uU(41),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&Ve&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(8),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("dataSource",W.writeSubject)("rows",W._rows)("cols",W._cols)("minWidth",200)("minHeight",200)("draggable",W._draggable),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ekj("mat-elevation-z1",!0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("checked",W.draggableMode)("color",W.color)("disabled",W.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("checked",W.apiMode)("color",W.color)("disabled",W.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("formControl",W.rowsControl),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("formControl",W.colsControl),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("json",W.displayOptionForLiveUpdate),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(8),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("formControl",W.inputControl),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.hij("(keyInput): ",W.keyInput,""))},directives:[_angular_material_tabs__WEBPACK_IMPORTED_MODULE_6__.SP,_angular_material_tabs__WEBPACK_IMPORTED_MODULE_6__.uX,ng_terminal__WEBPACK_IMPORTED_MODULE_2__.Eo,_angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_7__.Rr,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_8__.KE,_angular_material_input__WEBPACK_IMPORTED_MODULE_9__.Nt,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.wV,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.oH,ngx_json_viewer__WEBPACK_IMPORTED_MODULE_1__.Y,_angular_material_button__WEBPACK_IMPORTED_MODULE_10__.lW],styles:[".outer-box[_ngcontent-%COMP%]{min-height:40vh}"]}),ExampleComponent})()},6395:(ut,Ve,W)=>{"use strict";var _=W(9075),P=W(7716),u=W(5396),v=W(1095),S=W(9983),p=W(4567),T=W(665),b=W(6237),w=W(2458);let Se=(()=>{class De{}return De.\u0275fac=function(pe){return new(pe||De)},De.\u0275mod=P.oAB({type:De}),De.\u0275inj=P.cJS({imports:[[w.BQ],w.BQ]}),De})();var qe=W(8596),Ge=W(2390),tt=W(8295),lt=W(1923);let _t=(()=>{class De{}return De.\u0275fac=function(pe){return new(pe||De)},De.\u0275mod=P.oAB({type:De,bootstrap:[Ge.A]}),De.\u0275inj=P.cJS({providers:[],imports:[[_.b2,p.qZ,v.ot,u.rP,S.c,T.UX,b.PW,Se,qe.s,tt.lN,lt.Nh]]}),De})();(0,P.G48)(),_.q6().bootstrapModule(_t).catch(De=>console.error(De))},7813:ut=>{function Ve(W){return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+W+"'");throw _.code="MODULE_NOT_FOUND",_})}Ve.keys=()=>[],Ve.resolve=Ve,Ve.id=7813,ut.exports=Ve}},ut=>{ut(ut.s=6395)}]);