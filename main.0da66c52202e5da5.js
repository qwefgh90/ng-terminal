var Tw=Object.defineProperty,Dg=Object.getOwnPropertySymbols,xw=Object.prototype.hasOwnProperty,Aw=Object.prototype.propertyIsEnumerable,Sg=(et,Le,G)=>Le in et?Tw(et,Le,{enumerable:!0,configurable:!0,writable:!0,value:G}):et[Le]=G,kl=(et,Le)=>{for(var G in Le||(Le={}))xw.call(Le,G)&&Sg(et,G,Le[G]);if(Dg)for(var G of Dg(Le))Aw.call(Le,G)&&Sg(et,G,Le[G]);return et};(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179],{9199:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>ExampleComponent});var rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7579),ng_terminal__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(617),_angular_forms__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2382),_xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9010),_xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_0__),xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6239),xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_1__),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5e3),_angular_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9808),_angular_material_button__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7423),_angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2368),_angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7322),_angular_material_input__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(7531),ngx_json_viewer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6224),_angular_material_tabs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6041);const _c0=["term"],_c1=["term2"];function ExampleComponent_ng_template_40_Template(et,Le){1&et&&_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(0," Terminal2 ")}function ExampleComponent_div_41_Template(et,Le){1&et&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(1,"ng-terminal",null,19),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA())}function ExampleComponent_div_42_Template(et,Le){if(1&et){const G=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div")(1,"button",16),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(G);const z=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_3__.KtG(z.toggleTerminal2())}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(2,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(3,"Hide it"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()()}}let ExampleComponent=(()=>{class ExampleComponent{constructor(){this.title="NgTerminal Live Example",this.color="accent",this.prompt="\n"+ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.cursorColumn(1)+"$ ",this._rows=void 0,this._cols=void 0,this._draggable=!1,this.draggableMode=!1,this.apiMode=!1,this.disabled=!1,this.rowsControl=new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NI,this.colsControl=new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NI,this.inputControl=new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NI,this.writeSubject=new rxjs__WEBPACK_IMPORTED_MODULE_6__.x,this.keyInput="",this.baseTheme={foreground:"#F8F8F8",background:"#2D2E2C",selectionBackground:"#5DA5D533",black:"#1E1E1D",brightBlack:"#262625",red:"#CE5C5C",brightRed:"#FF7272",green:"#5BCC5B",brightGreen:"#72FF72",yellow:"#CCCC5B",brightYellow:"#FFFF72",blue:"#5D5DD3",brightBlue:"#7279FF",magenta:"#BC5ED1",brightMagenta:"#E572FF",cyan:"#5DA5D5",brightCyan:"#72F0FF",white:"#F8F8F8",brightWhite:"#FFFFFF",border:"#85858a"},this.showTerminal2=!0}ngAfterViewInit(){this.initializeTerm2(),this.child&&(this.underlying=this.child.underlying,this.underlying.options.fontSize=20,this.underlying.loadAddon(new _xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_0__.WebLinksAddon),this.child.setXtermOptions({fontFamily:'"Cascadia Code", Menlo, monospace',theme:this.baseTheme,cursorBlink:!0}),this.child.write("$ NgTerminal Live Example\n"+ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.cursorColumn(1)),this.child.write(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.characterAttributes(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.SetforegroundcolortoRed,ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.Bold)),this.child.write("$ 1) Try the data binding in the input below.\n"+ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.cursorColumn(1)),this.child.write(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.characterAttributes(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.Normal)),this.child.write(`$ 2) Try dragging on the ${ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.characterAttributes(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.SetbackgroundcolortoGreen)}borders${ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.characterAttributes(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.Normal)} and set ${ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.characterAttributes(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.SetbackgroundcolortoCyan)}row and col${ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.characterAttributes(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.Normal)}.\n`+ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.cursorColumn(1)),this.child.write(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.characterAttributes(ng_terminal__WEBPACK_IMPORTED_MODULE_4__.M0.Bold)),this.child.write("$ "),this.child.onData().subscribe(et=>{!this.child||("\r"===et?this.child.write(this.prompt):"\x7f"===et?this.child.underlying.buffer.active.cursorX>2&&this.child.write("\b \b"):"\x03"===et?(this.child.write("^C"),this.child.write(this.prompt)):this.child.write(et))}),this.child.onKey().subscribe(et=>{}),this.rowsControl.valueChanges.subscribe(()=>{this.updateRows()}),this.colsControl.valueChanges.subscribe(()=>{this.updateCols()}))}resizableChange(et){this.draggableMode=et.checked,this.updateDraggable()}apiModeChange(et){this.apiMode=et.checked,this.updateDraggable()}updateDraggable(){this.apiMode?this.child.setDraggable(this.draggableMode):this._draggable=this.draggableMode}updateRows(){this.apiMode?this.child.setRows(this.rowsControl.value):this._rows=this.rowsControl.value}updateCols(){this.apiMode?this.child.setCols(this.colsControl.value):this._cols=this.colsControl.value}write(){this.writeSubject.next(eval(`'${this.inputControl.value}'`))}onKeyInput(et){this.keyInput=et}get displayOptionForLiveUpdate(){return{rows:this.rowsControl.value,cols:this.colsControl.value,draggable:this.draggableMode}}toggleTerminal2(){this.showTerminal2=!this.showTerminal2}initializeTerm2(){var et;if(!this.child2)return;let Le=new xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_1__.WebglAddon;Le.onContextLoss(G=>{Le.dispose()}),null===(et=this.child2)||void 0===et||et.underlying.loadAddon(Le),this.child2.setXtermOptions({fontFamily:'"Cascadia Code", Menlo, monospace',theme:this.baseTheme,cursorBlink:!0}),this.child2.write("$ NgTerminal2 Live Example\n"+ng_terminal__WEBPACK_IMPORTED_MODULE_4__.vd.cursorColumn(1))}}return ExampleComponent.\u0275fac=function et(Le){return new(Le||ExampleComponent)},ExampleComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:ExampleComponent,selectors:[["app-root"]],viewQuery:function et(Le,G){if(1&Le&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Gf(_c0,5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Gf(_c1,5)),2&Le){let S;_angular_core__WEBPACK_IMPORTED_MODULE_3__.iGM(S=_angular_core__WEBPACK_IMPORTED_MODULE_3__.CRH())&&(G.child=S.first),_angular_core__WEBPACK_IMPORTED_MODULE_3__.iGM(S=_angular_core__WEBPACK_IMPORTED_MODULE_3__.CRH())&&(G.child2=S.first)}},decls:43,vars:21,consts:[["tabGroup",""],["label","Terminal1"],[2,"display","flex"],[2,"flex","1"],[1,"ng-terminal",3,"dataSource","rows","cols","minWidth","minHeight","draggable","data"],["term",""],[2,"padding-left","1em","padding-top","0.3em","margin-top","0.7em","padding-bottom","1em"],[2,"display","inline-block","vertical-align","top","margin-bottom","0.8em"],[3,"checked","color","disabled","change"],[2,"margin-left","10px",3,"checked","color","disabled","change"],["matInput","","placeholder","rows","type","number",3,"formControl"],["matInput","","placeholder","cols","type","number",3,"formControl"],[2,"display","inline-block","vertical-align","top"],[3,"json"],[2,"font-size","0.8em","font-weight","bold"],["matInput","","placeholder","Type here","value","",3,"formControl"],["mat-raised-button","","color","primary",3,"click"],["mat-tab-label",""],[4,"ngIf"],["term2",""]],template:function et(Le,G){1&Le&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"mat-tab-group",null,0)(2,"mat-tab",1)(3,"div",2)(4,"div",3)(5,"ng-terminal",4,5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("data",function(z){return G.onKeyInput(z)}),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(7,"div",6)(8,"div")(9,"div",7)(10,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(11,"Display Opiton"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(12,"div")(13,"mat-slide-toggle",8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("change",function(z){return G.resizableChange(z)}),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(14," Draggable "),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(15,"mat-slide-toggle",9),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("change",function(z){return G.apiModeChange(z)}),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(16," by using API "),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(17,"div")(18,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(19,"input",10),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(20,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(21,"input",11),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(22,"div",12)(23,"h4"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(24,"JSON"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(25,"ngx-json-viewer",13),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(26,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(27,"Examples of data binding"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(28,"div")(29,"span",14),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(30,"[dataSource]"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(31,"div")(32,"mat-form-field"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(33,"input",15),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(34,"button",16),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",function(){return G.write()}),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(35," Write "),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(36,"div")(37,"span",14),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(38),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(39,"mat-tab"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(40,ExampleComponent_ng_template_40_Template,1,0,"ng-template",17),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(41,ExampleComponent_div_41_Template,3,0,"div",18),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(42,ExampleComponent_div_42_Template,4,0,"div",18),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()),2&Le&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("dataSource",G.writeSubject)("rows",G._rows)("cols",G._cols)("minWidth",200)("minHeight",200)("draggable",G._draggable),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ekj("mat-elevation-z1",!0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("checked",G.draggableMode)("color",G.color)("disabled",G.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("checked",G.apiMode)("color",G.color)("disabled",G.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("formControl",G.rowsControl),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("formControl",G.colsControl),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("json",G.displayOptionForLiveUpdate),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("formControl",G.inputControl),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hij("(data): ",G.keyInput,""),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",G.showTerminal2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",G.showTerminal2))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_7__.O5,ng_terminal__WEBPACK_IMPORTED_MODULE_4__.Eo,_angular_material_button__WEBPACK_IMPORTED_MODULE_8__.lW,_angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_9__.Rr,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_10__.KE,_angular_material_input__WEBPACK_IMPORTED_MODULE_11__.Nt,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.wV,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_5__.oH,ngx_json_viewer__WEBPACK_IMPORTED_MODULE_2__.Y,_angular_material_tabs__WEBPACK_IMPORTED_MODULE_12__.SP,_angular_material_tabs__WEBPACK_IMPORTED_MODULE_12__.uD,_angular_material_tabs__WEBPACK_IMPORTED_MODULE_12__.uX],styles:[".outer-box[_ngcontent-%COMP%]{height:30vh;padding:5px 0}"]}),ExampleComponent})()},1950:(et,Le,G)=>{"use strict";var S=G(9808),z=G(5e3);class y extends S.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class u extends y{static makeCurrent(){(0,S.HT)(new u)}onAndCancel(l,c,M){return l.addEventListener(c,M,!1),()=>{l.removeEventListener(c,M,!1)}}dispatchEvent(l,c){l.dispatchEvent(c)}remove(l){l.parentNode&&l.parentNode.removeChild(l)}createElement(l,c){return(c=c||this.getDefaultDocument()).createElement(l)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(l){return l.nodeType===Node.ELEMENT_NODE}isShadowRoot(l){return l instanceof DocumentFragment}getGlobalEventTarget(l,c){return"window"===c?window:"document"===c?l:"body"===c?l.body:null}getBaseHref(l){const c=function v(){return m=m||document.querySelector("base"),m?m.getAttribute("href"):null}();return null==c?null:function h(k){E=E||document.createElement("a"),E.setAttribute("href",k);const l=E.pathname;return"/"===l.charAt(0)?l:`/${l}`}(c)}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}getCookie(l){return(0,S.Mx)(document.cookie,l)}}let E,m=null;const b=new z.OlP("TRANSITION_ID"),D=[{provide:z.ip1,useFactory:function w(k,l,c){return()=>{c.get(z.CZH).donePromise.then(()=>{const M=(0,S.q)(),V=l.querySelectorAll(`style[ng-transition="${k}"]`);for(let J=0;J<V.length;J++)M.remove(V[J])})}},deps:[b,S.K0,z.zs3],multi:!0}];let o=(()=>{class k{build(){return new XMLHttpRequest}}return k.\u0275fac=function(c){return new(c||k)},k.\u0275prov=z.Yz7({token:k,factory:k.\u0275fac}),k})();const d=new z.OlP("EventManagerPlugins");let a=(()=>{class k{constructor(c,M){this._zone=M,this._eventNameToPlugin=new Map,c.forEach(V=>V.manager=this),this._plugins=c.slice().reverse()}addEventListener(c,M,V){return this._findPluginFor(M).addEventListener(c,M,V)}addGlobalEventListener(c,M,V){return this._findPluginFor(M).addGlobalEventListener(c,M,V)}getZone(){return this._zone}_findPluginFor(c){const M=this._eventNameToPlugin.get(c);if(M)return M;const V=this._plugins;for(let J=0;J<V.length;J++){const fe=V[J];if(fe.supports(c))return this._eventNameToPlugin.set(c,fe),fe}throw new Error(`No event manager plugin found for event ${c}`)}}return k.\u0275fac=function(c){return new(c||k)(z.LFG(d),z.LFG(z.R0b))},k.\u0275prov=z.Yz7({token:k,factory:k.\u0275fac}),k})();class p{constructor(l){this._doc=l}addGlobalEventListener(l,c,M){const V=(0,S.q)().getGlobalEventTarget(this._doc,l);if(!V)throw new Error(`Unsupported event target ${V} for event ${c}`);return this.addEventListener(V,c,M)}}let x=(()=>{class k{constructor(){this._stylesSet=new Set}addStyles(c){const M=new Set;c.forEach(V=>{this._stylesSet.has(V)||(this._stylesSet.add(V),M.add(V))}),this.onStylesAdded(M)}onStylesAdded(c){}getAllStyles(){return Array.from(this._stylesSet)}}return k.\u0275fac=function(c){return new(c||k)},k.\u0275prov=z.Yz7({token:k,factory:k.\u0275fac}),k})(),P=(()=>{class k extends x{constructor(c){super(),this._doc=c,this._hostNodes=new Map,this._hostNodes.set(c.head,[])}_addStylesToHost(c,M,V){c.forEach(J=>{const fe=this._doc.createElement("style");fe.textContent=J,V.push(M.appendChild(fe))})}addHost(c){const M=[];this._addStylesToHost(this._stylesSet,c,M),this._hostNodes.set(c,M)}removeHost(c){const M=this._hostNodes.get(c);M&&M.forEach(N),this._hostNodes.delete(c)}onStylesAdded(c){this._hostNodes.forEach((M,V)=>{this._addStylesToHost(c,V,M)})}ngOnDestroy(){this._hostNodes.forEach(c=>c.forEach(N))}}return k.\u0275fac=function(c){return new(c||k)(z.LFG(S.K0))},k.\u0275prov=z.Yz7({token:k,factory:k.\u0275fac}),k})();function N(k){(0,S.q)().remove(k)}const j={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},f=/%COMP%/g,L="%COMP%",R=`_nghost-${L}`,H=`_ngcontent-${L}`;function oe(k,l,c){for(let M=0;M<l.length;M++){let V=l[M];Array.isArray(V)?oe(k,V,c):(V=V.replace(f,k),c.push(V))}return c}function ae(k){return l=>{if("__ngUnwrap__"===l)return k;!1===k(l)&&(l.preventDefault(),l.returnValue=!1)}}let Ce=(()=>{class k{constructor(c,M,V){this.eventManager=c,this.sharedStylesHost=M,this.appId=V,this.rendererByCompId=new Map,this.defaultRenderer=new Z(c)}createRenderer(c,M){if(!c||!M)return this.defaultRenderer;switch(M.encapsulation){case z.ifc.Emulated:{let V=this.rendererByCompId.get(M.id);return V||(V=new ge(this.eventManager,this.sharedStylesHost,M,this.appId),this.rendererByCompId.set(M.id,V)),V.applyToHost(c),V}case 1:case z.ifc.ShadowDom:return new be(this.eventManager,this.sharedStylesHost,c,M);default:if(!this.rendererByCompId.has(M.id)){const V=oe(M.id,M.styles,[]);this.sharedStylesHost.addStyles(V),this.rendererByCompId.set(M.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return k.\u0275fac=function(c){return new(c||k)(z.LFG(a),z.LFG(P),z.LFG(z.AFp))},k.\u0275prov=z.Yz7({token:k,factory:k.\u0275fac}),k})();class Z{constructor(l){this.eventManager=l,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(l,c){return c?document.createElementNS(j[c]||c,l):document.createElement(l)}createComment(l){return document.createComment(l)}createText(l){return document.createTextNode(l)}appendChild(l,c){(ie(l)?l.content:l).appendChild(c)}insertBefore(l,c,M){l&&(ie(l)?l.content:l).insertBefore(c,M)}removeChild(l,c){l&&l.removeChild(c)}selectRootElement(l,c){let M="string"==typeof l?document.querySelector(l):l;if(!M)throw new Error(`The selector "${l}" did not match any elements`);return c||(M.textContent=""),M}parentNode(l){return l.parentNode}nextSibling(l){return l.nextSibling}setAttribute(l,c,M,V){if(V){c=V+":"+c;const J=j[V];J?l.setAttributeNS(J,c,M):l.setAttribute(c,M)}else l.setAttribute(c,M)}removeAttribute(l,c,M){if(M){const V=j[M];V?l.removeAttributeNS(V,c):l.removeAttribute(`${M}:${c}`)}else l.removeAttribute(c)}addClass(l,c){l.classList.add(c)}removeClass(l,c){l.classList.remove(c)}setStyle(l,c,M,V){V&(z.JOm.DashCase|z.JOm.Important)?l.style.setProperty(c,M,V&z.JOm.Important?"important":""):l.style[c]=M}removeStyle(l,c,M){M&z.JOm.DashCase?l.style.removeProperty(c):l.style[c]=""}setProperty(l,c,M){l[c]=M}setValue(l,c){l.nodeValue=c}listen(l,c,M){return"string"==typeof l?this.eventManager.addGlobalEventListener(l,c,ae(M)):this.eventManager.addEventListener(l,c,ae(M))}}function ie(k){return"TEMPLATE"===k.tagName&&void 0!==k.content}class ge extends Z{constructor(l,c,M,V){super(l),this.component=M;const J=oe(V+"-"+M.id,M.styles,[]);c.addStyles(J),this.contentAttr=function K(k){return H.replace(f,k)}(V+"-"+M.id),this.hostAttr=function X(k){return R.replace(f,k)}(V+"-"+M.id)}applyToHost(l){super.setAttribute(l,this.hostAttr,"")}createElement(l,c){const M=super.createElement(l,c);return super.setAttribute(M,this.contentAttr,""),M}}class be extends Z{constructor(l,c,M,V){super(l),this.sharedStylesHost=c,this.hostEl=M,this.shadowRoot=M.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const J=oe(V.id,V.styles,[]);for(let fe=0;fe<J.length;fe++){const ve=document.createElement("style");ve.textContent=J[fe],this.shadowRoot.appendChild(ve)}}nodeOrShadowRoot(l){return l===this.hostEl?this.shadowRoot:l}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(l,c){return super.appendChild(this.nodeOrShadowRoot(l),c)}insertBefore(l,c,M){return super.insertBefore(this.nodeOrShadowRoot(l),c,M)}removeChild(l,c){return super.removeChild(this.nodeOrShadowRoot(l),c)}parentNode(l){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(l)))}}let Ne=(()=>{class k extends p{constructor(c){super(c)}supports(c){return!0}addEventListener(c,M,V){return c.addEventListener(M,V,!1),()=>this.removeEventListener(c,M,V)}removeEventListener(c,M,V){return c.removeEventListener(M,V)}}return k.\u0275fac=function(c){return new(c||k)(z.LFG(S.K0))},k.\u0275prov=z.Yz7({token:k,factory:k.\u0275fac}),k})();const Ye=["alt","control","meta","shift"],me={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ne={alt:k=>k.altKey,control:k=>k.ctrlKey,meta:k=>k.metaKey,shift:k=>k.shiftKey};let Ie=(()=>{class k extends p{constructor(c){super(c)}supports(c){return null!=k.parseEventName(c)}addEventListener(c,M,V){const J=k.parseEventName(M),fe=k.eventCallback(J.fullKey,V,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,S.q)().onAndCancel(c,J.domEventName,fe))}static parseEventName(c){const M=c.toLowerCase().split("."),V=M.shift();if(0===M.length||"keydown"!==V&&"keyup"!==V)return null;const J=k._normalizeKey(M.pop());let fe="",ve=M.indexOf("code");if(ve>-1&&(M.splice(ve,1),fe="code."),Ye.forEach(Ze=>{const ct=M.indexOf(Ze);ct>-1&&(M.splice(ct,1),fe+=Ze+".")}),fe+=J,0!=M.length||0===J.length)return null;const Be={};return Be.domEventName=V,Be.fullKey=fe,Be}static matchEventFullKeyCode(c,M){let V=me[c.key]||c.key,J="";return M.indexOf("code.")>-1&&(V=c.code,J="code."),!(null==V||!V)&&(V=V.toLowerCase()," "===V?V="space":"."===V&&(V="dot"),Ye.forEach(fe=>{fe!==V&&(0,ne[fe])(c)&&(J+=fe+".")}),J+=V,J===M)}static eventCallback(c,M,V){return J=>{k.matchEventFullKeyCode(J,c)&&V.runGuarded(()=>M(J))}}static _normalizeKey(c){return"esc"===c?"escape":c}}return k.\u0275fac=function(c){return new(c||k)(z.LFG(S.K0))},k.\u0275prov=z.Yz7({token:k,factory:k.\u0275fac}),k})();const an=(0,z.eFA)(z._c5,"browser",[{provide:z.Lbi,useValue:S.bD},{provide:z.g9A,useValue:function Ct(){u.makeCurrent()},multi:!0},{provide:S.K0,useFactory:function at(){return(0,z.RDi)(document),document},deps:[]}]),ln=new z.OlP(""),lt=[{provide:z.rWj,useClass:class _{addToWindow(l){z.dqk.getAngularTestability=(M,V=!0)=>{const J=l.findTestabilityInTree(M,V);if(null==J)throw new Error("Could not find testability for element.");return J},z.dqk.getAllAngularTestabilities=()=>l.getAllTestabilities(),z.dqk.getAllAngularRootElements=()=>l.getAllRootElements(),z.dqk.frameworkStabilizers||(z.dqk.frameworkStabilizers=[]),z.dqk.frameworkStabilizers.push(M=>{const V=z.dqk.getAllAngularTestabilities();let J=V.length,fe=!1;const ve=function(Be){fe=fe||Be,J--,0==J&&M(fe)};V.forEach(function(Be){Be.whenStable(ve)})})}findTestabilityInTree(l,c,M){if(null==c)return null;const V=l.getTestability(c);return null!=V?V:M?(0,S.q)().isShadowRoot(c)?this.findTestabilityInTree(l,c.host,!0):this.findTestabilityInTree(l,c.parentElement,!0):null}},deps:[]},{provide:z.lri,useClass:z.dDg,deps:[z.R0b,z.eoX,z.rWj]},{provide:z.dDg,useClass:z.dDg,deps:[z.R0b,z.eoX,z.rWj]}],xt=[{provide:z.zSh,useValue:"root"},{provide:z.qLn,useFactory:function dt(){return new z.qLn},deps:[]},{provide:d,useClass:Ne,multi:!0,deps:[S.K0,z.R0b,z.Lbi]},{provide:d,useClass:Ie,multi:!0,deps:[S.K0]},{provide:Ce,useClass:Ce,deps:[a,P,z.AFp]},{provide:z.FYo,useExisting:Ce},{provide:x,useExisting:P},{provide:P,useClass:P,deps:[S.K0]},{provide:a,useClass:a,deps:[d,z.R0b]},{provide:S.JF,useClass:o,deps:[]},[]];let Ke=(()=>{class k{constructor(c){}static withServerTransition(c){return{ngModule:k,providers:[{provide:z.AFp,useValue:c.appId},{provide:b,useExisting:z.AFp},D]}}}return k.\u0275fac=function(c){return new(c||k)(z.LFG(ln,12))},k.\u0275mod=z.oAB({type:k}),k.\u0275inj=z.cJS({providers:[...xt,...lt],imports:[S.ez,z.hGG]}),k})();"undefined"!=typeof window&&window;var Jn=G(2368),Hn=G(7423),Ri=G(7531),oi=G(617),cn=G(2382),Yt=G(1777);function ye(k){return new z.vHH(3e3,!1)}function us(){return"undefined"!=typeof window&&void 0!==window.document}function rr(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function _i(k){switch(k.length){case 0:return new Yt.ZN;case 1:return k[0];default:return new Yt.ZE(k)}}function Zr(k,l,c,M,V=new Map,J=new Map){const fe=[],ve=[];let Be=-1,Ze=null;if(M.forEach(ct=>{const mt=ct.get("offset"),jt=mt==Be,Wt=jt&&Ze||new Map;ct.forEach((kt,Vt)=>{let un=Vt,on=kt;if("offset"!==Vt)switch(un=l.normalizePropertyName(un,fe),on){case Yt.k1:on=V.get(Vt);break;case Yt.l3:on=J.get(Vt);break;default:on=l.normalizeStyleValue(Vt,un,on,fe)}Wt.set(un,on)}),jt||ve.push(Wt),Ze=Wt,Be=mt}),fe.length)throw function hn(k){return new z.vHH(3502,!1)}();return ve}function Dr(k,l,c,M){switch(l){case"start":k.onStart(()=>M(c&&Ji(c,"start",k)));break;case"done":k.onDone(()=>M(c&&Ji(c,"done",k)));break;case"destroy":k.onDestroy(()=>M(c&&Ji(c,"destroy",k)))}}function Ji(k,l,c){const M=c.totalTime,J=Sr(k.element,k.triggerName,k.fromState,k.toState,l||k.phaseName,null==M?k.totalTime:M,!!c.disabled),fe=k._data;return null!=fe&&(J._data=fe),J}function Sr(k,l,c,M,V="",J=0,fe){return{element:k,triggerName:l,fromState:c,toState:M,phaseName:V,totalTime:J,disabled:!!fe}}function qn(k,l,c){let M=k.get(l);return M||k.set(l,M=c),M}function Qr(k){const l=k.indexOf(":");return[k.substring(1,l),k.slice(l+1)]}let Xr=(k,l)=>!1,Jr=(k,l,c)=>[],Mr=null;function Wi(k){const l=k.parentNode||k.host;return l===Mr?null:l}(rr()||"undefined"!=typeof Element)&&(us()?(Mr=(()=>document.documentElement)(),Xr=(k,l)=>{for(;l;){if(l===k)return!0;l=Wi(l)}return!1}):Xr=(k,l)=>k.contains(l),Jr=(k,l,c)=>{if(c)return Array.from(k.querySelectorAll(l));const M=k.querySelector(l);return M?[M]:[]});let gi=null,De=!1;const _e=Xr,Ve=Jr;let Rt=(()=>{class k{validateStyleProperty(c){return function he(k){gi||(gi=function se(){return"undefined"!=typeof document?document.body:null}()||{},De=!!gi.style&&"WebkitAppearance"in gi.style);let l=!0;return gi.style&&!function Is(k){return"ebkit"==k.substring(1,6)}(k)&&(l=k in gi.style,!l&&De&&(l="Webkit"+k.charAt(0).toUpperCase()+k.slice(1)in gi.style)),l}(c)}matchesElement(c,M){return!1}containsElement(c,M){return _e(c,M)}getParentElement(c){return Wi(c)}query(c,M,V){return Ve(c,M,V)}computeStyle(c,M,V){return V||""}animate(c,M,V,J,fe,ve=[],Be){return new Yt.ZN(V,J)}}return k.\u0275fac=function(c){return new(c||k)},k.\u0275prov=z.Yz7({token:k,factory:k.\u0275fac}),k})(),Pt=(()=>{class k{}return k.NOOP=new Rt,k})();const Gi="ng-enter",Tr="ng-leave",sr="ng-trigger",xr=".ng-trigger",to="ng-animating",bn=".ng-animating";function vi(k){if("number"==typeof k)return k;const l=k.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:Rs(parseFloat(l[1]),l[2])}function Rs(k,l){return"s"===l?1e3*k:k}function Di(k,l,c){return k.hasOwnProperty("duration")?k:function Un(k,l,c){let V,J=0,fe="";if("string"==typeof k){const ve=k.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ve)return l.push(ye()),{duration:0,delay:0,easing:""};V=Rs(parseFloat(ve[1]),ve[2]);const Be=ve[3];null!=Be&&(J=Rs(parseFloat(Be),ve[4]));const Ze=ve[5];Ze&&(fe=Ze)}else V=k;if(!c){let ve=!1,Be=l.length;V<0&&(l.push(function pe(){return new z.vHH(3100,!1)}()),ve=!0),J<0&&(l.push(function de(){return new z.vHH(3101,!1)}()),ve=!0),ve&&l.splice(Be,0,ye())}return{duration:V,delay:J,easing:fe}}(k,l,c)}function bi(k,l={}){return Object.keys(k).forEach(c=>{l[c]=k[c]}),l}function Ar(k){const l=new Map;return Object.keys(k).forEach(c=>{l.set(c,k[c])}),l}function Pi(k,l=new Map,c){if(c)for(let[M,V]of c)l.set(M,V);for(let[M,V]of k)l.set(M,V);return l}function or(k,l,c){return c?l+":"+c+";":""}function hs(k){let l="";for(let c=0;c<k.style.length;c++){const M=k.style.item(c);l+=or(0,M,k.style.getPropertyValue(M))}for(const c in k.style)k.style.hasOwnProperty(c)&&!c.startsWith("_")&&(l+=or(0,no(c),k.style[c]));k.setAttribute("style",l)}function En(k,l,c){k.style&&(l.forEach((M,V)=>{const J=lr(V);c&&!c.has(V)&&c.set(V,k.style[J]),k.style[J]=M}),rr()&&hs(k))}function Zn(k,l){k.style&&(l.forEach((c,M)=>{const V=lr(M);k.style[V]=""}),rr()&&hs(k))}function Ki(k){return Array.isArray(k)?1==k.length?k[0]:(0,Yt.vP)(k):k}const Ir=new RegExp("{{\\s*(.+?)\\s*}}","g");function fs(k){let l=[];if("string"==typeof k){let c;for(;c=Ir.exec(k);)l.push(c[1]);Ir.lastIndex=0}return l}function Rr(k,l,c){const M=k.toString(),V=M.replace(Ir,(J,fe)=>{let ve=l[fe];return null==ve&&(c.push(function We(k){return new z.vHH(3003,!1)}()),ve=""),ve.toString()});return V==M?k:V}function ar(k){const l=[];let c=k.next();for(;!c.done;)l.push(c.value),c=k.next();return l}const Os=/-+([a-z0-9])/g;function lr(k){return k.replace(Os,(...l)=>l[1].toUpperCase())}function no(k){return k.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bt(k,l,c){switch(l.type){case 7:return k.visitTrigger(l,c);case 0:return k.visitState(l,c);case 1:return k.visitTransition(l,c);case 2:return k.visitSequence(l,c);case 3:return k.visitGroup(l,c);case 4:return k.visitAnimate(l,c);case 5:return k.visitKeyframes(l,c);case 6:return k.visitStyle(l,c);case 8:return k.visitReference(l,c);case 9:return k.visitAnimateChild(l,c);case 10:return k.visitAnimateRef(l,c);case 11:return k.visitQuery(l,c);case 12:return k.visitStagger(l,c);default:throw function rt(k){return new z.vHH(3004,!1)}()}}function ps(k,l){return window.getComputedStyle(k)[l]}function yn(k,l){const c=[];return"string"==typeof k?k.split(/\s*,\s*/).forEach(M=>function $(k,l,c){if(":"==k[0]){const Be=function F(k,l){switch(k){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,M)=>parseFloat(M)>parseFloat(c);case":decrement":return(c,M)=>parseFloat(M)<parseFloat(c);default:return l.push(function Li(k){return new z.vHH(3016,!1)}()),"* => *"}}(k,c);if("function"==typeof Be)return void l.push(Be);k=Be}const M=k.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return c.push(function ui(k){return new z.vHH(3015,!1)}()),l;const V=M[1],J=M[2],fe=M[3];l.push(Ge(V,fe));"<"==J[0]&&!("*"==V&&"*"==fe)&&l.push(Ge(fe,V))}(M,c,l)):c.push(k),c}const A=new Set(["true","1"]),te=new Set(["false","0"]);function Ge(k,l){const c=A.has(k)||te.has(k),M=A.has(l)||te.has(l);return(V,J)=>{let fe="*"==k||k==V,ve="*"==l||l==J;return!fe&&c&&"boolean"==typeof V&&(fe=V?A.has(k):te.has(k)),!ve&&M&&"boolean"==typeof J&&(ve=J?A.has(l):te.has(l)),fe&&ve}}const Qt=new RegExp("s*:selfs*,?","g");function ti(k,l,c,M){return new ur(k).build(l,c,M)}class ur{constructor(l){this._driver=l}build(l,c,M){const V=new es(c);return this._resetContextStyleTimingState(V),Bt(this,Ki(l),V)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,c){let M=c.queryCount=0,V=c.depCount=0;const J=[],fe=[];return"@"==l.name.charAt(0)&&c.errors.push(function Dt(){return new z.vHH(3006,!1)}()),l.definitions.forEach(ve=>{if(this._resetContextStyleTimingState(c),0==ve.type){const Be=ve,Ze=Be.name;Ze.toString().split(/\s*,\s*/).forEach(ct=>{Be.name=ct,J.push(this.visitState(Be,c))}),Be.name=Ze}else if(1==ve.type){const Be=this.visitTransition(ve,c);M+=Be.queryCount,V+=Be.depCount,fe.push(Be)}else c.errors.push(function en(){return new z.vHH(3007,!1)}())}),{type:7,name:l.name,states:J,transitions:fe,queryCount:M,depCount:V,options:null}}visitState(l,c){const M=this.visitStyle(l.styles,c),V=l.options&&l.options.params||null;if(M.containsDynamicStyles){const J=new Set,fe=V||{};M.styles.forEach(ve=>{ve instanceof Map&&ve.forEach(Be=>{fs(Be).forEach(Ze=>{fe.hasOwnProperty(Ze)||J.add(Ze)})})}),J.size&&(ar(J.values()),c.errors.push(function _n(k,l){return new z.vHH(3008,!1)}()))}return{type:0,name:l.name,style:M,options:V?{params:V}:null}}visitTransition(l,c){c.queryCount=0,c.depCount=0;const M=Bt(this,Ki(l.animation),c);return{type:1,matchers:yn(l.expr,c.errors),animation:M,queryCount:c.queryCount,depCount:c.depCount,options:Lr(l.options)}}visitSequence(l,c){return{type:2,steps:l.steps.map(M=>Bt(this,M,c)),options:Lr(l.options)}}visitGroup(l,c){const M=c.currentTime;let V=0;const J=l.steps.map(fe=>{c.currentTime=M;const ve=Bt(this,fe,c);return V=Math.max(V,c.currentTime),ve});return c.currentTime=V,{type:3,steps:J,options:Lr(l.options)}}visitAnimate(l,c){const M=function fr(k,l){if(k.hasOwnProperty("duration"))return k;if("number"==typeof k)return ks(Di(k,l).duration,0,"");const c=k;if(c.split(/\s+/).some(J=>"{"==J.charAt(0)&&"{"==J.charAt(1))){const J=ks(0,0,"");return J.dynamic=!0,J.strValue=c,J}const V=Di(c,l);return ks(V.duration,V.delay,V.easing)}(l.timings,c.errors);c.currentAnimateTimings=M;let V,J=l.styles?l.styles:(0,Yt.oB)({});if(5==J.type)V=this.visitKeyframes(J,c);else{let fe=l.styles,ve=!1;if(!fe){ve=!0;const Ze={};M.easing&&(Ze.easing=M.easing),fe=(0,Yt.oB)(Ze)}c.currentTime+=M.duration+M.delay;const Be=this.visitStyle(fe,c);Be.isEmptyStep=ve,V=Be}return c.currentAnimateTimings=null,{type:4,timings:M,style:V,options:null}}visitStyle(l,c){const M=this._makeStyleAst(l,c);return this._validateStyleAst(M,c),M}_makeStyleAst(l,c){const M=[],V=Array.isArray(l.styles)?l.styles:[l.styles];for(let ve of V)"string"==typeof ve?ve===Yt.l3?M.push(ve):c.errors.push(new z.vHH(3002,!1)):M.push(Ar(ve));let J=!1,fe=null;return M.forEach(ve=>{if(ve instanceof Map&&(ve.has("easing")&&(fe=ve.get("easing"),ve.delete("easing")),!J))for(let Be of ve.values())if(Be.toString().indexOf("{{")>=0){J=!0;break}}),{type:6,styles:M,easing:fe,offset:l.offset,containsDynamicStyles:J,options:null}}_validateStyleAst(l,c){const M=c.currentAnimateTimings;let V=c.currentTime,J=c.currentTime;M&&J>0&&(J-=M.duration+M.delay),l.styles.forEach(fe=>{"string"!=typeof fe&&fe.forEach((ve,Be)=>{const Ze=c.collectedStyles.get(c.currentQuerySelector),ct=Ze.get(Be);let mt=!0;ct&&(J!=V&&J>=ct.startTime&&V<=ct.endTime&&(c.errors.push(function zi(k,l,c,M,V){return new z.vHH(3010,!1)}()),mt=!1),J=ct.startTime),mt&&Ze.set(Be,{startTime:J,endTime:V}),c.options&&function Ot(k,l,c){const M=l.params||{},V=fs(k);V.length&&V.forEach(J=>{M.hasOwnProperty(J)||c.push(function Re(k){return new z.vHH(3001,!1)}())})}(ve,c.options,c.errors)})})}visitKeyframes(l,c){const M={type:5,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function Qi(){return new z.vHH(3011,!1)}()),M;let J=0;const fe=[];let ve=!1,Be=!1,Ze=0;const ct=l.steps.map(on=>{const Fn=this._makeStyleAst(on,c);let ii=null!=Fn.offset?Fn.offset:function gs(k){if("string"==typeof k)return null;let l=null;if(Array.isArray(k))k.forEach(c=>{if(c instanceof Map&&c.has("offset")){const M=c;l=parseFloat(M.get("offset")),M.delete("offset")}});else if(k instanceof Map&&k.has("offset")){const c=k;l=parseFloat(c.get("offset")),c.delete("offset")}return l}(Fn.styles),zn=0;return null!=ii&&(J++,zn=Fn.offset=ii),Be=Be||zn<0||zn>1,ve=ve||zn<Ze,Ze=zn,fe.push(zn),Fn});Be&&c.errors.push(function ai(){return new z.vHH(3012,!1)}()),ve&&c.errors.push(function Tn(){return new z.vHH(3200,!1)}());const mt=l.steps.length;let jt=0;J>0&&J<mt?c.errors.push(function li(){return new z.vHH(3202,!1)}()):0==J&&(jt=1/(mt-1));const Wt=mt-1,kt=c.currentTime,Vt=c.currentAnimateTimings,un=Vt.duration;return ct.forEach((on,Fn)=>{const ii=jt>0?Fn==Wt?1:jt*Fn:fe[Fn],zn=ii*un;c.currentTime=kt+Vt.delay+zn,Vt.duration=zn,this._validateStyleAst(on,c),on.offset=ii,M.styles.push(on)}),M}visitReference(l,c){return{type:8,animation:Bt(this,Ki(l.animation),c),options:Lr(l.options)}}visitAnimateChild(l,c){return c.depCount++,{type:9,options:Lr(l.options)}}visitAnimateRef(l,c){return{type:10,animation:this.visitReference(l.animation,c),options:Lr(l.options)}}visitQuery(l,c){const M=c.currentQuerySelector,V=l.options||{};c.queryCount++,c.currentQuery=l;const[J,fe]=function dr(k){const l=!!k.split(/\s*,\s*/).find(c=>":self"==c);return l&&(k=k.replace(Qt,"")),k=k.replace(/@\*/g,xr).replace(/@\w+/g,c=>xr+"-"+c.slice(1)).replace(/:animating/g,bn),[k,l]}(l.selector);c.currentQuerySelector=M.length?M+" "+J:J,qn(c.collectedStyles,c.currentQuerySelector,new Map);const ve=Bt(this,Ki(l.animation),c);return c.currentQuery=null,c.currentQuerySelector=M,{type:11,selector:J,limit:V.limit||0,optional:!!V.optional,includeSelf:fe,animation:ve,originalSelector:l.selector,options:Lr(l.options)}}visitStagger(l,c){c.currentQuery||c.errors.push(function ci(){return new z.vHH(3013,!1)}());const M="full"===l.timings?{duration:0,delay:0,easing:"full"}:Di(l.timings,c.errors,!0);return{type:12,animation:Bt(this,Ki(l.animation),c),timings:M,options:null}}}class es{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lr(k){return k?(k=bi(k)).params&&(k.params=function hr(k){return k?bi(k):null}(k.params)):k={},k}function ks(k,l,c){return{duration:k,delay:l,easing:c}}function Pr(k,l,c,M,V,J,fe=null,ve=!1){return{type:1,element:k,keyframes:l,preStyleProps:c,postStyleProps:M,duration:V,delay:J,totalTime:V+J,easing:fe,subTimeline:ve}}class kr{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,c){let M=this._map.get(l);M||this._map.set(l,M=[]),M.push(...c)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const ro=new RegExp(":enter","g"),Ma=new RegExp(":leave","g");function so(k,l,c,M,V,J=new Map,fe=new Map,ve,Be,Ze=[]){return(new ni).buildKeyframes(k,l,c,M,V,J,fe,ve,Be,Ze)}class ni{buildKeyframes(l,c,M,V,J,fe,ve,Be,Ze,ct=[]){Ze=Ze||new kr;const mt=new gn(l,c,Ze,V,J,ct,[]);mt.options=Be;const jt=Be.delay?vi(Be.delay):0;mt.currentTimeline.delayNextStep(jt),mt.currentTimeline.setStyles([fe],null,mt.errors,Be),Bt(this,M,mt);const Wt=mt.timelines.filter(kt=>kt.containsAnimation());if(Wt.length&&ve.size){let kt;for(let Vt=Wt.length-1;Vt>=0;Vt--){const un=Wt[Vt];if(un.element===c){kt=un;break}}kt&&!kt.allowOnlyTimelineStyles()&&kt.setStyles([ve],null,mt.errors,Be)}return Wt.length?Wt.map(kt=>kt.buildKeyframes()):[Pr(c,[],[],[],0,jt,"",!1)]}visitTrigger(l,c){}visitState(l,c){}visitTransition(l,c){}visitAnimateChild(l,c){const M=c.subInstructions.get(c.element);if(M){const V=c.createSubContext(l.options),J=c.currentTimeline.currentTime,fe=this._visitSubInstructions(M,V,V.options);J!=fe&&c.transformIntoNewTimeline(fe)}c.previousNode=l}visitAnimateRef(l,c){const M=c.createSubContext(l.options);M.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],c,M),this.visitReference(l.animation,M),c.transformIntoNewTimeline(M.currentTimeline.currentTime),c.previousNode=l}_applyAnimationRefDelays(l,c,M){var V;for(const J of l){const fe=null==J?void 0:J.delay;if(fe){const ve="number"==typeof fe?fe:vi(Rr(fe,null!==(V=null==J?void 0:J.params)&&void 0!==V?V:{},c.errors));M.delayNextStep(ve)}}}_visitSubInstructions(l,c,M){let J=c.currentTimeline.currentTime;const fe=null!=M.duration?vi(M.duration):null,ve=null!=M.delay?vi(M.delay):null;return 0!==fe&&l.forEach(Be=>{const Ze=c.appendInstructionToTimeline(Be,fe,ve);J=Math.max(J,Ze.duration+Ze.delay)}),J}visitReference(l,c){c.updateOptions(l.options,!0),Bt(this,l.animation,c),c.previousNode=l}visitSequence(l,c){const M=c.subContextCount;let V=c;const J=l.options;if(J&&(J.params||J.delay)&&(V=c.createSubContext(J),V.transformIntoNewTimeline(),null!=J.delay)){6==V.previousNode.type&&(V.currentTimeline.snapshotCurrentStyles(),V.previousNode=Fi);const fe=vi(J.delay);V.delayNextStep(fe)}l.steps.length&&(l.steps.forEach(fe=>Bt(this,fe,V)),V.currentTimeline.applyStylesToKeyframe(),V.subContextCount>M&&V.transformIntoNewTimeline()),c.previousNode=l}visitGroup(l,c){const M=[];let V=c.currentTimeline.currentTime;const J=l.options&&l.options.delay?vi(l.options.delay):0;l.steps.forEach(fe=>{const ve=c.createSubContext(l.options);J&&ve.delayNextStep(J),Bt(this,fe,ve),V=Math.max(V,ve.currentTimeline.currentTime),M.push(ve.currentTimeline)}),M.forEach(fe=>c.currentTimeline.mergeTimelineCollectedStyles(fe)),c.transformIntoNewTimeline(V),c.previousNode=l}_visitTiming(l,c){if(l.dynamic){const M=l.strValue;return Di(c.params?Rr(M,c.params,c.errors):M,c.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,c){const M=c.currentAnimateTimings=this._visitTiming(l.timings,c),V=c.currentTimeline;M.delay&&(c.incrementTime(M.delay),V.snapshotCurrentStyles());const J=l.style;5==J.type?this.visitKeyframes(J,c):(c.incrementTime(M.duration),this.visitStyle(J,c),V.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=l}visitStyle(l,c){const M=c.currentTimeline,V=c.currentAnimateTimings;!V&&M.hasCurrentStyleProperties()&&M.forwardFrame();const J=V&&V.easing||l.easing;l.isEmptyStep?M.applyEmptyStep(J):M.setStyles(l.styles,J,c.errors,c.options),c.previousNode=l}visitKeyframes(l,c){const M=c.currentAnimateTimings,V=c.currentTimeline.duration,J=M.duration,ve=c.createSubContext().currentTimeline;ve.easing=M.easing,l.styles.forEach(Be=>{ve.forwardTime((Be.offset||0)*J),ve.setStyles(Be.styles,Be.easing,c.errors,c.options),ve.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(ve),c.transformIntoNewTimeline(V+J),c.previousNode=l}visitQuery(l,c){const M=c.currentTimeline.currentTime,V=l.options||{},J=V.delay?vi(V.delay):0;J&&(6===c.previousNode.type||0==M&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Fi);let fe=M;const ve=c.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!V.optional,c.errors);c.currentQueryTotal=ve.length;let Be=null;ve.forEach((Ze,ct)=>{c.currentQueryIndex=ct;const mt=c.createSubContext(l.options,Ze);J&&mt.delayNextStep(J),Ze===c.element&&(Be=mt.currentTimeline),Bt(this,l.animation,mt),mt.currentTimeline.applyStylesToKeyframe(),fe=Math.max(fe,mt.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(fe),Be&&(c.currentTimeline.mergeTimelineCollectedStyles(Be),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=l}visitStagger(l,c){const M=c.parentContext,V=c.currentTimeline,J=l.timings,fe=Math.abs(J.duration),ve=fe*(c.currentQueryTotal-1);let Be=fe*c.currentQueryIndex;switch(J.duration<0?"reverse":J.easing){case"reverse":Be=ve-Be;break;case"full":Be=M.currentStaggerTime}const ct=c.currentTimeline;Be&&ct.delayNextStep(Be);const mt=ct.currentTime;Bt(this,l.animation,c),c.previousNode=l,M.currentStaggerTime=V.currentTime-mt+(V.startTime-M.currentTimeline.startTime)}}const Fi={};class gn{constructor(l,c,M,V,J,fe,ve,Be){this._driver=l,this.element=c,this.subInstructions=M,this._enterClassName=V,this._leaveClassName=J,this.errors=fe,this.timelines=ve,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Fi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Be||new Fs(this._driver,c,0),ve.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,c){if(!l)return;const M=l;let V=this.options;null!=M.duration&&(V.duration=vi(M.duration)),null!=M.delay&&(V.delay=vi(M.delay));const J=M.params;if(J){let fe=V.params;fe||(fe=this.options.params={}),Object.keys(J).forEach(ve=>{(!c||!fe.hasOwnProperty(ve))&&(fe[ve]=Rr(J[ve],fe,this.errors))})}}_copyOptions(){const l={};if(this.options){const c=this.options.params;if(c){const M=l.params={};Object.keys(c).forEach(V=>{M[V]=c[V]})}}return l}createSubContext(l=null,c,M){const V=c||this.element,J=new gn(this._driver,V,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(V,M||0));return J.previousNode=this.previousNode,J.currentAnimateTimings=this.currentAnimateTimings,J.options=this._copyOptions(),J.updateOptions(l),J.currentQueryIndex=this.currentQueryIndex,J.currentQueryTotal=this.currentQueryTotal,J.parentContext=this,this.subContextCount++,J}transformIntoNewTimeline(l){return this.previousNode=Fi,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,c,M){const V={duration:null!=c?c:l.duration,delay:this.currentTimeline.currentTime+(null!=M?M:0)+l.delay,easing:""},J=new Ta(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,V,l.stretchStartingKeyframe);return this.timelines.push(J),V}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,c,M,V,J,fe){let ve=[];if(V&&ve.push(this.element),l.length>0){l=(l=l.replace(ro,"."+this._enterClassName)).replace(Ma,"."+this._leaveClassName);let Ze=this._driver.query(this.element,l,1!=M);0!==M&&(Ze=M<0?Ze.slice(Ze.length+M,Ze.length):Ze.slice(0,M)),ve.push(...Ze)}return!J&&0==ve.length&&fe.push(function Vn(k){return new z.vHH(3014,!1)}()),ve}}class Fs{constructor(l,c,M,V){this._driver=l,this.element=c,this.startTime=M,this._elementTimelineStylesLookup=V,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+l),c&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,c){return this.applyStylesToKeyframe(),new Fs(this._driver,l,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,c){this._localTimelineStyles.set(l,c),this._globalTimelineStyles.set(l,c),this._styleSummary.set(l,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[c,M]of this._globalTimelineStyles)this._backFill.set(c,M||Yt.l3),this._currentKeyframe.set(c,Yt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,c,M,V){var J;c&&this._previousKeyframe.set("easing",c);const fe=V&&V.params||{},ve=function xa(k,l){const c=new Map;let M;return k.forEach(V=>{if("*"===V){M=M||l.keys();for(let J of M)c.set(J,Yt.l3)}else Pi(V,c)}),c}(l,this._globalTimelineStyles);for(let[Be,Ze]of ve){const ct=Rr(Ze,fe,M);this._pendingStyles.set(Be,ct),this._localTimelineStyles.has(Be)||this._backFill.set(Be,null!==(J=this._globalTimelineStyles.get(Be))&&void 0!==J?J:Yt.l3),this._updateStyle(Be,ct)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,c)=>{this._currentKeyframe.set(c,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,l)}))}snapshotCurrentStyles(){for(let[l,c]of this._localTimelineStyles)this._pendingStyles.set(l,c),this._updateStyle(l,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let c in this._currentKeyframe)l.push(c);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((c,M)=>{const V=this._styleSummary.get(M);(!V||c.time>V.time)&&this._updateStyle(M,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,c=new Set,M=1===this._keyframes.size&&0===this.duration;let V=[];this._keyframes.forEach((ve,Be)=>{const Ze=Pi(ve,new Map,this._backFill);Ze.forEach((ct,mt)=>{ct===Yt.k1?l.add(mt):ct===Yt.l3&&c.add(mt)}),M||Ze.set("offset",Be/this.duration),V.push(Ze)});const J=l.size?ar(l.values()):[],fe=c.size?ar(c.values()):[];if(M){const ve=V[0],Be=new Map(ve);ve.set("offset",0),Be.set("offset",1),V=[ve,Be]}return Pr(this.element,V,J,fe,this.duration,this.startTime,this.easing,!1)}}class Ta extends Fs{constructor(l,c,M,V,J,fe,ve=!1){super(l,c,fe.delay),this.keyframes=M,this.preStyleProps=V,this.postStyleProps=J,this._stretchStartingKeyframe=ve,this.timings={duration:fe.duration,delay:fe.delay,easing:fe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:c,duration:M,easing:V}=this.timings;if(this._stretchStartingKeyframe&&c){const J=[],fe=M+c,ve=c/fe,Be=Pi(l[0]);Be.set("offset",0),J.push(Be);const Ze=Pi(l[0]);Ze.set("offset",Wo(ve)),J.push(Ze);const ct=l.length-1;for(let mt=1;mt<=ct;mt++){let jt=Pi(l[mt]);const Wt=jt.get("offset");jt.set("offset",Wo((c+Wt*M)/fe)),J.push(jt)}M=fe,c=0,V="",l=J}return Pr(this.element,l,this.preStyleProps,this.postStyleProps,M,c,V,!0)}}function Wo(k,l=3){const c=Math.pow(10,l-1);return Math.round(k*c)/c}class Bs{}const vs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class bs extends Bs{normalizePropertyName(l,c){return lr(l)}normalizeStyleValue(l,c,M,V){let J="";const fe=M.toString().trim();if(vs.has(c)&&0!==M&&"0"!==M)if("number"==typeof M)J="px";else{const ve=M.match(/^[+-]?[\d\.]+([a-z]*)$/);ve&&0==ve[1].length&&V.push(function St(k,l){return new z.vHH(3005,!1)}())}return fe+J}}function Ns(k,l,c,M,V,J,fe,ve,Be,Ze,ct,mt,jt){return{type:0,element:k,triggerName:l,isRemovalTransition:V,fromState:c,fromStyles:J,toState:M,toStyles:fe,timelines:ve,queriedElements:Be,preStyleProps:Ze,postStyleProps:ct,totalTime:mt,errors:jt}}const Hs={};class Go{constructor(l,c,M){this._triggerName=l,this.ast=c,this._stateStyles=M}match(l,c,M,V){return function ys(k,l,c,M,V){return k.some(J=>J(l,c,M,V))}(this.ast.matchers,l,c,M,V)}buildStyles(l,c,M){let V=this._stateStyles.get("*");return void 0!==l&&(V=this._stateStyles.get(null==l?void 0:l.toString())||V),V?V.buildStyles(c,M):new Map}build(l,c,M,V,J,fe,ve,Be,Ze,ct){var mt;const jt=[],Wt=this.ast.options&&this.ast.options.params||Hs,Vt=this.buildStyles(M,ve&&ve.params||Hs,jt),un=Be&&Be.params||Hs,on=this.buildStyles(V,un,jt),Fn=new Set,ii=new Map,zn=new Map,rs="void"===V,xi={params:Aa(un,Wt),delay:null===(mt=this.ast.options)||void 0===mt?void 0:mt.delay},Wn=ct?[]:so(l,c,this.ast.animation,J,fe,Vt,on,xi,Ze,jt);let Vi=0;if(Wn.forEach(ji=>{Vi=Math.max(ji.duration+ji.delay,Vi)}),jt.length)return Ns(c,this._triggerName,M,V,rs,Vt,on,[],[],ii,zn,Vi,jt);Wn.forEach(ji=>{const $s=ji.element,go=qn(ii,$s,new Set);ji.preStyleProps.forEach(Ss=>go.add(Ss));const zs=qn(zn,$s,new Set);ji.postStyleProps.forEach(Ss=>zs.add(Ss)),$s!==c&&Fn.add($s)});const ea=ar(Fn.values());return Ns(c,this._triggerName,M,V,rs,Vt,on,Wn,ea,ii,zn,Vi)}}function Aa(k,l){const c=bi(l);for(const M in k)k.hasOwnProperty(M)&&null!=k[M]&&(c[M]=k[M]);return c}class Ia{constructor(l,c,M){this.styles=l,this.defaultParams=c,this.normalizer=M}buildStyles(l,c){const M=new Map,V=bi(this.defaultParams);return Object.keys(l).forEach(J=>{const fe=l[J];null!==fe&&(V[J]=fe)}),this.styles.styles.forEach(J=>{"string"!=typeof J&&J.forEach((fe,ve)=>{fe&&(fe=Rr(fe,V,c));const Be=this.normalizer.normalizePropertyName(ve,c);fe=this.normalizer.normalizeStyleValue(ve,Be,fe,c),M.set(Be,fe)})}),M}}class ao{constructor(l,c,M){this.name=l,this.ast=c,this._normalizer=M,this.transitionFactories=[],this.states=new Map,c.states.forEach(V=>{this.states.set(V.name,new Ia(V.style,V.options&&V.options.params||{},M))}),O(this.states,"true","1"),O(this.states,"false","0"),c.transitions.forEach(V=>{this.transitionFactories.push(new Go(l,V,this.states))}),this.fallbackTransition=function Ra(k,l,c){return new Go(k,{type:1,animation:{type:2,steps:[],options:null},matchers:[(fe,ve)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,c,M,V){return this.transitionFactories.find(fe=>fe.match(l,c,M,V))||null}matchStyles(l,c,M){return this.fallbackTransition.buildStyles(l,c,M)}}function O(k,l,c){k.has(l)?k.has(c)||k.set(c,k.get(l)):k.has(c)&&k.set(l,k.get(c))}const Y=new kr;class B{constructor(l,c,M){this.bodyNode=l,this._driver=c,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,c){const M=[],J=ti(this._driver,c,M,[]);if(M.length)throw function Rn(k){return new z.vHH(3503,!1)}();this._animations.set(l,J)}_buildPlayer(l,c,M){const V=l.element,J=Zr(0,this._normalizer,0,l.keyframes,c,M);return this._driver.animate(V,J,l.duration,l.delay,l.easing,[],!0)}create(l,c,M={}){const V=[],J=this._animations.get(l);let fe;const ve=new Map;if(J?(fe=so(this._driver,c,J,Gi,Tr,new Map,new Map,M,Y,V),fe.forEach(ct=>{const mt=qn(ve,ct.element,new Map);ct.postStyleProps.forEach(jt=>mt.set(jt,null))})):(V.push(function wi(){return new z.vHH(3300,!1)}()),fe=[]),V.length)throw function Ei(k){return new z.vHH(3504,!1)}();ve.forEach((ct,mt)=>{ct.forEach((jt,Wt)=>{ct.set(Wt,this._driver.computeStyle(mt,Wt,Yt.l3))})});const Ze=_i(fe.map(ct=>{const mt=ve.get(ct.element);return this._buildPlayer(ct,new Map,mt)}));return this._playersById.set(l,Ze),Ze.onDestroy(()=>this.destroy(l)),this.players.push(Ze),Ze}destroy(l){const c=this._getPlayer(l);c.destroy(),this._playersById.delete(l);const M=this.players.indexOf(c);M>=0&&this.players.splice(M,1)}_getPlayer(l){const c=this._playersById.get(l);if(!c)throw function ir(k){return new z.vHH(3301,!1)}();return c}listen(l,c,M,V){const J=Sr(c,"","","");return Dr(this._getPlayer(l),M,J,V),()=>{}}command(l,c,M,V){if("register"==M)return void this.register(l,V[0]);if("create"==M)return void this.create(l,c,V[0]||{});const J=this._getPlayer(l);switch(M){case"play":J.play();break;case"pause":J.pause();break;case"reset":J.reset();break;case"restart":J.restart();break;case"finish":J.finish();break;case"init":J.init();break;case"setPosition":J.setPosition(parseFloat(V[0]));break;case"destroy":this.destroy(l)}}}const re="ng-animate-queued",ze="ng-animate-disabled",Gt=[],nn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$t={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jt="__ng_removed";class tn{constructor(l,c=""){this.namespaceId=c;const M=l&&l.hasOwnProperty("value");if(this.value=function _r(k){return null!=k?k:null}(M?l.value:l),M){const J=bi(l);delete J.value,this.options=J}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(l){const c=l.params;if(c){const M=this.options.params;Object.keys(c).forEach(V=>{null==M[V]&&(M[V]=c[V])})}}}const xn="void",Bi=new tn(xn);class Mi{constructor(l,c,M){this.id=l,this.hostElement=c,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,Ti(c,this._hostClassName)}listen(l,c,M,V){if(!this._triggers.has(c))throw function Yn(k,l){return new z.vHH(3302,!1)}();if(null==M||0==M.length)throw function Xi(k){return new z.vHH(3303,!1)}();if(!function Ko(k){return"start"==k||"done"==k}(M))throw function As(k,l){return new z.vHH(3400,!1)}();const J=qn(this._elementListeners,l,[]),fe={name:c,phase:M,callback:V};J.push(fe);const ve=qn(this._engine.statesByElement,l,new Map);return ve.has(c)||(Ti(l,sr),Ti(l,sr+"-"+c),ve.set(c,Bi)),()=>{this._engine.afterFlush(()=>{const Be=J.indexOf(fe);Be>=0&&J.splice(Be,1),this._triggers.has(c)||ve.delete(c)})}}register(l,c){return!this._triggers.has(l)&&(this._triggers.set(l,c),!0)}_getTrigger(l){const c=this._triggers.get(l);if(!c)throw function Kr(k){return new z.vHH(3401,!1)}();return c}trigger(l,c,M,V=!0){const J=this._getTrigger(c),fe=new On(this.id,c,l);let ve=this._engine.statesByElement.get(l);ve||(Ti(l,sr),Ti(l,sr+"-"+c),this._engine.statesByElement.set(l,ve=new Map));let Be=ve.get(c);const Ze=new tn(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&Be&&Ze.absorbOptions(Be.options),ve.set(c,Ze),Be||(Be=Bi),Ze.value!==xn&&Be.value===Ze.value){if(!function lo(k,l){const c=Object.keys(k),M=Object.keys(l);if(c.length!=M.length)return!1;for(let V=0;V<c.length;V++){const J=c[V];if(!l.hasOwnProperty(J)||k[J]!==l[J])return!1}return!0}(Be.params,Ze.params)){const Vt=[],un=J.matchStyles(Be.value,Be.params,Vt),on=J.matchStyles(Ze.value,Ze.params,Vt);Vt.length?this._engine.reportError(Vt):this._engine.afterFlush(()=>{Zn(l,un),En(l,on)})}return}const jt=qn(this._engine.playersByElement,l,[]);jt.forEach(Vt=>{Vt.namespaceId==this.id&&Vt.triggerName==c&&Vt.queued&&Vt.destroy()});let Wt=J.matchTransition(Be.value,Ze.value,l,Ze.params),kt=!1;if(!Wt){if(!V)return;Wt=J.fallbackTransition,kt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:c,transition:Wt,fromState:Be,toState:Ze,player:fe,isFallbackTransition:kt}),kt||(Ti(l,re),fe.onStart(()=>{ts(l,re)})),fe.onDone(()=>{let Vt=this.players.indexOf(fe);Vt>=0&&this.players.splice(Vt,1);const un=this._engine.playersByElement.get(l);if(un){let on=un.indexOf(fe);on>=0&&un.splice(on,1)}}),this.players.push(fe),jt.push(fe),fe}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(c=>c.delete(l)),this._elementListeners.forEach((c,M)=>{this._elementListeners.set(M,c.filter(V=>V.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const c=this._engine.playersByElement.get(l);c&&(c.forEach(M=>M.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,c){const M=this._engine.driver.query(l,xr,!0);M.forEach(V=>{if(V[Jt])return;const J=this._engine.fetchNamespacesByElement(V);J.size?J.forEach(fe=>fe.triggerLeaveAnimation(V,c,!1,!0)):this.clearElementCache(V)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(V=>this.clearElementCache(V)))}triggerLeaveAnimation(l,c,M,V){const J=this._engine.statesByElement.get(l),fe=new Map;if(J){const ve=[];if(J.forEach((Be,Ze)=>{if(fe.set(Ze,Be.value),this._triggers.has(Ze)){const ct=this.trigger(l,Ze,xn,V);ct&&ve.push(ct)}}),ve.length)return this._engine.markElementAsRemoved(this.id,l,!0,c,fe),M&&_i(ve).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const c=this._elementListeners.get(l),M=this._engine.statesByElement.get(l);if(c&&M){const V=new Set;c.forEach(J=>{const fe=J.name;if(V.has(fe))return;V.add(fe);const Be=this._triggers.get(fe).fallbackTransition,Ze=M.get(fe)||Bi,ct=new tn(xn),mt=new On(this.id,fe,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:fe,transition:Be,fromState:Ze,toState:ct,player:mt,isFallbackTransition:!0})})}}removeNode(l,c){const M=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,c),this.triggerLeaveAnimation(l,c,!0))return;let V=!1;if(M.totalAnimations){const J=M.players.length?M.playersByQueriedElement.get(l):[];if(J&&J.length)V=!0;else{let fe=l;for(;fe=fe.parentNode;)if(M.statesByElement.get(fe)){V=!0;break}}}if(this.prepareLeaveAnimationListeners(l),V)M.markElementAsRemoved(this.id,l,!1,c);else{const J=l[Jt];(!J||J===nn)&&(M.afterFlush(()=>this.clearElementCache(l)),M.destroyInnerAnimations(l),M._onRemovalComplete(l,c))}}insertNode(l,c){Ti(l,this._hostClassName)}drainQueuedTransitions(l){const c=[];return this._queue.forEach(M=>{const V=M.player;if(V.destroyed)return;const J=M.element,fe=this._elementListeners.get(J);fe&&fe.forEach(ve=>{if(ve.name==M.triggerName){const Be=Sr(J,M.triggerName,M.fromState.value,M.toState.value);Be._data=l,Dr(M.player,ve.phase,Be,ve.callback)}}),V.markedForDestroy?this._engine.afterFlush(()=>{V.destroy()}):c.push(M)}),this._queue=[],c.sort((M,V)=>{const J=M.transition.ast.depCount,fe=V.transition.ast.depCount;return 0==J||0==fe?J-fe:this._engine.driver.containsElement(M.element,V.element)?1:-1})}destroy(l){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}elementContainsData(l){let c=!1;return this._elementListeners.has(l)&&(c=!0),c=!!this._queue.find(M=>M.element===l)||c,c}}class pr{constructor(l,c,M){this.bodyNode=l,this.driver=c,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(V,J)=>{}}_onRemovalComplete(l,c){this.onRemovalComplete(l,c)}get queuedPlayers(){const l=[];return this._namespaceList.forEach(c=>{c.players.forEach(M=>{M.queued&&l.push(M)})}),l}createNamespace(l,c){const M=new Mi(l,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(M,c):(this.newHostElements.set(c,M),this.collectEnterElement(c)),this._namespaceLookup[l]=M}_balanceNamespaceList(l,c){const M=this._namespaceList,V=this.namespacesByHostElement;if(M.length-1>=0){let fe=!1,ve=this.driver.getParentElement(c);for(;ve;){const Be=V.get(ve);if(Be){const Ze=M.indexOf(Be);M.splice(Ze+1,0,l),fe=!0;break}ve=this.driver.getParentElement(ve)}fe||M.unshift(l)}else M.push(l);return V.set(c,l),l}register(l,c){let M=this._namespaceLookup[l];return M||(M=this.createNamespace(l,c)),M}registerTrigger(l,c,M){let V=this._namespaceLookup[l];V&&V.register(c,M)&&this.totalAnimations++}destroy(l,c){if(!l)return;const M=this._fetchNamespace(l);this.afterFlush(()=>{this.namespacesByHostElement.delete(M.hostElement),delete this._namespaceLookup[l];const V=this._namespaceList.indexOf(M);V>=0&&this._namespaceList.splice(V,1)}),this.afterFlushAnimationsDone(()=>M.destroy(c))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const c=new Set,M=this.statesByElement.get(l);if(M)for(let V of M.values())if(V.namespaceId){const J=this._fetchNamespace(V.namespaceId);J&&c.add(J)}return c}trigger(l,c,M,V){if(gr(c)){const J=this._fetchNamespace(l);if(J)return J.trigger(c,M,V),!0}return!1}insertNode(l,c,M,V){if(!gr(c))return;const J=c[Jt];if(J&&J.setForRemoval){J.setForRemoval=!1,J.setForMove=!0;const fe=this.collectedLeaveElements.indexOf(c);fe>=0&&this.collectedLeaveElements.splice(fe,1)}if(l){const fe=this._fetchNamespace(l);fe&&fe.insertNode(c,M)}V&&this.collectEnterElement(c)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,c){c?this.disabledNodes.has(l)||(this.disabledNodes.add(l),Ti(l,ze)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),ts(l,ze))}removeNode(l,c,M,V){if(gr(c)){const J=l?this._fetchNamespace(l):null;if(J?J.removeNode(c,V):this.markElementAsRemoved(l,c,!1,V),M){const fe=this.namespacesByHostElement.get(c);fe&&fe.id!==l&&fe.removeNode(c,V)}}else this._onRemovalComplete(c,V)}markElementAsRemoved(l,c,M,V,J){this.collectedLeaveElements.push(c),c[Jt]={namespaceId:l,setForRemoval:V,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:J}}listen(l,c,M,V,J){return gr(c)?this._fetchNamespace(l).listen(c,M,V,J):()=>{}}_buildInstruction(l,c,M,V,J){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,M,V,l.fromState.options,l.toState.options,c,J)}destroyInnerAnimations(l){let c=this.driver.query(l,xr,!0);c.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(l,bn,!0),c.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(l){const c=this.playersByElement.get(l);c&&c.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(l){const c=this.playersByQueriedElement.get(l);c&&c.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return _i(this.players).onDone(()=>l());l()})}processLeaveNode(l){var c;const M=l[Jt];if(M&&M.setForRemoval){if(l[Jt]=nn,M.namespaceId){this.destroyInnerAnimations(l);const V=this._fetchNamespace(M.namespaceId);V&&V.clearElementCache(l)}this._onRemovalComplete(l,M.setForRemoval)}!(null===(c=l.classList)||void 0===c)&&c.contains(ze)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(V=>{this.markElementAsDisabled(V,!1)})}flush(l=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,V)=>this._balanceNamespaceList(M,V)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)Ti(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{c=this._flushAnimations(M,l)}finally{for(let V=0;V<M.length;V++)M[V]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],c.length?_i(c).onDone(()=>{M.forEach(V=>V())}):M.forEach(V=>V())}}reportError(l){throw function Yr(k){return new z.vHH(3402,!1)}()}_flushAnimations(l,c){const M=new kr,V=[],J=new Map,fe=[],ve=new Map,Be=new Map,Ze=new Map,ct=new Set;this.disabledNodes.forEach(yt=>{ct.add(yt);const Tt=this.driver.query(yt,".ng-animate-queued",!0);for(let Ft=0;Ft<Tt.length;Ft++)ct.add(Tt[Ft])});const mt=this.bodyNode,jt=Array.from(this.statesByElement.keys()),Wt=Oa(jt,this.collectedEnterElements),kt=new Map;let Vt=0;Wt.forEach((yt,Tt)=>{const Ft=Gi+Vt++;kt.set(Tt,Ft),yt.forEach(Kt=>Ti(Kt,Ft))});const un=[],on=new Set,Fn=new Set;for(let yt=0;yt<this.collectedLeaveElements.length;yt++){const Tt=this.collectedLeaveElements[yt],Ft=Tt[Jt];Ft&&Ft.setForRemoval&&(un.push(Tt),on.add(Tt),Ft.hasAnimation?this.driver.query(Tt,".ng-star-inserted",!0).forEach(Kt=>on.add(Kt)):Fn.add(Tt))}const ii=new Map,zn=Oa(jt,Array.from(on));zn.forEach((yt,Tt)=>{const Ft=Tr+Vt++;ii.set(Tt,Ft),yt.forEach(Kt=>Ti(Kt,Ft))}),l.push(()=>{Wt.forEach((yt,Tt)=>{const Ft=kt.get(Tt);yt.forEach(Kt=>ts(Kt,Ft))}),zn.forEach((yt,Tt)=>{const Ft=ii.get(Tt);yt.forEach(Kt=>ts(Kt,Ft))}),un.forEach(yt=>{this.processLeaveNode(yt)})});const rs=[],xi=[];for(let yt=this._namespaceList.length-1;yt>=0;yt--)this._namespaceList[yt].drainQueuedTransitions(c).forEach(Ft=>{const Kt=Ft.player,Ln=Ft.element;if(rs.push(Kt),this.collectedEnterElements.length){const di=Ln[Jt];if(di&&di.setForMove){if(di.previousTriggersValues&&di.previousTriggersValues.has(Ft.triggerName)){const vr=di.previousTriggersValues.get(Ft.triggerName),qi=this.statesByElement.get(Ft.element);if(qi&&qi.has(Ft.triggerName)){const ta=qi.get(Ft.triggerName);ta.value=vr,qi.set(Ft.triggerName,ta)}}return void Kt.destroy()}}const Yi=!mt||!this.driver.containsElement(mt,Ln),Ui=ii.get(Ln),Hr=kt.get(Ln),Dn=this._buildInstruction(Ft,M,Hr,Ui,Yi);if(Dn.errors&&Dn.errors.length)return void xi.push(Dn);if(Yi)return Kt.onStart(()=>Zn(Ln,Dn.fromStyles)),Kt.onDestroy(()=>En(Ln,Dn.toStyles)),void V.push(Kt);if(Ft.isFallbackTransition)return Kt.onStart(()=>Zn(Ln,Dn.fromStyles)),Kt.onDestroy(()=>En(Ln,Dn.toStyles)),void V.push(Kt);const mo=[];Dn.timelines.forEach(di=>{di.stretchStartingKeyframe=!0,this.disabledNodes.has(di.element)||mo.push(di)}),Dn.timelines=mo,M.append(Ln,Dn.timelines),fe.push({instruction:Dn,player:Kt,element:Ln}),Dn.queriedElements.forEach(di=>qn(ve,di,[]).push(Kt)),Dn.preStyleProps.forEach((di,vr)=>{if(di.size){let qi=Be.get(vr);qi||Be.set(vr,qi=new Set),di.forEach((ta,Ka)=>qi.add(Ka))}}),Dn.postStyleProps.forEach((di,vr)=>{let qi=Ze.get(vr);qi||Ze.set(vr,qi=new Set),di.forEach((ta,Ka)=>qi.add(Ka))})});if(xi.length){const yt=[];xi.forEach(Tt=>{yt.push(function ei(k,l){return new z.vHH(3505,!1)}())}),rs.forEach(Tt=>Tt.destroy()),this.reportError(yt)}const Wn=new Map,Vi=new Map;fe.forEach(yt=>{const Tt=yt.element;M.has(Tt)&&(Vi.set(Tt,Tt),this._beforeAnimationBuild(yt.player.namespaceId,yt.instruction,Wn))}),V.forEach(yt=>{const Tt=yt.element;this._getPreviousPlayers(Tt,!1,yt.namespaceId,yt.triggerName,null).forEach(Kt=>{qn(Wn,Tt,[]).push(Kt),Kt.destroy()})});const ea=un.filter(yt=>Es(yt,Be,Ze)),ji=new Map;js(ji,this.driver,Fn,Ze,Yt.l3).forEach(yt=>{Es(yt,Be,Ze)&&ea.push(yt)});const go=new Map;Wt.forEach((yt,Tt)=>{js(go,this.driver,new Set(yt),Be,Yt.k1)}),ea.forEach(yt=>{var Tt,Ft;const Kt=ji.get(yt),Ln=go.get(yt);ji.set(yt,new Map([...Array.from(null!==(Tt=null==Kt?void 0:Kt.entries())&&void 0!==Tt?Tt:[]),...Array.from(null!==(Ft=null==Ln?void 0:Ln.entries())&&void 0!==Ft?Ft:[])]))});const zs=[],Ss=[],Ga={};fe.forEach(yt=>{const{element:Tt,player:Ft,instruction:Kt}=yt;if(M.has(Tt)){if(ct.has(Tt))return Ft.onDestroy(()=>En(Tt,Kt.toStyles)),Ft.disabled=!0,Ft.overrideTotalTime(Kt.totalTime),void V.push(Ft);let Ln=Ga;if(Vi.size>1){let Ui=Tt;const Hr=[];for(;Ui=Ui.parentNode;){const Dn=Vi.get(Ui);if(Dn){Ln=Dn;break}Hr.push(Ui)}Hr.forEach(Dn=>Vi.set(Dn,Ln))}const Yi=this._buildAnimation(Ft.namespaceId,Kt,Wn,J,go,ji);if(Ft.setRealPlayer(Yi),Ln===Ga)zs.push(Ft);else{const Ui=this.playersByElement.get(Ln);Ui&&Ui.length&&(Ft.parentPlayer=_i(Ui)),V.push(Ft)}}else Zn(Tt,Kt.fromStyles),Ft.onDestroy(()=>En(Tt,Kt.toStyles)),Ss.push(Ft),ct.has(Tt)&&V.push(Ft)}),Ss.forEach(yt=>{const Tt=J.get(yt.element);if(Tt&&Tt.length){const Ft=_i(Tt);yt.setRealPlayer(Ft)}}),V.forEach(yt=>{yt.parentPlayer?yt.syncPlayerEvents(yt.parentPlayer):yt.destroy()});for(let yt=0;yt<un.length;yt++){const Tt=un[yt],Ft=Tt[Jt];if(ts(Tt,Tr),Ft&&Ft.hasAnimation)continue;let Kt=[];if(ve.size){let Yi=ve.get(Tt);Yi&&Yi.length&&Kt.push(...Yi);let Ui=this.driver.query(Tt,bn,!0);for(let Hr=0;Hr<Ui.length;Hr++){let Dn=ve.get(Ui[Hr]);Dn&&Dn.length&&Kt.push(...Dn)}}const Ln=Kt.filter(Yi=>!Yi.destroyed);Ln.length?La(this,Tt,Ln):this.processLeaveNode(Tt)}return un.length=0,zs.forEach(yt=>{this.players.push(yt),yt.onDone(()=>{yt.destroy();const Tt=this.players.indexOf(yt);this.players.splice(Tt,1)}),yt.play()}),zs}elementContainsData(l,c){let M=!1;const V=c[Jt];return V&&V.setForRemoval&&(M=!0),this.playersByElement.has(c)&&(M=!0),this.playersByQueriedElement.has(c)&&(M=!0),this.statesByElement.has(c)&&(M=!0),this._fetchNamespace(l).elementContainsData(c)||M}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,c,M,V,J){let fe=[];if(c){const ve=this.playersByQueriedElement.get(l);ve&&(fe=ve)}else{const ve=this.playersByElement.get(l);if(ve){const Be=!J||J==xn;ve.forEach(Ze=>{Ze.queued||!Be&&Ze.triggerName!=V||fe.push(Ze)})}}return(M||V)&&(fe=fe.filter(ve=>!(M&&M!=ve.namespaceId||V&&V!=ve.triggerName))),fe}_beforeAnimationBuild(l,c,M){const J=c.element,fe=c.isRemovalTransition?void 0:l,ve=c.isRemovalTransition?void 0:c.triggerName;for(const Be of c.timelines){const Ze=Be.element,ct=Ze!==J,mt=qn(M,Ze,[]);this._getPreviousPlayers(Ze,ct,fe,ve,c.toState).forEach(Wt=>{const kt=Wt.getRealPlayer();kt.beforeDestroy&&kt.beforeDestroy(),Wt.destroy(),mt.push(Wt)})}Zn(J,c.fromStyles)}_buildAnimation(l,c,M,V,J,fe){const ve=c.triggerName,Be=c.element,Ze=[],ct=new Set,mt=new Set,jt=c.timelines.map(kt=>{const Vt=kt.element;ct.add(Vt);const un=Vt[Jt];if(un&&un.removedBeforeQueried)return new Yt.ZN(kt.duration,kt.delay);const on=Vt!==Be,Fn=function Pa(k){const l=[];return ka(k,l),l}((M.get(Vt)||Gt).map(Wn=>Wn.getRealPlayer())).filter(Wn=>!!Wn.element&&Wn.element===Vt),ii=J.get(Vt),zn=fe.get(Vt),rs=Zr(0,this._normalizer,0,kt.keyframes,ii,zn),xi=this._buildPlayer(kt,rs,Fn);if(kt.subTimeline&&V&&mt.add(Vt),on){const Wn=new On(l,ve,Vt);Wn.setRealPlayer(xi),Ze.push(Wn)}return xi});Ze.forEach(kt=>{qn(this.playersByQueriedElement,kt.element,[]).push(kt),kt.onDone(()=>function ws(k,l,c){let M=k.get(l);if(M){if(M.length){const V=M.indexOf(c);M.splice(V,1)}0==M.length&&k.delete(l)}return M}(this.playersByQueriedElement,kt.element,kt))}),ct.forEach(kt=>Ti(kt,to));const Wt=_i(jt);return Wt.onDestroy(()=>{ct.forEach(kt=>ts(kt,to)),En(Be,c.toStyles)}),mt.forEach(kt=>{qn(V,kt,[]).push(Wt)}),Wt}_buildPlayer(l,c,M){return c.length>0?this.driver.animate(l.element,c,l.duration,l.delay,l.easing,M):new Yt.ZN(l.duration,l.delay)}}class On{constructor(l,c,M){this.namespaceId=l,this.triggerName=c,this.element=M,this._player=new Yt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((c,M)=>{c.forEach(V=>Dr(l,M,void 0,V))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const c=this._player;c.triggerCallback&&l.onStart(()=>c.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,c){qn(this._queuedCallbacks,l,[]).push(c)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const c=this._player;c.triggerCallback&&c.triggerCallback(l)}}function gr(k){return k&&1===k.nodeType}function Vs(k,l){const c=k.style.display;return k.style.display=null!=l?l:"none",c}function js(k,l,c,M,V){const J=[];c.forEach(Be=>J.push(Vs(Be)));const fe=[];M.forEach((Be,Ze)=>{const ct=new Map;Be.forEach(mt=>{const jt=l.computeStyle(Ze,mt,V);ct.set(mt,jt),(!jt||0==jt.length)&&(Ze[Jt]=$t,fe.push(Ze))}),k.set(Ze,ct)});let ve=0;return c.forEach(Be=>Vs(Be,J[ve++])),fe}function Oa(k,l){const c=new Map;if(k.forEach(ve=>c.set(ve,[])),0==l.length)return c;const V=new Set(l),J=new Map;function fe(ve){if(!ve)return 1;let Be=J.get(ve);if(Be)return Be;const Ze=ve.parentNode;return Be=c.has(Ze)?Ze:V.has(Ze)?1:fe(Ze),J.set(ve,Be),Be}return l.forEach(ve=>{const Be=fe(ve);1!==Be&&c.get(Be).push(ve)}),c}function Ti(k,l){var c;null===(c=k.classList)||void 0===c||c.add(l)}function ts(k,l){var c;null===(c=k.classList)||void 0===c||c.remove(l)}function La(k,l,c){_i(c).onDone(()=>k.processLeaveNode(l))}function ka(k,l){for(let c=0;c<k.length;c++){const M=k[c];M instanceof Yt.ZE?ka(M.players,l):l.push(M)}}function Es(k,l,c){const M=c.get(k);if(!M)return!1;let V=l.get(k);return V?M.forEach(J=>V.add(J)):l.set(k,M),c.delete(k),!0}class co{constructor(l,c,M){this.bodyNode=l,this._driver=c,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(V,J)=>{},this._transitionEngine=new pr(l,c,M),this._timelineEngine=new B(l,c,M),this._transitionEngine.onRemovalComplete=(V,J)=>this.onRemovalComplete(V,J)}registerTrigger(l,c,M,V,J){const fe=l+"-"+V;let ve=this._triggerCache[fe];if(!ve){const Be=[],ct=ti(this._driver,J,Be,[]);if(Be.length)throw function pi(k,l){return new z.vHH(3404,!1)}();ve=function Cs(k,l,c){return new ao(k,l,c)}(V,ct,this._normalizer),this._triggerCache[fe]=ve}this._transitionEngine.registerTrigger(c,V,ve)}register(l,c){this._transitionEngine.register(l,c)}destroy(l,c){this._transitionEngine.destroy(l,c)}onInsert(l,c,M,V){this._transitionEngine.insertNode(l,c,M,V)}onRemove(l,c,M,V){this._transitionEngine.removeNode(l,c,V||!1,M)}disableAnimations(l,c){this._transitionEngine.markElementAsDisabled(l,c)}process(l,c,M,V){if("@"==M.charAt(0)){const[J,fe]=Qr(M);this._timelineEngine.command(J,c,fe,V)}else this._transitionEngine.trigger(l,c,M,V)}listen(l,c,M,V,J){if("@"==M.charAt(0)){const[fe,ve]=Qr(M);return this._timelineEngine.listen(fe,c,ve,J)}return this._transitionEngine.listen(l,c,M,V,J)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ba=(()=>{class k{constructor(c,M,V){this._element=c,this._startStyles=M,this._endStyles=V,this._state=0;let J=k.initialStylesByElement.get(c);J||k.initialStylesByElement.set(c,J=new Map),this._initialStyles=J}start(){this._state<1&&(this._startStyles&&En(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(En(this._element,this._initialStyles),this._endStyles&&(En(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(k.initialStylesByElement.delete(this._element),this._startStyles&&(Zn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zn(this._element,this._endStyles),this._endStyles=null),En(this._element,this._initialStyles),this._state=3)}}return k.initialStylesByElement=new WeakMap,k})();function Br(k){let l=null;return k.forEach((c,M)=>{(function Bl(k){return"display"===k||"position"===k})(M)&&(l=l||new Map,l.set(M,c))}),l}class Yo{constructor(l,c,M,V){this.element=l,this.keyframes=c,this.options=M,this._specialStyles=V,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const c=[];return l.forEach(M=>{c.push(Object.fromEntries(M))}),c}_triggerWebAnimation(l,c,M){return l.animate(this._convertKeyframesToObject(c),M)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,V)=>{"offset"!==V&&l.set(V,this._finished?M:ps(this.element,V))}),this.currentSnapshot=l}triggerCallback(l){const c="start"===l?this._onStartFns:this._onDoneFns;c.forEach(M=>M()),c.length=0}}class qo{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,c){return!1}containsElement(l,c){return _e(l,c)}getParentElement(l){return Wi(l)}query(l,c,M){return Ve(l,c,M)}computeStyle(l,c,M){return window.getComputedStyle(l)[c]}animate(l,c,M,V,J,fe=[]){const Be={duration:M,delay:V,fill:0==V?"both":"forwards"};J&&(Be.easing=J);const Ze=new Map,ct=fe.filter(Wt=>Wt instanceof Yo);(function Uo(k,l){return 0===k||0===l})(M,V)&&ct.forEach(Wt=>{Wt.currentSnapshot.forEach((kt,Vt)=>Ze.set(Vt,kt))});let mt=function er(k){return k.length?k[0]instanceof Map?k:k.map(l=>Ar(l)):[]}(c).map(Wt=>Pi(Wt));mt=function tt(k,l,c){if(c.size&&l.length){let M=l[0],V=[];if(c.forEach((J,fe)=>{M.has(fe)||V.push(fe),M.set(fe,J)}),V.length)for(let J=1;J<l.length;J++){let fe=l[J];V.forEach(ve=>fe.set(ve,ps(k,ve)))}}return l}(l,mt,Ze);const jt=function Fa(k,l){let c=null,M=null;return Array.isArray(l)&&l.length?(c=Br(l[0]),l.length>1&&(M=Br(l[l.length-1]))):l instanceof Map&&(c=Br(l)),c||M?new Ba(k,c,M):null}(l,mt);return new Yo(l,mt,Be,jt)}}let Nl=(()=>{class k extends Yt._j{constructor(c,M){super(),this._nextAnimationId=0,this._renderer=c.createRenderer(M.body,{id:"0",encapsulation:z.ifc.None,styles:[],data:{animation:[]}})}build(c){const M=this._nextAnimationId.toString();this._nextAnimationId++;const V=Array.isArray(c)?(0,Yt.vP)(c):c;return ns(this._renderer,null,M,"register",[V]),new Na(M,this._renderer)}}return k.\u0275fac=function(c){return new(c||k)(z.LFG(z.FYo),z.LFG(S.K0))},k.\u0275prov=z.Yz7({token:k,factory:k.\u0275fac}),k})();class Na extends Yt.LC{constructor(l,c){super(),this._id=l,this._renderer=c}create(l,c){return new Zo(this._id,l,c||{},this._renderer)}}class Zo{constructor(l,c,M,V){this.id=l,this.element=c,this._renderer=V,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(l,c){return this._renderer.listen(this.element,`@@${this.id}:${l}`,c)}_command(l,...c){return ns(this._renderer,this.element,this.id,l,c)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){var l,c;return null!==(c=null===(l=this._renderer.engine.players[+this.id])||void 0===l?void 0:l.getPosition())&&void 0!==c?c:0}}function ns(k,l,c,M,V){return k.setProperty(l,`@@${c}:${M}`,V)}const is="@.disabled";let Ha=(()=>{class k{constructor(c,M,V){this.delegate=c,this.engine=M,this._zone=V,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),M.onRemovalComplete=(J,fe)=>{const ve=null==fe?void 0:fe.parentNode(J);ve&&fe.removeChild(ve,J)}}createRenderer(c,M){const J=this.delegate.createRenderer(c,M);if(!(c&&M&&M.data&&M.data.animation)){let ct=this._rendererCache.get(J);return ct||(ct=new uo("",J,this.engine,()=>this._rendererCache.delete(J)),this._rendererCache.set(J,ct)),ct}const fe=M.id,ve=M.id+"-"+this._currentId;this._currentId++,this.engine.register(ve,c);const Be=ct=>{Array.isArray(ct)?ct.forEach(Be):this.engine.registerTrigger(fe,ve,c,ct.name,ct)};return M.data.animation.forEach(Be),new Ds(this,ve,J,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(c,M,V){c>=0&&c<this._microtaskId?this._zone.run(()=>M(V)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(J=>{const[fe,ve]=J;fe(ve)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,V]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return k.\u0275fac=function(c){return new(c||k)(z.LFG(z.FYo),z.LFG(co),z.LFG(z.R0b))},k.\u0275prov=z.Yz7({token:k,factory:k.\u0275fac}),k})();class uo{constructor(l,c,M,V){this.namespaceId=l,this.delegate=c,this.engine=M,this._onDestroy=V,this.destroyNode=this.delegate.destroyNode?J=>c.destroyNode(J):null}get data(){return this.delegate.data}destroy(){var l;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(l=this._onDestroy)||void 0===l||l.call(this)}createElement(l,c){return this.delegate.createElement(l,c)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,c){this.delegate.appendChild(l,c),this.engine.onInsert(this.namespaceId,c,l,!1)}insertBefore(l,c,M,V=!0){this.delegate.insertBefore(l,c,M),this.engine.onInsert(this.namespaceId,c,l,V)}removeChild(l,c,M){this.engine.onRemove(this.namespaceId,c,this.delegate,M)}selectRootElement(l,c){return this.delegate.selectRootElement(l,c)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,c,M,V){this.delegate.setAttribute(l,c,M,V)}removeAttribute(l,c,M){this.delegate.removeAttribute(l,c,M)}addClass(l,c){this.delegate.addClass(l,c)}removeClass(l,c){this.delegate.removeClass(l,c)}setStyle(l,c,M,V){this.delegate.setStyle(l,c,M,V)}removeStyle(l,c,M){this.delegate.removeStyle(l,c,M)}setProperty(l,c,M){"@"==c.charAt(0)&&c==is?this.disableAnimations(l,!!M):this.delegate.setProperty(l,c,M)}setValue(l,c){this.delegate.setValue(l,c)}listen(l,c,M){return this.delegate.listen(l,c,M)}disableAnimations(l,c){this.engine.disableAnimations(l,c)}}class Ds extends uo{constructor(l,c,M,V,J){super(c,M,V,J),this.factory=l,this.namespaceId=c}setProperty(l,c,M){"@"==c.charAt(0)?"."==c.charAt(1)&&c==is?this.disableAnimations(l,M=void 0===M||!!M):this.engine.process(this.namespaceId,l,c.slice(1),M):this.delegate.setProperty(l,c,M)}listen(l,c,M){if("@"==c.charAt(0)){const V=function ad(k){switch(k){case"body":return document.body;case"document":return document;case"window":return window;default:return k}}(l);let J=c.slice(1),fe="";return"@"!=J.charAt(0)&&([J,fe]=function Hl(k){const l=k.indexOf(".");return[k.substring(0,l),k.slice(l+1)]}(J)),this.engine.listen(this.namespaceId,V,J,fe,ve=>{this.factory.scheduleListenerCallback(ve._data||-1,M,ve)})}return this.delegate.listen(l,c,M)}}const Vl=[{provide:Yt._j,useClass:Nl},{provide:Bs,useFactory:function ld(){return new bs}},{provide:co,useClass:(()=>{class k extends co{constructor(c,M,V,J){super(c.body,M,V)}ngOnDestroy(){this.flush()}}return k.\u0275fac=function(c){return new(c||k)(z.LFG(S.K0),z.LFG(Pt),z.LFG(Bs),z.LFG(z.z2F))},k.\u0275prov=z.Yz7({token:k,factory:k.\u0275fac}),k})()},{provide:z.FYo,useFactory:function cd(k,l,c){return new Ha(k,l,c)},deps:[Ce,co,z.R0b]}],Va=[{provide:Pt,useFactory:()=>new qo},{provide:z.QbO,useValue:"BrowserAnimations"},...Vl],jl=[{provide:Pt,useClass:Rt},{provide:z.QbO,useValue:"NoopAnimations"},...Vl];let ud=(()=>{class k{static withConfig(c){return{ngModule:k,providers:c.disableAnimations?jl:Va}}}return k.\u0275fac=function(c){return new(c||k)},k.\u0275mod=z.oAB({type:k}),k.\u0275inj=z.cJS({providers:Va,imports:[Ke]}),k})();var Ul=G(508);let $a=(()=>{class k{}return k.\u0275fac=function(c){return new(c||k)},k.\u0275mod=z.oAB({type:k}),k.\u0275inj=z.cJS({imports:[Ul.BQ,Ul.BQ]}),k})();var Gl=G(6224),Kl=G(9199),Yl=G(7322),ql=G(6041);let Xl=(()=>{class k{static forRoot(){return{ngModule:k,providers:[]}}}return k.\u0275fac=function(c){return new(c||k)},k.\u0275mod=z.oAB({type:k}),k.\u0275inj=z.cJS({imports:[S.ez]}),k})(),Jl=(()=>{class k{}return k.\u0275fac=function(c){return new(c||k)},k.\u0275mod=z.oAB({type:k,bootstrap:[Kl.A]}),k.\u0275inj=z.cJS({imports:[Ke,oi.qZ,Hn.ot,Jn.rP,Ri.c,cn.UX,ud,$a,Gl.s,Yl.lN,ql.Nh,Xl.forRoot()]}),k})();(0,z.G48)(),an().bootstrapModule(Jl).catch(k=>console.error(k))},5298:et=>{self,et.exports=(()=>(()=>{"use strict";var G,Le={};return G=Le,Object.defineProperty(G,"__esModule",{value:!0}),G.FitAddon=void 0,G.FitAddon=class{activate(S){this._terminal=S}dispose(){}fit(){const S=this.proposeDimensions();S&&this._terminal&&!isNaN(S.cols)&&!isNaN(S.rows)&&(this._terminal.rows===S.rows&&this._terminal.cols===S.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(S.cols,S.rows)))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const S=this._terminal._core,z=S._renderService.dimensions;if(0===z.css.cell.width||0===z.css.cell.height)return;const y=0===this._terminal.options.scrollback?0:S.viewport.scrollBarWidth,u=window.getComputedStyle(this._terminal.element.parentElement),m=parseInt(u.getPropertyValue("height")),v=Math.max(0,parseInt(u.getPropertyValue("width"))),E=window.getComputedStyle(this._terminal.element),h=m-(parseInt(E.getPropertyValue("padding-top"))+parseInt(E.getPropertyValue("padding-bottom"))),b=v-(parseInt(E.getPropertyValue("padding-right"))+parseInt(E.getPropertyValue("padding-left")))-y;return{cols:Math.max(2,Math.floor(b/z.css.cell.width)),rows:Math.max(1,Math.floor(h/z.css.cell.height))}}},Le})())()},9010:et=>{self,et.exports=(()=>(()=>{"use strict";var Le={6:(y,u)=>{function m(E){try{const h=new URL(E),b=h.password&&h.username?`${h.protocol}//${h.username}:${h.password}@${h.host}`:h.username?`${h.protocol}//${h.username}@${h.host}`:`${h.protocol}//${h.host}`;return E.toLocaleLowerCase().startsWith(b.toLocaleLowerCase())}catch(h){return!1}}Object.defineProperty(u,"__esModule",{value:!0}),u.LinkComputer=u.WebLinkProvider=void 0,u.WebLinkProvider=class{constructor(E,h,b,w={}){this._terminal=E,this._regex=h,this._handler=b,this._options=w}provideLinks(E,h){const b=v.computeLink(E,this._regex,this._terminal,this._handler);h(this._addCallbacks(b))}_addCallbacks(E){return E.map(h=>(h.leave=this._options.leave,h.hover=(b,w)=>{if(this._options.hover){const{range:D}=h;this._options.hover(b,w,D)}},h))}};class v{static computeLink(h,b,w,D){const _=new RegExp(b.source,(b.flags||"")+"g"),[o,d]=v._getWindowedLineStrings(h-1,w),a=o.join("");let p;const x=[];for(;p=_.exec(a);){const P=p[0];if(!m(P))continue;const[N,j]=v._mapStrIdx(w,d,0,p.index),[f,C]=v._mapStrIdx(w,N,j,P.length);-1!==N&&-1!==j&&-1!==f&&-1!==C&&x.push({range:{start:{x:j+1,y:N+1},end:{x:C,y:f+1}},text:P,activate:D})}return x}static _getWindowedLineStrings(h,b){let w,D=h,_=h,o=0,d="";const a=[];if(w=b.buffer.active.getLine(h)){const p=w.translateToString(!0);if(w.isWrapped&&" "!==p[0]){for(o=0;(w=b.buffer.active.getLine(--D))&&o<2048&&(d=w.translateToString(!0),o+=d.length,a.push(d),w.isWrapped&&-1===d.indexOf(" ")););a.reverse()}for(a.push(p),o=0;(w=b.buffer.active.getLine(++_))&&w.isWrapped&&o<2048&&(d=w.translateToString(!0),o+=d.length,a.push(d),-1===d.indexOf(" ")););}return[a,D]}static _mapStrIdx(h,b,w,D){const _=h.buffer.active,o=_.getNullCell();let d=w;for(;D;){const a=_.getLine(b);if(!a)return[-1,-1];for(let p=d;p<a.length;++p){a.getCell(p,o);const x=o.getChars();if(o.getWidth()&&(D-=x.length||1,p===a.length-1&&""===x)){const P=_.getLine(b+1);P&&P.isWrapped&&(P.getCell(0,o),2===o.getWidth()&&(D+=1))}if(D<0)return[b,p]}b++,d=0}return[b,d]}}u.LinkComputer=v}},G={};function S(y){var u=G[y];if(void 0!==u)return u.exports;var m=G[y]={exports:{}};return Le[y](m,m.exports,S),m.exports}var z={};return(()=>{var y=z;Object.defineProperty(y,"__esModule",{value:!0}),y.WebLinksAddon=void 0;const u=S(6),m=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function v(E,h){const b=window.open();if(b){try{b.opener=null}catch(w){}b.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}y.WebLinksAddon=class{constructor(E=v,h={}){this._handler=E,this._options=h}activate(E){this._terminal=E;const h=this._options;this._linkProvider=this._terminal.registerLinkProvider(new u.WebLinkProvider(this._terminal,h.urlRegex||m,this._handler,h))}dispose(){var E;null==(E=this._linkProvider)||E.dispose()}}})(),z})())()},8426:et=>{globalThis,et.exports=(()=>(()=>{"use strict";var Le={4567:function(y,u,m){var v=this&&this.__decorate||function(a,p,x,P){var N,j=arguments.length,f=j<3?p:null===P?P=Object.getOwnPropertyDescriptor(p,x):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(a,p,x,P);else for(var C=a.length-1;C>=0;C--)(N=a[C])&&(f=(j<3?N(f):j>3?N(p,x,f):N(p,x))||f);return j>3&&f&&Object.defineProperty(p,x,f),f},E=this&&this.__param||function(a,p){return function(x,P){p(x,P,a)}};Object.defineProperty(u,"__esModule",{value:!0}),u.AccessibilityManager=void 0;const h=m(9042),b=m(9924),w=m(844),D=m(4725),_=m(2585),o=m(3656);let d=u.AccessibilityManager=class extends w.Disposable{constructor(a,p,x,P){super(),this._terminal=a,this._coreBrowserService=x,this._renderService=P,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let N=0;N<this._terminal.rows;N++)this._rowElements[N]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[N]);if(this._topBoundaryFocusListener=N=>this._handleBoundaryFocus(N,0),this._bottomBoundaryFocusListener=N=>this._handleBoundaryFocus(N,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new b.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(N=>this._handleResize(N.rows))),this.register(this._terminal.onRender(N=>this._refreshRows(N.start,N.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(N=>this._handleChar(N))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(N=>this._handleTab(N))),this.register(this._terminal.onKey(N=>this._handleKey(N.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,o.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,w.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(a){for(let p=0;p<a;p++)this._handleChar(" ")}_handleChar(a){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==a&&(this._charsToAnnounce+=a):this._charsToAnnounce+=a,"\n"===a&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=h.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(a){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(a)||this._charsToConsume.push(a)}_refreshRows(a,p){this._liveRegionDebouncer.refresh(a,p,this._terminal.rows)}_renderRows(a,p){const x=this._terminal.buffer,P=x.lines.length.toString();for(let N=a;N<=p;N++){const j=x.lines.get(x.ydisp+N),f=[],C=(null==j?void 0:j.translateToString(!0,void 0,void 0,f))||"",L=(x.ydisp+N+1).toString(),R=this._rowElements[N];R&&(0===C.length?(R.innerText="\xa0",this._rowColumns.set(R,[0,1])):(R.textContent=C,this._rowColumns.set(R,f)),R.setAttribute("aria-posinset",L),R.setAttribute("aria-setsize",P))}this._announceCharacters()}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(a,p){const x=a.target,P=this._rowElements[0===p?1:this._rowElements.length-2];if(x.getAttribute("aria-posinset")===(0===p?"1":`${this._terminal.buffer.lines.length}`)||a.relatedTarget!==P)return;let N,j;if(0===p?(N=x,j=this._rowElements.pop(),this._rowContainer.removeChild(j)):(N=this._rowElements.shift(),j=x,this._rowContainer.removeChild(N)),N.removeEventListener("focus",this._topBoundaryFocusListener),j.removeEventListener("focus",this._bottomBoundaryFocusListener),0===p){const f=this._createAccessibilityTreeNode();this._rowElements.unshift(f),this._rowContainer.insertAdjacentElement("afterbegin",f)}else{const f=this._createAccessibilityTreeNode();this._rowElements.push(f),this._rowContainer.appendChild(f)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===p?-1:1),this._rowElements[0===p?1:this._rowElements.length-2].focus(),a.preventDefault(),a.stopImmediatePropagation()}_handleSelectionChange(){var C,L;if(0===this._rowElements.length)return;const a=document.getSelection();if(!a)return;if(a.isCollapsed)return void(this._rowContainer.contains(a.anchorNode)&&this._terminal.clearSelection());if(!a.anchorNode||!a.focusNode)return void console.error("anchorNode and/or focusNode are null");let p={node:a.anchorNode,offset:a.anchorOffset},x={node:a.focusNode,offset:a.focusOffset};if((p.node.compareDocumentPosition(x.node)&Node.DOCUMENT_POSITION_PRECEDING||p.node===x.node&&p.offset>x.offset)&&([p,x]=[x,p]),p.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(p={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(p.node))return;const P=this._rowElements.slice(-1)[0];if(x.node.compareDocumentPosition(P)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(x={node:P,offset:null!=(L=null==(C=P.textContent)?void 0:C.length)?L:0}),!this._rowContainer.contains(x.node))return;const N=({node:R,offset:H})=>{const K=R instanceof Text?R.parentNode:R;let X=parseInt(null==K?void 0:K.getAttribute("aria-posinset"),10)-1;if(isNaN(X))return console.warn("row is invalid. Race condition?"),null;const oe=this._rowColumns.get(K);if(!oe)return console.warn("columns is null. Race condition?"),null;let ae=H<oe.length?oe[H]:oe.slice(-1)[0]+1;return ae>=this._terminal.cols&&(++X,ae=0),{row:X,column:ae}},j=N(p),f=N(x);if(j&&f){if(j.row>f.row||j.row===f.row&&j.column>=f.column)throw new Error("invalid range");this._terminal.select(j.column,j.row,(f.row-j.row)*this._terminal.cols-j.column+f.column)}}_handleResize(a){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let p=this._rowContainer.children.length;p<this._terminal.rows;p++)this._rowElements[p]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[p]);for(;this._rowElements.length>a;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const a=this._coreBrowserService.mainDocument.createElement("div");return a.setAttribute("role","listitem"),a.tabIndex=-1,this._refreshRowDimensions(a),a}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let a=0;a<this._terminal.rows;a++)this._refreshRowDimensions(this._rowElements[a])}}_refreshRowDimensions(a){a.style.height=`${this._renderService.dimensions.css.cell.height}px`}};u.AccessibilityManager=d=v([E(1,_.IInstantiationService),E(2,D.ICoreBrowserService),E(3,D.IRenderService)],d)},3614:(y,u)=>{function m(b){return b.replace(/\r?\n/g,"\r")}function v(b,w){return w?"\x1b[200~"+b+"\x1b[201~":b}function E(b,w,D,_){b=v(b=m(b),D.decPrivateModes.bracketedPasteMode&&!0!==_.rawOptions.ignoreBracketedPasteMode),D.triggerDataEvent(b,!0),w.value=""}function h(b,w,D){const _=D.getBoundingClientRect(),o=b.clientX-_.left-10,d=b.clientY-_.top-10;w.style.width="20px",w.style.height="20px",w.style.left=`${o}px`,w.style.top=`${d}px`,w.style.zIndex="1000",w.focus()}Object.defineProperty(u,"__esModule",{value:!0}),u.rightClickHandler=u.moveTextAreaUnderMouseCursor=u.paste=u.handlePasteEvent=u.copyHandler=u.bracketTextForPaste=u.prepareTextForTerminal=void 0,u.prepareTextForTerminal=m,u.bracketTextForPaste=v,u.copyHandler=function(b,w){b.clipboardData&&b.clipboardData.setData("text/plain",w.selectionText),b.preventDefault()},u.handlePasteEvent=function(b,w,D,_){b.stopPropagation(),b.clipboardData&&E(b.clipboardData.getData("text/plain"),w,D,_)},u.paste=E,u.moveTextAreaUnderMouseCursor=h,u.rightClickHandler=function(b,w,D,_,o){h(b,w,D),o&&_.rightClickSelect(b),w.value=_.selectionText,w.select()}},7239:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ColorContrastCache=void 0;const v=m(1505);u.ColorContrastCache=class{constructor(){this._color=new v.TwoKeyMap,this._css=new v.TwoKeyMap}setCss(E,h,b){this._css.set(E,h,b)}getCss(E,h){return this._css.get(E,h)}setColor(E,h,b){this._color.set(E,h,b)}getColor(E,h){return this._color.get(E,h)}clear(){this._color.clear(),this._css.clear()}}},3656:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.addDisposableDomListener=void 0,u.addDisposableDomListener=function(m,v,E,h){m.addEventListener(v,E,h);let b=!1;return{dispose:()=>{b||(b=!0,m.removeEventListener(v,E,h))}}}},3551:function(y,u,m){var v=this&&this.__decorate||function(d,a,p,x){var P,N=arguments.length,j=N<3?a:null===x?x=Object.getOwnPropertyDescriptor(a,p):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(d,a,p,x);else for(var f=d.length-1;f>=0;f--)(P=d[f])&&(j=(N<3?P(j):N>3?P(a,p,j):P(a,p))||j);return N>3&&j&&Object.defineProperty(a,p,j),j},E=this&&this.__param||function(d,a){return function(p,x){a(p,x,d)}};Object.defineProperty(u,"__esModule",{value:!0}),u.Linkifier=void 0;const h=m(3656),b=m(8460),w=m(844),D=m(2585),_=m(4725);let o=u.Linkifier=class extends w.Disposable{get currentLink(){return this._currentLink}constructor(d,a,p,x,P){super(),this._element=d,this._mouseService=a,this._renderService=p,this._bufferService=x,this._linkProviderService=P,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new b.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new b.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,w.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,w.toDisposable)(()=>{var N;this._lastMouseEvent=void 0,null==(N=this._activeProviderReplies)||N.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(d){this._lastMouseEvent=d;const a=this._positionFromMouseEvent(d,this._element,this._mouseService);if(!a)return;this._isMouseOut=!1;const p=d.composedPath();for(let x=0;x<p.length;x++){const P=p[x];if(P.classList.contains("xterm"))break;if(P.classList.contains("xterm-hover"))return}this._lastBufferCell&&a.x===this._lastBufferCell.x&&a.y===this._lastBufferCell.y||(this._handleHover(a),this._lastBufferCell=a)}_handleHover(d){if(this._activeLine!==d.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(d,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,d)||(this._clearCurrentLink(),this._askForLink(d,!0))}_askForLink(d,a){var x,P;this._activeProviderReplies&&a||(null==(x=this._activeProviderReplies)||x.forEach(N=>{null==N||N.forEach(j=>{j.link.dispose&&j.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=d.y);let p=!1;for(const[N,j]of this._linkProviderService.linkProviders.entries())a?null!=(P=this._activeProviderReplies)&&P.get(N)&&(p=this._checkLinkProviderResult(N,d,p)):j.provideLinks(d.y,f=>{var L,R;if(this._isMouseOut)return;const C=null==f?void 0:f.map(H=>({link:H}));null==(L=this._activeProviderReplies)||L.set(N,C),p=this._checkLinkProviderResult(N,d,p),(null==(R=this._activeProviderReplies)?void 0:R.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(d.y,this._activeProviderReplies)})}_removeIntersectingLinks(d,a){const p=new Set;for(let x=0;x<a.size;x++){const P=a.get(x);if(P)for(let N=0;N<P.length;N++){const j=P[N],C=j.link.range.end.y>d?this._bufferService.cols:j.link.range.end.x;for(let L=j.link.range.start.y<d?0:j.link.range.start.x;L<=C;L++){if(p.has(L)){P.splice(N--,1);break}p.add(L)}}}}_checkLinkProviderResult(d,a,p){var N;if(!this._activeProviderReplies)return p;const x=this._activeProviderReplies.get(d);let P=!1;for(let j=0;j<d;j++)this._activeProviderReplies.has(j)&&!this._activeProviderReplies.get(j)||(P=!0);if(!P&&x){const j=x.find(f=>this._linkAtPosition(f.link,a));j&&(p=!0,this._handleNewLink(j))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!p)for(let j=0;j<this._activeProviderReplies.size;j++){const f=null==(N=this._activeProviderReplies.get(j))?void 0:N.find(C=>this._linkAtPosition(C.link,a));if(f){p=!0,this._handleNewLink(f);break}}return p}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(d){if(!this._currentLink)return;const a=this._positionFromMouseEvent(d,this._element,this._mouseService);a&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,a)&&this._currentLink.link.activate(d,this._currentLink.link.text)}_clearCurrentLink(d,a){this._currentLink&&this._lastMouseEvent&&(!d||!a||this._currentLink.link.range.start.y>=d&&this._currentLink.link.range.end.y<=a)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,w.disposeArray)(this._linkCacheDisposables))}_handleNewLink(d){if(!this._lastMouseEvent)return;const a=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);a&&this._linkAtPosition(d.link,a)&&(this._currentLink=d,this._currentLink.state={decorations:{underline:void 0===d.link.decorations||d.link.decorations.underline,pointerCursor:void 0===d.link.decorations||d.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,d.link,this._lastMouseEvent),d.link.decorations={},Object.defineProperties(d.link.decorations,{pointerCursor:{get:()=>{var p,x;return null==(x=null==(p=this._currentLink)?void 0:p.state)?void 0:x.decorations.pointerCursor},set:p=>{var x;(null==(x=this._currentLink)?void 0:x.state)&&this._currentLink.state.decorations.pointerCursor!==p&&(this._currentLink.state.decorations.pointerCursor=p,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",p))}},underline:{get:()=>{var p,x;return null==(x=null==(p=this._currentLink)?void 0:p.state)?void 0:x.decorations.underline},set:p=>{var x,P,N;(null==(x=this._currentLink)?void 0:x.state)&&(null==(N=null==(P=this._currentLink)?void 0:P.state)?void 0:N.decorations.underline)!==p&&(this._currentLink.state.decorations.underline=p,this._currentLink.state.isHovered&&this._fireUnderlineEvent(d.link,p))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(p=>{if(!this._currentLink)return;const x=0===p.start?0:p.start+1+this._bufferService.buffer.ydisp,P=this._bufferService.buffer.ydisp+1+p.end;if(this._currentLink.link.range.start.y>=x&&this._currentLink.link.range.end.y<=P&&(this._clearCurrentLink(x,P),this._lastMouseEvent)){const N=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);N&&this._askForLink(N,!1)}})))}_linkHover(d,a,p){var x;null!=(x=this._currentLink)&&x.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(a,!0),this._currentLink.state.decorations.pointerCursor&&d.classList.add("xterm-cursor-pointer")),a.hover&&a.hover(p,a.text)}_fireUnderlineEvent(d,a){const p=d.range,x=this._bufferService.buffer.ydisp,P=this._createLinkUnderlineEvent(p.start.x-1,p.start.y-x-1,p.end.x,p.end.y-x-1,void 0);(a?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(P)}_linkLeave(d,a,p){var x;null!=(x=this._currentLink)&&x.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(a,!1),this._currentLink.state.decorations.pointerCursor&&d.classList.remove("xterm-cursor-pointer")),a.leave&&a.leave(p,a.text)}_linkAtPosition(d,a){const P=a.y*this._bufferService.cols+a.x;return d.range.start.y*this._bufferService.cols+d.range.start.x<=P&&P<=d.range.end.y*this._bufferService.cols+d.range.end.x}_positionFromMouseEvent(d,a,p){const x=p.getCoords(d,a,this._bufferService.cols,this._bufferService.rows);if(x)return{x:x[0],y:x[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(d,a,p,x,P){return{x1:d,y1:a,x2:p,y2:x,cols:this._bufferService.cols,fg:P}}};u.Linkifier=o=v([E(1,_.IMouseService),E(2,_.IRenderService),E(3,D.IBufferService),E(4,_.ILinkProviderService)],o)},9042:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.tooMuchOutput=u.promptLabel=void 0,u.promptLabel="Terminal input",u.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(y,u,m){var v=this&&this.__decorate||function(_,o,d,a){var p,x=arguments.length,P=x<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(_,o,d,a);else for(var N=_.length-1;N>=0;N--)(p=_[N])&&(P=(x<3?p(P):x>3?p(o,d,P):p(o,d))||P);return x>3&&P&&Object.defineProperty(o,d,P),P},E=this&&this.__param||function(_,o){return function(d,a){o(d,a,_)}};Object.defineProperty(u,"__esModule",{value:!0}),u.OscLinkProvider=void 0;const h=m(511),b=m(2585);let w=u.OscLinkProvider=class{constructor(_,o,d){this._bufferService=_,this._optionsService=o,this._oscLinkService=d}provideLinks(_,o){var C;const d=this._bufferService.buffer.lines.get(_-1);if(!d)return void o(void 0);const a=[],p=this._optionsService.rawOptions.linkHandler,x=new h.CellData,P=d.getTrimmedLength();let N=-1,j=-1,f=!1;for(let L=0;L<P;L++)if(-1!==j||d.hasContent(L)){if(d.loadCell(L,x),x.hasExtendedAttrs()&&x.extended.urlId){if(-1===j){j=L,N=x.extended.urlId;continue}f=x.extended.urlId!==N}else-1!==j&&(f=!0);if(f||-1!==j&&L===P-1){const R=null==(C=this._oscLinkService.getLinkData(N))?void 0:C.uri;if(R){const H={start:{x:j+1,y:_},end:{x:L+(f||L!==P-1?0:1),y:_}};let K=!1;if(null==p||!p.allowNonHttpProtocols)try{const X=new URL(R);["http:","https:"].includes(X.protocol)||(K=!0)}catch(X){K=!0}K||a.push({text:R,range:H,activate:(X,oe)=>p?p.activate(X,oe,H):D(0,oe),hover:(X,oe)=>{var ae;return null==(ae=null==p?void 0:p.hover)?void 0:ae.call(p,X,oe,H)},leave:(X,oe)=>{var ae;return null==(ae=null==p?void 0:p.leave)?void 0:ae.call(p,X,oe,H)}})}f=!1,x.hasExtendedAttrs()&&x.extended.urlId?(j=L,N=x.extended.urlId):(j=-1,N=-1)}}o(a)}};function D(_,o){if(confirm(`Do you want to navigate to ${o}?\n\nWARNING: This link could potentially be dangerous`)){const d=window.open();if(d){try{d.opener=null}catch(a){}d.location.href=o}else console.warn("Opening link blocked as opener could not be cleared")}}u.OscLinkProvider=w=v([E(0,b.IBufferService),E(1,b.IOptionsService),E(2,b.IOscLinkService)],w)},6193:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RenderDebouncer=void 0,u.RenderDebouncer=class{constructor(m,v){this._renderCallback=m,this._coreBrowserService=v,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(m){return this._refreshCallbacks.push(m),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(m,v,E){this._rowCount=E,m=void 0!==m?m:0,v=void 0!==v?v:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,m):m,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,v):v,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const m=Math.max(this._rowStart,0),v=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(m,v),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const m of this._refreshCallbacks)m(0);this._refreshCallbacks=[]}}},3236:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Terminal=void 0;const v=m(3614),E=m(3656),h=m(3551),b=m(9042),w=m(3730),D=m(1680),_=m(3107),o=m(5744),d=m(2950),a=m(1296),p=m(428),x=m(4269),P=m(5114),N=m(8934),j=m(3230),f=m(9312),C=m(4725),L=m(6731),R=m(8055),H=m(8969),K=m(8460),X=m(844),oe=m(6114),ae=m(8437),Me=m(2584),Ce=m(7399),Z=m(5941),q=m(9074),Q=m(2585),ie=m(5435),ge=m(4567),be=m(779);u.Terminal=class Ne extends H.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(me={}){super(me),this.browser=oe,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new X.MutableDisposable),this._onCursorMove=this.register(new K.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new K.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new K.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new K.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new K.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new K.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new K.EventEmitter),this._onBlur=this.register(new K.EventEmitter),this._onA11yCharEmitter=this.register(new K.EventEmitter),this._onA11yTabEmitter=this.register(new K.EventEmitter),this._onWillOpen=this.register(new K.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(q.DecorationService),this._instantiationService.setService(Q.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(be.LinkProviderService),this._instantiationService.setService(C.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(w.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((ne,Ie)=>this.refresh(ne,Ie))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(ne=>this._reportWindowsOptions(ne))),this.register(this._inputHandler.onColor(ne=>this._handleColorEvent(ne))),this.register((0,K.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,K.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,K.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,K.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(ne=>this._afterResize(ne.cols,ne.rows))),this.register((0,X.toDisposable)(()=>{var ne,Ie;this._customKeyEventHandler=void 0,null==(Ie=null==(ne=this.element)?void 0:ne.parentNode)||Ie.removeChild(this.element)}))}_handleColorEvent(me){if(this._themeService)for(const ne of me){let Ie,Pe="";switch(ne.index){case 256:Ie="foreground",Pe="10";break;case 257:Ie="background",Pe="11";break;case 258:Ie="cursor",Pe="12";break;default:Ie="ansi",Pe="4;"+ne.index}switch(ne.type){case 0:const Je=R.color.toColorRGB("ansi"===Ie?this._themeService.colors.ansi[ne.index]:this._themeService.colors[Ie]);this.coreService.triggerDataEvent(`${Me.C0.ESC}]${Pe};${(0,Z.toRgbString)(Je)}${Me.C1_ESCAPED.ST}`);break;case 1:if("ansi"===Ie)this._themeService.modifyColors(je=>je.ansi[ne.index]=R.channels.toColor(...ne.color));else{const je=Ie;this._themeService.modifyColors(_t=>_t[je]=R.channels.toColor(...ne.color))}break;case 2:this._themeService.restoreColor(ne.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(me){me?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(ge.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(me){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Me.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var me;return null==(me=this.textarea)?void 0:me.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Me.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const ne=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(!ne)return;const Ie=Math.min(this.buffer.x,this.cols-1),Pe=this._renderService.dimensions.css.cell.height,Je=ne.getWidth(Ie),je=this._renderService.dimensions.css.cell.width*Je,_t=this.buffer.y*this._renderService.dimensions.css.cell.height;this.textarea.style.left=Ie*this._renderService.dimensions.css.cell.width+"px",this.textarea.style.top=_t+"px",this.textarea.style.width=je+"px",this.textarea.style.height=Pe+"px",this.textarea.style.lineHeight=Pe+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,E.addDisposableDomListener)(this.element,"copy",ne=>{this.hasSelection()&&(0,v.copyHandler)(ne,this._selectionService)}));const me=ne=>(0,v.handlePasteEvent)(ne,this.textarea,this.coreService,this.optionsService);this.register((0,E.addDisposableDomListener)(this.textarea,"paste",me)),this.register((0,E.addDisposableDomListener)(this.element,"paste",me)),this.register(oe.isFirefox?(0,E.addDisposableDomListener)(this.element,"mousedown",ne=>{2===ne.button&&(0,v.rightClickHandler)(ne,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}):(0,E.addDisposableDomListener)(this.element,"contextmenu",ne=>{(0,v.rightClickHandler)(ne,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),oe.isLinux&&this.register((0,E.addDisposableDomListener)(this.element,"auxclick",ne=>{1===ne.button&&(0,v.moveTextAreaUnderMouseCursor)(ne,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,E.addDisposableDomListener)(this.textarea,"keyup",me=>this._keyUp(me),!0)),this.register((0,E.addDisposableDomListener)(this.textarea,"keydown",me=>this._keyDown(me),!0)),this.register((0,E.addDisposableDomListener)(this.textarea,"keypress",me=>this._keyPress(me),!0)),this.register((0,E.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,E.addDisposableDomListener)(this.textarea,"compositionupdate",me=>this._compositionHelper.compositionupdate(me))),this.register((0,E.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,E.addDisposableDomListener)(this.textarea,"input",me=>this._inputEvent(me),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(me){var Ie,Pe,Je;if(!me)throw new Error("Terminal requires a parent element.");if(me.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),(null==(Ie=this.element)?void 0:Ie.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=me.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),me.appendChild(this.element);const ne=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),ne.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,E.addDisposableDomListener)(this.screenElement,"mousemove",je=>this.updateCursorStyle(je))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),ne.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",b.promptLabel),oe.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(P.CoreBrowserService,this.textarea,null!=(Pe=me.ownerDocument.defaultView)?Pe:window,(null!=(Je=this._document)?Je:"undefined"!=typeof window)?window.document:null)),this._instantiationService.setService(C.ICoreBrowserService,this._coreBrowserService),this.register((0,E.addDisposableDomListener)(this.textarea,"focus",je=>this._handleTextAreaFocus(je))),this.register((0,E.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(p.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(C.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(L.ThemeService),this._instantiationService.setService(C.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(x.CharacterJoinerService),this._instantiationService.setService(C.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(j.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(C.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(je=>this._onRender.fire(je))),this.onResize(je=>this._renderService.resize(je.cols,je.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(d.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(N.MouseService),this._instantiationService.setService(C.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(h.Linkifier,this.screenElement)),this.element.appendChild(ne);try{this._onWillOpen.fire(this.element)}catch(je){}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(D.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(je=>this.scrollLines(je.amount,je.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(f.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(C.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(je=>this.scrollLines(je.amount,je.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(je=>this._renderService.handleSelectionChanged(je.start,je.end,je.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(je=>{this.textarea.value=je,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(je=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,E.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(_.BufferDecorationRenderer,this.screenElement)),this.register((0,E.addDisposableDomListener)(this.element,"mousedown",je=>this._selectionService.handleMouseDown(je))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(ge.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",je=>this._handleScreenReaderModeOptionChange(je))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(o.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",je=>{!this._overviewRulerRenderer&&je&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(o.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(a.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const me=this,ne=this.element;function Ie(je){const _t=me._mouseService.getMouseReportCoords(je,me.screenElement);if(!_t)return!1;let gt,Ct;switch(je.overrideType||je.type){case"mousemove":Ct=32,void 0===je.buttons?(gt=3,void 0!==je.button&&(gt=je.button<3?je.button:3)):gt=1&je.buttons?0:4&je.buttons?1:2&je.buttons?2:3;break;case"mouseup":Ct=0,gt=je.button<3?je.button:3;break;case"mousedown":Ct=1,gt=je.button<3?je.button:3;break;case"wheel":if(me._customWheelEventHandler&&!1===me._customWheelEventHandler(je)||0===me.viewport.getLinesScrolled(je))return!1;Ct=je.deltaY<0?0:1,gt=4;break;default:return!1}return!(void 0===Ct||void 0===gt||gt>4)&&me.coreMouseService.triggerMouseEvent({col:_t.col,row:_t.row,x:_t.x,y:_t.y,button:gt,action:Ct,ctrl:je.ctrlKey,alt:je.altKey,shift:je.shiftKey})}const Pe={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Je={mouseup:je=>(Ie(je),je.buttons||(this._document.removeEventListener("mouseup",Pe.mouseup),Pe.mousedrag&&this._document.removeEventListener("mousemove",Pe.mousedrag)),this.cancel(je)),wheel:je=>(Ie(je),this.cancel(je,!0)),mousedrag:je=>{je.buttons&&Ie(je)},mousemove:je=>{je.buttons||Ie(je)}};this.register(this.coreMouseService.onProtocolChange(je=>{je?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(je)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&je?Pe.mousemove||(ne.addEventListener("mousemove",Je.mousemove),Pe.mousemove=Je.mousemove):(ne.removeEventListener("mousemove",Pe.mousemove),Pe.mousemove=null),16&je?Pe.wheel||(ne.addEventListener("wheel",Je.wheel,{passive:!1}),Pe.wheel=Je.wheel):(ne.removeEventListener("wheel",Pe.wheel),Pe.wheel=null),2&je?Pe.mouseup||(Pe.mouseup=Je.mouseup):(this._document.removeEventListener("mouseup",Pe.mouseup),Pe.mouseup=null),4&je?Pe.mousedrag||(Pe.mousedrag=Je.mousedrag):(this._document.removeEventListener("mousemove",Pe.mousedrag),Pe.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,E.addDisposableDomListener)(ne,"mousedown",je=>{if(je.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(je))return Ie(je),Pe.mouseup&&this._document.addEventListener("mouseup",Pe.mouseup),Pe.mousedrag&&this._document.addEventListener("mousemove",Pe.mousedrag),this.cancel(je)})),this.register((0,E.addDisposableDomListener)(ne,"wheel",je=>{if(!Pe.wheel){if(this._customWheelEventHandler&&!1===this._customWheelEventHandler(je))return!1;if(!this.buffer.hasScrollback){const _t=this.viewport.getLinesScrolled(je);if(0===_t)return;const gt=Me.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(je.deltaY<0?"A":"B");let Ct="";for(let dt=0;dt<Math.abs(_t);dt++)Ct+=gt;return this.coreService.triggerDataEvent(Ct,!0),this.cancel(je,!0)}return this.viewport.handleWheel(je)?this.cancel(je):void 0}},{passive:!1})),this.register((0,E.addDisposableDomListener)(ne,"touchstart",je=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(je),this.cancel(je)},{passive:!0})),this.register((0,E.addDisposableDomListener)(ne,"touchmove",je=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(je)?void 0:this.cancel(je)},{passive:!1}))}refresh(me,ne){var Ie;null==(Ie=this._renderService)||Ie.refreshRows(me,ne)}updateCursorStyle(me){var ne;null!=(ne=this._selectionService)&&ne.shouldColumnSelect(me)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(me,ne,Ie=0){var Pe;1===Ie?(super.scrollLines(me,ne,Ie),this.refresh(0,this.rows-1)):null==(Pe=this.viewport)||Pe.scrollLines(me)}paste(me){(0,v.paste)(me,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(me){this._customKeyEventHandler=me}attachCustomWheelEventHandler(me){this._customWheelEventHandler=me}registerLinkProvider(me){return this._linkProviderService.registerLinkProvider(me)}registerCharacterJoiner(me){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const ne=this._characterJoinerService.register(me);return this.refresh(0,this.rows-1),ne}deregisterCharacterJoiner(me){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(me)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(me){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+me)}registerDecoration(me){return this._decorationService.registerDecoration(me)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(me,ne,Ie){this._selectionService.setSelection(me,ne,Ie)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var me;null==(me=this._selectionService)||me.clearSelection()}selectAll(){var me;null==(me=this._selectionService)||me.selectAll()}selectLines(me,ne){var Ie;null==(Ie=this._selectionService)||Ie.selectLines(me,ne)}_keyDown(me){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(me))return!1;const ne=this.browser.isMac&&this.options.macOptionIsMeta&&me.altKey;if(!ne&&!this._compositionHelper.keydown(me))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;ne||"Dead"!==me.key&&"AltGraph"!==me.key||(this._unprocessedDeadKey=!0);const Ie=(0,Ce.evaluateKeyboardEvent)(me,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(me),3===Ie.type||2===Ie.type){const Pe=this.rows-1;return this.scrollLines(2===Ie.type?-Pe:Pe),this.cancel(me,!0)}return 1===Ie.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,me)||(Ie.cancel&&this.cancel(me,!0),!Ie.key||!!(me.key&&!me.ctrlKey&&!me.altKey&&!me.metaKey&&1===me.key.length&&me.key.charCodeAt(0)>=65&&me.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Ie.key!==Me.C0.ETX&&Ie.key!==Me.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Ie.key,domEvent:me}),this._showCursor(),this.coreService.triggerDataEvent(Ie.key,!0),!this.optionsService.rawOptions.screenReaderMode||me.altKey||me.ctrlKey?this.cancel(me,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(me,ne){const Ie=me.isMac&&!this.options.macOptionIsMeta&&ne.altKey&&!ne.ctrlKey&&!ne.metaKey||me.isWindows&&ne.altKey&&ne.ctrlKey&&!ne.metaKey||me.isWindows&&ne.getModifierState("AltGraph");return"keypress"===ne.type?Ie:Ie&&(!ne.keyCode||ne.keyCode>47)}_keyUp(me){var ne;this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(me)||(16===(ne=me).keyCode||17===ne.keyCode||18===ne.keyCode||this.focus(),this.updateCursorStyle(me),this._keyPressHandled=!1)}_keyPress(me){let ne;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(me))return!1;if(this.cancel(me),me.charCode)ne=me.charCode;else if(null==me.which)ne=me.keyCode;else{if(0===me.which||0===me.charCode)return!1;ne=me.which}return!(!ne||(me.altKey||me.ctrlKey||me.metaKey)&&!this._isThirdLevelShift(this.browser,me)||(ne=String.fromCharCode(ne),this._onKey.fire({key:ne,domEvent:me}),this._showCursor(),this.coreService.triggerDataEvent(ne,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(me){return!(!me.data||"insertText"!==me.inputType||me.composed&&this._keyDownSeen||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(me.data,!0),this.cancel(me),0))}resize(me,ne){me!==this.cols||ne!==this.rows?super.resize(me,ne):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(me,ne){var Ie,Pe;null==(Ie=this._charSizeService)||Ie.measure(),null==(Pe=this.viewport)||Pe.syncScrollArea(!0)}clear(){var me;if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let ne=1;ne<this.rows;ne++)this.buffer.lines.push(this.buffer.getBlankLine(ae.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),null==(me=this.viewport)||me.reset(),this.refresh(0,this.rows-1)}}reset(){var ne,Ie;this.options.rows=this.rows,this.options.cols=this.cols;const me=this._customKeyEventHandler;this._setup(),super.reset(),null==(ne=this._selectionService)||ne.reset(),this._decorationService.reset(),null==(Ie=this.viewport)||Ie.reset(),this._customKeyEventHandler=me,this.refresh(0,this.rows-1)}clearTextureAtlas(){var me;null==(me=this._renderService)||me.clearTextureAtlas()}_reportFocus(){var me;null!=(me=this.element)&&me.classList.contains("focus")?this.coreService.triggerDataEvent(Me.C0.ESC+"[I"):this.coreService.triggerDataEvent(Me.C0.ESC+"[O")}_reportWindowsOptions(me){if(this._renderService)switch(me){case ie.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const ne=this._renderService.dimensions.css.canvas.width.toFixed(0),Ie=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${Me.C0.ESC}[4;${Ie};${ne}t`);break;case ie.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Pe=this._renderService.dimensions.css.cell.width.toFixed(0),Je=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${Me.C0.ESC}[6;${Je};${Pe}t`)}}cancel(me,ne){if(this.options.cancelEvents||ne)return me.preventDefault(),me.stopPropagation(),!1}}},9924:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TimeBasedDebouncer=void 0,u.TimeBasedDebouncer=class{constructor(m,v=1e3){this._renderCallback=m,this._debounceThresholdMS=v,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(m,v,E){this._rowCount=E,m=void 0!==m?m:0,v=void 0!==v?v:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,m):m,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,v):v;const h=Date.now();if(h-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=h,this._innerRefresh();else if(!this._additionalRefreshRequested){const w=this._debounceThresholdMS-(h-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},w)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const m=Math.max(this._rowStart,0),v=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(m,v)}}},1680:function(y,u,m){var v=this&&this.__decorate||function(d,a,p,x){var P,N=arguments.length,j=N<3?a:null===x?x=Object.getOwnPropertyDescriptor(a,p):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(d,a,p,x);else for(var f=d.length-1;f>=0;f--)(P=d[f])&&(j=(N<3?P(j):N>3?P(a,p,j):P(a,p))||j);return N>3&&j&&Object.defineProperty(a,p,j),j},E=this&&this.__param||function(d,a){return function(p,x){a(p,x,d)}};Object.defineProperty(u,"__esModule",{value:!0}),u.Viewport=void 0;const h=m(3656),b=m(4725),w=m(8460),D=m(844),_=m(2585);let o=u.Viewport=class extends D.Disposable{constructor(d,a,p,x,P,N,j,f){super(),this._viewportElement=d,this._scrollArea=a,this._bufferService=p,this._optionsService=x,this._charSizeService=P,this._renderService=N,this._coreBrowserService=j,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(C=>this._activeBuffer=C.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(C=>this._renderDimensions=C)),this._handleThemeChange(f.colors),this.register(f.onChangeColors(C=>this._handleThemeChange(C))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(d){this._viewportElement.style.backgroundColor=d.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(d){if(d)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const a=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==a&&(this._lastRecordedBufferHeight=a,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const d=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==d&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=d),this._refreshAnimationFrame=null}syncScrollArea(d=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(d);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(d)}_handleScroll(d){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const a=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:a,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const d=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(d*(this._smoothScrollState.target-this._smoothScrollState.origin)),d<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(d,a){return!(a<0&&0!==this._viewportElement.scrollTop||a>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(d.cancelable&&d.preventDefault(),!1)}handleWheel(d){const a=this._getPixelsScrolled(d);return 0!==a&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+a:this._smoothScrollState.target+=a,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=a,this._bubbleScroll(d,a))}scrollLines(d){if(0!==d)if(this._optionsService.rawOptions.smoothScrollDuration){const a=d*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+a,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!1})}_getPixelsScrolled(d){if(0===d.deltaY||d.shiftKey)return 0;let a=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_LINE?a*=this._currentRowHeight:d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(a*=this._currentRowHeight*this._bufferService.rows),a}getBufferElements(d,a){var f;let p,x="";const P=[],N=null!=a?a:this._bufferService.buffer.lines.length,j=this._bufferService.buffer.lines;for(let C=d;C<N;C++){const L=j.get(C);if(!L)continue;const R=null==(f=j.get(C+1))?void 0:f.isWrapped;if(x+=L.translateToString(!R),!R||C===j.length-1){const H=document.createElement("div");H.textContent=x,P.push(H),x.length>0&&(p=H),x=""}}return{bufferElements:P,cursorElement:p}}getLinesScrolled(d){if(0===d.deltaY||d.shiftKey)return 0;let a=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(a/=this._currentRowHeight+0,this._wheelPartialScroll+=a,a=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(a*=this._bufferService.rows),a}_applyScrollModifier(d,a){const p=this._optionsService.rawOptions.fastScrollModifier;return"alt"===p&&a.altKey||"ctrl"===p&&a.ctrlKey||"shift"===p&&a.shiftKey?d*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:d*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(d){this._lastTouchY=d.touches[0].pageY}handleTouchMove(d){const a=this._lastTouchY-d.touches[0].pageY;return this._lastTouchY=d.touches[0].pageY,0!==a&&(this._viewportElement.scrollTop+=a,this._bubbleScroll(d,a))}};u.Viewport=o=v([E(2,_.IBufferService),E(3,_.IOptionsService),E(4,b.ICharSizeService),E(5,b.IRenderService),E(6,b.ICoreBrowserService),E(7,b.IThemeService)],o)},3107:function(y,u,m){var v=this&&this.__decorate||function(_,o,d,a){var p,x=arguments.length,P=x<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(_,o,d,a);else for(var N=_.length-1;N>=0;N--)(p=_[N])&&(P=(x<3?p(P):x>3?p(o,d,P):p(o,d))||P);return x>3&&P&&Object.defineProperty(o,d,P),P},E=this&&this.__param||function(_,o){return function(d,a){o(d,a,_)}};Object.defineProperty(u,"__esModule",{value:!0}),u.BufferDecorationRenderer=void 0;const h=m(4725),b=m(844),w=m(2585);let D=u.BufferDecorationRenderer=class extends b.Disposable{constructor(_,o,d,a,p){super(),this._screenElement=_,this._bufferService=o,this._coreBrowserService=d,this._decorationService=a,this._renderService=p,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(x=>this._removeDecoration(x))),this.register((0,b.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const _ of this._decorationService.decorations)this._renderDecoration(_);this._dimensionsChanged=!1}_renderDecoration(_){this._refreshStyle(_),this._dimensionsChanged&&this._refreshXPosition(_)}_createElement(_){var a,p;const o=this._coreBrowserService.mainDocument.createElement("div");o.classList.add("xterm-decoration"),o.classList.toggle("xterm-decoration-top-layer","top"===(null==(a=null==_?void 0:_.options)?void 0:a.layer)),o.style.width=`${Math.round((_.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,o.style.height=(_.options.height||1)*this._renderService.dimensions.css.cell.height+"px",o.style.top=(_.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",o.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const d=null!=(p=_.options.x)?p:0;return d&&d>this._bufferService.cols&&(o.style.display="none"),this._refreshXPosition(_,o),o}_refreshStyle(_){const o=_.marker.line-this._bufferService.buffers.active.ydisp;if(o<0||o>=this._bufferService.rows)_.element&&(_.element.style.display="none",_.onRenderEmitter.fire(_.element));else{let d=this._decorationElements.get(_);d||(d=this._createElement(_),_.element=d,this._decorationElements.set(_,d),this._container.appendChild(d),_.onDispose(()=>{this._decorationElements.delete(_),d.remove()})),d.style.top=o*this._renderService.dimensions.css.cell.height+"px",d.style.display=this._altBufferIsActive?"none":"block",_.onRenderEmitter.fire(d)}}_refreshXPosition(_,o=_.element){var a;if(!o)return;const d=null!=(a=_.options.x)?a:0;"right"===(_.options.anchor||"left")?o.style.right=d?d*this._renderService.dimensions.css.cell.width+"px":"":o.style.left=d?d*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(_){var o;null==(o=this._decorationElements.get(_))||o.remove(),this._decorationElements.delete(_),_.dispose()}};u.BufferDecorationRenderer=D=v([E(1,w.IBufferService),E(2,h.ICoreBrowserService),E(3,w.IDecorationService),E(4,h.IRenderService)],D)},5871:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ColorZoneStore=void 0,u.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(m){if(m.options.overviewRulerOptions){for(const v of this._zones)if(v.color===m.options.overviewRulerOptions.color&&v.position===m.options.overviewRulerOptions.position){if(this._lineIntersectsZone(v,m.marker.line))return;if(this._lineAdjacentToZone(v,m.marker.line,m.options.overviewRulerOptions.position))return void this._addLineToZone(v,m.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=m.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=m.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=m.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=m.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:m.options.overviewRulerOptions.color,position:m.options.overviewRulerOptions.position,startBufferLine:m.marker.line,endBufferLine:m.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(m){this._linePadding=m}_lineIntersectsZone(m,v){return v>=m.startBufferLine&&v<=m.endBufferLine}_lineAdjacentToZone(m,v,E){return v>=m.startBufferLine-this._linePadding[E||"full"]&&v<=m.endBufferLine+this._linePadding[E||"full"]}_addLineToZone(m,v){m.startBufferLine=Math.min(m.startBufferLine,v),m.endBufferLine=Math.max(m.endBufferLine,v)}}},5744:function(y,u,m){var v=this&&this.__decorate||function(p,x,P,N){var j,f=arguments.length,C=f<3?x:null===N?N=Object.getOwnPropertyDescriptor(x,P):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)C=Reflect.decorate(p,x,P,N);else for(var L=p.length-1;L>=0;L--)(j=p[L])&&(C=(f<3?j(C):f>3?j(x,P,C):j(x,P))||C);return f>3&&C&&Object.defineProperty(x,P,C),C},E=this&&this.__param||function(p,x){return function(P,N){x(P,N,p)}};Object.defineProperty(u,"__esModule",{value:!0}),u.OverviewRulerRenderer=void 0;const h=m(5871),b=m(4725),w=m(844),D=m(2585),_={full:0,left:0,center:0,right:0},o={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0};let a=u.OverviewRulerRenderer=class extends w.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(p,x,P,N,j,f,C){var R;super(),this._viewportElement=p,this._screenElement=x,this._bufferService=P,this._decorationService=N,this._renderService=j,this._optionsService=f,this._coreBrowserService=C,this._colorZoneStore=new h.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null==(R=this._viewportElement.parentElement)||R.insertBefore(this._canvas,this._viewportElement);const L=this._canvas.getContext("2d");if(!L)throw new Error("Ctx cannot be null");this._ctx=L,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,w.toDisposable)(()=>{var H;null==(H=this._canvas)||H.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const p=Math.floor(this._canvas.width/3),x=Math.ceil(this._canvas.width/3);o.full=this._canvas.width,o.left=p,o.center=x,o.right=p,this._refreshDrawHeightConstants(),d.full=0,d.left=0,d.center=o.left,d.right=o.left+o.center}_refreshDrawHeightConstants(){_.full=Math.round(2*this._coreBrowserService.dpr);const x=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowserService.dpr);_.left=x,_.center=x,_.right=x}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const x of this._decorationService.decorations)this._colorZoneStore.addDecoration(x);this._ctx.lineWidth=1;const p=this._colorZoneStore.zones;for(const x of p)"full"!==x.position&&this._renderColorZone(x);for(const x of p)"full"===x.position&&this._renderColorZone(x);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(p){this._ctx.fillStyle=p.color,this._ctx.fillRect(d[p.position||"full"],Math.round(p.startBufferLine/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)-_[p.position||"full"]/2),o[p.position||"full"],Math.round((p.endBufferLine-p.startBufferLine)/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)+_[p.position||"full"]))}_queueRefresh(p,x){this._shouldUpdateDimensions=p||this._shouldUpdateDimensions,this._shouldUpdateAnchor=x||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};u.OverviewRulerRenderer=a=v([E(2,D.IBufferService),E(3,D.IDecorationService),E(4,b.IRenderService),E(5,D.IOptionsService),E(6,b.ICoreBrowserService)],a)},2950:function(y,u,m){var v=this&&this.__decorate||function(_,o,d,a){var p,x=arguments.length,P=x<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(_,o,d,a);else for(var N=_.length-1;N>=0;N--)(p=_[N])&&(P=(x<3?p(P):x>3?p(o,d,P):p(o,d))||P);return x>3&&P&&Object.defineProperty(o,d,P),P},E=this&&this.__param||function(_,o){return function(d,a){o(d,a,_)}};Object.defineProperty(u,"__esModule",{value:!0}),u.CompositionHelper=void 0;const h=m(4725),b=m(2585),w=m(2584);let D=u.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(_,o,d,a,p,x){this._textarea=_,this._compositionView=o,this._bufferService=d,this._optionsService=a,this._coreService=p,this._renderService=x,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(_){this._compositionView.textContent=_.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(_){if(this._isComposing||this._isSendingComposition){if(229===_.keyCode||16===_.keyCode||17===_.keyCode||18===_.keyCode)return!1;this._finalizeComposition(!1)}return 229!==_.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(_){if(this._compositionView.classList.remove("active"),this._isComposing=!1,_){const o={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let d;this._isSendingComposition=!1,o.start+=this._dataAlreadySent.length,d=this._isComposing?this._textarea.value.substring(o.start,o.end):this._textarea.value.substring(o.start),d.length>0&&this._coreService.triggerDataEvent(d,!0)}},0)}else{this._isSendingComposition=!1;const o=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(o,!0)}}_handleAnyTextareaChanges(){const _=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const o=this._textarea.value,d=o.replace(_,"");this._dataAlreadySent=d,o.length>_.length?this._coreService.triggerDataEvent(d,!0):o.length<_.length?this._coreService.triggerDataEvent(`${w.C0.DEL}`,!0):o.length===_.length&&o!==_&&this._coreService.triggerDataEvent(o,!0)}},0)}updateCompositionElements(_){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const o=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),d=this._renderService.dimensions.css.cell.height,a=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,p=o*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=p+"px",this._compositionView.style.top=a+"px",this._compositionView.style.height=d+"px",this._compositionView.style.lineHeight=d+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const x=this._compositionView.getBoundingClientRect();this._textarea.style.left=p+"px",this._textarea.style.top=a+"px",this._textarea.style.width=Math.max(x.width,1)+"px",this._textarea.style.height=Math.max(x.height,1)+"px",this._textarea.style.lineHeight=x.height+"px"}_||setTimeout(()=>this.updateCompositionElements(!0),0)}}};u.CompositionHelper=D=v([E(2,b.IBufferService),E(3,b.IOptionsService),E(4,b.ICoreService),E(5,h.IRenderService)],D)},9806:(y,u)=>{function m(v,E,h){const b=h.getBoundingClientRect(),w=v.getComputedStyle(h),D=parseInt(w.getPropertyValue("padding-left")),_=parseInt(w.getPropertyValue("padding-top"));return[E.clientX-b.left-D,E.clientY-b.top-_]}Object.defineProperty(u,"__esModule",{value:!0}),u.getCoords=u.getCoordsRelativeToElement=void 0,u.getCoordsRelativeToElement=m,u.getCoords=function(v,E,h,b,w,D,_,o,d){if(!D)return;const a=m(v,E,h);return a?(a[0]=Math.ceil((a[0]+(d?_/2:0))/_),a[1]=Math.ceil(a[1]/o),a[0]=Math.min(Math.max(a[0],1),b+(d?1:0)),a[1]=Math.min(Math.max(a[1],1),w),a):void 0}},9504:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.moveToCellSequence=void 0;const v=m(2584);function E(o,d,a,p){const x=o-h(o,a),P=d-h(d,a);return _(Math.abs(x-P)-function(j,f,C){let L=0;const R=j-h(j,C),H=f-h(f,C);for(let K=0;K<Math.abs(R-H);K++){const X="A"===b(j,f)?-1:1,oe=C.buffer.lines.get(R+X*K);null!=oe&&oe.isWrapped&&L++}return L}(o,d,a),D(b(o,d),p))}function h(o,d){let a=0,p=d.buffer.lines.get(o),x=null==p?void 0:p.isWrapped;for(;x&&o>=0&&o<d.rows;)a++,p=d.buffer.lines.get(--o),x=null==p?void 0:p.isWrapped;return a}function b(o,d){return o>d?"A":"B"}function w(o,d,a,p,x,P){let N=o,j=d,f="";for(;N!==a||j!==p;)N+=x?1:-1,x&&N>P.cols-1?(f+=P.buffer.translateBufferLineToString(j,!1,o,N),N=0,o=0,j++):!x&&N<0&&(f+=P.buffer.translateBufferLineToString(j,!1,0,o+1),N=P.cols-1,o=N,j--);return f+P.buffer.translateBufferLineToString(j,!1,o,N)}function D(o,d){return v.C0.ESC+(d?"O":"[")+o}function _(o,d){o=Math.floor(o);let a="";for(let p=0;p<o;p++)a+=d;return a}u.moveToCellSequence=function(o,d,a,p){const x=a.buffer.x,P=a.buffer.y;if(!a.buffer.hasScrollback)return f=x,(0===E(C=P,d,H=a,K=p).length?"":_(w(f,C,f,C-h(C,H),!1,H).length,D("D",K)))+E(P,d,a,p)+function(f,C,L,R,H,K){let X;X=E(C,R,H,K).length>0?R-h(R,H):C;const oe=R,ae=function(Me,Ce,Z,q,Q,ie){let ge;return ge=E(Z,q,Q,ie).length>0?q-h(q,Q):Ce,Me<Z&&ge<=q||Me>=Z&&ge<q?"C":"D"}(f,C,L,R,H,K);return _(w(f,X,L,oe,"C"===ae,H).length,D(ae,K))}(x,P,o,d,a,p);var f,C,H,K;let N;if(P===d)return N=x>o?"D":"C",_(Math.abs(x-o),D(N,p));N=P>d?"D":"C";const j=Math.abs(P-d);return _(function(f,C){return C.cols-f}(P>d?o:x,a)+(j-1)*a.cols+1+((P>d?x:o)-1),D(N,p))}},1296:function(y,u,m){var v=this&&this.__decorate||function(K,X,oe,ae){var Me,Ce=arguments.length,Z=Ce<3?X:null===ae?ae=Object.getOwnPropertyDescriptor(X,oe):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(K,X,oe,ae);else for(var q=K.length-1;q>=0;q--)(Me=K[q])&&(Z=(Ce<3?Me(Z):Ce>3?Me(X,oe,Z):Me(X,oe))||Z);return Ce>3&&Z&&Object.defineProperty(X,oe,Z),Z},E=this&&this.__param||function(K,X){return function(oe,ae){X(oe,ae,K)}};Object.defineProperty(u,"__esModule",{value:!0}),u.DomRenderer=void 0;const h=m(3787),b=m(2550),w=m(2223),D=m(6171),_=m(6052),o=m(4725),d=m(8055),a=m(8460),p=m(844),x=m(2585),P="xterm-dom-renderer-owner-",N="xterm-rows",j="xterm-fg-",f="xterm-bg-",C="xterm-focus",L="xterm-selection";let R=1,H=u.DomRenderer=class extends p.Disposable{constructor(K,X,oe,ae,Me,Ce,Z,q,Q,ie,ge,be,Ne){super(),this._terminal=K,this._document=X,this._element=oe,this._screenElement=ae,this._viewportElement=Me,this._helperContainer=Ce,this._linkifier2=Z,this._charSizeService=Q,this._optionsService=ie,this._bufferService=ge,this._coreBrowserService=be,this._themeService=Ne,this._terminalClass=R++,this._rowElements=[],this._selectionRenderModel=(0,_.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new a.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(N),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(L),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,D.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(Ye=>this._injectCss(Ye))),this._injectCss(this._themeService.colors),this._rowFactory=q.createInstance(h.DomRendererRowFactory,document),this._element.classList.add(P+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(Ye=>this._handleLinkHover(Ye))),this.register(this._linkifier2.onHideLinkUnderline(Ye=>this._handleLinkLeave(Ye))),this.register((0,p.toDisposable)(()=>{this._element.classList.remove(P+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new b.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const K=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*K,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*K),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/K),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/K),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const oe of this._rowElements)oe.style.width=`${this.dimensions.css.canvas.width}px`,oe.style.height=`${this.dimensions.css.cell.height}px`,oe.style.lineHeight=`${this.dimensions.css.cell.height}px`,oe.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=`${this._terminalSelector} .${N} span { display: inline-block; height: 100%; vertical-align: top;}`,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(K){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let X=`${this._terminalSelector} .${N} { color: ${K.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;X+=`${this._terminalSelector} .${N} .xterm-dim { color: ${d.color.multiplyOpacity(K.foreground,.5).css};}`,X+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,X+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",X+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${K.cursor.css};  color: ${K.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${K.cursor.css}; }}`,X+=`${this._terminalSelector} .${N}.${C} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${N}.${C} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${N} .xterm-cursor.xterm-cursor-block { background-color: ${K.cursor.css} !important; color: ${K.cursorAccent.css} !important;}${this._terminalSelector} .${N} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${K.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${N} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${K.cursor.css} inset;}${this._terminalSelector} .${N} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${K.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,X+=`${this._terminalSelector} .${L} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${L} div { position: absolute; background-color: ${K.selectionBackgroundOpaque.css};}${this._terminalSelector} .${L} div { position: absolute; background-color: ${K.selectionInactiveBackgroundOpaque.css};}`;for(const[oe,ae]of K.ansi.entries())X+=`${this._terminalSelector} .${j}${oe} { color: ${ae.css}; }${this._terminalSelector} .${j}${oe}.xterm-dim { color: ${d.color.multiplyOpacity(ae,.5).css}; }${this._terminalSelector} .${f}${oe} { background-color: ${ae.css}; }`;X+=`${this._terminalSelector} .${j}${w.INVERTED_DEFAULT_COLOR} { color: ${d.color.opaque(K.background).css}; }${this._terminalSelector} .${j}${w.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${d.color.multiplyOpacity(d.color.opaque(K.background),.5).css}; }${this._terminalSelector} .${f}${w.INVERTED_DEFAULT_COLOR} { background-color: ${K.foreground.css}; }`,this._themeStyleElement.textContent=X}_setDefaultSpacing(){const K=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${K}px`,this._rowFactory.defaultSpacing=K}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(K,X){for(let oe=this._rowElements.length;oe<=X;oe++){const ae=this._document.createElement("div");this._rowContainer.appendChild(ae),this._rowElements.push(ae)}for(;this._rowElements.length>X;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(K,X){this._refreshRowElements(K,X),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(C),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(C),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(K,X,oe){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(K,X,oe),this.renderRows(0,this._bufferService.rows-1),!K||!X)return;this._selectionRenderModel.update(this._terminal,K,X,oe);const ae=this._selectionRenderModel.viewportStartRow,Me=this._selectionRenderModel.viewportEndRow,Ce=this._selectionRenderModel.viewportCappedStartRow,Z=this._selectionRenderModel.viewportCappedEndRow;if(Ce>=this._bufferService.rows||Z<0)return;const q=this._document.createDocumentFragment();if(oe){const Q=K[0]>X[0];q.appendChild(this._createSelectionElement(Ce,Q?X[0]:K[0],Q?K[0]:X[0],Z-Ce+1))}else q.appendChild(this._createSelectionElement(Ce,ae===Ce?K[0]:0,Ce===Me?X[0]:this._bufferService.cols)),q.appendChild(this._createSelectionElement(Ce+1,0,this._bufferService.cols,Z-Ce-1)),Ce!==Z&&q.appendChild(this._createSelectionElement(Z,0,Me===Z?X[0]:this._bufferService.cols));this._selectionContainer.appendChild(q)}_createSelectionElement(K,X,oe,ae=1){const Me=this._document.createElement("div"),Ce=X*this.dimensions.css.cell.width;let Z=this.dimensions.css.cell.width*(oe-X);return Ce+Z>this.dimensions.css.canvas.width&&(Z=this.dimensions.css.canvas.width-Ce),Me.style.height=ae*this.dimensions.css.cell.height+"px",Me.style.top=K*this.dimensions.css.cell.height+"px",Me.style.left=`${Ce}px`,Me.style.width=`${Z}px`,Me}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const K of this._rowElements)K.replaceChildren()}renderRows(K,X){const oe=this._bufferService.buffer,ae=oe.ybase+oe.y,Me=Math.min(oe.x,this._bufferService.cols-1),Ce=this._optionsService.rawOptions.cursorBlink,Z=this._optionsService.rawOptions.cursorStyle,q=this._optionsService.rawOptions.cursorInactiveStyle;for(let Q=K;Q<=X;Q++){const ie=Q+oe.ydisp,ge=this._rowElements[Q],be=oe.lines.get(ie);if(!ge||!be)break;ge.replaceChildren(...this._rowFactory.createRow(be,ie,ie===ae,Z,q,Me,Ce,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${P}${this._terminalClass}`}_handleLinkHover(K){this._setCellUnderline(K.x1,K.x2,K.y1,K.y2,K.cols,!0)}_handleLinkLeave(K){this._setCellUnderline(K.x1,K.x2,K.y1,K.y2,K.cols,!1)}_setCellUnderline(K,X,oe,ae,Me,Ce){oe<0&&(K=0),ae<0&&(X=0);const Z=this._bufferService.rows-1;oe=Math.max(Math.min(oe,Z),0),ae=Math.max(Math.min(ae,Z),0),Me=Math.min(Me,this._bufferService.cols);const q=this._bufferService.buffer,Q=q.ybase+q.y,ie=Math.min(q.x,Me-1),ge=this._optionsService.rawOptions.cursorBlink,be=this._optionsService.rawOptions.cursorStyle,Ne=this._optionsService.rawOptions.cursorInactiveStyle;for(let Ye=oe;Ye<=ae;++Ye){const me=Ye+q.ydisp,ne=this._rowElements[Ye],Ie=q.lines.get(me);if(!ne||!Ie)break;ne.replaceChildren(...this._rowFactory.createRow(Ie,me,me===Q,be,Ne,ie,ge,this.dimensions.css.cell.width,this._widthCache,Ce?Ye===oe?K:0:-1,Ce?(Ye===ae?X:Me)-1:-1))}}};u.DomRenderer=H=v([E(7,x.IInstantiationService),E(8,o.ICharSizeService),E(9,x.IOptionsService),E(10,x.IBufferService),E(11,o.ICoreBrowserService),E(12,o.IThemeService)],H)},3787:function(y,u,m){var v=this&&this.__decorate||function(N,j,f,C){var L,R=arguments.length,H=R<3?j:null===C?C=Object.getOwnPropertyDescriptor(j,f):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(N,j,f,C);else for(var K=N.length-1;K>=0;K--)(L=N[K])&&(H=(R<3?L(H):R>3?L(j,f,H):L(j,f))||H);return R>3&&H&&Object.defineProperty(j,f,H),H},E=this&&this.__param||function(N,j){return function(f,C){j(f,C,N)}};Object.defineProperty(u,"__esModule",{value:!0}),u.DomRendererRowFactory=void 0;const h=m(2223),b=m(643),w=m(511),D=m(2585),_=m(8055),o=m(4725),d=m(4269),a=m(6171),p=m(3734);let x=u.DomRendererRowFactory=class{constructor(N,j,f,C,L,R,H){this._document=N,this._characterJoinerService=j,this._optionsService=f,this._coreBrowserService=C,this._coreService=L,this._decorationService=R,this._themeService=H,this._workCell=new w.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(N,j,f){this._selectionStart=N,this._selectionEnd=j,this._columnSelectMode=f}createRow(N,j,f,C,L,R,H,K,X,oe,ae){const Me=[],Ce=this._characterJoinerService.getJoinedCharacters(j),Z=this._themeService.colors;let q,Q=N.getNoBgTrimmedLength();f&&Q<R+1&&(Q=R+1);let ie=0,ge="",be=0,Ne=0,Ye=0,me=!1,ne=0,Ie=!1,Pe=0;const Je=[],je=-1!==oe&&-1!==ae;for(let _t=0;_t<Q;_t++){N.loadCell(_t,this._workCell);let gt=this._workCell.getWidth();if(0===gt)continue;let Ct=!1,dt=_t,at=this._workCell;if(Ce.length>0&&_t===Ce[0][0]){Ct=!0;const Ue=Ce.shift();at=new d.JoinedCellData(this._workCell,N.translateToString(!0,Ue[0],Ue[1]),Ue[1]-Ue[0]),dt=Ue[1]-1,gt=at.getWidth()}const vt=this._isCellInSelection(_t,j),an=f&&_t===R,ln=je&&_t>=oe&&_t<=ae;let lt=!1;this._decorationService.forEachDecorationAtCell(_t,j,void 0,Ue=>{lt=!0});let xt=at.getChars()||b.WHITESPACE_CELL_CHAR;if(" "===xt&&(at.isUnderline()||at.isOverline())&&(xt="\xa0"),Pe=gt*K-X.get(xt,at.isBold(),at.isItalic()),q){if(ie&&(vt&&Ie||!vt&&!Ie&&at.bg===be)&&(vt&&Ie&&Z.selectionForeground||at.fg===Ne)&&at.extended.ext===Ye&&ln===me&&Pe===ne&&!an&&!Ct&&!lt){at.isInvisible()?ge+=b.WHITESPACE_CELL_CHAR:ge+=xt,ie++;continue}ie&&(q.textContent=ge),q=this._document.createElement("span"),ie=0,ge=""}else q=this._document.createElement("span");if(be=at.bg,Ne=at.fg,Ye=at.extended.ext,me=ln,ne=Pe,Ie=vt,Ct&&R>=_t&&R<=dt&&(R=_t),!this._coreService.isCursorHidden&&an&&this._coreService.isCursorInitialized)if(Je.push("xterm-cursor"),this._coreBrowserService.isFocused)H&&Je.push("xterm-cursor-blink"),Je.push("bar"===C?"xterm-cursor-bar":"underline"===C?"xterm-cursor-underline":"xterm-cursor-block");else if(L)switch(L){case"outline":Je.push("xterm-cursor-outline");break;case"block":Je.push("xterm-cursor-block");break;case"bar":Je.push("xterm-cursor-bar");break;case"underline":Je.push("xterm-cursor-underline")}if(at.isBold()&&Je.push("xterm-bold"),at.isItalic()&&Je.push("xterm-italic"),at.isDim()&&Je.push("xterm-dim"),ge=at.isInvisible()?b.WHITESPACE_CELL_CHAR:at.getChars()||b.WHITESPACE_CELL_CHAR,at.isUnderline()&&(Je.push(`xterm-underline-${at.extended.underlineStyle}`)," "===ge&&(ge="\xa0"),!at.isUnderlineColorDefault()))if(at.isUnderlineColorRGB())q.style.textDecorationColor=`rgb(${p.AttributeData.toColorRGB(at.getUnderlineColor()).join(",")})`;else{let Ue=at.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&at.isBold()&&Ue<8&&(Ue+=8),q.style.textDecorationColor=Z.ansi[Ue].css}at.isOverline()&&(Je.push("xterm-overline")," "===ge&&(ge="\xa0")),at.isStrikethrough()&&Je.push("xterm-strikethrough"),ln&&(q.style.textDecoration="underline");let Ke=at.getFgColor(),nt=at.getFgColorMode(),ke=at.getBgColor(),ue=at.getBgColorMode();const Ae=!!at.isInverse();if(Ae){const Ue=Ke;Ke=ke,ke=Ue;const ot=nt;nt=ue,ue=ot}let le,Oe,Fe,xe=!1;switch(this._decorationService.forEachDecorationAtCell(_t,j,void 0,Ue=>{"top"!==Ue.options.layer&&xe||(Ue.backgroundColorRGB&&(ue=50331648,ke=Ue.backgroundColorRGB.rgba>>8&16777215,le=Ue.backgroundColorRGB),Ue.foregroundColorRGB&&(nt=50331648,Ke=Ue.foregroundColorRGB.rgba>>8&16777215,Oe=Ue.foregroundColorRGB),xe="top"===Ue.options.layer)}),!xe&&vt&&(le=this._coreBrowserService.isFocused?Z.selectionBackgroundOpaque:Z.selectionInactiveBackgroundOpaque,ke=le.rgba>>8&16777215,ue=50331648,xe=!0,Z.selectionForeground&&(nt=50331648,Ke=Z.selectionForeground.rgba>>8&16777215,Oe=Z.selectionForeground)),xe&&Je.push("xterm-decoration-top"),ue){case 16777216:case 33554432:Fe=Z.ansi[ke],Je.push(`xterm-bg-${ke}`);break;case 50331648:Fe=_.channels.toColor(ke>>16,ke>>8&255,255&ke),this._addStyle(q,`background-color:#${P((ke>>>0).toString(16),"0",6)}`);break;default:Ae?(Fe=Z.foreground,Je.push(`xterm-bg-${h.INVERTED_DEFAULT_COLOR}`)):Fe=Z.background}switch(le||at.isDim()&&(le=_.color.multiplyOpacity(Fe,.5)),nt){case 16777216:case 33554432:at.isBold()&&Ke<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Ke+=8),this._applyMinimumContrast(q,Fe,Z.ansi[Ke],at,le,void 0)||Je.push(`xterm-fg-${Ke}`);break;case 50331648:const Ue=_.channels.toColor(Ke>>16&255,Ke>>8&255,255&Ke);this._applyMinimumContrast(q,Fe,Ue,at,le,Oe)||this._addStyle(q,`color:#${P(Ke.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(q,Fe,Z.foreground,at,le,Oe)||Ae&&Je.push(`xterm-fg-${h.INVERTED_DEFAULT_COLOR}`)}Je.length&&(q.className=Je.join(" "),Je.length=0),an||Ct||lt?q.textContent=ge:ie++,Pe!==this.defaultSpacing&&(q.style.letterSpacing=`${Pe}px`),Me.push(q),_t=dt}return q&&ie&&(q.textContent=ge),Me}_applyMinimumContrast(N,j,f,C,L,R){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,a.treatGlyphAsBackgroundColor)(C.getCode()))return!1;const H=this._getContrastCache(C);let K;if(L||R||(K=H.getColor(j.rgba,f.rgba)),void 0===K){const X=this._optionsService.rawOptions.minimumContrastRatio/(C.isDim()?2:1);K=_.color.ensureContrastRatio(L||j,R||f,X),H.setColor((L||j).rgba,(R||f).rgba,null!=K?K:null)}return!!K&&(this._addStyle(N,`color:${K.css}`),!0)}_getContrastCache(N){return N.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(N,j){N.setAttribute("style",`${N.getAttribute("style")||""}${j};`)}_isCellInSelection(N,j){const f=this._selectionStart,C=this._selectionEnd;return!(!f||!C)&&(this._columnSelectMode?f[0]<=C[0]?N>=f[0]&&j>=f[1]&&N<C[0]&&j<=C[1]:N<f[0]&&j>=f[1]&&N>=C[0]&&j<=C[1]:j>f[1]&&j<C[1]||f[1]===C[1]&&j===f[1]&&N>=f[0]&&N<C[0]||f[1]<C[1]&&j===C[1]&&N<C[0]||f[1]<C[1]&&j===f[1]&&N>=f[0])}};function P(N,j,f){for(;N.length<f;)N=j+N;return N}u.DomRendererRowFactory=x=v([E(1,o.ICharacterJoinerService),E(2,D.IOptionsService),E(3,o.ICoreBrowserService),E(4,D.ICoreService),E(5,D.IDecorationService),E(6,o.IThemeService)],x)},2550:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.WidthCache=void 0,u.WidthCache=class{constructor(m,v){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=m.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const E=m.createElement("span");E.classList.add("xterm-char-measure-element");const h=m.createElement("span");h.classList.add("xterm-char-measure-element"),h.style.fontWeight="bold";const b=m.createElement("span");b.classList.add("xterm-char-measure-element"),b.style.fontStyle="italic";const w=m.createElement("span");w.classList.add("xterm-char-measure-element"),w.style.fontWeight="bold",w.style.fontStyle="italic",this._measureElements=[E,h,b,w],this._container.appendChild(E),this._container.appendChild(h),this._container.appendChild(b),this._container.appendChild(w),v.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(m,v,E,h){m===this._font&&v===this._fontSize&&E===this._weight&&h===this._weightBold||(this._font=m,this._fontSize=v,this._weight=E,this._weightBold=h,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${E}`,this._measureElements[1].style.fontWeight=`${h}`,this._measureElements[2].style.fontWeight=`${E}`,this._measureElements[3].style.fontWeight=`${h}`,this.clear())}get(m,v,E){let h=0;if(!v&&!E&&1===m.length&&(h=m.charCodeAt(0))<256){if(-9999!==this._flat[h])return this._flat[h];const D=this._measure(m,0);return D>0&&(this._flat[h]=D),D}let b=m;v&&(b+="B"),E&&(b+="I");let w=this._holey.get(b);if(void 0===w){let D=0;v&&(D|=1),E&&(D|=2),w=this._measure(m,D),w>0&&this._holey.set(b,w)}return w}_measure(m,v){const E=this._measureElements[v];return E.textContent=m.repeat(32),E.offsetWidth/32}}},2223:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TEXT_BASELINE=u.DIM_OPACITY=u.INVERTED_DEFAULT_COLOR=void 0;const v=m(6114);u.INVERTED_DEFAULT_COLOR=257,u.DIM_OPACITY=.5,u.TEXT_BASELINE=v.isFirefox||v.isLegacyEdge?"bottom":"ideographic"},6171:(y,u)=>{function m(v){return 57508<=v&&v<=57558}Object.defineProperty(u,"__esModule",{value:!0}),u.computeNextVariantOffset=u.createRenderDimensions=u.treatGlyphAsBackgroundColor=u.isRestrictedPowerlineGlyph=u.isPowerlineGlyph=u.throwIfFalsy=void 0,u.throwIfFalsy=function(v){if(!v)throw new Error("value must not be falsy");return v},u.isPowerlineGlyph=m,u.isRestrictedPowerlineGlyph=function(v){return 57520<=v&&v<=57527},u.treatGlyphAsBackgroundColor=function(v){return m(v)||9472<=(E=v)&&E<=9631;var E},u.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},u.computeNextVariantOffset=function(v,E,h=0){return(v-(2*Math.round(E)-h))%(2*Math.round(E))}},6052:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.createSelectionRenderModel=void 0;class m{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(E,h,b,w=!1){if(this.selectionStart=h,this.selectionEnd=b,!h||!b||h[0]===b[0]&&h[1]===b[1])return void this.clear();const D=E.buffers.active.ydisp,_=h[1]-D,o=b[1]-D,d=Math.max(_,0),a=Math.min(o,E.rows-1);d>=E.rows||a<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=w,this.viewportStartRow=_,this.viewportEndRow=o,this.viewportCappedStartRow=d,this.viewportCappedEndRow=a,this.startCol=h[0],this.endCol=b[0])}isCellSelected(E,h,b){return!!this.hasSelection&&(b-=E.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?h>=this.startCol&&b>=this.viewportCappedStartRow&&h<this.endCol&&b<=this.viewportCappedEndRow:h<this.startCol&&b>=this.viewportCappedStartRow&&h>=this.endCol&&b<=this.viewportCappedEndRow:b>this.viewportStartRow&&b<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&b===this.viewportStartRow&&h>=this.startCol&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&b===this.viewportEndRow&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&b===this.viewportStartRow&&h>=this.startCol)}}u.createSelectionRenderModel=function(){return new m}},456:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.SelectionModel=void 0,u.SelectionModel=class{constructor(m){this._bufferService=m,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const m=this.selectionStart[0]+this.selectionStartLength;return m>this._bufferService.cols?m%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(m/this._bufferService.cols)-1]:[m%this._bufferService.cols,this.selectionStart[1]+Math.floor(m/this._bufferService.cols)]:[m,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const m=this.selectionStart[0]+this.selectionStartLength;return m>this._bufferService.cols?[m%this._bufferService.cols,this.selectionStart[1]+Math.floor(m/this._bufferService.cols)]:[Math.max(m,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const m=this.selectionStart,v=this.selectionEnd;return!(!m||!v)&&(m[1]>v[1]||m[1]===v[1]&&m[0]>v[0])}handleTrim(m){return this.selectionStart&&(this.selectionStart[1]-=m),this.selectionEnd&&(this.selectionEnd[1]-=m),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(y,u,m){var v=this&&this.__decorate||function(a,p,x,P){var N,j=arguments.length,f=j<3?p:null===P?P=Object.getOwnPropertyDescriptor(p,x):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(a,p,x,P);else for(var C=a.length-1;C>=0;C--)(N=a[C])&&(f=(j<3?N(f):j>3?N(p,x,f):N(p,x))||f);return j>3&&f&&Object.defineProperty(p,x,f),f},E=this&&this.__param||function(a,p){return function(x,P){p(x,P,a)}};Object.defineProperty(u,"__esModule",{value:!0}),u.CharSizeService=void 0;const h=m(2585),b=m(8460),w=m(844);let D=u.CharSizeService=class extends w.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(a,p,x){super(),this._optionsService=x,this.width=0,this.height=0,this._onCharSizeChange=this.register(new b.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new d(this._optionsService))}catch(P){this._measureStrategy=this.register(new o(a,p,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const a=this._measureStrategy.measure();a.width===this.width&&a.height===this.height||(this.width=a.width,this.height=a.height,this._onCharSizeChange.fire())}};u.CharSizeService=D=v([E(2,h.IOptionsService)],D);class _ extends w.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(p,x){void 0!==p&&p>0&&void 0!==x&&x>0&&(this._result.width=p,this._result.height=x)}}class o extends _{constructor(p,x,P){super(),this._document=p,this._parentElement=x,this._optionsService=P,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class d extends _{constructor(p){super(),this._optionsService=p,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const x=this._ctx.measureText("W");if(!("width"in x&&"fontBoundingBoxAscent"in x&&"fontBoundingBoxDescent"in x))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const p=this._ctx.measureText("W");return this._validateAndSet(p.width,p.fontBoundingBoxAscent+p.fontBoundingBoxDescent),this._result}}},4269:function(y,u,m){var v=this&&this.__decorate||function(d,a,p,x){var P,N=arguments.length,j=N<3?a:null===x?x=Object.getOwnPropertyDescriptor(a,p):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(d,a,p,x);else for(var f=d.length-1;f>=0;f--)(P=d[f])&&(j=(N<3?P(j):N>3?P(a,p,j):P(a,p))||j);return N>3&&j&&Object.defineProperty(a,p,j),j},E=this&&this.__param||function(d,a){return function(p,x){a(p,x,d)}};Object.defineProperty(u,"__esModule",{value:!0}),u.CharacterJoinerService=u.JoinedCellData=void 0;const h=m(3734),b=m(643),w=m(511),D=m(2585);u.JoinedCellData=class _ extends h.AttributeData{constructor(a,p,x){super(),this.content=0,this.combinedData="",this.fg=a.fg,this.bg=a.bg,this.combinedData=p,this._width=x}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(a){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};let o=u.CharacterJoinerService=class Mg{constructor(a){this._bufferService=a,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new w.CellData}register(a){const p={id:this._nextCharacterJoinerId++,handler:a};return this._characterJoiners.push(p),p.id}deregister(a){for(let p=0;p<this._characterJoiners.length;p++)if(this._characterJoiners[p].id===a)return this._characterJoiners.splice(p,1),!0;return!1}getJoinedCharacters(a){if(0===this._characterJoiners.length)return[];const p=this._bufferService.buffer.lines.get(a);if(!p||0===p.length)return[];const x=[],P=p.translateToString(!0);let N=0,j=0,f=0,C=p.getFg(0),L=p.getBg(0);for(let R=0;R<p.getTrimmedLength();R++)if(p.loadCell(R,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==C||this._workCell.bg!==L){if(R-N>1){const H=this._getJoinedRanges(P,f,j,p,N);for(let K=0;K<H.length;K++)x.push(H[K])}N=R,f=j,C=this._workCell.fg,L=this._workCell.bg}j+=this._workCell.getChars().length||b.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-N>1){const R=this._getJoinedRanges(P,f,j,p,N);for(let H=0;H<R.length;H++)x.push(R[H])}return x}_getJoinedRanges(a,p,x,P,N){const j=a.substring(p,x);let f=[];try{f=this._characterJoiners[0].handler(j)}catch(C){console.error(C)}for(let C=1;C<this._characterJoiners.length;C++)try{const L=this._characterJoiners[C].handler(j);for(let R=0;R<L.length;R++)Mg._mergeRanges(f,L[R])}catch(L){console.error(L)}return this._stringRangesToCellRanges(f,P,N),f}_stringRangesToCellRanges(a,p,x){let P=0,N=!1,j=0,f=a[P];if(f){for(let C=x;C<this._bufferService.cols;C++){const L=p.getWidth(C),R=p.getString(C).length||b.WHITESPACE_CELL_CHAR.length;if(0!==L){if(!N&&f[0]<=j&&(f[0]=C,N=!0),f[1]<=j){if(f[1]=C,f=a[++P],!f)break;f[0]<=j?(f[0]=C,N=!0):N=!1}j+=R}}f&&(f[1]=this._bufferService.cols)}}static _mergeRanges(a,p){let x=!1;for(let P=0;P<a.length;P++){const N=a[P];if(x){if(p[1]<=N[0])return a[P-1][1]=p[1],a;if(p[1]<=N[1])return a[P-1][1]=Math.max(p[1],N[1]),a.splice(P,1),a;a.splice(P,1),P--}else{if(p[1]<=N[0])return a.splice(P,0,p),a;if(p[1]<=N[1])return N[0]=Math.min(p[0],N[0]),a;p[0]<N[1]&&(N[0]=Math.min(p[0],N[0]),x=!0)}}return x?a[a.length-1][1]=p[1]:a.push(p),a}};u.CharacterJoinerService=o=v([E(0,D.IBufferService)],o)},5114:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CoreBrowserService=void 0;const v=m(844),E=m(8460),h=m(3656);u.CoreBrowserService=class b extends v.Disposable{constructor(_,o,d){super(),this._textarea=_,this._window=o,this.mainDocument=d,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new w(this._window),this._onDprChange=this.register(new E.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new E.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(a=>this._screenDprMonitor.setWindow(a))),this.register((0,E.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(_){this._window!==_&&(this._window=_,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}};class w extends v.Disposable{constructor(_){super(),this._parentWindow=_,this._windowResizeListener=this.register(new v.MutableDisposable),this._onDprChange=this.register(new E.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,v.toDisposable)(()=>this.clearListener()))}setWindow(_){this._parentWindow=_,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,h.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var _;this._outerListener&&(null==(_=this._resolutionMediaMatchList)||_.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.LinkProviderService=void 0;const v=m(844);u.LinkProviderService=class E extends v.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,v.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(b){return this.linkProviders.push(b),{dispose:()=>{const w=this.linkProviders.indexOf(b);-1!==w&&this.linkProviders.splice(w,1)}}}}},8934:function(y,u,m){var v=this&&this.__decorate||function(D,_,o,d){var a,p=arguments.length,x=p<3?_:null===d?d=Object.getOwnPropertyDescriptor(_,o):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(D,_,o,d);else for(var P=D.length-1;P>=0;P--)(a=D[P])&&(x=(p<3?a(x):p>3?a(_,o,x):a(_,o))||x);return p>3&&x&&Object.defineProperty(_,o,x),x},E=this&&this.__param||function(D,_){return function(o,d){_(o,d,D)}};Object.defineProperty(u,"__esModule",{value:!0}),u.MouseService=void 0;const h=m(4725),b=m(9806);let w=u.MouseService=class{constructor(D,_){this._renderService=D,this._charSizeService=_}getCoords(D,_,o,d,a){return(0,b.getCoords)(window,D,_,o,d,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,a)}getMouseReportCoords(D,_){const o=(0,b.getCoordsRelativeToElement)(window,D,_);if(this._charSizeService.hasValidSize)return o[0]=Math.min(Math.max(o[0],0),this._renderService.dimensions.css.canvas.width-1),o[1]=Math.min(Math.max(o[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(o[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(o[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(o[0]),y:Math.floor(o[1])}}};u.MouseService=w=v([E(0,h.IRenderService),E(1,h.ICharSizeService)],w)},3230:function(y,u,m){var v=this&&this.__decorate||function(a,p,x,P){var N,j=arguments.length,f=j<3?p:null===P?P=Object.getOwnPropertyDescriptor(p,x):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(a,p,x,P);else for(var C=a.length-1;C>=0;C--)(N=a[C])&&(f=(j<3?N(f):j>3?N(p,x,f):N(p,x))||f);return j>3&&f&&Object.defineProperty(p,x,f),f},E=this&&this.__param||function(a,p){return function(x,P){p(x,P,a)}};Object.defineProperty(u,"__esModule",{value:!0}),u.RenderService=void 0;const h=m(6193),b=m(4725),w=m(8460),D=m(844),_=m(7226),o=m(2585);let d=u.RenderService=class extends D.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(a,p,x,P,N,j,f,C){super(),this._rowCount=a,this._charSizeService=P,this._renderer=this.register(new D.MutableDisposable),this._pausedResizeTask=new _.DebouncedIdleTask,this._observerDisposable=this.register(new D.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new w.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new w.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new w.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new w.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new h.RenderDebouncer((L,R)=>this._renderRows(L,R),f),this.register(this._renderDebouncer),this.register(f.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(j.onResize(()=>this._fullRefresh())),this.register(j.buffers.onBufferActivate(()=>{var L;return null==(L=this._renderer.value)?void 0:L.clear()})),this.register(x.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(N.onDecorationRegistered(()=>this._fullRefresh())),this.register(N.onDecorationRemoved(()=>this._fullRefresh())),this.register(x.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(j.cols,j.rows),this._fullRefresh()})),this.register(x.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(j.buffer.y,j.buffer.y,!0))),this.register(C.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(f.window,p),this.register(f.onWindowChange(L=>this._registerIntersectionObserver(L,p)))}_registerIntersectionObserver(a,p){if("IntersectionObserver"in a){const x=new a.IntersectionObserver(P=>this._handleIntersectionChange(P[P.length-1]),{threshold:0});x.observe(p),this._observerDisposable.value=(0,D.toDisposable)(()=>x.disconnect())}}_handleIntersectionChange(a){this._isPaused=void 0===a.isIntersecting?0===a.intersectionRatio:!a.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(a,p,x=!1){this._isPaused?this._needsFullRefresh=!0:(x||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(a,p,this._rowCount))}_renderRows(a,p){this._renderer.value&&(a=Math.min(a,this._rowCount-1),p=Math.min(p,this._rowCount-1),this._renderer.value.renderRows(a,p),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:a,end:p}),this._onRender.fire({start:a,end:p}),this._isNextRenderRedrawOnly=!0)}resize(a,p){this._rowCount=p,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(a){this._renderer.value=a,this._renderer.value&&(this._renderer.value.onRequestRedraw(p=>this.refreshRows(p.start,p.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(a){return this._renderDebouncer.addRefreshCallback(a)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var a,p;this._renderer.value&&(null==(p=(a=this._renderer.value).clearTextureAtlas)||p.call(a),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(a,p){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>{var x;return null==(x=this._renderer.value)?void 0:x.handleResize(a,p)}):this._renderer.value.handleResize(a,p),this._fullRefresh())}handleCharSizeChanged(){var a;null==(a=this._renderer.value)||a.handleCharSizeChanged()}handleBlur(){var a;null==(a=this._renderer.value)||a.handleBlur()}handleFocus(){var a;null==(a=this._renderer.value)||a.handleFocus()}handleSelectionChanged(a,p,x){var P;this._selectionState.start=a,this._selectionState.end=p,this._selectionState.columnSelectMode=x,null==(P=this._renderer.value)||P.handleSelectionChanged(a,p,x)}handleCursorMove(){var a;null==(a=this._renderer.value)||a.handleCursorMove()}clear(){var a;null==(a=this._renderer.value)||a.clear()}};u.RenderService=d=v([E(2,o.IOptionsService),E(3,b.ICharSizeService),E(4,o.IDecorationService),E(5,o.IBufferService),E(6,b.ICoreBrowserService),E(7,b.IThemeService)],d)},9312:function(y,u,m){var v=this&&this.__decorate||function(f,C,L,R){var H,K=arguments.length,X=K<3?C:null===R?R=Object.getOwnPropertyDescriptor(C,L):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(f,C,L,R);else for(var oe=f.length-1;oe>=0;oe--)(H=f[oe])&&(X=(K<3?H(X):K>3?H(C,L,X):H(C,L))||X);return K>3&&X&&Object.defineProperty(C,L,X),X},E=this&&this.__param||function(f,C){return function(L,R){C(L,R,f)}};Object.defineProperty(u,"__esModule",{value:!0}),u.SelectionService=void 0;const h=m(9806),b=m(9504),w=m(456),D=m(4725),_=m(8460),o=m(844),d=m(6114),a=m(4841),p=m(511),x=m(2585),P=String.fromCharCode(160),N=new RegExp(P,"g");let j=u.SelectionService=class extends o.Disposable{constructor(f,C,L,R,H,K,X,oe,ae){super(),this._element=f,this._screenElement=C,this._linkifier=L,this._bufferService=R,this._coreService=H,this._mouseService=K,this._optionsService=X,this._renderService=oe,this._coreBrowserService=ae,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new p.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new _.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new _.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new _.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new _.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=Me=>this._handleMouseMove(Me),this._mouseUpListener=Me=>this._handleMouseUp(Me),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(Me=>this._handleTrim(Me)),this.register(this._bufferService.buffers.onBufferActivate(Me=>this._handleBufferActivate(Me))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,o.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const f=this._model.finalSelectionStart,C=this._model.finalSelectionEnd;return!(!f||!C||f[0]===C[0]&&f[1]===C[1])}get selectionText(){const f=this._model.finalSelectionStart,C=this._model.finalSelectionEnd;if(!f||!C)return"";const L=this._bufferService.buffer,R=[];if(3===this._activeSelectionMode){if(f[0]===C[0])return"";const H=f[0]<C[0]?f[0]:C[0],K=f[0]<C[0]?C[0]:f[0];for(let X=f[1];X<=C[1];X++){const oe=L.translateBufferLineToString(X,!0,H,K);R.push(oe)}}else{R.push(L.translateBufferLineToString(f[1],!0,f[0],f[1]===C[1]?C[0]:void 0));for(let K=f[1]+1;K<=C[1]-1;K++){const X=L.lines.get(K),oe=L.translateBufferLineToString(K,!0);null!=X&&X.isWrapped?R[R.length-1]+=oe:R.push(oe)}if(f[1]!==C[1]){const K=L.lines.get(C[1]),X=L.translateBufferLineToString(C[1],!0,0,C[0]);K&&K.isWrapped?R[R.length-1]+=X:R.push(X)}}return R.map(H=>H.replace(N," ")).join(d.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(f){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),d.isLinux&&f&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(f){const C=this._getMouseBufferCoords(f),L=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;return!!(L&&R&&C)&&this._areCoordsInSelection(C,L,R)}isCellInSelection(f,C){const L=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;return!(!L||!R)&&this._areCoordsInSelection([f,C],L,R)}_areCoordsInSelection(f,C,L){return f[1]>C[1]&&f[1]<L[1]||C[1]===L[1]&&f[1]===C[1]&&f[0]>=C[0]&&f[0]<L[0]||C[1]<L[1]&&f[1]===L[1]&&f[0]<L[0]||C[1]<L[1]&&f[1]===C[1]&&f[0]>=C[0]}_selectWordAtCursor(f,C){var H,K;const L=null==(K=null==(H=this._linkifier.currentLink)?void 0:H.link)?void 0:K.range;if(L)return this._model.selectionStart=[L.start.x-1,L.start.y-1],this._model.selectionStartLength=(0,a.getRangeLength)(L,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const R=this._getMouseBufferCoords(f);return!!R&&(this._selectWordAt(R,C),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(f,C){this._model.clearSelection(),f=Math.max(f,0),C=Math.min(C,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,f],this._model.selectionEnd=[this._bufferService.cols,C],this.refresh(),this._onSelectionChange.fire()}_handleTrim(f){this._model.handleTrim(f)&&this.refresh()}_getMouseBufferCoords(f){const C=this._mouseService.getCoords(f,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(C)return C[0]--,C[1]--,C[1]+=this._bufferService.buffer.ydisp,C}_getMouseEventScrollAmount(f){let C=(0,h.getCoordsRelativeToElement)(this._coreBrowserService.window,f,this._screenElement)[1];const L=this._renderService.dimensions.css.canvas.height;return C>=0&&C<=L?0:(C>L&&(C-=L),C=Math.min(Math.max(C,-50),50),C/=50,C/Math.abs(C)+Math.round(14*C))}shouldForceSelection(f){return d.isMac?f.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:f.shiftKey}handleMouseDown(f){if(this._mouseDownTimeStamp=f.timeStamp,(2!==f.button||!this.hasSelection)&&0===f.button){if(!this._enabled){if(!this.shouldForceSelection(f))return;f.stopPropagation()}f.preventDefault(),this._dragScrollAmount=0,this._enabled&&f.shiftKey?this._handleIncrementalClick(f):1===f.detail?this._handleSingleClick(f):2===f.detail?this._handleDoubleClick(f):3===f.detail&&this._handleTripleClick(f),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(f){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(f))}_handleSingleClick(f){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(f)?3:0,this._model.selectionStart=this._getMouseBufferCoords(f),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const C=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);C&&C.length!==this._model.selectionStart[0]&&0===C.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(f){this._selectWordAtCursor(f,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(f){const C=this._getMouseBufferCoords(f);C&&(this._activeSelectionMode=2,this._selectLineAt(C[1]))}shouldColumnSelect(f){return f.altKey&&!(d.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(f){if(f.stopImmediatePropagation(),!this._model.selectionStart)return;const C=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(f),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(f),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const L=this._bufferService.buffer;if(this._model.selectionEnd[1]<L.lines.length){const R=L.lines.get(this._model.selectionEnd[1]);R&&0===R.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}C&&C[0]===this._model.selectionEnd[0]&&C[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const f=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(f.ydisp+this._bufferService.rows,f.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=f.ydisp),this.refresh()}}_handleMouseUp(f){const C=f.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&C<500&&f.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const L=this._mouseService.getCoords(f,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(L&&void 0!==L[0]&&void 0!==L[1]){const R=(0,b.moveToCellSequence)(L[0]-1,L[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(R,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const f=this._model.finalSelectionStart,C=this._model.finalSelectionEnd,L=!(!f||!C||f[0]===C[0]&&f[1]===C[1]);L?f&&C&&(this._oldSelectionStart&&this._oldSelectionEnd&&f[0]===this._oldSelectionStart[0]&&f[1]===this._oldSelectionStart[1]&&C[0]===this._oldSelectionEnd[0]&&C[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(f,C,L)):this._oldHasSelection&&this._fireOnSelectionChange(f,C,L)}_fireOnSelectionChange(f,C,L){this._oldSelectionStart=f,this._oldSelectionEnd=C,this._oldHasSelection=L,this._onSelectionChange.fire()}_handleBufferActivate(f){this.clearSelection(),this._trimListener.dispose(),this._trimListener=f.activeBuffer.lines.onTrim(C=>this._handleTrim(C))}_convertViewportColToCharacterIndex(f,C){let L=C;for(let R=0;C>=R;R++){const H=f.loadCell(R,this._workCell).getChars().length;0===this._workCell.getWidth()?L--:H>1&&C!==R&&(L+=H-1)}return L}setSelection(f,C,L){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[f,C],this._model.selectionStartLength=L,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(f){this._isClickInSelection(f)||(this._selectWordAtCursor(f,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(f,C,L=!0,R=!0){if(f[0]>=this._bufferService.cols)return;const H=this._bufferService.buffer,K=H.lines.get(f[1]);if(!K)return;const X=H.translateBufferLineToString(f[1],!1);let oe=this._convertViewportColToCharacterIndex(K,f[0]),ae=oe;const Me=f[0]-oe;let Ce=0,Z=0,q=0,Q=0;if(" "===X.charAt(oe)){for(;oe>0&&" "===X.charAt(oe-1);)oe--;for(;ae<X.length&&" "===X.charAt(ae+1);)ae++}else{let be=f[0],Ne=f[0];0===K.getWidth(be)&&(Ce++,be--),2===K.getWidth(Ne)&&(Z++,Ne++);const Ye=K.getString(Ne).length;for(Ye>1&&(Q+=Ye-1,ae+=Ye-1);be>0&&oe>0&&!this._isCharWordSeparator(K.loadCell(be-1,this._workCell));){K.loadCell(be-1,this._workCell);const me=this._workCell.getChars().length;0===this._workCell.getWidth()?(Ce++,be--):me>1&&(q+=me-1,oe-=me-1),oe--,be--}for(;Ne<K.length&&ae+1<X.length&&!this._isCharWordSeparator(K.loadCell(Ne+1,this._workCell));){K.loadCell(Ne+1,this._workCell);const me=this._workCell.getChars().length;2===this._workCell.getWidth()?(Z++,Ne++):me>1&&(Q+=me-1,ae+=me-1),ae++,Ne++}}ae++;let ie=oe+Me-Ce+q,ge=Math.min(this._bufferService.cols,ae-oe+Ce+Z-q-Q);if(C||""!==X.slice(oe,ae).trim()){if(L&&0===ie&&32!==K.getCodePoint(0)){const be=H.lines.get(f[1]-1);if(be&&K.isWrapped&&32!==be.getCodePoint(this._bufferService.cols-1)){const Ne=this._getWordAt([this._bufferService.cols-1,f[1]-1],!1,!0,!1);if(Ne){const Ye=this._bufferService.cols-Ne.start;ie-=Ye,ge+=Ye}}}if(R&&ie+ge===this._bufferService.cols&&32!==K.getCodePoint(this._bufferService.cols-1)){const be=H.lines.get(f[1]+1);if((null==be?void 0:be.isWrapped)&&32!==be.getCodePoint(0)){const Ne=this._getWordAt([0,f[1]+1],!1,!1,!0);Ne&&(ge+=Ne.length)}}return{start:ie,length:ge}}}_selectWordAt(f,C){const L=this._getWordAt(f,C);if(L){for(;L.start<0;)L.start+=this._bufferService.cols,f[1]--;this._model.selectionStart=[L.start,f[1]],this._model.selectionStartLength=L.length}}_selectToWordAt(f){const C=this._getWordAt(f,!0);if(C){let L=f[1];for(;C.start<0;)C.start+=this._bufferService.cols,L--;if(!this._model.areSelectionValuesReversed())for(;C.start+C.length>this._bufferService.cols;)C.length-=this._bufferService.cols,L++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?C.start:C.start+C.length,L]}}_isCharWordSeparator(f){return 0!==f.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(f.getChars())>=0}_selectLineAt(f){const C=this._bufferService.buffer.getWrappedRangeForLine(f),L={start:{x:0,y:C.first},end:{x:this._bufferService.cols-1,y:C.last}};this._model.selectionStart=[0,C.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,a.getRangeLength)(L,this._bufferService.cols)}};u.SelectionService=j=v([E(3,x.IBufferService),E(4,x.ICoreService),E(5,D.IMouseService),E(6,x.IOptionsService),E(7,D.IRenderService),E(8,D.ICoreBrowserService)],j)},4725:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ILinkProviderService=u.IThemeService=u.ICharacterJoinerService=u.ISelectionService=u.IRenderService=u.IMouseService=u.ICoreBrowserService=u.ICharSizeService=void 0;const v=m(8343);u.ICharSizeService=(0,v.createDecorator)("CharSizeService"),u.ICoreBrowserService=(0,v.createDecorator)("CoreBrowserService"),u.IMouseService=(0,v.createDecorator)("MouseService"),u.IRenderService=(0,v.createDecorator)("RenderService"),u.ISelectionService=(0,v.createDecorator)("SelectionService"),u.ICharacterJoinerService=(0,v.createDecorator)("CharacterJoinerService"),u.IThemeService=(0,v.createDecorator)("ThemeService"),u.ILinkProviderService=(0,v.createDecorator)("LinkProviderService")},6731:function(y,u,m){var v=this&&this.__decorate||function(j,f,C,L){var R,H=arguments.length,K=H<3?f:null===L?L=Object.getOwnPropertyDescriptor(f,C):L;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(j,f,C,L);else for(var X=j.length-1;X>=0;X--)(R=j[X])&&(K=(H<3?R(K):H>3?R(f,C,K):R(f,C))||K);return H>3&&K&&Object.defineProperty(f,C,K),K},E=this&&this.__param||function(j,f){return function(C,L){f(C,L,j)}};Object.defineProperty(u,"__esModule",{value:!0}),u.ThemeService=u.DEFAULT_ANSI_COLORS=void 0;const h=m(7239),b=m(8055),w=m(8460),D=m(844),_=m(2585),o=b.css.toColor("#ffffff"),d=b.css.toColor("#000000"),a=b.css.toColor("#ffffff"),p=b.css.toColor("#000000"),x={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};u.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const j=[b.css.toColor("#2e3436"),b.css.toColor("#cc0000"),b.css.toColor("#4e9a06"),b.css.toColor("#c4a000"),b.css.toColor("#3465a4"),b.css.toColor("#75507b"),b.css.toColor("#06989a"),b.css.toColor("#d3d7cf"),b.css.toColor("#555753"),b.css.toColor("#ef2929"),b.css.toColor("#8ae234"),b.css.toColor("#fce94f"),b.css.toColor("#729fcf"),b.css.toColor("#ad7fa8"),b.css.toColor("#34e2e2"),b.css.toColor("#eeeeec")],f=[0,95,135,175,215,255];for(let C=0;C<216;C++){const L=f[C/36%6|0],R=f[C/6%6|0],H=f[C%6];j.push({css:b.channels.toCss(L,R,H),rgba:b.channels.toRgba(L,R,H)})}for(let C=0;C<24;C++){const L=8+10*C;j.push({css:b.channels.toCss(L,L,L),rgba:b.channels.toRgba(L,L,L)})}return j})());let P=u.ThemeService=class extends D.Disposable{get colors(){return this._colors}constructor(j){super(),this._optionsService=j,this._contrastCache=new h.ColorContrastCache,this._halfContrastCache=new h.ColorContrastCache,this._onChangeColors=this.register(new w.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:o,background:d,cursor:a,cursorAccent:p,selectionForeground:void 0,selectionBackgroundTransparent:x,selectionBackgroundOpaque:b.color.blend(d,x),selectionInactiveBackgroundTransparent:x,selectionInactiveBackgroundOpaque:b.color.blend(d,x),ansi:u.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(j={}){const f=this._colors;if(f.foreground=N(j.foreground,o),f.background=N(j.background,d),f.cursor=N(j.cursor,a),f.cursorAccent=N(j.cursorAccent,p),f.selectionBackgroundTransparent=N(j.selectionBackground,x),f.selectionBackgroundOpaque=b.color.blend(f.background,f.selectionBackgroundTransparent),f.selectionInactiveBackgroundTransparent=N(j.selectionInactiveBackground,f.selectionBackgroundTransparent),f.selectionInactiveBackgroundOpaque=b.color.blend(f.background,f.selectionInactiveBackgroundTransparent),f.selectionForeground=j.selectionForeground?N(j.selectionForeground,b.NULL_COLOR):void 0,f.selectionForeground===b.NULL_COLOR&&(f.selectionForeground=void 0),b.color.isOpaque(f.selectionBackgroundTransparent)&&(f.selectionBackgroundTransparent=b.color.opacity(f.selectionBackgroundTransparent,.3)),b.color.isOpaque(f.selectionInactiveBackgroundTransparent)&&(f.selectionInactiveBackgroundTransparent=b.color.opacity(f.selectionInactiveBackgroundTransparent,.3)),f.ansi=u.DEFAULT_ANSI_COLORS.slice(),f.ansi[0]=N(j.black,u.DEFAULT_ANSI_COLORS[0]),f.ansi[1]=N(j.red,u.DEFAULT_ANSI_COLORS[1]),f.ansi[2]=N(j.green,u.DEFAULT_ANSI_COLORS[2]),f.ansi[3]=N(j.yellow,u.DEFAULT_ANSI_COLORS[3]),f.ansi[4]=N(j.blue,u.DEFAULT_ANSI_COLORS[4]),f.ansi[5]=N(j.magenta,u.DEFAULT_ANSI_COLORS[5]),f.ansi[6]=N(j.cyan,u.DEFAULT_ANSI_COLORS[6]),f.ansi[7]=N(j.white,u.DEFAULT_ANSI_COLORS[7]),f.ansi[8]=N(j.brightBlack,u.DEFAULT_ANSI_COLORS[8]),f.ansi[9]=N(j.brightRed,u.DEFAULT_ANSI_COLORS[9]),f.ansi[10]=N(j.brightGreen,u.DEFAULT_ANSI_COLORS[10]),f.ansi[11]=N(j.brightYellow,u.DEFAULT_ANSI_COLORS[11]),f.ansi[12]=N(j.brightBlue,u.DEFAULT_ANSI_COLORS[12]),f.ansi[13]=N(j.brightMagenta,u.DEFAULT_ANSI_COLORS[13]),f.ansi[14]=N(j.brightCyan,u.DEFAULT_ANSI_COLORS[14]),f.ansi[15]=N(j.brightWhite,u.DEFAULT_ANSI_COLORS[15]),j.extendedAnsi){const C=Math.min(f.ansi.length-16,j.extendedAnsi.length);for(let L=0;L<C;L++)f.ansi[L+16]=N(j.extendedAnsi[L],u.DEFAULT_ANSI_COLORS[L+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(j){this._restoreColor(j),this._onChangeColors.fire(this.colors)}_restoreColor(j){if(void 0!==j)switch(j){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[j]=this._restoreColors.ansi[j]}else for(let f=0;f<this._restoreColors.ansi.length;++f)this._colors.ansi[f]=this._restoreColors.ansi[f]}modifyColors(j){j(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function N(j,f){if(void 0!==j)try{return b.css.toColor(j)}catch(C){}return f}u.ThemeService=P=v([E(0,_.IOptionsService)],P)},6349:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CircularList=void 0;const v=m(8460),E=m(844);u.CircularList=class h extends E.Disposable{constructor(w){super(),this._maxLength=w,this.onDeleteEmitter=this.register(new v.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new v.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new v.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(w){if(this._maxLength===w)return;const D=new Array(w);for(let _=0;_<Math.min(w,this.length);_++)D[_]=this._array[this._getCyclicIndex(_)];this._array=D,this._maxLength=w,this._startIndex=0}get length(){return this._length}set length(w){if(w>this._length)for(let D=this._length;D<w;D++)this._array[D]=void 0;this._length=w}get(w){return this._array[this._getCyclicIndex(w)]}set(w,D){this._array[this._getCyclicIndex(w)]=D}push(w){this._array[this._getCyclicIndex(this._length)]=w,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(w,D,..._){if(D){for(let o=w;o<this._length-D;o++)this._array[this._getCyclicIndex(o)]=this._array[this._getCyclicIndex(o+D)];this._length-=D,this.onDeleteEmitter.fire({index:w,amount:D})}for(let o=this._length-1;o>=w;o--)this._array[this._getCyclicIndex(o+_.length)]=this._array[this._getCyclicIndex(o)];for(let o=0;o<_.length;o++)this._array[this._getCyclicIndex(w+o)]=_[o];if(_.length&&this.onInsertEmitter.fire({index:w,amount:_.length}),this._length+_.length>this._maxLength){const o=this._length+_.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.onTrimEmitter.fire(o)}else this._length+=_.length}trimStart(w){w>this._length&&(w=this._length),this._startIndex+=w,this._length-=w,this.onTrimEmitter.fire(w)}shiftElements(w,D,_){if(!(D<=0)){if(w<0||w>=this._length)throw new Error("start argument out of range");if(w+_<0)throw new Error("Cannot shift elements in list beyond index 0");if(_>0){for(let d=D-1;d>=0;d--)this.set(w+d+_,this.get(w+d));const o=w+D+_-this._length;if(o>0)for(this._length+=o;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let o=0;o<D;o++)this.set(w+o+_,this.get(w+o))}}_getCyclicIndex(w){return(this._startIndex+w)%this._maxLength}}},1439:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.clone=void 0,u.clone=function m(v,E=5){if("object"!=typeof v)return v;const h=Array.isArray(v)?[]:{};for(const b in v)h[b]=E<=1?v[b]:v[b]&&m(v[b],E-1);return h}},8055:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.contrastRatio=u.toPaddedHex=u.rgba=u.rgb=u.css=u.color=u.channels=u.NULL_COLOR=void 0;const v=m(6114);let E=0,h=0,b=0,w=0;var D,_,o,d,a,P;function p(P){const N=P.toString(16);return N.length<2?"0"+N:N}function x(P,N){return P<N?(N+.05)/(P+.05):(P+.05)/(N+.05)}u.NULL_COLOR={css:"#00000000",rgba:0},(P=D||(u.channels=D={})).toCss=function(N,j,f,C){return void 0!==C?`#${p(N)}${p(j)}${p(f)}${p(C)}`:`#${p(N)}${p(j)}${p(f)}`},P.toRgba=function(N,j,f,C=255){return(N<<24|j<<16|f<<8|C)>>>0},P.toColor=function(N,j,f,C){return{css:P.toCss(N,j,f,C),rgba:P.toRgba(N,j,f,C)}},function(P){function N(j,f){return w=Math.round(255*f),[E,h,b]=a.toChannels(j.rgba),{css:D.toCss(E,h,b,w),rgba:D.toRgba(E,h,b,w)}}P.blend=function(j,f){if(w=(255&f.rgba)/255,1===w)return{css:f.css,rgba:f.rgba};const L=f.rgba>>16&255,R=f.rgba>>8&255,H=j.rgba>>24&255,K=j.rgba>>16&255,X=j.rgba>>8&255;return E=H+Math.round(((f.rgba>>24&255)-H)*w),h=K+Math.round((L-K)*w),b=X+Math.round((R-X)*w),{css:D.toCss(E,h,b),rgba:D.toRgba(E,h,b)}},P.isOpaque=function(j){return 255==(255&j.rgba)},P.ensureContrastRatio=function(j,f,C){const L=a.ensureContrastRatio(j.rgba,f.rgba,C);if(L)return D.toColor(L>>24&255,L>>16&255,L>>8&255)},P.opaque=function(j){const f=(255|j.rgba)>>>0;return[E,h,b]=a.toChannels(f),{css:D.toCss(E,h,b),rgba:f}},P.opacity=N,P.multiplyOpacity=function(j,f){return w=255&j.rgba,N(j,w*f/255)},P.toColorRGB=function(j){return[j.rgba>>24&255,j.rgba>>16&255,j.rgba>>8&255]}}(_||(u.color=_={})),function(P){let N,j;if(!v.isNode){const f=document.createElement("canvas");f.width=1,f.height=1;const C=f.getContext("2d",{willReadFrequently:!0});C&&(N=C,N.globalCompositeOperation="copy",j=N.createLinearGradient(0,0,1,1))}P.toColor=function(f){if(f.match(/#[\da-f]{3,8}/i))switch(f.length){case 4:return E=parseInt(f.slice(1,2).repeat(2),16),h=parseInt(f.slice(2,3).repeat(2),16),b=parseInt(f.slice(3,4).repeat(2),16),D.toColor(E,h,b);case 5:return E=parseInt(f.slice(1,2).repeat(2),16),h=parseInt(f.slice(2,3).repeat(2),16),b=parseInt(f.slice(3,4).repeat(2),16),w=parseInt(f.slice(4,5).repeat(2),16),D.toColor(E,h,b,w);case 7:return{css:f,rgba:(parseInt(f.slice(1),16)<<8|255)>>>0};case 9:return{css:f,rgba:parseInt(f.slice(1),16)>>>0}}const C=f.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(C)return E=parseInt(C[1]),h=parseInt(C[2]),b=parseInt(C[3]),w=Math.round(255*(void 0===C[5]?1:parseFloat(C[5]))),D.toColor(E,h,b,w);if(!N||!j)throw new Error("css.toColor: Unsupported css format");if(N.fillStyle=j,N.fillStyle=f,"string"!=typeof N.fillStyle)throw new Error("css.toColor: Unsupported css format");if(N.fillRect(0,0,1,1),[E,h,b,w]=N.getImageData(0,0,1,1).data,255!==w)throw new Error("css.toColor: Unsupported css format");return{rgba:D.toRgba(E,h,b,w),css:f}}}(o||(u.css=o={})),function(P){function N(j,f,C){const L=j/255,R=f/255,H=C/255;return.2126*(L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4))+.7152*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))+.0722*(H<=.03928?H/12.92:Math.pow((H+.055)/1.055,2.4))}P.relativeLuminance=function(j){return N(j>>16&255,j>>8&255,255&j)},P.relativeLuminance2=N}(d||(u.rgb=d={})),function(P){function N(f,C,L){const R=f>>24&255,H=f>>16&255,K=f>>8&255;let X=C>>24&255,oe=C>>16&255,ae=C>>8&255,Me=x(d.relativeLuminance2(X,oe,ae),d.relativeLuminance2(R,H,K));for(;Me<L&&(X>0||oe>0||ae>0);)X-=Math.max(0,Math.ceil(.1*X)),oe-=Math.max(0,Math.ceil(.1*oe)),ae-=Math.max(0,Math.ceil(.1*ae)),Me=x(d.relativeLuminance2(X,oe,ae),d.relativeLuminance2(R,H,K));return(X<<24|oe<<16|ae<<8|255)>>>0}function j(f,C,L){const R=f>>24&255,H=f>>16&255,K=f>>8&255;let X=C>>24&255,oe=C>>16&255,ae=C>>8&255,Me=x(d.relativeLuminance2(X,oe,ae),d.relativeLuminance2(R,H,K));for(;Me<L&&(X<255||oe<255||ae<255);)X=Math.min(255,X+Math.ceil(.1*(255-X))),oe=Math.min(255,oe+Math.ceil(.1*(255-oe))),ae=Math.min(255,ae+Math.ceil(.1*(255-ae))),Me=x(d.relativeLuminance2(X,oe,ae),d.relativeLuminance2(R,H,K));return(X<<24|oe<<16|ae<<8|255)>>>0}P.blend=function(f,C){if(w=(255&C)/255,1===w)return C;const R=C>>16&255,H=C>>8&255,K=f>>24&255,X=f>>16&255,oe=f>>8&255;return E=K+Math.round(((C>>24&255)-K)*w),h=X+Math.round((R-X)*w),b=oe+Math.round((H-oe)*w),D.toRgba(E,h,b)},P.ensureContrastRatio=function(f,C,L){const R=d.relativeLuminance(f>>8),H=d.relativeLuminance(C>>8);if(x(R,H)<L){if(H<R){const oe=N(f,C,L),ae=x(R,d.relativeLuminance(oe>>8));if(ae<L){const Me=j(f,C,L);return ae>x(R,d.relativeLuminance(Me>>8))?oe:Me}return oe}const K=j(f,C,L),X=x(R,d.relativeLuminance(K>>8));if(X<L){const oe=N(f,C,L);return X>x(R,d.relativeLuminance(oe>>8))?K:oe}return K}},P.reduceLuminance=N,P.increaseLuminance=j,P.toChannels=function(f){return[f>>24&255,f>>16&255,f>>8&255,255&f]}}(a||(u.rgba=a={})),u.toPaddedHex=p,u.contrastRatio=x},8969:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CoreTerminal=void 0;const v=m(844),E=m(2585),h=m(4348),b=m(7866),w=m(744),D=m(7302),_=m(6975),o=m(8460),d=m(1753),a=m(1480),p=m(7994),x=m(9282),P=m(5435),N=m(5981),j=m(2660);let f=!1;u.CoreTerminal=class C extends v.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new o.EventEmitter),this._onScroll.event(R=>{var H;null==(H=this._onScrollApi)||H.fire(R.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(R){for(const H in R)this.optionsService.options[H]=R[H]}constructor(R){super(),this._windowsWrappingHeuristics=this.register(new v.MutableDisposable),this._onBinary=this.register(new o.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new o.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new o.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new o.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new o.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new o.EventEmitter),this._instantiationService=new h.InstantiationService,this.optionsService=this.register(new D.OptionsService(R)),this._instantiationService.setService(E.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(w.BufferService)),this._instantiationService.setService(E.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(b.LogService)),this._instantiationService.setService(E.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(_.CoreService)),this._instantiationService.setService(E.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(d.CoreMouseService)),this._instantiationService.setService(E.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(a.UnicodeService)),this._instantiationService.setService(E.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(p.CharsetService),this._instantiationService.setService(E.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(j.OscLinkService),this._instantiationService.setService(E.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new P.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,o.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,o.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,o.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,o.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(H=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(H=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new N.WriteBuffer((H,K)=>this._inputHandler.parse(H,K))),this.register((0,o.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(R,H){this._writeBuffer.write(R,H)}writeSync(R,H){this._logService.logLevel<=E.LogLevelEnum.WARN&&!f&&(this._logService.warn("writeSync is unreliable and will be removed soon."),f=!0),this._writeBuffer.writeSync(R,H)}input(R,H=!0){this.coreService.triggerDataEvent(R,H)}resize(R,H){isNaN(R)||isNaN(H)||(R=Math.max(R,w.MINIMUM_COLS),H=Math.max(H,w.MINIMUM_ROWS),this._bufferService.resize(R,H))}scroll(R,H=!1){this._bufferService.scroll(R,H)}scrollLines(R,H,K){this._bufferService.scrollLines(R,H,K)}scrollPages(R){this.scrollLines(R*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(R){const H=R-this._bufferService.buffer.ydisp;0!==H&&this.scrollLines(H)}registerEscHandler(R,H){return this._inputHandler.registerEscHandler(R,H)}registerDcsHandler(R,H){return this._inputHandler.registerDcsHandler(R,H)}registerCsiHandler(R,H){return this._inputHandler.registerCsiHandler(R,H)}registerOscHandler(R,H){return this._inputHandler.registerOscHandler(R,H)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let R=!1;const H=this.optionsService.rawOptions.windowsPty;H&&void 0!==H.buildNumber&&void 0!==H.buildNumber?R="conpty"===H.backend&&H.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(R=!0),R?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const R=[];R.push(this.onLineFeed(x.updateWindowsModeWrappedState.bind(null,this._bufferService))),R.push(this.registerCsiHandler({final:"H"},()=>((0,x.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,v.toDisposable)(()=>{for(const H of R)H.dispose()})}}}},8460:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.runAndSubscribe=u.forwardEvent=u.EventEmitter=void 0,u.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=m=>(this._listeners.push(m),{dispose:()=>{if(!this._disposed)for(let v=0;v<this._listeners.length;v++)if(this._listeners[v]===m)return void this._listeners.splice(v,1)}})),this._event}fire(m,v){const E=[];for(let h=0;h<this._listeners.length;h++)E.push(this._listeners[h]);for(let h=0;h<E.length;h++)E[h].call(void 0,m,v)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},u.forwardEvent=function(m,v){return m(E=>v.fire(E))},u.runAndSubscribe=function(m,v){return v(void 0),m(E=>v(E))}},5435:function(y,u,m){var v=this&&this.__decorate||function(Ce,Z,q,Q){var ie,ge=arguments.length,be=ge<3?Z:null===Q?Q=Object.getOwnPropertyDescriptor(Z,q):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)be=Reflect.decorate(Ce,Z,q,Q);else for(var Ne=Ce.length-1;Ne>=0;Ne--)(ie=Ce[Ne])&&(be=(ge<3?ie(be):ge>3?ie(Z,q,be):ie(Z,q))||be);return ge>3&&be&&Object.defineProperty(Z,q,be),be},E=this&&this.__param||function(Ce,Z){return function(q,Q){Z(q,Q,Ce)}};Object.defineProperty(u,"__esModule",{value:!0}),u.InputHandler=u.WindowsOptionsReportType=void 0;const h=m(2584),b=m(7116),w=m(2015),D=m(844),_=m(482),o=m(8437),d=m(8460),a=m(643),p=m(511),x=m(3734),P=m(2585),N=m(1480),j=m(6242),f=m(6351),C=m(5941),L={"(":0,")":1,"*":2,"+":3,"-":1,".":2},R=131072;function H(Ce,Z){if(Ce>24)return Z.setWinLines||!1;switch(Ce){case 1:return!!Z.restoreWin;case 2:return!!Z.minimizeWin;case 3:return!!Z.setWinPosition;case 4:return!!Z.setWinSizePixels;case 5:return!!Z.raiseWin;case 6:return!!Z.lowerWin;case 7:return!!Z.refreshWin;case 8:return!!Z.setWinSizeChars;case 9:return!!Z.maximizeWin;case 10:return!!Z.fullscreenWin;case 11:return!!Z.getWinState;case 13:return!!Z.getWinPosition;case 14:return!!Z.getWinSizePixels;case 15:return!!Z.getScreenSizePixels;case 16:return!!Z.getCellSizePixels;case 18:return!!Z.getWinSizeChars;case 19:return!!Z.getScreenSizeChars;case 20:return!!Z.getIconTitle;case 21:return!!Z.getWinTitle;case 22:return!!Z.pushTitle;case 23:return!!Z.popTitle;case 24:return!!Z.setWinLines}return!1}var K,Ce;(Ce=K||(u.WindowsOptionsReportType=K={}))[Ce.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",Ce[Ce.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";let X=0;u.InputHandler=class oe extends D.Disposable{getAttrData(){return this._curAttrData}constructor(Z,q,Q,ie,ge,be,Ne,Ye,me=new w.EscapeSequenceParser){super(),this._bufferService=Z,this._charsetService=q,this._coreService=Q,this._logService=ie,this._optionsService=ge,this._oscLinkService=be,this._coreMouseService=Ne,this._unicodeService=Ye,this._parser=me,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new _.StringToUtf32,this._utf8Decoder=new _.Utf8ToUtf32,this._workCell=new p.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=o.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new d.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new d.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new d.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new d.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new d.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new d.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new d.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new d.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new d.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new d.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new d.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new ae(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(ne=>this._activeBuffer=ne.activeBuffer)),this._parser.setCsiHandlerFallback((ne,Ie)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(ne),params:Ie.toArray()})}),this._parser.setEscHandlerFallback(ne=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(ne)})}),this._parser.setExecuteHandlerFallback(ne=>{this._logService.debug("Unknown EXECUTE code: ",{code:ne})}),this._parser.setOscHandlerFallback((ne,Ie,Pe)=>{this._logService.debug("Unknown OSC code: ",{identifier:ne,action:Ie,data:Pe})}),this._parser.setDcsHandlerFallback((ne,Ie,Pe)=>{"HOOK"===Ie&&(Pe=Pe.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(ne),action:Ie,payload:Pe})}),this._parser.setPrintHandler((ne,Ie,Pe)=>this.print(ne,Ie,Pe)),this._parser.registerCsiHandler({final:"@"},ne=>this.insertChars(ne)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},ne=>this.scrollLeft(ne)),this._parser.registerCsiHandler({final:"A"},ne=>this.cursorUp(ne)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},ne=>this.scrollRight(ne)),this._parser.registerCsiHandler({final:"B"},ne=>this.cursorDown(ne)),this._parser.registerCsiHandler({final:"C"},ne=>this.cursorForward(ne)),this._parser.registerCsiHandler({final:"D"},ne=>this.cursorBackward(ne)),this._parser.registerCsiHandler({final:"E"},ne=>this.cursorNextLine(ne)),this._parser.registerCsiHandler({final:"F"},ne=>this.cursorPrecedingLine(ne)),this._parser.registerCsiHandler({final:"G"},ne=>this.cursorCharAbsolute(ne)),this._parser.registerCsiHandler({final:"H"},ne=>this.cursorPosition(ne)),this._parser.registerCsiHandler({final:"I"},ne=>this.cursorForwardTab(ne)),this._parser.registerCsiHandler({final:"J"},ne=>this.eraseInDisplay(ne,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},ne=>this.eraseInDisplay(ne,!0)),this._parser.registerCsiHandler({final:"K"},ne=>this.eraseInLine(ne,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},ne=>this.eraseInLine(ne,!0)),this._parser.registerCsiHandler({final:"L"},ne=>this.insertLines(ne)),this._parser.registerCsiHandler({final:"M"},ne=>this.deleteLines(ne)),this._parser.registerCsiHandler({final:"P"},ne=>this.deleteChars(ne)),this._parser.registerCsiHandler({final:"S"},ne=>this.scrollUp(ne)),this._parser.registerCsiHandler({final:"T"},ne=>this.scrollDown(ne)),this._parser.registerCsiHandler({final:"X"},ne=>this.eraseChars(ne)),this._parser.registerCsiHandler({final:"Z"},ne=>this.cursorBackwardTab(ne)),this._parser.registerCsiHandler({final:"`"},ne=>this.charPosAbsolute(ne)),this._parser.registerCsiHandler({final:"a"},ne=>this.hPositionRelative(ne)),this._parser.registerCsiHandler({final:"b"},ne=>this.repeatPrecedingCharacter(ne)),this._parser.registerCsiHandler({final:"c"},ne=>this.sendDeviceAttributesPrimary(ne)),this._parser.registerCsiHandler({prefix:">",final:"c"},ne=>this.sendDeviceAttributesSecondary(ne)),this._parser.registerCsiHandler({final:"d"},ne=>this.linePosAbsolute(ne)),this._parser.registerCsiHandler({final:"e"},ne=>this.vPositionRelative(ne)),this._parser.registerCsiHandler({final:"f"},ne=>this.hVPosition(ne)),this._parser.registerCsiHandler({final:"g"},ne=>this.tabClear(ne)),this._parser.registerCsiHandler({final:"h"},ne=>this.setMode(ne)),this._parser.registerCsiHandler({prefix:"?",final:"h"},ne=>this.setModePrivate(ne)),this._parser.registerCsiHandler({final:"l"},ne=>this.resetMode(ne)),this._parser.registerCsiHandler({prefix:"?",final:"l"},ne=>this.resetModePrivate(ne)),this._parser.registerCsiHandler({final:"m"},ne=>this.charAttributes(ne)),this._parser.registerCsiHandler({final:"n"},ne=>this.deviceStatus(ne)),this._parser.registerCsiHandler({prefix:"?",final:"n"},ne=>this.deviceStatusPrivate(ne)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},ne=>this.softReset(ne)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},ne=>this.setCursorStyle(ne)),this._parser.registerCsiHandler({final:"r"},ne=>this.setScrollRegion(ne)),this._parser.registerCsiHandler({final:"s"},ne=>this.saveCursor(ne)),this._parser.registerCsiHandler({final:"t"},ne=>this.windowOptions(ne)),this._parser.registerCsiHandler({final:"u"},ne=>this.restoreCursor(ne)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},ne=>this.insertColumns(ne)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},ne=>this.deleteColumns(ne)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},ne=>this.selectProtected(ne)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},ne=>this.requestMode(ne,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},ne=>this.requestMode(ne,!1)),this._parser.setExecuteHandler(h.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(h.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(h.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(h.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(h.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(h.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(h.C1.IND,()=>this.index()),this._parser.setExecuteHandler(h.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(h.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new j.OscHandler(ne=>(this.setTitle(ne),this.setIconName(ne),!0))),this._parser.registerOscHandler(1,new j.OscHandler(ne=>this.setIconName(ne))),this._parser.registerOscHandler(2,new j.OscHandler(ne=>this.setTitle(ne))),this._parser.registerOscHandler(4,new j.OscHandler(ne=>this.setOrReportIndexedColor(ne))),this._parser.registerOscHandler(8,new j.OscHandler(ne=>this.setHyperlink(ne))),this._parser.registerOscHandler(10,new j.OscHandler(ne=>this.setOrReportFgColor(ne))),this._parser.registerOscHandler(11,new j.OscHandler(ne=>this.setOrReportBgColor(ne))),this._parser.registerOscHandler(12,new j.OscHandler(ne=>this.setOrReportCursorColor(ne))),this._parser.registerOscHandler(104,new j.OscHandler(ne=>this.restoreIndexedColor(ne))),this._parser.registerOscHandler(110,new j.OscHandler(ne=>this.restoreFgColor(ne))),this._parser.registerOscHandler(111,new j.OscHandler(ne=>this.restoreBgColor(ne))),this._parser.registerOscHandler(112,new j.OscHandler(ne=>this.restoreCursorColor(ne))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const ne in b.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:ne},()=>this.selectCharset("("+ne)),this._parser.registerEscHandler({intermediates:")",final:ne},()=>this.selectCharset(")"+ne)),this._parser.registerEscHandler({intermediates:"*",final:ne},()=>this.selectCharset("*"+ne)),this._parser.registerEscHandler({intermediates:"+",final:ne},()=>this.selectCharset("+"+ne)),this._parser.registerEscHandler({intermediates:"-",final:ne},()=>this.selectCharset("-"+ne)),this._parser.registerEscHandler({intermediates:".",final:ne},()=>this.selectCharset("."+ne)),this._parser.registerEscHandler({intermediates:"/",final:ne},()=>this.selectCharset("/"+ne));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(ne=>(this._logService.error("Parsing error: ",ne),ne)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new f.DcsHandler((ne,Ie)=>this.requestStatusString(ne,Ie)))}_preserveStack(Z,q,Q,ie){this._parseStack.paused=!0,this._parseStack.cursorStartX=Z,this._parseStack.cursorStartY=q,this._parseStack.decodedLength=Q,this._parseStack.position=ie}_logSlowResolvingAsync(Z){this._logService.logLevel<=P.LogLevelEnum.WARN&&Promise.race([Z,new Promise((q,Q)=>setTimeout(()=>Q("#SLOW_TIMEOUT"),5e3))]).catch(q=>{if("#SLOW_TIMEOUT"!==q)throw q;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(Z,q){let Q,ie=this._activeBuffer.x,ge=this._activeBuffer.y,be=0;const Ne=this._parseStack.paused;if(Ne){if(Q=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,q))return this._logSlowResolvingAsync(Q),Q;ie=this._parseStack.cursorStartX,ge=this._parseStack.cursorStartY,this._parseStack.paused=!1,Z.length>R&&(be=this._parseStack.position+R)}if(this._logService.logLevel<=P.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof Z?` "${Z}"`:` "${Array.prototype.map.call(Z,ne=>String.fromCharCode(ne)).join("")}"`),"string"==typeof Z?Z.split("").map(ne=>ne.charCodeAt(0)):Z),this._parseBuffer.length<Z.length&&this._parseBuffer.length<R&&(this._parseBuffer=new Uint32Array(Math.min(Z.length,R))),Ne||this._dirtyRowTracker.clearRange(),Z.length>R)for(let ne=be;ne<Z.length;ne+=R){const Ie=ne+R<Z.length?ne+R:Z.length,Pe="string"==typeof Z?this._stringDecoder.decode(Z.substring(ne,Ie),this._parseBuffer):this._utf8Decoder.decode(Z.subarray(ne,Ie),this._parseBuffer);if(Q=this._parser.parse(this._parseBuffer,Pe))return this._preserveStack(ie,ge,Pe,ne),this._logSlowResolvingAsync(Q),Q}else if(!Ne){const ne="string"==typeof Z?this._stringDecoder.decode(Z,this._parseBuffer):this._utf8Decoder.decode(Z,this._parseBuffer);if(Q=this._parser.parse(this._parseBuffer,ne))return this._preserveStack(ie,ge,ne,0),this._logSlowResolvingAsync(Q),Q}this._activeBuffer.x===ie&&this._activeBuffer.y===ge||this._onCursorMove.fire();const Ye=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),me=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);me<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(me,this._bufferService.rows-1),Math.min(Ye,this._bufferService.rows-1))}print(Z,q,Q){let ie,ge;const be=this._charsetService.charset,Ne=this._optionsService.rawOptions.screenReaderMode,Ye=this._bufferService.cols,me=this._coreService.decPrivateModes.wraparound,ne=this._coreService.modes.insertMode,Ie=this._curAttrData;let Pe=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&Q-q>0&&2===Pe.getWidth(this._activeBuffer.x-1)&&Pe.setCellFromCodepoint(this._activeBuffer.x-1,0,1,Ie);let Je=this._parser.precedingJoinState;for(let je=q;je<Q;++je){if(ie=Z[je],ie<127&&be){const dt=be[String.fromCharCode(ie)];dt&&(ie=dt.charCodeAt(0))}const _t=this._unicodeService.charProperties(ie,Je);ge=N.UnicodeService.extractWidth(_t);const gt=N.UnicodeService.extractShouldJoin(_t),Ct=gt?N.UnicodeService.extractWidth(Je):0;if(Je=_t,Ne&&this._onA11yChar.fire((0,_.stringFromCodePoint)(ie)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+ge-Ct>Ye)if(me){const dt=Pe;let at=this._activeBuffer.x-Ct;for(this._activeBuffer.x=Ct,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Pe=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Ct>0&&Pe instanceof o.BufferLine&&Pe.copyCellsFrom(dt,at,0,Ct,!1);at<Ye;)dt.setCellFromCodepoint(at++,0,1,Ie)}else if(this._activeBuffer.x=Ye-1,2===ge)continue;if(gt&&this._activeBuffer.x){const dt=Pe.getWidth(this._activeBuffer.x-1)?1:2;Pe.addCodepointToCell(this._activeBuffer.x-dt,ie,ge);for(let at=ge-Ct;--at>=0;)Pe.setCellFromCodepoint(this._activeBuffer.x++,0,0,Ie)}else if(ne&&(Pe.insertCells(this._activeBuffer.x,ge-Ct,this._activeBuffer.getNullCell(Ie)),2===Pe.getWidth(Ye-1)&&Pe.setCellFromCodepoint(Ye-1,a.NULL_CELL_CODE,a.NULL_CELL_WIDTH,Ie)),Pe.setCellFromCodepoint(this._activeBuffer.x++,ie,ge,Ie),ge>0)for(;--ge;)Pe.setCellFromCodepoint(this._activeBuffer.x++,0,0,Ie)}this._parser.precedingJoinState=Je,this._activeBuffer.x<Ye&&Q-q>0&&0===Pe.getWidth(this._activeBuffer.x)&&!Pe.hasContent(this._activeBuffer.x)&&Pe.setCellFromCodepoint(this._activeBuffer.x,0,1,Ie),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(Z,q){return this._parser.registerCsiHandler(Z,"t"!==Z.final||Z.prefix||Z.intermediates?q:Q=>!H(Q.params[0],this._optionsService.rawOptions.windowOptions)||q(Q))}registerDcsHandler(Z,q){return this._parser.registerDcsHandler(Z,new f.DcsHandler(q))}registerEscHandler(Z,q){return this._parser.registerEscHandler(Z,q)}registerOscHandler(Z,q){return this._parser.registerOscHandler(Z,new j.OscHandler(q))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var Z;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null==(Z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))?void 0:Z.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);q.hasWidth(this._activeBuffer.x)&&!q.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const Z=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-Z),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(Z=this._bufferService.cols-1){this._activeBuffer.x=Math.min(Z,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(Z,q){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=Z,this._activeBuffer.y=this._activeBuffer.scrollTop+q):(this._activeBuffer.x=Z,this._activeBuffer.y=q),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(Z,q){this._restrictCursor(),this._setCursor(this._activeBuffer.x+Z,this._activeBuffer.y+q)}cursorUp(Z){const q=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,q>=0?-Math.min(q,Z.params[0]||1):-(Z.params[0]||1)),!0}cursorDown(Z){const q=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,q>=0?Math.min(q,Z.params[0]||1):Z.params[0]||1),!0}cursorForward(Z){return this._moveCursor(Z.params[0]||1,0),!0}cursorBackward(Z){return this._moveCursor(-(Z.params[0]||1),0),!0}cursorNextLine(Z){return this.cursorDown(Z),this._activeBuffer.x=0,!0}cursorPrecedingLine(Z){return this.cursorUp(Z),this._activeBuffer.x=0,!0}cursorCharAbsolute(Z){return this._setCursor((Z.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(Z){return this._setCursor(Z.length>=2?(Z.params[1]||1)-1:0,(Z.params[0]||1)-1),!0}charPosAbsolute(Z){return this._setCursor((Z.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(Z){return this._moveCursor(Z.params[0]||1,0),!0}linePosAbsolute(Z){return this._setCursor(this._activeBuffer.x,(Z.params[0]||1)-1),!0}vPositionRelative(Z){return this._moveCursor(0,Z.params[0]||1),!0}hVPosition(Z){return this.cursorPosition(Z),!0}tabClear(Z){const q=Z.params[0];return 0===q?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===q&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(Z){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let q=Z.params[0]||1;for(;q--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(Z){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let q=Z.params[0]||1;for(;q--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(Z){const q=Z.params[0];return 1===q&&(this._curAttrData.bg|=536870912),2!==q&&0!==q||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(Z,q,Q,ie=!1,ge=!1){const be=this._activeBuffer.lines.get(this._activeBuffer.ybase+Z);be.replaceCells(q,Q,this._activeBuffer.getNullCell(this._eraseAttrData()),ge),ie&&(be.isWrapped=!1)}_resetBufferLine(Z,q=!1){const Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+Z);Q&&(Q.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),q),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+Z),Q.isWrapped=!1)}eraseInDisplay(Z,q=!1){let Q;switch(this._restrictCursor(this._bufferService.cols),Z.params[0]){case 0:for(Q=this._activeBuffer.y,this._dirtyRowTracker.markDirty(Q),this._eraseInBufferLine(Q++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,q);Q<this._bufferService.rows;Q++)this._resetBufferLine(Q,q);this._dirtyRowTracker.markDirty(Q);break;case 1:for(Q=this._activeBuffer.y,this._dirtyRowTracker.markDirty(Q),this._eraseInBufferLine(Q,0,this._activeBuffer.x+1,!0,q),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(Q+1).isWrapped=!1);Q--;)this._resetBufferLine(Q,q);this._dirtyRowTracker.markDirty(0);break;case 2:for(Q=this._bufferService.rows,this._dirtyRowTracker.markDirty(Q-1);Q--;)this._resetBufferLine(Q,q);this._dirtyRowTracker.markDirty(0);break;case 3:const ie=this._activeBuffer.lines.length-this._bufferService.rows;ie>0&&(this._activeBuffer.lines.trimStart(ie),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-ie,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-ie,0),this._onScroll.fire(0))}return!0}eraseInLine(Z,q=!1){switch(this._restrictCursor(this._bufferService.cols),Z.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,q);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,q);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,q)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(Z){this._restrictCursor();let q=Z.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const Q=this._activeBuffer.ybase+this._activeBuffer.y,ge=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;for(;q--;)this._activeBuffer.lines.splice(ge-1,1),this._activeBuffer.lines.splice(Q,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(Z){this._restrictCursor();let q=Z.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const Q=this._activeBuffer.ybase+this._activeBuffer.y;let ie;for(ie=this._bufferService.rows-1-this._activeBuffer.scrollBottom,ie=this._bufferService.rows-1+this._activeBuffer.ybase-ie;q--;)this._activeBuffer.lines.splice(Q,1),this._activeBuffer.lines.splice(ie,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(Z){this._restrictCursor();const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return q&&(q.insertCells(this._activeBuffer.x,Z.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(Z){this._restrictCursor();const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return q&&(q.deleteCells(this._activeBuffer.x,Z.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(Z){let q=Z.params[0]||1;for(;q--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(Z){let q=Z.params[0]||1;for(;q--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(o.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(Z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const q=Z.params[0]||1;for(let Q=this._activeBuffer.scrollTop;Q<=this._activeBuffer.scrollBottom;++Q){const ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+Q);ie.deleteCells(0,q,this._activeBuffer.getNullCell(this._eraseAttrData())),ie.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(Z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const q=Z.params[0]||1;for(let Q=this._activeBuffer.scrollTop;Q<=this._activeBuffer.scrollBottom;++Q){const ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+Q);ie.insertCells(0,q,this._activeBuffer.getNullCell(this._eraseAttrData())),ie.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(Z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const q=Z.params[0]||1;for(let Q=this._activeBuffer.scrollTop;Q<=this._activeBuffer.scrollBottom;++Q){const ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+Q);ie.insertCells(this._activeBuffer.x,q,this._activeBuffer.getNullCell(this._eraseAttrData())),ie.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(Z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const q=Z.params[0]||1;for(let Q=this._activeBuffer.scrollTop;Q<=this._activeBuffer.scrollBottom;++Q){const ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+Q);ie.deleteCells(this._activeBuffer.x,q,this._activeBuffer.getNullCell(this._eraseAttrData())),ie.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(Z){this._restrictCursor();const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return q&&(q.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(Z.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(Z){const q=this._parser.precedingJoinState;if(!q)return!0;const Q=Z.params[0]||1,ie=N.UnicodeService.extractWidth(q),ge=this._activeBuffer.x-ie,be=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(ge),Ne=new Uint32Array(be.length*Q);let Ye=0;for(let ne=0;ne<be.length;){const Ie=be.codePointAt(ne)||0;Ne[Ye++]=Ie,ne+=Ie>65535?2:1}let me=Ye;for(let ne=1;ne<Q;++ne)Ne.copyWithin(me,0,Ye),me+=Ye;return this.print(Ne,0,me),!0}sendDeviceAttributesPrimary(Z){return Z.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(Z){return Z.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(Z.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0}_is(Z){return 0===(this._optionsService.rawOptions.termName+"").indexOf(Z)}setMode(Z){for(let q=0;q<Z.length;q++)switch(Z.params[q]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(Z){for(let q=0;q<Z.length;q++)switch(Z.params[q]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,b.DEFAULT_CHARSET),this._charsetService.setgCharset(1,b.DEFAULT_CHARSET),this._charsetService.setgCharset(2,b.DEFAULT_CHARSET),this._charsetService.setgCharset(3,b.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(Z){for(let q=0;q<Z.length;q++)switch(Z.params[q]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(Z){for(let q=0;q<Z.length;q++)switch(Z.params[q]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===Z.params[q]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(Z,q){const Q=this._coreService.decPrivateModes,{activeProtocol:ie,activeEncoding:ge}=this._coreMouseService,be=this._coreService,{buffers:Ne,cols:Ye}=this._bufferService,{active:me,alt:ne}=Ne,Ie=this._optionsService.rawOptions,Pe=gt=>gt?1:2,Je=Z.params[0];return je=Je,_t=q?2===Je?4:4===Je?Pe(be.modes.insertMode):12===Je?3:20===Je?Pe(Ie.convertEol):0:1===Je?Pe(Q.applicationCursorKeys):3===Je?Ie.windowOptions.setWinLines?80===Ye?2:132===Ye?1:0:0:6===Je?Pe(Q.origin):7===Je?Pe(Q.wraparound):8===Je?3:9===Je?Pe("X10"===ie):12===Je?Pe(Ie.cursorBlink):25===Je?Pe(!be.isCursorHidden):45===Je?Pe(Q.reverseWraparound):66===Je?Pe(Q.applicationKeypad):67===Je?4:1e3===Je?Pe("VT200"===ie):1002===Je?Pe("DRAG"===ie):1003===Je?Pe("ANY"===ie):1004===Je?Pe(Q.sendFocus):1005===Je?4:1006===Je?Pe("SGR"===ge):1015===Je?4:1016===Je?Pe("SGR_PIXELS"===ge):1048===Je?1:47===Je||1047===Je||1049===Je?Pe(me===ne):2004===Je?Pe(Q.bracketedPasteMode):0,be.triggerDataEvent(`${h.C0.ESC}[${q?"":"?"}${je};${_t}$y`),!0;var je,_t}_updateAttrColor(Z,q,Q,ie,ge){return 2===q?(Z|=50331648,Z&=-16777216,Z|=x.AttributeData.fromColorRGB([Q,ie,ge])):5===q&&(Z&=-50331904,Z|=33554432|255&Q),Z}_extractColor(Z,q,Q){const ie=[0,0,-1,0,0,0];let ge=0,be=0;do{if(ie[be+ge]=Z.params[q+be],Z.hasSubParams(q+be)){const Ne=Z.getSubParams(q+be);let Ye=0;do{5===ie[1]&&(ge=1),ie[be+Ye+1+ge]=Ne[Ye]}while(++Ye<Ne.length&&Ye+be+1+ge<ie.length);break}if(5===ie[1]&&be+ge>=2||2===ie[1]&&be+ge>=5)break;ie[1]&&(ge=1)}while(++be+q<Z.length&&be+ge<ie.length);for(let Ne=2;Ne<ie.length;++Ne)-1===ie[Ne]&&(ie[Ne]=0);switch(ie[0]){case 38:Q.fg=this._updateAttrColor(Q.fg,ie[1],ie[3],ie[4],ie[5]);break;case 48:Q.bg=this._updateAttrColor(Q.bg,ie[1],ie[3],ie[4],ie[5]);break;case 58:Q.extended=Q.extended.clone(),Q.extended.underlineColor=this._updateAttrColor(Q.extended.underlineColor,ie[1],ie[3],ie[4],ie[5])}return be}_processUnderline(Z,q){q.extended=q.extended.clone(),(!~Z||Z>5)&&(Z=1),q.extended.underlineStyle=Z,q.fg|=268435456,0===Z&&(q.fg&=-268435457),q.updateExtended()}_processSGR0(Z){Z.fg=o.DEFAULT_ATTR_DATA.fg,Z.bg=o.DEFAULT_ATTR_DATA.bg,Z.extended=Z.extended.clone(),Z.extended.underlineStyle=0,Z.extended.underlineColor&=-67108864,Z.updateExtended()}charAttributes(Z){if(1===Z.length&&0===Z.params[0])return this._processSGR0(this._curAttrData),!0;const q=Z.length;let Q;const ie=this._curAttrData;for(let ge=0;ge<q;ge++)Q=Z.params[ge],Q>=30&&Q<=37?(ie.fg&=-50331904,ie.fg|=16777216|Q-30):Q>=40&&Q<=47?(ie.bg&=-50331904,ie.bg|=16777216|Q-40):Q>=90&&Q<=97?(ie.fg&=-50331904,ie.fg|=16777224|Q-90):Q>=100&&Q<=107?(ie.bg&=-50331904,ie.bg|=16777224|Q-100):0===Q?this._processSGR0(ie):1===Q?ie.fg|=134217728:3===Q?ie.bg|=67108864:4===Q?(ie.fg|=268435456,this._processUnderline(Z.hasSubParams(ge)?Z.getSubParams(ge)[0]:1,ie)):5===Q?ie.fg|=536870912:7===Q?ie.fg|=67108864:8===Q?ie.fg|=1073741824:9===Q?ie.fg|=2147483648:2===Q?ie.bg|=134217728:21===Q?this._processUnderline(2,ie):22===Q?(ie.fg&=-134217729,ie.bg&=-134217729):23===Q?ie.bg&=-67108865:24===Q?(ie.fg&=-268435457,this._processUnderline(0,ie)):25===Q?ie.fg&=-536870913:27===Q?ie.fg&=-67108865:28===Q?ie.fg&=-1073741825:29===Q?ie.fg&=2147483647:39===Q?(ie.fg&=-67108864,ie.fg|=16777215&o.DEFAULT_ATTR_DATA.fg):49===Q?(ie.bg&=-67108864,ie.bg|=16777215&o.DEFAULT_ATTR_DATA.bg):38===Q||48===Q||58===Q?ge+=this._extractColor(Z,ge,ie):53===Q?ie.bg|=1073741824:55===Q?ie.bg&=-1073741825:59===Q?(ie.extended=ie.extended.clone(),ie.extended.underlineColor=-1,ie.updateExtended()):100===Q?(ie.fg&=-67108864,ie.fg|=16777215&o.DEFAULT_ATTR_DATA.fg,ie.bg&=-67108864,ie.bg|=16777215&o.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",Q);return!0}deviceStatus(Z){switch(Z.params[0]){case 5:this._coreService.triggerDataEvent(`${h.C0.ESC}[0n`);break;case 6:this._coreService.triggerDataEvent(`${h.C0.ESC}[${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`)}return!0}deviceStatusPrivate(Z){return 6===Z.params[0]&&this._coreService.triggerDataEvent(`${h.C0.ESC}[?${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`),!0}softReset(Z){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(Z){const q=Z.params[0]||1;switch(q){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=q%2==1,!0}setScrollRegion(Z){const q=Z.params[0]||1;let Q;return(Z.length<2||(Q=Z.params[1])>this._bufferService.rows||0===Q)&&(Q=this._bufferService.rows),Q>q&&(this._activeBuffer.scrollTop=q-1,this._activeBuffer.scrollBottom=Q-1,this._setCursor(0,0)),!0}windowOptions(Z){if(!H(Z.params[0],this._optionsService.rawOptions.windowOptions))return!0;const q=Z.length>1?Z.params[1]:0;switch(Z.params[0]){case 14:2!==q&&this._onRequestWindowsOptionsReport.fire(K.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(K.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${h.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==q&&2!==q||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==q&&1!==q||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==q&&2!==q||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==q&&1!==q||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(Z){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(Z){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(Z){return this._windowTitle=Z,this._onTitleChange.fire(Z),!0}setIconName(Z){return this._iconName=Z,!0}setOrReportIndexedColor(Z){const q=[],Q=Z.split(";");for(;Q.length>1;){const ie=Q.shift(),ge=Q.shift();if(/^\d+$/.exec(ie)){const be=parseInt(ie);if(Me(be))if("?"===ge)q.push({type:0,index:be});else{const Ne=(0,C.parseColor)(ge);Ne&&q.push({type:1,index:be,color:Ne})}}}return q.length&&this._onColor.fire(q),!0}setHyperlink(Z){const q=Z.split(";");return!(q.length<2)&&(q[1]?this._createHyperlink(q[0],q[1]):!q[0]&&this._finishHyperlink())}_createHyperlink(Z,q){this._getCurrentLinkId()&&this._finishHyperlink();const Q=Z.split(":");let ie;const ge=Q.findIndex(be=>be.startsWith("id="));return-1!==ge&&(ie=Q[ge].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:ie,uri:q}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(Z,q){const Q=Z.split(";");for(let ie=0;ie<Q.length&&!(q>=this._specialColors.length);++ie,++q)if("?"===Q[ie])this._onColor.fire([{type:0,index:this._specialColors[q]}]);else{const ge=(0,C.parseColor)(Q[ie]);ge&&this._onColor.fire([{type:1,index:this._specialColors[q],color:ge}])}return!0}setOrReportFgColor(Z){return this._setOrReportSpecialColor(Z,0)}setOrReportBgColor(Z){return this._setOrReportSpecialColor(Z,1)}setOrReportCursorColor(Z){return this._setOrReportSpecialColor(Z,2)}restoreIndexedColor(Z){if(!Z)return this._onColor.fire([{type:2}]),!0;const q=[],Q=Z.split(";");for(let ie=0;ie<Q.length;++ie)if(/^\d+$/.exec(Q[ie])){const ge=parseInt(Q[ie]);Me(ge)&&q.push({type:2,index:ge})}return q.length&&this._onColor.fire(q),!0}restoreFgColor(Z){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(Z){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(Z){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,b.DEFAULT_CHARSET),!0}selectCharset(Z){return 2!==Z.length?(this.selectDefaultCharset(),!0):("/"===Z[0]||this._charsetService.setgCharset(L[Z[0]],b.CHARSETS[Z[1]]||b.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=o.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(Z){return this._charsetService.setgLevel(Z),!0}screenAlignmentPattern(){const Z=new p.CellData;Z.content=4194304|"E".charCodeAt(0),Z.fg=this._curAttrData.fg,Z.bg=this._curAttrData.bg,this._setCursor(0,0);for(let q=0;q<this._bufferService.rows;++q){const ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+q);ie&&(ie.fill(Z),ie.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(Z,q){const Q=this._bufferService.buffer,ie=this._optionsService.rawOptions;return(ge=>(this._coreService.triggerDataEvent(`${h.C0.ESC}${ge}${h.C0.ESC}\\`),!0))('"q'===Z?`P1$r${this._curAttrData.isProtected()?1:0}"q`:'"p'===Z?'P1$r61;1"p':"r"===Z?`P1$r${Q.scrollTop+1};${Q.scrollBottom+1}r`:"m"===Z?"P1$r0m":" q"===Z?`P1$r${{block:2,underline:4,bar:6}[ie.cursorStyle]-(ie.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(Z,q){this._dirtyRowTracker.markRangeDirty(Z,q)}};let ae=class{constructor(Ce){this._bufferService=Ce,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(Ce){Ce<this.start?this.start=Ce:Ce>this.end&&(this.end=Ce)}markRangeDirty(Ce,Z){Ce>Z&&(X=Ce,Ce=Z,Z=X),Ce<this.start&&(this.start=Ce),Z>this.end&&(this.end=Z)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function Me(Ce){return 0<=Ce&&Ce<256}ae=v([E(0,P.IBufferService)],ae)},844:(y,u)=>{function m(v){for(const E of v)E.dispose();v.length=0}Object.defineProperty(u,"__esModule",{value:!0}),u.getDisposeArrayDisposable=u.disposeArray=u.toDisposable=u.MutableDisposable=u.Disposable=void 0,u.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const v of this._disposables)v.dispose();this._disposables.length=0}register(v){return this._disposables.push(v),v}unregister(v){const E=this._disposables.indexOf(v);-1!==E&&this._disposables.splice(E,1)}},u.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(v){var E;this._isDisposed||v===this._value||(null==(E=this._value)||E.dispose(),this._value=v)}clear(){this.value=void 0}dispose(){var v;this._isDisposed=!0,null==(v=this._value)||v.dispose(),this._value=void 0}},u.toDisposable=function(v){return{dispose:v}},u.disposeArray=m,u.getDisposeArrayDisposable=function(v){return{dispose:()=>m(v)}}},1505:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.FourKeyMap=u.TwoKeyMap=void 0;class m{constructor(){this._data={}}set(E,h,b){this._data[E]||(this._data[E]={}),this._data[E][h]=b}get(E,h){return this._data[E]?this._data[E][h]:void 0}clear(){this._data={}}}u.TwoKeyMap=m,u.FourKeyMap=class{constructor(){this._data=new m}set(v,E,h,b,w){this._data.get(v,E)||this._data.set(v,E,new m),this._data.get(v,E).set(h,b,w)}get(v,E,h,b){var w;return null==(w=this._data.get(v,E))?void 0:w.get(h,b)}clear(){this._data.clear()}}},6114:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.isChromeOS=u.isLinux=u.isWindows=u.isIphone=u.isIpad=u.isMac=u.getSafariVersion=u.isSafari=u.isLegacyEdge=u.isFirefox=u.isNode=void 0,u.isNode="undefined"!=typeof process;const m=u.isNode?"node":navigator.userAgent,v=u.isNode?"node":navigator.platform;u.isFirefox=m.includes("Firefox"),u.isLegacyEdge=m.includes("Edge"),u.isSafari=/^((?!chrome|android).)*safari/i.test(m),u.getSafariVersion=function(){if(!u.isSafari)return 0;const E=m.match(/Version\/(\d+)/);return null===E||E.length<2?0:parseInt(E[1])},u.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(v),u.isIpad="iPad"===v,u.isIphone="iPhone"===v,u.isWindows=["Windows","Win16","Win32","WinCE"].includes(v),u.isLinux=v.indexOf("Linux")>=0,u.isChromeOS=/\bCrOS\b/.test(m)},6106:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.SortedList=void 0;let m=0;u.SortedList=class{constructor(v){this._getKey=v,this._array=[]}clear(){this._array.length=0}insert(v){0!==this._array.length?(m=this._search(this._getKey(v)),this._array.splice(m,0,v)):this._array.push(v)}delete(v){if(0===this._array.length)return!1;const E=this._getKey(v);if(void 0===E||(m=this._search(E),-1===m)||this._getKey(this._array[m])!==E)return!1;do{if(this._array[m]===v)return this._array.splice(m,1),!0}while(++m<this._array.length&&this._getKey(this._array[m])===E);return!1}*getKeyIterator(v){if(0!==this._array.length&&(m=this._search(v),!(m<0||m>=this._array.length)&&this._getKey(this._array[m])===v))do{yield this._array[m]}while(++m<this._array.length&&this._getKey(this._array[m])===v)}forEachByKey(v,E){if(0!==this._array.length&&(m=this._search(v),!(m<0||m>=this._array.length)&&this._getKey(this._array[m])===v))do{E(this._array[m])}while(++m<this._array.length&&this._getKey(this._array[m])===v)}values(){return[...this._array].values()}_search(v){let E=0,h=this._array.length-1;for(;h>=E;){let b=E+h>>1;const w=this._getKey(this._array[b]);if(w>v)h=b-1;else{if(!(w<v)){for(;b>0&&this._getKey(this._array[b-1])===v;)b--;return b}E=b+1}}return E}}},7226:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DebouncedIdleTask=u.IdleTaskQueue=u.PriorityTaskQueue=void 0;const v=m(6114);class E{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let D=0,_=0,o=w.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(D=Date.now(),this._tasks[this._i]()||this._i++,D=Math.max(1,Date.now()-D),_=Math.max(D,_),d=w.timeRemaining(),1.5*_>d)return o-D<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(o-D))}ms`),void this._start();o=d}this.clear()}}class h extends E{_requestCallback(w){return setTimeout(()=>w(this._createDeadline(16)))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const D=Date.now()+w;return{timeRemaining:()=>Math.max(0,D-Date.now())}}}u.PriorityTaskQueue=h,u.IdleTaskQueue=!v.isNode&&"requestIdleCallback"in window?class extends E{_requestCallback(b){return requestIdleCallback(b)}_cancelCallback(b){cancelIdleCallback(b)}}:h,u.DebouncedIdleTask=class{constructor(){this._queue=new u.IdleTaskQueue}set(b){this._queue.clear(),this._queue.enqueue(b)}flush(){this._queue.flush()}}},9282:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.updateWindowsModeWrappedState=void 0;const v=m(643);u.updateWindowsModeWrappedState=function(E){const h=E.buffer.lines.get(E.buffer.ybase+E.buffer.y-1),b=null==h?void 0:h.get(E.cols-1),w=E.buffer.lines.get(E.buffer.ybase+E.buffer.y);w&&b&&(w.isWrapped=b[v.CHAR_DATA_CODE_INDEX]!==v.NULL_CELL_CODE&&b[v.CHAR_DATA_CODE_INDEX]!==v.WHITESPACE_CELL_CODE)}},3734:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ExtendedAttrs=u.AttributeData=void 0;class m{constructor(){this.fg=0,this.bg=0,this.extended=new v}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new m;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}u.AttributeData=m;class v{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}get underlineVariantOffset(){const h=(3758096384&this._ext)>>29;return h<0?4294967288^h:h}set underlineVariantOffset(h){this._ext&=536870911,this._ext|=h<<29&3758096384}constructor(h=0,b=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=b}clone(){return new v(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}u.ExtendedAttrs=v},9092:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Buffer=u.MAX_BUFFER_SIZE=void 0;const v=m(6349),E=m(7226),h=m(3734),b=m(8437),w=m(4634),D=m(511),_=m(643),o=m(4863),d=m(7116);u.MAX_BUFFER_SIZE=4294967295,u.Buffer=class{constructor(a,p,x){this._hasScrollback=a,this._optionsService=p,this._bufferService=x,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=b.DEFAULT_ATTR_DATA.clone(),this.savedCharset=d.DEFAULT_CHARSET,this.markers=[],this._nullCell=D.CellData.fromCharData([0,_.NULL_CELL_CHAR,_.NULL_CELL_WIDTH,_.NULL_CELL_CODE]),this._whitespaceCell=D.CellData.fromCharData([0,_.WHITESPACE_CELL_CHAR,_.WHITESPACE_CELL_WIDTH,_.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new E.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new v.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(a){return a?(this._nullCell.fg=a.fg,this._nullCell.bg=a.bg,this._nullCell.extended=a.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell}getWhitespaceCell(a){return a?(this._whitespaceCell.fg=a.fg,this._whitespaceCell.bg=a.bg,this._whitespaceCell.extended=a.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell}getBlankLine(a,p){return new b.BufferLine(this._bufferService.cols,this.getNullCell(a),p)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const a=this.ybase+this.y-this.ydisp;return a>=0&&a<this._rows}_getCorrectBufferLength(a){if(!this._hasScrollback)return a;const p=a+this._optionsService.rawOptions.scrollback;return p>u.MAX_BUFFER_SIZE?u.MAX_BUFFER_SIZE:p}fillViewportRows(a){if(0===this.lines.length){void 0===a&&(a=b.DEFAULT_ATTR_DATA);let p=this._rows;for(;p--;)this.lines.push(this.getBlankLine(a))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new v.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(a,p){const x=this.getNullCell(b.DEFAULT_ATTR_DATA);let P=0;const N=this._getCorrectBufferLength(p);if(N>this.lines.maxLength&&(this.lines.maxLength=N),this.lines.length>0){if(this._cols<a)for(let f=0;f<this.lines.length;f++)P+=+this.lines.get(f).resize(a,x);let j=0;if(this._rows<p)for(let f=this._rows;f<p;f++)this.lines.length<p+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new b.BufferLine(a,x)):this.ybase>0&&this.lines.length<=this.ybase+this.y+j+1?(this.ybase--,j++,this.ydisp>0&&this.ydisp--):this.lines.push(new b.BufferLine(a,x)));else for(let f=this._rows;f>p;f--)this.lines.length>p+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(N<this.lines.maxLength){const f=this.lines.length-N;f>0&&(this.lines.trimStart(f),this.ybase=Math.max(this.ybase-f,0),this.ydisp=Math.max(this.ydisp-f,0),this.savedY=Math.max(this.savedY-f,0)),this.lines.maxLength=N}this.x=Math.min(this.x,a-1),this.y=Math.min(this.y,p-1),j&&(this.y+=j),this.savedX=Math.min(this.savedX,a-1),this.scrollTop=0}if(this.scrollBottom=p-1,this._isReflowEnabled&&(this._reflow(a,p),this._cols>a))for(let j=0;j<this.lines.length;j++)P+=+this.lines.get(j).resize(a,x);this._cols=a,this._rows=p,this._memoryCleanupQueue.clear(),P>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let a=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,a=!1);let p=0;for(;this._memoryCleanupPosition<this.lines.length;)if(p+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),p>100)return!0;return a}get _isReflowEnabled(){const a=this._optionsService.rawOptions.windowsPty;return a&&a.buildNumber?this._hasScrollback&&"conpty"===a.backend&&a.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(a,p){this._cols!==a&&(a>this._cols?this._reflowLarger(a,p):this._reflowSmaller(a,p))}_reflowLarger(a,p){const x=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,a,this.ybase+this.y,this.getNullCell(b.DEFAULT_ATTR_DATA));if(x.length>0){const P=(0,w.reflowLargerCreateNewLayout)(this.lines,x);(0,w.reflowLargerApplyNewLayout)(this.lines,P.layout),this._reflowLargerAdjustViewport(a,p,P.countRemoved)}}_reflowLargerAdjustViewport(a,p,x){const P=this.getNullCell(b.DEFAULT_ATTR_DATA);let N=x;for(;N-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<p&&this.lines.push(new b.BufferLine(a,P))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-x,0)}_reflowSmaller(a,p){const x=this.getNullCell(b.DEFAULT_ATTR_DATA),P=[];let N=0;for(let j=this.lines.length-1;j>=0;j--){let f=this.lines.get(j);if(!f||!f.isWrapped&&f.getTrimmedLength()<=a)continue;const C=[f];for(;f.isWrapped&&j>0;)f=this.lines.get(--j),C.unshift(f);const L=this.ybase+this.y;if(L>=j&&L<j+C.length)continue;const R=C[C.length-1].getTrimmedLength(),H=(0,w.reflowSmallerGetNewLineLengths)(C,this._cols,a),K=H.length-C.length;let X;X=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+K):Math.max(0,this.lines.length-this.lines.maxLength+K);const oe=[];for(let Q=0;Q<K;Q++){const ie=this.getBlankLine(b.DEFAULT_ATTR_DATA,!0);oe.push(ie)}oe.length>0&&(P.push({start:j+C.length+N,newLines:oe}),N+=oe.length),C.push(...oe);let ae=H.length-1,Me=H[ae];0===Me&&(ae--,Me=H[ae]);let Ce=C.length-K-1,Z=R;for(;Ce>=0;){const Q=Math.min(Z,Me);if(void 0===C[ae])break;if(C[ae].copyCellsFrom(C[Ce],Z-Q,Me-Q,Q,!0),Me-=Q,0===Me&&(ae--,Me=H[ae]),Z-=Q,0===Z){Ce--;const ie=Math.max(Ce,0);Z=(0,w.getWrappedLineTrimmedLength)(C,ie,this._cols)}}for(let Q=0;Q<C.length;Q++)H[Q]<a&&C[Q].setCell(H[Q],x);let q=K-X;for(;q-- >0;)0===this.ybase?this.y<p-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+N)-p&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+K,this.ybase+p-1)}if(P.length>0){const j=[],f=[];for(let ae=0;ae<this.lines.length;ae++)f.push(this.lines.get(ae));const C=this.lines.length;let L=C-1,R=0,H=P[R];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+N);let K=0;for(let ae=Math.min(this.lines.maxLength-1,C+N-1);ae>=0;ae--)if(H&&H.start>L+K){for(let Me=H.newLines.length-1;Me>=0;Me--)this.lines.set(ae--,H.newLines[Me]);ae++,j.push({index:L+1,amount:H.newLines.length}),K+=H.newLines.length,H=P[++R]}else this.lines.set(ae,f[L--]);let X=0;for(let ae=j.length-1;ae>=0;ae--)j[ae].index+=X,this.lines.onInsertEmitter.fire(j[ae]),X+=j[ae].amount;const oe=Math.max(0,C+N-this.lines.maxLength);oe>0&&this.lines.onTrimEmitter.fire(oe)}}translateBufferLineToString(a,p,x=0,P){const N=this.lines.get(a);return N?N.translateToString(p,x,P):""}getWrappedRangeForLine(a){let p=a,x=a;for(;p>0&&this.lines.get(p).isWrapped;)p--;for(;x+1<this.lines.length&&this.lines.get(x+1).isWrapped;)x++;return{first:p,last:x}}setupTabStops(a){for(null!=a?this.tabs[a]||(a=this.prevStop(a)):(this.tabs={},a=0);a<this._cols;a+=this._optionsService.rawOptions.tabStopWidth)this.tabs[a]=!0}prevStop(a){for(null==a&&(a=this.x);!this.tabs[--a]&&a>0;);return a>=this._cols?this._cols-1:a<0?0:a}nextStop(a){for(null==a&&(a=this.x);!this.tabs[++a]&&a<this._cols;);return a>=this._cols?this._cols-1:a<0?0:a}clearMarkers(a){this._isClearing=!0;for(let p=0;p<this.markers.length;p++)this.markers[p].line===a&&(this.markers[p].dispose(),this.markers.splice(p--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let a=0;a<this.markers.length;a++)this.markers[a].dispose(),this.markers.splice(a--,1);this._isClearing=!1}addMarker(a){const p=new o.Marker(a);return this.markers.push(p),p.register(this.lines.onTrim(x=>{p.line-=x,p.line<0&&p.dispose()})),p.register(this.lines.onInsert(x=>{p.line>=x.index&&(p.line+=x.amount)})),p.register(this.lines.onDelete(x=>{p.line>=x.index&&p.line<x.index+x.amount&&p.dispose(),p.line>x.index&&(p.line-=x.amount)})),p.register(p.onDispose(()=>this._removeMarker(p))),p}_removeMarker(a){this._isClearing||this.markers.splice(this.markers.indexOf(a),1)}}},8437:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BufferLine=u.DEFAULT_ATTR_DATA=void 0;const v=m(3734),E=m(511),h=m(643),b=m(482);u.DEFAULT_ATTR_DATA=Object.freeze(new v.AttributeData);let w=0;class D{constructor(o,d,a=!1){this.isWrapped=a,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*o);const p=d||E.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]);for(let x=0;x<o;++x)this.setCell(x,p);this.length=o}get(o){const d=this._data[3*o+0],a=2097151&d;return[this._data[3*o+1],2097152&d?this._combined[o]:a?(0,b.stringFromCodePoint)(a):"",d>>22,2097152&d?this._combined[o].charCodeAt(this._combined[o].length-1):a]}set(o,d){this._data[3*o+1]=d[h.CHAR_DATA_ATTR_INDEX],d[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[o]=d[1],this._data[3*o+0]=2097152|o|d[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*o+0]=d[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[h.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(o){return this._data[3*o+0]>>22}hasWidth(o){return 12582912&this._data[3*o+0]}getFg(o){return this._data[3*o+1]}getBg(o){return this._data[3*o+2]}hasContent(o){return 4194303&this._data[3*o+0]}getCodePoint(o){const d=this._data[3*o+0];return 2097152&d?this._combined[o].charCodeAt(this._combined[o].length-1):2097151&d}isCombined(o){return 2097152&this._data[3*o+0]}getString(o){const d=this._data[3*o+0];return 2097152&d?this._combined[o]:2097151&d?(0,b.stringFromCodePoint)(2097151&d):""}isProtected(o){return 536870912&this._data[3*o+2]}loadCell(o,d){return w=3*o,d.content=this._data[w+0],d.fg=this._data[w+1],d.bg=this._data[w+2],2097152&d.content&&(d.combinedData=this._combined[o]),268435456&d.bg&&(d.extended=this._extendedAttrs[o]),d}setCell(o,d){2097152&d.content&&(this._combined[o]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[o]=d.extended),this._data[3*o+0]=d.content,this._data[3*o+1]=d.fg,this._data[3*o+2]=d.bg}setCellFromCodepoint(o,d,a,p){268435456&p.bg&&(this._extendedAttrs[o]=p.extended),this._data[3*o+0]=d|a<<22,this._data[3*o+1]=p.fg,this._data[3*o+2]=p.bg}addCodepointToCell(o,d,a){let p=this._data[3*o+0];2097152&p?this._combined[o]+=(0,b.stringFromCodePoint)(d):2097151&p?(this._combined[o]=(0,b.stringFromCodePoint)(2097151&p)+(0,b.stringFromCodePoint)(d),p&=-2097152,p|=2097152):p=4194304|d,a&&(p&=-12582913,p|=a<<22),this._data[3*o+0]=p}insertCells(o,d,a){if((o%=this.length)&&2===this.getWidth(o-1)&&this.setCellFromCodepoint(o-1,0,1,a),d<this.length-o){const p=new E.CellData;for(let x=this.length-o-d-1;x>=0;--x)this.setCell(o+d+x,this.loadCell(o+x,p));for(let x=0;x<d;++x)this.setCell(o+x,a)}else for(let p=o;p<this.length;++p)this.setCell(p,a);2===this.getWidth(this.length-1)&&this.setCellFromCodepoint(this.length-1,0,1,a)}deleteCells(o,d,a){if(d<this.length-(o%=this.length)){const p=new E.CellData;for(let x=0;x<this.length-o-d;++x)this.setCell(o+x,this.loadCell(o+d+x,p));for(let x=this.length-d;x<this.length;++x)this.setCell(x,a)}else for(let p=o;p<this.length;++p)this.setCell(p,a);o&&2===this.getWidth(o-1)&&this.setCellFromCodepoint(o-1,0,1,a),0!==this.getWidth(o)||this.hasContent(o)||this.setCellFromCodepoint(o,0,1,a)}replaceCells(o,d,a,p=!1){if(p)for(o&&2===this.getWidth(o-1)&&!this.isProtected(o-1)&&this.setCellFromCodepoint(o-1,0,1,a),d<this.length&&2===this.getWidth(d-1)&&!this.isProtected(d)&&this.setCellFromCodepoint(d,0,1,a);o<d&&o<this.length;)this.isProtected(o)||this.setCell(o,a),o++;else for(o&&2===this.getWidth(o-1)&&this.setCellFromCodepoint(o-1,0,1,a),d<this.length&&2===this.getWidth(d-1)&&this.setCellFromCodepoint(d,0,1,a);o<d&&o<this.length;)this.setCell(o++,a)}resize(o,d){if(o===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const a=3*o;if(o>this.length){if(this._data.buffer.byteLength>=4*a)this._data=new Uint32Array(this._data.buffer,0,a);else{const p=new Uint32Array(a);p.set(this._data),this._data=p}for(let p=this.length;p<o;++p)this.setCell(p,d)}else{this._data=this._data.subarray(0,a);const p=Object.keys(this._combined);for(let P=0;P<p.length;P++){const N=parseInt(p[P],10);N>=o&&delete this._combined[N]}const x=Object.keys(this._extendedAttrs);for(let P=0;P<x.length;P++){const N=parseInt(x[P],10);N>=o&&delete this._extendedAttrs[N]}}return this.length=o,4*a*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const o=new Uint32Array(this._data.length);return o.set(this._data),this._data=o,1}return 0}fill(o,d=!1){if(d)for(let a=0;a<this.length;++a)this.isProtected(a)||this.setCell(a,o);else{this._combined={},this._extendedAttrs={};for(let a=0;a<this.length;++a)this.setCell(a,o)}}copyFrom(o){this.length!==o.length?this._data=new Uint32Array(o._data):this._data.set(o._data),this.length=o.length,this._combined={};for(const d in o._combined)this._combined[d]=o._combined[d];this._extendedAttrs={};for(const d in o._extendedAttrs)this._extendedAttrs[d]=o._extendedAttrs[d];this.isWrapped=o.isWrapped}clone(){const o=new D(0);o._data=new Uint32Array(this._data),o.length=this.length;for(const d in this._combined)o._combined[d]=this._combined[d];for(const d in this._extendedAttrs)o._extendedAttrs[d]=this._extendedAttrs[d];return o.isWrapped=this.isWrapped,o}getTrimmedLength(){for(let o=this.length-1;o>=0;--o)if(4194303&this._data[3*o+0])return o+(this._data[3*o+0]>>22);return 0}getNoBgTrimmedLength(){for(let o=this.length-1;o>=0;--o)if(4194303&this._data[3*o+0]||50331648&this._data[3*o+2])return o+(this._data[3*o+0]>>22);return 0}copyCellsFrom(o,d,a,p,x){const P=o._data;if(x)for(let j=p-1;j>=0;j--){for(let f=0;f<3;f++)this._data[3*(a+j)+f]=P[3*(d+j)+f];268435456&P[3*(d+j)+2]&&(this._extendedAttrs[a+j]=o._extendedAttrs[d+j])}else for(let j=0;j<p;j++){for(let f=0;f<3;f++)this._data[3*(a+j)+f]=P[3*(d+j)+f];268435456&P[3*(d+j)+2]&&(this._extendedAttrs[a+j]=o._extendedAttrs[d+j])}const N=Object.keys(o._combined);for(let j=0;j<N.length;j++){const f=parseInt(N[j],10);f>=d&&(this._combined[f-d+a]=o._combined[f])}}translateToString(o,d,a,p){d=null!=d?d:0,a=null!=a?a:this.length,o&&(a=Math.min(a,this.getTrimmedLength())),p&&(p.length=0);let x="";for(;d<a;){const P=this._data[3*d+0],N=2097151&P,j=2097152&P?this._combined[d]:N?(0,b.stringFromCodePoint)(N):h.WHITESPACE_CELL_CHAR;if(x+=j,p)for(let f=0;f<j.length;++f)p.push(d);d+=P>>22||1}return p&&p.push(d),x}}u.BufferLine=D},4841:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.getRangeLength=void 0,u.getRangeLength=function(m,v){if(m.start.y>m.end.y)throw new Error(`Buffer range end (${m.end.x}, ${m.end.y}) cannot be before start (${m.start.x}, ${m.start.y})`);return v*(m.end.y-m.start.y)+(m.end.x-m.start.x+1)}},4634:(y,u)=>{function m(v,E,h){if(E===v.length-1)return v[E].getTrimmedLength();const b=!v[E].hasContent(h-1)&&1===v[E].getWidth(h-1),w=2===v[E+1].getWidth(0);return b&&w?h-1:h}Object.defineProperty(u,"__esModule",{value:!0}),u.getWrappedLineTrimmedLength=u.reflowSmallerGetNewLineLengths=u.reflowLargerApplyNewLayout=u.reflowLargerCreateNewLayout=u.reflowLargerGetLinesToRemove=void 0,u.reflowLargerGetLinesToRemove=function(v,E,h,b,w){const D=[];for(let _=0;_<v.length-1;_++){let o=_,d=v.get(++o);if(!d.isWrapped)continue;const a=[v.get(_)];for(;o<v.length&&d.isWrapped;)a.push(d),d=v.get(++o);if(b>=_&&b<o){_+=a.length-1;continue}let p=0,x=m(a,p,E),P=1,N=0;for(;P<a.length;){const f=m(a,P,E),R=Math.min(f-N,h-x);a[p].copyCellsFrom(a[P],N,x,R,!1),x+=R,x===h&&(p++,x=0),N+=R,N===f&&(P++,N=0),0===x&&0!==p&&2===a[p-1].getWidth(h-1)&&(a[p].copyCellsFrom(a[p-1],h-1,x++,1,!1),a[p-1].setCell(h-1,w))}a[p].replaceCells(x,h,w);let j=0;for(let f=a.length-1;f>0&&(f>p||0===a[f].getTrimmedLength());f--)j++;j>0&&(D.push(_+a.length-j),D.push(j)),_+=a.length-1}return D},u.reflowLargerCreateNewLayout=function(v,E){const h=[];let b=0,w=E[b],D=0;for(let _=0;_<v.length;_++)if(w===_){const o=E[++b];v.onDeleteEmitter.fire({index:_-D,amount:o}),_+=o-1,D+=o,w=E[++b]}else h.push(_);return{layout:h,countRemoved:D}},u.reflowLargerApplyNewLayout=function(v,E){const h=[];for(let b=0;b<E.length;b++)h.push(v.get(E[b]));for(let b=0;b<h.length;b++)v.set(b,h[b]);v.length=E.length},u.reflowSmallerGetNewLineLengths=function(v,E,h){const b=[],w=v.map((d,a)=>m(v,a,E)).reduce((d,a)=>d+a);let D=0,_=0,o=0;for(;o<w;){if(w-o<h){b.push(w-o);break}D+=h;const d=m(v,_,E);D>d&&(D-=d,_++);const a=2===v[_].getWidth(D-1);a&&D--;const p=a?h-1:h;b.push(p),o+=p}return b},u.getWrappedLineTrimmedLength=m},5295:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BufferSet=void 0;const v=m(8460),E=m(844),h=m(9092);u.BufferSet=class b extends E.Disposable{constructor(D,_){super(),this._optionsService=D,this._bufferService=_,this._onBufferActivate=this.register(new v.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(D){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(D),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(D,_){this._normal.resize(D,_),this._alt.resize(D,_),this.setupTabStops(D)}setupTabStops(D){this._normal.setupTabStops(D),this._alt.setupTabStops(D)}}},511:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CellData=void 0;const v=m(482),E=m(643),h=m(3734);class b extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(D){const _=new b;return _.setFromCharData(D),_}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,v.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(D){this.fg=D[E.CHAR_DATA_ATTR_INDEX],this.bg=0;let _=!1;if(D[E.CHAR_DATA_CHAR_INDEX].length>2)_=!0;else if(2===D[E.CHAR_DATA_CHAR_INDEX].length){const o=D[E.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=o&&o<=56319){const d=D[E.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(o-55296)+d-56320+65536|D[E.CHAR_DATA_WIDTH_INDEX]<<22:_=!0}else _=!0}else this.content=D[E.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|D[E.CHAR_DATA_WIDTH_INDEX]<<22;_&&(this.combinedData=D[E.CHAR_DATA_CHAR_INDEX],this.content=2097152|D[E.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}u.CellData=b},643:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.WHITESPACE_CELL_CODE=u.WHITESPACE_CELL_WIDTH=u.WHITESPACE_CELL_CHAR=u.NULL_CELL_CODE=u.NULL_CELL_WIDTH=u.NULL_CELL_CHAR=u.CHAR_DATA_CODE_INDEX=u.CHAR_DATA_WIDTH_INDEX=u.CHAR_DATA_CHAR_INDEX=u.CHAR_DATA_ATTR_INDEX=u.DEFAULT_EXT=u.DEFAULT_ATTR=u.DEFAULT_COLOR=void 0,u.DEFAULT_COLOR=0,u.DEFAULT_ATTR=256|u.DEFAULT_COLOR<<9,u.DEFAULT_EXT=0,u.CHAR_DATA_ATTR_INDEX=0,u.CHAR_DATA_CHAR_INDEX=1,u.CHAR_DATA_WIDTH_INDEX=2,u.CHAR_DATA_CODE_INDEX=3,u.NULL_CELL_CHAR="",u.NULL_CELL_WIDTH=1,u.NULL_CELL_CODE=0,u.WHITESPACE_CELL_CHAR=" ",u.WHITESPACE_CELL_WIDTH=1,u.WHITESPACE_CELL_CODE=32},4863:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Marker=void 0;const v=m(8460),E=m(844);class h{get id(){return this._id}constructor(w){this.line=w,this.isDisposed=!1,this._disposables=[],this._id=h._nextId++,this._onDispose=this.register(new v.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,E.disposeArray)(this._disposables),this._disposables.length=0)}register(w){return this._disposables.push(w),w}}u.Marker=h,h._nextId=1},7116:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DEFAULT_CHARSET=u.CHARSETS=void 0,u.CHARSETS={},u.DEFAULT_CHARSET=u.CHARSETS.B,u.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},u.CHARSETS.A={"#":"\xa3"},u.CHARSETS.B=void 0,u.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},u.CHARSETS.C=u.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},u.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},u.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},u.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},u.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},u.CHARSETS.E=u.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},u.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},u.CHARSETS.H=u.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},u.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(y,u)=>{var m,v,E,h;Object.defineProperty(u,"__esModule",{value:!0}),u.C1_ESCAPED=u.C1=u.C0=void 0,(h=m||(u.C0=m={})).NUL="\0",h.SOH="\x01",h.STX="\x02",h.ETX="\x03",h.EOT="\x04",h.ENQ="\x05",h.ACK="\x06",h.BEL="\x07",h.BS="\b",h.HT="\t",h.LF="\n",h.VT="\v",h.FF="\f",h.CR="\r",h.SO="\x0e",h.SI="\x0f",h.DLE="\x10",h.DC1="\x11",h.DC2="\x12",h.DC3="\x13",h.DC4="\x14",h.NAK="\x15",h.SYN="\x16",h.ETB="\x17",h.CAN="\x18",h.EM="\x19",h.SUB="\x1a",h.ESC="\x1b",h.FS="\x1c",h.GS="\x1d",h.RS="\x1e",h.US="\x1f",h.SP=" ",h.DEL="\x7f",function(h){h.PAD="\x80",h.HOP="\x81",h.BPH="\x82",h.NBH="\x83",h.IND="\x84",h.NEL="\x85",h.SSA="\x86",h.ESA="\x87",h.HTS="\x88",h.HTJ="\x89",h.VTS="\x8a",h.PLD="\x8b",h.PLU="\x8c",h.RI="\x8d",h.SS2="\x8e",h.SS3="\x8f",h.DCS="\x90",h.PU1="\x91",h.PU2="\x92",h.STS="\x93",h.CCH="\x94",h.MW="\x95",h.SPA="\x96",h.EPA="\x97",h.SOS="\x98",h.SGCI="\x99",h.SCI="\x9a",h.CSI="\x9b",h.ST="\x9c",h.OSC="\x9d",h.PM="\x9e",h.APC="\x9f"}(v||(u.C1=v={})),function(h){h.ST=`${m.ESC}\\`}(E||(u.C1_ESCAPED=E={}))},7399:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.evaluateKeyboardEvent=void 0;const v=m(2584),E={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};u.evaluateKeyboardEvent=function(h,b,w,D){const _={type:0,cancel:!1,key:void 0},o=(h.shiftKey?1:0)|(h.altKey?2:0)|(h.ctrlKey?4:0)|(h.metaKey?8:0);switch(h.keyCode){case 0:"UIKeyInputUpArrow"===h.key?_.key=b?v.C0.ESC+"OA":v.C0.ESC+"[A":"UIKeyInputLeftArrow"===h.key?_.key=b?v.C0.ESC+"OD":v.C0.ESC+"[D":"UIKeyInputRightArrow"===h.key?_.key=b?v.C0.ESC+"OC":v.C0.ESC+"[C":"UIKeyInputDownArrow"===h.key&&(_.key=b?v.C0.ESC+"OB":v.C0.ESC+"[B");break;case 8:_.key=h.ctrlKey?"\b":v.C0.DEL,h.altKey&&(_.key=v.C0.ESC+_.key);break;case 9:if(h.shiftKey){_.key=v.C0.ESC+"[Z";break}_.key=v.C0.HT,_.cancel=!0;break;case 13:_.key=h.altKey?v.C0.ESC+v.C0.CR:v.C0.CR,_.cancel=!0;break;case 27:_.key=v.C0.ESC,h.altKey&&(_.key=v.C0.ESC+v.C0.ESC),_.cancel=!0;break;case 37:if(h.metaKey)break;o?(_.key=v.C0.ESC+"[1;"+(o+1)+"D",_.key===v.C0.ESC+"[1;3D"&&(_.key=v.C0.ESC+(w?"b":"[1;5D"))):_.key=b?v.C0.ESC+"OD":v.C0.ESC+"[D";break;case 39:if(h.metaKey)break;o?(_.key=v.C0.ESC+"[1;"+(o+1)+"C",_.key===v.C0.ESC+"[1;3C"&&(_.key=v.C0.ESC+(w?"f":"[1;5C"))):_.key=b?v.C0.ESC+"OC":v.C0.ESC+"[C";break;case 38:if(h.metaKey)break;o?(_.key=v.C0.ESC+"[1;"+(o+1)+"A",w||_.key!==v.C0.ESC+"[1;3A"||(_.key=v.C0.ESC+"[1;5A")):_.key=b?v.C0.ESC+"OA":v.C0.ESC+"[A";break;case 40:if(h.metaKey)break;o?(_.key=v.C0.ESC+"[1;"+(o+1)+"B",w||_.key!==v.C0.ESC+"[1;3B"||(_.key=v.C0.ESC+"[1;5B")):_.key=b?v.C0.ESC+"OB":v.C0.ESC+"[B";break;case 45:h.shiftKey||h.ctrlKey||(_.key=v.C0.ESC+"[2~");break;case 46:_.key=o?v.C0.ESC+"[3;"+(o+1)+"~":v.C0.ESC+"[3~";break;case 36:_.key=o?v.C0.ESC+"[1;"+(o+1)+"H":b?v.C0.ESC+"OH":v.C0.ESC+"[H";break;case 35:_.key=o?v.C0.ESC+"[1;"+(o+1)+"F":b?v.C0.ESC+"OF":v.C0.ESC+"[F";break;case 33:h.shiftKey?_.type=2:_.key=h.ctrlKey?v.C0.ESC+"[5;"+(o+1)+"~":v.C0.ESC+"[5~";break;case 34:h.shiftKey?_.type=3:_.key=h.ctrlKey?v.C0.ESC+"[6;"+(o+1)+"~":v.C0.ESC+"[6~";break;case 112:_.key=o?v.C0.ESC+"[1;"+(o+1)+"P":v.C0.ESC+"OP";break;case 113:_.key=o?v.C0.ESC+"[1;"+(o+1)+"Q":v.C0.ESC+"OQ";break;case 114:_.key=o?v.C0.ESC+"[1;"+(o+1)+"R":v.C0.ESC+"OR";break;case 115:_.key=o?v.C0.ESC+"[1;"+(o+1)+"S":v.C0.ESC+"OS";break;case 116:_.key=o?v.C0.ESC+"[15;"+(o+1)+"~":v.C0.ESC+"[15~";break;case 117:_.key=o?v.C0.ESC+"[17;"+(o+1)+"~":v.C0.ESC+"[17~";break;case 118:_.key=o?v.C0.ESC+"[18;"+(o+1)+"~":v.C0.ESC+"[18~";break;case 119:_.key=o?v.C0.ESC+"[19;"+(o+1)+"~":v.C0.ESC+"[19~";break;case 120:_.key=o?v.C0.ESC+"[20;"+(o+1)+"~":v.C0.ESC+"[20~";break;case 121:_.key=o?v.C0.ESC+"[21;"+(o+1)+"~":v.C0.ESC+"[21~";break;case 122:_.key=o?v.C0.ESC+"[23;"+(o+1)+"~":v.C0.ESC+"[23~";break;case 123:_.key=o?v.C0.ESC+"[24;"+(o+1)+"~":v.C0.ESC+"[24~";break;default:if(!h.ctrlKey||h.shiftKey||h.altKey||h.metaKey)if(w&&!D||!h.altKey||h.metaKey)!w||h.altKey||h.ctrlKey||h.shiftKey||!h.metaKey?h.key&&!h.ctrlKey&&!h.altKey&&!h.metaKey&&h.keyCode>=48&&1===h.key.length?_.key=h.key:h.key&&h.ctrlKey&&("_"===h.key&&(_.key=v.C0.US),"@"===h.key&&(_.key=v.C0.NUL)):65===h.keyCode&&(_.type=1);else{const d=E[h.keyCode],a=null==d?void 0:d[h.shiftKey?1:0];if(a)_.key=v.C0.ESC+a;else if(h.keyCode>=65&&h.keyCode<=90){let x=String.fromCharCode(h.ctrlKey?h.keyCode-64:h.keyCode+32);h.shiftKey&&(x=x.toUpperCase()),_.key=v.C0.ESC+x}else if(32===h.keyCode)_.key=v.C0.ESC+(h.ctrlKey?v.C0.NUL:" ");else if("Dead"===h.key&&h.code.startsWith("Key")){let p=h.code.slice(3,4);h.shiftKey||(p=p.toLowerCase()),_.key=v.C0.ESC+p,_.cancel=!0}}else h.keyCode>=65&&h.keyCode<=90?_.key=String.fromCharCode(h.keyCode-64):32===h.keyCode?_.key=v.C0.NUL:h.keyCode>=51&&h.keyCode<=55?_.key=String.fromCharCode(h.keyCode-51+27):56===h.keyCode?_.key=v.C0.DEL:219===h.keyCode?_.key=v.C0.ESC:220===h.keyCode?_.key=v.C0.FS:221===h.keyCode&&(_.key=v.C0.GS)}return _}},482:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Utf8ToUtf32=u.StringToUtf32=u.utf32ToString=u.stringFromCodePoint=void 0,u.stringFromCodePoint=function(m){return m>65535?(m-=65536,String.fromCharCode(55296+(m>>10))+String.fromCharCode(m%1024+56320)):String.fromCharCode(m)},u.utf32ToString=function(m,v=0,E=m.length){let h="";for(let b=v;b<E;++b){let w=m[b];w>65535?(w-=65536,h+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):h+=String.fromCharCode(w)}return h},u.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(m,v){const E=m.length;if(!E)return 0;let h=0,b=0;if(this._interim){const w=m.charCodeAt(b++);56320<=w&&w<=57343?v[h++]=1024*(this._interim-55296)+w-56320+65536:(v[h++]=this._interim,v[h++]=w),this._interim=0}for(let w=b;w<E;++w){const D=m.charCodeAt(w);if(55296<=D&&D<=56319){if(++w>=E)return this._interim=D,h;const _=m.charCodeAt(w);56320<=_&&_<=57343?v[h++]=1024*(D-55296)+_-56320+65536:(v[h++]=D,v[h++]=_)}else 65279!==D&&(v[h++]=D)}return h}},u.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(m,v){const E=m.length;if(!E)return 0;let h,b,w,D,_=0,o=0,d=0;if(this.interim[0]){let x=!1,P=this.interim[0];P&=192==(224&P)?31:224==(240&P)?15:7;let N,j=0;for(;(N=63&this.interim[++j])&&j<4;)P<<=6,P|=N;const f=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,C=f-j;for(;d<C;){if(d>=E)return 0;if(N=m[d++],128!=(192&N)){d--,x=!0;break}this.interim[j++]=N,P<<=6,P|=63&N}x||(2===f?P<128?d--:v[_++]=P:3===f?P<2048||P>=55296&&P<=57343||65279===P||(v[_++]=P):P<65536||P>1114111||(v[_++]=P)),this.interim.fill(0)}const a=E-4;let p=d;for(;p<E;){for(;!(!(p<a)||128&(h=m[p])||128&(b=m[p+1])||128&(w=m[p+2])||128&(D=m[p+3]));)v[_++]=h,v[_++]=b,v[_++]=w,v[_++]=D,p+=4;if(h=m[p++],h<128)v[_++]=h;else if(192==(224&h)){if(p>=E)return this.interim[0]=h,_;if(b=m[p++],128!=(192&b)){p--;continue}if(o=(31&h)<<6|63&b,o<128){p--;continue}v[_++]=o}else if(224==(240&h)){if(p>=E)return this.interim[0]=h,_;if(b=m[p++],128!=(192&b)){p--;continue}if(p>=E)return this.interim[0]=h,this.interim[1]=b,_;if(w=m[p++],128!=(192&w)){p--;continue}if(o=(15&h)<<12|(63&b)<<6|63&w,o<2048||o>=55296&&o<=57343||65279===o)continue;v[_++]=o}else if(240==(248&h)){if(p>=E)return this.interim[0]=h,_;if(b=m[p++],128!=(192&b)){p--;continue}if(p>=E)return this.interim[0]=h,this.interim[1]=b,_;if(w=m[p++],128!=(192&w)){p--;continue}if(p>=E)return this.interim[0]=h,this.interim[1]=b,this.interim[2]=w,_;if(D=m[p++],128!=(192&D)){p--;continue}if(o=(7&h)<<18|(63&b)<<12|(63&w)<<6|63&D,o<65536||o>1114111)continue;v[_++]=o}}return _}}},225:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.UnicodeV6=void 0;const v=m(1480),E=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let b;u.UnicodeV6=class{constructor(){if(this.version="6",!b){b=new Uint8Array(65536),b.fill(1),b[0]=0,b.fill(0,1,32),b.fill(0,127,160),b.fill(2,4352,4448),b[9001]=2,b[9002]=2,b.fill(2,11904,42192),b[12351]=1,b.fill(2,44032,55204),b.fill(2,63744,64256),b.fill(2,65040,65050),b.fill(2,65072,65136),b.fill(2,65280,65377),b.fill(2,65504,65511);for(let w=0;w<E.length;++w)b.fill(0,E[w][0],E[w][1]+1)}}wcwidth(w){return w<32?0:w<127?1:w<65536?b[w]:function(D,_){let o,d=0,a=_.length-1;if(D<_[0][0]||D>_[a][1])return!1;for(;a>=d;)if(o=d+a>>1,D>_[o][1])d=o+1;else{if(!(D<_[o][0]))return!0;a=o-1}return!1}(w,h)?0:w>=131072&&w<=196605||w>=196608&&w<=262141?2:1}charProperties(w,D){let _=this.wcwidth(w),o=0===_&&0!==D;if(o){const d=v.UnicodeService.extractWidth(D);0===d?o=!1:d>_&&(_=d)}return v.UnicodeService.createPropertyValue(0,_,o)}}},5981:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.WriteBuffer=void 0;const v=m(8460),E=m(844);u.WriteBuffer=class h extends E.Disposable{constructor(w){super(),this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new v.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(w,D){if(void 0!==D&&this._syncCalls>D)return void(this._syncCalls=0);if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let _;for(this._isSyncWriting=!0;_=this._writeBuffer.shift();){this._action(_);const o=this._callbacks.shift();o&&o()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(w,D){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(D),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(D)}_innerWrite(w=0,D=!0){const _=w||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const o=this._writeBuffer[this._bufferOffset],d=this._action(o,D);if(d){const p=x=>Date.now()-_>=12?setTimeout(()=>this._innerWrite(0,x)):this._innerWrite(_,x);return void d.catch(x=>(queueMicrotask(()=>{throw x}),Promise.resolve(!1))).then(p)}const a=this._callbacks[this._bufferOffset];if(a&&a(),this._bufferOffset++,this._pendingData-=o.length,Date.now()-_>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.toRgbString=u.parseColor=void 0;const m=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,v=/^[\da-f]+$/;function E(h,b){const w=h.toString(16),D=w.length<2?"0"+w:w;switch(b){case 4:return w[0];case 8:return D;case 12:return(D+D).slice(0,3);default:return D+D}}u.parseColor=function(h){if(!h)return;let b=h.toLowerCase();if(0===b.indexOf("rgb:")){b=b.slice(4);const w=m.exec(b);if(w){const D=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/D*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/D*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/D*255)]}}else if(0===b.indexOf("#")&&(b=b.slice(1),v.exec(b)&&[3,6,9,12].includes(b.length))){const w=b.length/3,D=[0,0,0];for(let _=0;_<3;++_){const o=parseInt(b.slice(w*_,w*_+w),16);D[_]=1===w?o<<4:2===w?o:3===w?o>>4:o>>8}return D}},u.toRgbString=function(h,b=16){const[w,D,_]=h;return`rgb:${E(w,b)}/${E(D,b)}/${E(_,b)}`}},5770:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PAYLOAD_LIMIT=void 0,u.PAYLOAD_LIMIT=1e7},6351:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DcsHandler=u.DcsParser=void 0;const v=m(482),E=m(8742),h=m(5770),b=[];u.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=b,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=b}registerHandler(D,_){void 0===this._handlers[D]&&(this._handlers[D]=[]);const o=this._handlers[D];return o.push(_),{dispose:()=>{const d=o.indexOf(_);-1!==d&&o.splice(d,1)}}}clearHandler(D){this._handlers[D]&&delete this._handlers[D]}setHandlerFallback(D){this._handlerFb=D}reset(){if(this._active.length)for(let D=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;D>=0;--D)this._active[D].unhook(!1);this._stack.paused=!1,this._active=b,this._ident=0}hook(D,_){if(this.reset(),this._ident=D,this._active=this._handlers[D]||b,this._active.length)for(let o=this._active.length-1;o>=0;o--)this._active[o].hook(_);else this._handlerFb(this._ident,"HOOK",_)}put(D,_,o){if(this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].put(D,_,o);else this._handlerFb(this._ident,"PUT",(0,v.utf32ToString)(D,_,o))}unhook(D,_=!0){if(this._active.length){let o=!1,d=this._active.length-1,a=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,o=_,a=this._stack.fallThrough,this._stack.paused=!1),!a&&!1===o){for(;d>=0&&(o=this._active[d].unhook(D),!0!==o);d--)if(o instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,o;d--}for(;d>=0;d--)if(o=this._active[d].unhook(!1),o instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,o}else this._handlerFb(this._ident,"UNHOOK",D);this._active=b,this._ident=0}};const w=new E.Params;w.addParam(0),u.DcsHandler=class{constructor(D){this._handler=D,this._data="",this._params=w,this._hitLimit=!1}hook(D){this._params=D.length>1||D.params[0]?D.clone():w,this._data="",this._hitLimit=!1}put(D,_,o){this._hitLimit||(this._data+=(0,v.utf32ToString)(D,_,o),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(D){let _=!1;if(this._hitLimit)_=!1;else if(D&&(_=this._handler(this._data,this._params),_ instanceof Promise))return _.then(o=>(this._params=w,this._data="",this._hitLimit=!1,o));return this._params=w,this._data="",this._hitLimit=!1,_}}},2015:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.EscapeSequenceParser=u.VT500_TRANSITION_TABLE=u.TransitionTable=void 0;const v=m(844),E=m(8742),h=m(6242),b=m(6351);class w{constructor(d){this.table=new Uint8Array(d)}setDefault(d,a){this.table.fill(d<<4|a)}add(d,a,p,x){this.table[a<<8|d]=p<<4|x}addMany(d,a,p,x){for(let P=0;P<d.length;P++)this.table[a<<8|d[P]]=p<<4|x}}u.TransitionTable=w;const D=160;u.VT500_TRANSITION_TABLE=function(){const o=new w(4095),d=Array.apply(null,Array(256)).map((j,f)=>f),a=(j,f)=>d.slice(j,f),p=a(32,127),x=a(0,24);x.push(25),x.push.apply(x,a(28,32));const P=a(0,14);let N;for(N in o.setDefault(1,0),o.addMany(p,0,2,0),P)o.addMany([24,26,153,154],N,3,0),o.addMany(a(128,144),N,3,0),o.addMany(a(144,152),N,3,0),o.add(156,N,0,0),o.add(27,N,11,1),o.add(157,N,4,8),o.addMany([152,158,159],N,0,7),o.add(155,N,11,3),o.add(144,N,11,9);return o.addMany(x,0,3,0),o.addMany(x,1,3,1),o.add(127,1,0,1),o.addMany(x,8,0,8),o.addMany(x,3,3,3),o.add(127,3,0,3),o.addMany(x,4,3,4),o.add(127,4,0,4),o.addMany(x,6,3,6),o.addMany(x,5,3,5),o.add(127,5,0,5),o.addMany(x,2,3,2),o.add(127,2,0,2),o.add(93,1,4,8),o.addMany(p,8,5,8),o.add(127,8,5,8),o.addMany([156,27,24,26,7],8,6,0),o.addMany(a(28,32),8,0,8),o.addMany([88,94,95],1,0,7),o.addMany(p,7,0,7),o.addMany(x,7,0,7),o.add(156,7,0,0),o.add(127,7,0,7),o.add(91,1,11,3),o.addMany(a(64,127),3,7,0),o.addMany(a(48,60),3,8,4),o.addMany([60,61,62,63],3,9,4),o.addMany(a(48,60),4,8,4),o.addMany(a(64,127),4,7,0),o.addMany([60,61,62,63],4,0,6),o.addMany(a(32,64),6,0,6),o.add(127,6,0,6),o.addMany(a(64,127),6,0,0),o.addMany(a(32,48),3,9,5),o.addMany(a(32,48),5,9,5),o.addMany(a(48,64),5,0,6),o.addMany(a(64,127),5,7,0),o.addMany(a(32,48),4,9,5),o.addMany(a(32,48),1,9,2),o.addMany(a(32,48),2,9,2),o.addMany(a(48,127),2,10,0),o.addMany(a(48,80),1,10,0),o.addMany(a(81,88),1,10,0),o.addMany([89,90,92],1,10,0),o.addMany(a(96,127),1,10,0),o.add(80,1,11,9),o.addMany(x,9,0,9),o.add(127,9,0,9),o.addMany(a(28,32),9,0,9),o.addMany(a(32,48),9,9,12),o.addMany(a(48,60),9,8,10),o.addMany([60,61,62,63],9,9,10),o.addMany(x,11,0,11),o.addMany(a(32,128),11,0,11),o.addMany(a(28,32),11,0,11),o.addMany(x,10,0,10),o.add(127,10,0,10),o.addMany(a(28,32),10,0,10),o.addMany(a(48,60),10,8,10),o.addMany([60,61,62,63],10,0,11),o.addMany(a(32,48),10,9,12),o.addMany(x,12,0,12),o.add(127,12,0,12),o.addMany(a(28,32),12,0,12),o.addMany(a(32,48),12,9,12),o.addMany(a(48,64),12,0,11),o.addMany(a(64,127),12,12,13),o.addMany(a(64,127),10,12,13),o.addMany(a(64,127),9,12,13),o.addMany(x,13,13,13),o.addMany(p,13,13,13),o.add(127,13,0,13),o.addMany([27,156,24,26],13,14,0),o.add(D,0,2,0),o.add(D,8,5,8),o.add(D,6,0,6),o.add(D,11,0,11),o.add(D,13,13,13),o}(),u.EscapeSequenceParser=class _ extends v.Disposable{constructor(d=u.VT500_TRANSITION_TABLE){super(),this._transitions=d,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new E.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(a,p,x)=>{},this._executeHandlerFb=a=>{},this._csiHandlerFb=(a,p)=>{},this._escHandlerFb=a=>{},this._errorHandlerFb=a=>a,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,v.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new h.OscParser),this._dcsParser=this.register(new b.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(d,a=[64,126]){let p=0;if(d.prefix){if(d.prefix.length>1)throw new Error("only one byte as prefix supported");if(p=d.prefix.charCodeAt(0),p&&60>p||p>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(d.intermediates){if(d.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let P=0;P<d.intermediates.length;++P){const N=d.intermediates.charCodeAt(P);if(32>N||N>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");p<<=8,p|=N}}if(1!==d.final.length)throw new Error("final must be a single byte");const x=d.final.charCodeAt(0);if(a[0]>x||x>a[1])throw new Error(`final must be in range ${a[0]} .. ${a[1]}`);return p<<=8,p|=x,p}identToString(d){const a=[];for(;d;)a.push(String.fromCharCode(255&d)),d>>=8;return a.reverse().join("")}setPrintHandler(d){this._printHandler=d}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(d,a){const p=this._identifier(d,[48,126]);void 0===this._escHandlers[p]&&(this._escHandlers[p]=[]);const x=this._escHandlers[p];return x.push(a),{dispose:()=>{const P=x.indexOf(a);-1!==P&&x.splice(P,1)}}}clearEscHandler(d){this._escHandlers[this._identifier(d,[48,126])]&&delete this._escHandlers[this._identifier(d,[48,126])]}setEscHandlerFallback(d){this._escHandlerFb=d}setExecuteHandler(d,a){this._executeHandlers[d.charCodeAt(0)]=a}clearExecuteHandler(d){this._executeHandlers[d.charCodeAt(0)]&&delete this._executeHandlers[d.charCodeAt(0)]}setExecuteHandlerFallback(d){this._executeHandlerFb=d}registerCsiHandler(d,a){const p=this._identifier(d);void 0===this._csiHandlers[p]&&(this._csiHandlers[p]=[]);const x=this._csiHandlers[p];return x.push(a),{dispose:()=>{const P=x.indexOf(a);-1!==P&&x.splice(P,1)}}}clearCsiHandler(d){this._csiHandlers[this._identifier(d)]&&delete this._csiHandlers[this._identifier(d)]}setCsiHandlerFallback(d){this._csiHandlerFb=d}registerDcsHandler(d,a){return this._dcsParser.registerHandler(this._identifier(d),a)}clearDcsHandler(d){this._dcsParser.clearHandler(this._identifier(d))}setDcsHandlerFallback(d){this._dcsParser.setHandlerFallback(d)}registerOscHandler(d,a){return this._oscParser.registerHandler(d,a)}clearOscHandler(d){this._oscParser.clearHandler(d)}setOscHandlerFallback(d){this._oscParser.setHandlerFallback(d)}setErrorHandler(d){this._errorHandler=d}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(d,a,p,x,P){this._parseStack.state=d,this._parseStack.handlers=a,this._parseStack.handlerPos=p,this._parseStack.transition=x,this._parseStack.chunkPos=P}parse(d,a,p){let x,P=0,N=0,j=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,j=this._parseStack.chunkPos+1;else{if(void 0===p||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const f=this._parseStack.handlers;let C=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===p&&C>-1)for(;C>=0&&(x=f[C](this._params),!0!==x);C--)if(x instanceof Promise)return this._parseStack.handlerPos=C,x;this._parseStack.handlers=[];break;case 4:if(!1===p&&C>-1)for(;C>=0&&(x=f[C](),!0!==x);C--)if(x instanceof Promise)return this._parseStack.handlerPos=C,x;this._parseStack.handlers=[];break;case 6:if(P=d[this._parseStack.chunkPos],x=this._dcsParser.unhook(24!==P&&26!==P,p),x)return x;27===P&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(P=d[this._parseStack.chunkPos],x=this._oscParser.end(24!==P&&26!==P,p),x)return x;27===P&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,j=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let f=j;f<a;++f){switch(P=d[f],N=this._transitions.table[this.currentState<<8|(P<160?P:D)],N>>4){case 2:for(let K=f+1;;++K){if(K>=a||(P=d[K])<32||P>126&&P<D){this._printHandler(d,f,K),f=K-1;break}if(++K>=a||(P=d[K])<32||P>126&&P<D){this._printHandler(d,f,K),f=K-1;break}if(++K>=a||(P=d[K])<32||P>126&&P<D){this._printHandler(d,f,K),f=K-1;break}if(++K>=a||(P=d[K])<32||P>126&&P<D){this._printHandler(d,f,K),f=K-1;break}}break;case 3:this._executeHandlers[P]?this._executeHandlers[P]():this._executeHandlerFb(P),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:f,code:P,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const C=this._csiHandlers[this._collect<<8|P];let L=C?C.length-1:-1;for(;L>=0&&(x=C[L](this._params),!0!==x);L--)if(x instanceof Promise)return this._preserveStack(3,C,L,N,f),x;L<0&&this._csiHandlerFb(this._collect<<8|P,this._params),this.precedingJoinState=0;break;case 8:do{switch(P){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(P-48)}}while(++f<a&&(P=d[f])>47&&P<60);f--;break;case 9:this._collect<<=8,this._collect|=P;break;case 10:const R=this._escHandlers[this._collect<<8|P];let H=R?R.length-1:-1;for(;H>=0&&(x=R[H](),!0!==x);H--)if(x instanceof Promise)return this._preserveStack(4,R,H,N,f),x;H<0&&this._escHandlerFb(this._collect<<8|P),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|P,this._params);break;case 13:for(let K=f+1;;++K)if(K>=a||24===(P=d[K])||26===P||27===P||P>127&&P<D){this._dcsParser.put(d,f,K),f=K-1;break}break;case 14:if(x=this._dcsParser.unhook(24!==P&&26!==P),x)return this._preserveStack(6,[],0,N,f),x;27===P&&(N|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let K=f+1;;K++)if(K>=a||(P=d[K])<32||P>127&&P<D){this._oscParser.put(d,f,K),f=K-1;break}break;case 6:if(x=this._oscParser.end(24!==P&&26!==P),x)return this._preserveStack(5,[],0,N,f),x;27===P&&(N|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&N}}}},6242:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.OscHandler=u.OscParser=void 0;const v=m(5770),E=m(482),h=[];u.OscParser=class{constructor(){this._state=0,this._active=h,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(b,w){void 0===this._handlers[b]&&(this._handlers[b]=[]);const D=this._handlers[b];return D.push(w),{dispose:()=>{const _=D.indexOf(w);-1!==_&&D.splice(_,1)}}}clearHandler(b){this._handlers[b]&&delete this._handlers[b]}setHandlerFallback(b){this._handlerFb=b}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}reset(){if(2===this._state)for(let b=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;b>=0;--b)this._active[b].end(!1);this._stack.paused=!1,this._active=h,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||h,this._active.length)for(let b=this._active.length-1;b>=0;b--)this._active[b].start();else this._handlerFb(this._id,"START")}_put(b,w,D){if(this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].put(b,w,D);else this._handlerFb(this._id,"PUT",(0,E.utf32ToString)(b,w,D))}start(){this.reset(),this._state=1}put(b,w,D){if(3!==this._state){if(1===this._state)for(;w<D;){const _=b[w++];if(59===_){this._state=2,this._start();break}if(_<48||57<_)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+_-48}2===this._state&&D-w>0&&this._put(b,w,D)}}end(b,w=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let D=!1,_=this._active.length-1,o=!1;if(this._stack.paused&&(_=this._stack.loopPosition-1,D=w,o=this._stack.fallThrough,this._stack.paused=!1),!o&&!1===D){for(;_>=0&&(D=this._active[_].end(b),!0!==D);_--)if(D instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!1,D;_--}for(;_>=0;_--)if(D=this._active[_].end(!1),D instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!0,D}else this._handlerFb(this._id,"END",b);this._active=h,this._id=-1,this._state=0}}},u.OscHandler=class{constructor(b){this._handler=b,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(b,w,D){this._hitLimit||(this._data+=(0,E.utf32ToString)(b,w,D),this._data.length>v.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(b){let w=!1;if(this._hitLimit)w=!1;else if(b&&(w=this._handler(this._data),w instanceof Promise))return w.then(D=>(this._data="",this._hitLimit=!1,D));return this._data="",this._hitLimit=!1,w}}},8742:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Params=void 0;const m=2147483647;class v{static fromArray(h){const b=new v;if(!h.length)return b;for(let w=Array.isArray(h[0])?1:0;w<h.length;++w){const D=h[w];if(Array.isArray(D))for(let _=0;_<D.length;++_)b.addSubParam(D[_]);else b.addParam(D)}return b}constructor(h=32,b=32){if(this.maxLength=h,this.maxSubParamsLength=b,b>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(h),this.length=0,this._subParams=new Int32Array(b),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(h),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const h=new v(this.maxLength,this.maxSubParamsLength);return h.params.set(this.params),h.length=this.length,h._subParams.set(this._subParams),h._subParamsLength=this._subParamsLength,h._subParamsIdx.set(this._subParamsIdx),h._rejectDigits=this._rejectDigits,h._rejectSubDigits=this._rejectSubDigits,h._digitIsSub=this._digitIsSub,h}toArray(){const h=[];for(let b=0;b<this.length;++b){h.push(this.params[b]);const w=this._subParamsIdx[b]>>8,D=255&this._subParamsIdx[b];D-w>0&&h.push(Array.prototype.slice.call(this._subParams,w,D))}return h}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(h){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=h>m?m:h}}addSubParam(h){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=h>m?m:h,this._subParamsIdx[this.length-1]++}}hasSubParams(h){return(255&this._subParamsIdx[h])-(this._subParamsIdx[h]>>8)>0}getSubParams(h){const b=this._subParamsIdx[h]>>8,w=255&this._subParamsIdx[h];return w-b>0?this._subParams.subarray(b,w):null}getSubParamsAll(){const h={};for(let b=0;b<this.length;++b){const w=this._subParamsIdx[b]>>8,D=255&this._subParamsIdx[b];D-w>0&&(h[b]=this._subParams.slice(w,D))}return h}addDigit(h){let b;if(this._rejectDigits||!(b=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const w=this._digitIsSub?this._subParams:this.params,D=w[b-1];w[b-1]=~D?Math.min(10*D+h,m):h}}u.Params=v},5741:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AddonManager=void 0,u.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let m=this._addons.length-1;m>=0;m--)this._addons[m].instance.dispose()}loadAddon(m,v){const E={instance:v,dispose:v.dispose,isDisposed:!1};this._addons.push(E),v.dispose=()=>this._wrappedAddonDispose(E),v.activate(m)}_wrappedAddonDispose(m){if(m.isDisposed)return;let v=-1;for(let E=0;E<this._addons.length;E++)if(this._addons[E]===m){v=E;break}if(-1===v)throw new Error("Could not dispose an addon that has not been loaded");m.isDisposed=!0,m.dispose.apply(m.instance),this._addons.splice(v,1)}}},8771:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BufferApiView=void 0;const v=m(3785),E=m(511);u.BufferApiView=class{constructor(h,b){this._buffer=h,this.type=b}init(h){return this._buffer=h,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(h){const b=this._buffer.lines.get(h);if(b)return new v.BufferLineApiView(b)}getNullCell(){return new E.CellData}}},3785:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BufferLineApiView=void 0;const v=m(511);u.BufferLineApiView=class{constructor(E){this._line=E}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(E,h){if(!(E<0||E>=this._line.length))return h?(this._line.loadCell(E,h),h):this._line.loadCell(E,new v.CellData)}translateToString(E,h,b){return this._line.translateToString(E,h,b)}}},8285:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BufferNamespaceApi=void 0;const v=m(8771),E=m(8460),h=m(844);u.BufferNamespaceApi=class b extends h.Disposable{constructor(D){super(),this._core=D,this._onBufferChange=this.register(new E.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new v.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new v.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ParserApi=void 0,u.ParserApi=class{constructor(m){this._core=m}registerCsiHandler(m,v){return this._core.registerCsiHandler(m,E=>v(E.toArray()))}addCsiHandler(m,v){return this.registerCsiHandler(m,v)}registerDcsHandler(m,v){return this._core.registerDcsHandler(m,(E,h)=>v(E,h.toArray()))}addDcsHandler(m,v){return this.registerDcsHandler(m,v)}registerEscHandler(m,v){return this._core.registerEscHandler(m,v)}addEscHandler(m,v){return this.registerEscHandler(m,v)}registerOscHandler(m,v){return this._core.registerOscHandler(m,v)}addOscHandler(m,v){return this.registerOscHandler(m,v)}}},7090:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.UnicodeApi=void 0,u.UnicodeApi=class{constructor(m){this._core=m}register(m){this._core.unicodeService.register(m)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(m){this._core.unicodeService.activeVersion=m}}},744:function(y,u,m){var v=this&&this.__decorate||function(o,d,a,p){var x,P=arguments.length,N=P<3?d:null===p?p=Object.getOwnPropertyDescriptor(d,a):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(o,d,a,p);else for(var j=o.length-1;j>=0;j--)(x=o[j])&&(N=(P<3?x(N):P>3?x(d,a,N):x(d,a))||N);return P>3&&N&&Object.defineProperty(d,a,N),N},E=this&&this.__param||function(o,d){return function(a,p){d(a,p,o)}};Object.defineProperty(u,"__esModule",{value:!0}),u.BufferService=u.MINIMUM_ROWS=u.MINIMUM_COLS=void 0;const h=m(8460),b=m(844),w=m(5295),D=m(2585);u.MINIMUM_COLS=2,u.MINIMUM_ROWS=1;let _=u.BufferService=class extends b.Disposable{get buffer(){return this.buffers.active}constructor(o){super(),this.isUserScrolling=!1,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(o.rawOptions.cols||0,u.MINIMUM_COLS),this.rows=Math.max(o.rawOptions.rows||0,u.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(o,this))}resize(o,d){this.cols=o,this.rows=d,this.buffers.resize(o,d),this._onResize.fire({cols:o,rows:d})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(o,d=!1){const a=this.buffer;let p;p=this._cachedBlankLine,p&&p.length===this.cols&&p.getFg(0)===o.fg&&p.getBg(0)===o.bg||(p=a.getBlankLine(o,d),this._cachedBlankLine=p),p.isWrapped=d;const x=a.ybase+a.scrollTop,P=a.ybase+a.scrollBottom;if(0===a.scrollTop){const N=a.lines.isFull;P===a.lines.length-1?N?a.lines.recycle().copyFrom(p):a.lines.push(p.clone()):a.lines.splice(P+1,0,p.clone()),N?this.isUserScrolling&&(a.ydisp=Math.max(a.ydisp-1,0)):(a.ybase++,this.isUserScrolling||a.ydisp++)}else a.lines.shiftElements(x+1,P-x+1-1,-1),a.lines.set(P,p.clone());this.isUserScrolling||(a.ydisp=a.ybase),this._onScroll.fire(a.ydisp)}scrollLines(o,d,a){const p=this.buffer;if(o<0){if(0===p.ydisp)return;this.isUserScrolling=!0}else o+p.ydisp>=p.ybase&&(this.isUserScrolling=!1);const x=p.ydisp;p.ydisp=Math.max(Math.min(p.ydisp+o,p.ybase),0),x!==p.ydisp&&(d||this._onScroll.fire(p.ydisp))}};u.BufferService=_=v([E(0,D.IOptionsService)],_)},7994:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CharsetService=void 0,u.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(m){this.glevel=m,this.charset=this._charsets[m]}setgCharset(m,v){this._charsets[m]=v,this.glevel===m&&(this.charset=v)}}},1753:function(y,u,m){var v=this&&this.__decorate||function(p,x,P,N){var j,f=arguments.length,C=f<3?x:null===N?N=Object.getOwnPropertyDescriptor(x,P):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)C=Reflect.decorate(p,x,P,N);else for(var L=p.length-1;L>=0;L--)(j=p[L])&&(C=(f<3?j(C):f>3?j(x,P,C):j(x,P))||C);return f>3&&C&&Object.defineProperty(x,P,C),C},E=this&&this.__param||function(p,x){return function(P,N){x(P,N,p)}};Object.defineProperty(u,"__esModule",{value:!0}),u.CoreMouseService=void 0;const h=m(2585),b=m(8460),w=m(844),D={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:p=>4!==p.button&&1===p.action&&(p.ctrl=!1,p.alt=!1,p.shift=!1,!0)},VT200:{events:19,restrict:p=>32!==p.action},DRAG:{events:23,restrict:p=>32!==p.action||3!==p.button},ANY:{events:31,restrict:p=>!0}};function _(p,x){let P=(p.ctrl?16:0)|(p.shift?4:0)|(p.alt?8:0);return 4===p.button?(P|=64,P|=p.action):(P|=3&p.button,4&p.button&&(P|=64),8&p.button&&(P|=128),32===p.action?P|=32:0!==p.action||x||(P|=3)),P}const o=String.fromCharCode,d={DEFAULT:p=>{const x=[_(p,!1)+32,p.col+32,p.row+32];return x[0]>255||x[1]>255||x[2]>255?"":`\x1b[M${o(x[0])}${o(x[1])}${o(x[2])}`},SGR:p=>{const x=0===p.action&&4!==p.button?"m":"M";return`\x1b[<${_(p,!0)};${p.col};${p.row}${x}`},SGR_PIXELS:p=>{const x=0===p.action&&4!==p.button?"m":"M";return`\x1b[<${_(p,!0)};${p.x};${p.y}${x}`}};let a=u.CoreMouseService=class extends w.Disposable{constructor(p,x){super(),this._bufferService=p,this._coreService=x,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new b.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const P of Object.keys(D))this.addProtocol(P,D[P]);for(const P of Object.keys(d))this.addEncoding(P,d[P]);this.reset()}addProtocol(p,x){this._protocols[p]=x}addEncoding(p,x){this._encodings[p]=x}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(p){if(!this._protocols[p])throw new Error(`unknown protocol "${p}"`);this._activeProtocol=p,this._onProtocolChange.fire(this._protocols[p].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(p){if(!this._encodings[p])throw new Error(`unknown encoding "${p}"`);this._activeEncoding=p}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(p){if(p.col<0||p.col>=this._bufferService.cols||p.row<0||p.row>=this._bufferService.rows||4===p.button&&32===p.action||3===p.button&&32!==p.action||4!==p.button&&(2===p.action||3===p.action)||(p.col++,p.row++,32===p.action&&this._lastEvent&&this._equalEvents(this._lastEvent,p,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(p))return!1;const x=this._encodings[this._activeEncoding](p);return x&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(x):this._coreService.triggerDataEvent(x,!0)),this._lastEvent=p,!0}explainEvents(p){return{down:!!(1&p),up:!!(2&p),drag:!!(4&p),move:!!(8&p),wheel:!!(16&p)}}_equalEvents(p,x,P){if(P){if(p.x!==x.x||p.y!==x.y)return!1}else if(p.col!==x.col||p.row!==x.row)return!1;return p.button===x.button&&p.action===x.action&&p.ctrl===x.ctrl&&p.alt===x.alt&&p.shift===x.shift}};u.CoreMouseService=a=v([E(0,h.IBufferService),E(1,h.ICoreService)],a)},6975:function(y,u,m){var v=this&&this.__decorate||function(a,p,x,P){var N,j=arguments.length,f=j<3?p:null===P?P=Object.getOwnPropertyDescriptor(p,x):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(a,p,x,P);else for(var C=a.length-1;C>=0;C--)(N=a[C])&&(f=(j<3?N(f):j>3?N(p,x,f):N(p,x))||f);return j>3&&f&&Object.defineProperty(p,x,f),f},E=this&&this.__param||function(a,p){return function(x,P){p(x,P,a)}};Object.defineProperty(u,"__esModule",{value:!0}),u.CoreService=void 0;const h=m(1439),b=m(8460),w=m(844),D=m(2585),_=Object.freeze({insertMode:!1}),o=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let d=u.CoreService=class extends w.Disposable{constructor(a,p,x){super(),this._bufferService=a,this._logService=p,this._optionsService=x,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new b.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new b.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new b.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new b.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,h.clone)(_),this.decPrivateModes=(0,h.clone)(o)}reset(){this.modes=(0,h.clone)(_),this.decPrivateModes=(0,h.clone)(o)}triggerDataEvent(a,p=!1){if(this._optionsService.rawOptions.disableStdin)return;const x=this._bufferService.buffer;p&&this._optionsService.rawOptions.scrollOnUserInput&&x.ybase!==x.ydisp&&this._onRequestScrollToBottom.fire(),p&&this._onUserInput.fire(),this._logService.debug(`sending data "${a}"`,()=>a.split("").map(P=>P.charCodeAt(0))),this._onData.fire(a)}triggerBinaryEvent(a){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${a}"`,()=>a.split("").map(p=>p.charCodeAt(0))),this._onBinary.fire(a))}};u.CoreService=d=v([E(0,D.IBufferService),E(1,D.ILogService),E(2,D.IOptionsService)],d)},9074:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DecorationService=void 0;const v=m(8055),E=m(8460),h=m(844),b=m(6106);let w=0,D=0;u.DecorationService=class _ extends h.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new b.SortedList(a=>null==a?void 0:a.marker.line),this._onDecorationRegistered=this.register(new E.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new E.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,h.toDisposable)(()=>this.reset()))}registerDecoration(a){if(a.marker.isDisposed)return;const p=new o(a);if(p){const x=p.marker.onDispose(()=>p.dispose());p.onDispose(()=>{p&&(this._decorations.delete(p)&&this._onDecorationRemoved.fire(p),x.dispose())}),this._decorations.insert(p),this._onDecorationRegistered.fire(p)}return p}reset(){for(const a of this._decorations.values())a.dispose();this._decorations.clear()}*getDecorationsAtCell(a,p,x){var j,f,C;let P=0,N=0;for(const L of this._decorations.getKeyIterator(p))P=null!=(j=L.options.x)?j:0,N=P+(null!=(f=L.options.width)?f:1),a>=P&&a<N&&(!x||(null!=(C=L.options.layer)?C:"bottom")===x)&&(yield L)}forEachDecorationAtCell(a,p,x,P){this._decorations.forEachByKey(p,N=>{var j,f,C;w=null!=(j=N.options.x)?j:0,D=w+(null!=(f=N.options.width)?f:1),a>=w&&a<D&&(!x||(null!=(C=N.options.layer)?C:"bottom")===x)&&P(N)})}};class o extends h.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this._cachedBg=this.options.backgroundColor?v.css.toColor(this.options.backgroundColor):void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this._cachedFg=this.options.foregroundColor?v.css.toColor(this.options.foregroundColor):void 0),this._cachedFg}constructor(a){super(),this.options=a,this.onRenderEmitter=this.register(new E.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new E.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=a.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.InstantiationService=u.ServiceCollection=void 0;const v=m(2585),E=m(8343);class h{constructor(...w){this._entries=new Map;for(const[D,_]of w)this.set(D,_)}set(w,D){const _=this._entries.get(w);return this._entries.set(w,D),_}forEach(w){for(const[D,_]of this._entries.entries())w(D,_)}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}u.ServiceCollection=h,u.InstantiationService=class{constructor(){this._services=new h,this._services.set(v.IInstantiationService,this)}setService(b,w){this._services.set(b,w)}getService(b){return this._services.get(b)}createInstance(b,...w){const D=(0,E.getServiceDependencies)(b).sort((d,a)=>d.index-a.index),_=[];for(const d of D){const a=this._services.get(d.id);if(!a)throw new Error(`[createInstance] ${b.name} depends on UNKNOWN service ${d.id}.`);_.push(a)}const o=D.length>0?D[0].index:w.length;if(w.length!==o)throw new Error(`[createInstance] First service dependency of ${b.name} at position ${o+1} conflicts with ${w.length} static arguments`);return new b(...w,..._)}}},7866:function(y,u,m){var v=this&&this.__decorate||function(o,d,a,p){var x,P=arguments.length,N=P<3?d:null===p?p=Object.getOwnPropertyDescriptor(d,a):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(o,d,a,p);else for(var j=o.length-1;j>=0;j--)(x=o[j])&&(N=(P<3?x(N):P>3?x(d,a,N):x(d,a))||N);return P>3&&N&&Object.defineProperty(d,a,N),N},E=this&&this.__param||function(o,d){return function(a,p){d(a,p,o)}};Object.defineProperty(u,"__esModule",{value:!0}),u.traceCall=u.setTraceLogger=u.LogService=void 0;const h=m(844),b=m(2585),w={trace:b.LogLevelEnum.TRACE,debug:b.LogLevelEnum.DEBUG,info:b.LogLevelEnum.INFO,warn:b.LogLevelEnum.WARN,error:b.LogLevelEnum.ERROR,off:b.LogLevelEnum.OFF};let D,_=u.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(o){super(),this._optionsService=o,this._logLevel=b.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),D=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(o){for(let d=0;d<o.length;d++)"function"==typeof o[d]&&(o[d]=o[d]())}_log(o,d,a){this._evalLazyOptionalParams(a),o.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+d,...a)}trace(o,...d){var a,p;this._logLevel<=b.LogLevelEnum.TRACE&&this._log(null!=(p=null==(a=this._optionsService.options.logger)?void 0:a.trace.bind(this._optionsService.options.logger))?p:console.log,o,d)}debug(o,...d){var a,p;this._logLevel<=b.LogLevelEnum.DEBUG&&this._log(null!=(p=null==(a=this._optionsService.options.logger)?void 0:a.debug.bind(this._optionsService.options.logger))?p:console.log,o,d)}info(o,...d){var a,p;this._logLevel<=b.LogLevelEnum.INFO&&this._log(null!=(p=null==(a=this._optionsService.options.logger)?void 0:a.info.bind(this._optionsService.options.logger))?p:console.info,o,d)}warn(o,...d){var a,p;this._logLevel<=b.LogLevelEnum.WARN&&this._log(null!=(p=null==(a=this._optionsService.options.logger)?void 0:a.warn.bind(this._optionsService.options.logger))?p:console.warn,o,d)}error(o,...d){var a,p;this._logLevel<=b.LogLevelEnum.ERROR&&this._log(null!=(p=null==(a=this._optionsService.options.logger)?void 0:a.error.bind(this._optionsService.options.logger))?p:console.error,o,d)}};u.LogService=_=v([E(0,b.IOptionsService)],_),u.setTraceLogger=function(o){D=o},u.traceCall=function(o,d,a){if("function"!=typeof a.value)throw new Error("not supported");const p=a.value;a.value=function(...x){if(D.logLevel!==b.LogLevelEnum.TRACE)return p.apply(this,x);D.trace(`GlyphRenderer#${p.name}(${x.map(N=>JSON.stringify(N)).join(", ")})`);const P=p.apply(this,x);return D.trace(`GlyphRenderer#${p.name} return`,P),P}}},7302:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.OptionsService=u.DEFAULT_OPTIONS=void 0;const v=m(8460),E=m(844),h=m(6114);u.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:h.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const b=["normal","bold","100","200","300","400","500","600","700","800","900"];u.OptionsService=class w extends E.Disposable{constructor(_){super(),this._onOptionChange=this.register(new v.EventEmitter),this.onOptionChange=this._onOptionChange.event;const o=kl({},u.DEFAULT_OPTIONS);for(const d in _)if(d in o)try{o[d]=this._sanitizeAndValidateOption(d,_[d])}catch(a){console.error(a)}this.rawOptions=o,this.options=kl({},o),this._setupOptions(),this.register((0,E.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(_,o){return this.onOptionChange(d=>{d===_&&o(this.rawOptions[_])})}onMultipleOptionChange(_,o){return this.onOptionChange(d=>{-1!==_.indexOf(d)&&o()})}_setupOptions(){const _=d=>{if(!(d in u.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);return this.rawOptions[d]},o=(d,a)=>{if(!(d in u.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);a=this._sanitizeAndValidateOption(d,a),this.rawOptions[d]!==a&&(this.rawOptions[d]=a,this._onOptionChange.fire(d))};for(const d in this.rawOptions){const a={get:_.bind(this,d),set:o.bind(this,d)};Object.defineProperty(this.options,d,a)}}_sanitizeAndValidateOption(_,o){switch(_){case"cursorStyle":if(o||(o=u.DEFAULT_OPTIONS[_]),"block"!==(d=o)&&"underline"!==d&&"bar"!==d)throw new Error(`"${o}" is not a valid value for ${_}`);break;case"wordSeparator":o||(o=u.DEFAULT_OPTIONS[_]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof o&&1<=o&&o<=1e3)break;o=b.includes(o)?o:u.DEFAULT_OPTIONS[_];break;case"cursorWidth":o=Math.floor(o);case"lineHeight":case"tabStopWidth":if(o<1)throw new Error(`${_} cannot be less than 1, value: ${o}`);break;case"minimumContrastRatio":o=Math.max(1,Math.min(21,Math.round(10*o)/10));break;case"scrollback":if((o=Math.min(o,4294967295))<0)throw new Error(`${_} cannot be less than 0, value: ${o}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(o<=0)throw new Error(`${_} cannot be less than or equal to 0, value: ${o}`);break;case"rows":case"cols":if(!o&&0!==o)throw new Error(`${_} must be numeric, value: ${o}`);break;case"windowsPty":o=null!=o?o:{}}var d;return o}}},2660:function(y,u,m){var v=this&&this.__decorate||function(w,D,_,o){var d,a=arguments.length,p=a<3?D:null===o?o=Object.getOwnPropertyDescriptor(D,_):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(w,D,_,o);else for(var x=w.length-1;x>=0;x--)(d=w[x])&&(p=(a<3?d(p):a>3?d(D,_,p):d(D,_))||p);return a>3&&p&&Object.defineProperty(D,_,p),p},E=this&&this.__param||function(w,D){return function(_,o){D(_,o,w)}};Object.defineProperty(u,"__esModule",{value:!0}),u.OscLinkService=void 0;const h=m(2585);let b=u.OscLinkService=class{constructor(w){this._bufferService=w,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(w){const D=this._bufferService.buffer;if(void 0===w.id){const x=D.addMarker(D.ybase+D.y),P={data:w,id:this._nextId++,lines:[x]};return x.onDispose(()=>this._removeMarkerFromLink(P,x)),this._dataByLinkId.set(P.id,P),P.id}const _=w,o=this._getEntryIdKey(_),d=this._entriesWithId.get(o);if(d)return this.addLineToLink(d.id,D.ybase+D.y),d.id;const a=D.addMarker(D.ybase+D.y),p={id:this._nextId++,key:this._getEntryIdKey(_),data:_,lines:[a]};return a.onDispose(()=>this._removeMarkerFromLink(p,a)),this._entriesWithId.set(p.key,p),this._dataByLinkId.set(p.id,p),p.id}addLineToLink(w,D){const _=this._dataByLinkId.get(w);if(_&&_.lines.every(o=>o.line!==D)){const o=this._bufferService.buffer.addMarker(D);_.lines.push(o),o.onDispose(()=>this._removeMarkerFromLink(_,o))}}getLinkData(w){var D;return null==(D=this._dataByLinkId.get(w))?void 0:D.data}_getEntryIdKey(w){return`${w.id};;${w.uri}`}_removeMarkerFromLink(w,D){const _=w.lines.indexOf(D);-1!==_&&(w.lines.splice(_,1),0===w.lines.length&&(void 0!==w.data.id&&this._entriesWithId.delete(w.key),this._dataByLinkId.delete(w.id)))}};u.OscLinkService=b=v([E(0,h.IBufferService)],b)},8343:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.createDecorator=u.getServiceDependencies=u.serviceRegistry=void 0;const m="di$target",v="di$dependencies";u.serviceRegistry=new Map,u.getServiceDependencies=function(E){return E[v]||[]},u.createDecorator=function(E){if(u.serviceRegistry.has(E))return u.serviceRegistry.get(E);const h=function(b,w,D){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");var _,o,d;_=h,d=D,(o=b)[m]===o?o[v].push({id:_,index:d}):(o[v]=[{id:_,index:d}],o[m]=o)};return h.toString=()=>E,u.serviceRegistry.set(E,h),h}},2585:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.IDecorationService=u.IUnicodeService=u.IOscLinkService=u.IOptionsService=u.ILogService=u.LogLevelEnum=u.IInstantiationService=u.ICharsetService=u.ICoreService=u.ICoreMouseService=u.IBufferService=void 0;const v=m(8343);var E,h;u.IBufferService=(0,v.createDecorator)("BufferService"),u.ICoreMouseService=(0,v.createDecorator)("CoreMouseService"),u.ICoreService=(0,v.createDecorator)("CoreService"),u.ICharsetService=(0,v.createDecorator)("CharsetService"),u.IInstantiationService=(0,v.createDecorator)("InstantiationService"),(h=E||(u.LogLevelEnum=E={}))[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF",u.ILogService=(0,v.createDecorator)("LogService"),u.IOptionsService=(0,v.createDecorator)("OptionsService"),u.IOscLinkService=(0,v.createDecorator)("OscLinkService"),u.IUnicodeService=(0,v.createDecorator)("UnicodeService"),u.IDecorationService=(0,v.createDecorator)("DecorationService")},1480:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.UnicodeService=void 0;const v=m(8460),E=m(225);class h{static extractShouldJoin(w){return 0!=(1&w)}static extractWidth(w){return w>>1&3}static extractCharKind(w){return w>>3}static createPropertyValue(w,D,_=!1){return(16777215&w)<<3|(3&D)<<1|(_?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new v.EventEmitter,this.onChange=this._onChange.event;const w=new E.UnicodeV6;this.register(w),this._active=w.version,this._activeProvider=w}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(w){if(!this._providers[w])throw new Error(`unknown Unicode version "${w}"`);this._active=w,this._activeProvider=this._providers[w],this._onChange.fire(w)}register(w){this._providers[w.version]=w}wcwidth(w){return this._activeProvider.wcwidth(w)}getStringCellWidth(w){let D=0,_=0;const o=w.length;for(let d=0;d<o;++d){let a=w.charCodeAt(d);if(55296<=a&&a<=56319){if(++d>=o)return D+this.wcwidth(a);const P=w.charCodeAt(d);56320<=P&&P<=57343?a=1024*(a-55296)+P-56320+65536:D+=this.wcwidth(P)}const p=this.charProperties(a,_);let x=h.extractWidth(p);h.extractShouldJoin(p)&&(x-=h.extractWidth(_)),D+=x,_=p}return D}charProperties(w,D){return this._activeProvider.charProperties(w,D)}}u.UnicodeService=h}},G={};function S(y){var u=G[y];if(void 0!==u)return u.exports;var m=G[y]={exports:{}};return Le[y].call(m.exports,m,m.exports,S),m.exports}var z={};return(()=>{var y=z;Object.defineProperty(y,"__esModule",{value:!0}),y.Terminal=void 0;const u=S(9042),m=S(3236),v=S(844),E=S(5741),h=S(8285),b=S(7975),w=S(7090),D=["cols","rows"];y.Terminal=class _ extends v.Disposable{constructor(d){super(),this._core=this.register(new m.Terminal(d)),this._addonManager=this.register(new E.AddonManager),this._publicOptions=kl({},this._core.options);const a=x=>this._core.options[x],p=(x,P)=>{this._checkReadonlyOptions(x),this._core.options[x]=P};for(const x in this._core.options){const P={get:a.bind(this,x),set:p.bind(this,x)};Object.defineProperty(this._publicOptions,x,P)}}_checkReadonlyOptions(d){if(D.includes(d))throw new Error(`Option "${d}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new b.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new w.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new h.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const d=this._core.coreService.decPrivateModes;let a="none";switch(this._core.coreMouseService.activeProtocol){case"X10":a="x10";break;case"VT200":a="vt200";break;case"DRAG":a="drag";break;case"ANY":a="any"}return{applicationCursorKeysMode:d.applicationCursorKeys,applicationKeypadMode:d.applicationKeypad,bracketedPasteMode:d.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:a,originMode:d.origin,reverseWraparoundMode:d.reverseWraparound,sendFocusMode:d.sendFocus,wraparoundMode:d.wraparound}}get options(){return this._publicOptions}set options(d){for(const a in d)this._publicOptions[a]=d[a]}blur(){this._core.blur()}focus(){this._core.focus()}input(d,a=!0){this._core.input(d,a)}resize(d,a){this._verifyIntegers(d,a),this._core.resize(d,a)}open(d){this._core.open(d)}attachCustomKeyEventHandler(d){this._core.attachCustomKeyEventHandler(d)}attachCustomWheelEventHandler(d){this._core.attachCustomWheelEventHandler(d)}registerLinkProvider(d){return this._core.registerLinkProvider(d)}registerCharacterJoiner(d){return this._checkProposedApi(),this._core.registerCharacterJoiner(d)}deregisterCharacterJoiner(d){this._checkProposedApi(),this._core.deregisterCharacterJoiner(d)}registerMarker(d=0){return this._verifyIntegers(d),this._core.registerMarker(d)}registerDecoration(d){var a,p,x;return this._checkProposedApi(),this._verifyPositiveIntegers(null!=(a=d.x)?a:0,null!=(p=d.width)?p:0,null!=(x=d.height)?x:0),this._core.registerDecoration(d)}hasSelection(){return this._core.hasSelection()}select(d,a,p){this._verifyIntegers(d,a,p),this._core.select(d,a,p)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(d,a){this._verifyIntegers(d,a),this._core.selectLines(d,a)}dispose(){super.dispose()}scrollLines(d){this._verifyIntegers(d),this._core.scrollLines(d)}scrollPages(d){this._verifyIntegers(d),this._core.scrollPages(d)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(d){this._verifyIntegers(d),this._core.scrollToLine(d)}clear(){this._core.clear()}write(d,a){this._core.write(d,a)}writeln(d,a){this._core.write(d),this._core.write("\r\n",a)}paste(d){this._core.paste(d)}refresh(d,a){this._verifyIntegers(d,a),this._core.refresh(d,a)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(d){this._addonManager.loadAddon(this,d)}static get strings(){return u}_verifyIntegers(...d){for(const a of d)if(a===1/0||isNaN(a)||a%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...d){for(const a of d)if(a&&(a===1/0||isNaN(a)||a%1!=0||a<0))throw new Error("This API only accepts positive integers")}}})(),z})())()},6224:(et,Le,G)=>{"use strict";G.d(Le,{Y:()=>b,s:()=>w});var S=G(9808),z=G(5e3);function y(D,_){1&D&&z._UZ(0,"div",9)}function u(D,_){if(1&D&&(z.TgZ(0,"span",10),z._uU(1),z.qZA()),2&D){const o=z.oxw().$implicit;z.xp6(1),z.Oqu(o.description)}}function m(D,_){if(1&D&&(z.TgZ(0,"section",11),z._UZ(1,"ngx-json-viewer",12),z.qZA()),2&D){const o=z.oxw().$implicit,d=z.oxw();z.xp6(1),z.Q6J("json",o.value)("expanded",d.expanded)}}const v=function(D){return["segment",D]},E=function(D,_){return{"segment-main":!0,expandable:D,expanded:_}};function h(D,_){if(1&D){const o=z.EpF();z.TgZ(0,"section",2)(1,"section",3),z.NdJ("click",function(){const p=z.CHM(o).$implicit,x=z.oxw();return z.KtG(x.toggle(p))}),z.YNc(2,y,1,0,"div",4),z.TgZ(3,"span",5),z._uU(4),z.qZA(),z.TgZ(5,"span",6),z._uU(6,": "),z.qZA(),z.YNc(7,u,2,1,"span",7),z.qZA(),z.YNc(8,m,2,2,"section",8),z.qZA()}if(2&D){const o=_.$implicit,d=z.oxw();z.Q6J("ngClass",z.VKq(6,v,"segment-type-"+o.type)),z.xp6(1),z.Q6J("ngClass",z.WLB(8,E,d.isExpandable(o),o.expanded)),z.xp6(1),z.Q6J("ngIf",d.isExpandable(o)),z.xp6(2),z.Oqu(o.key),z.xp6(3),z.Q6J("ngIf",!o.expanded||!d.isExpandable(o)),z.xp6(1),z.Q6J("ngIf",o.expanded&&d.isExpandable(o))}}let b=(()=>{class D{constructor(){this.expanded=!0,this.cleanOnChange=!0,this.segments=[]}ngOnChanges(){this.cleanOnChange&&(this.segments=[]),"object"==typeof this.json?Object.keys(this.json).forEach(o=>{this.segments.push(this.parseKeyValue(o,this.json[o]))}):this.segments.push(this.parseKeyValue(`(${typeof this.json})`,this.json))}isExpandable(o){return"object"===o.type||"array"===o.type}toggle(o){this.isExpandable(o)&&(o.expanded=!o.expanded)}parseKeyValue(o,d){const a={key:o,value:d,type:void 0,description:""+d,expanded:this.expanded};switch(typeof a.value){case"number":a.type="number";break;case"boolean":a.type="boolean";break;case"function":a.type="function";break;case"string":a.type="string",a.description='"'+a.value+'"';break;case"undefined":a.type="undefined",a.description="undefined";break;case"object":null===a.value?(a.type="null",a.description="null"):Array.isArray(a.value)?(a.type="array",a.description="Array["+a.value.length+"] "+JSON.stringify(a.value)):a.value instanceof Date?a.type="date":(a.type="object",a.description="Object "+JSON.stringify(a.value))}return a}}return D.\u0275fac=function(o){return new(o||D)},D.\u0275cmp=z.Xpm({type:D,selectors:[["ngx-json-viewer"]],inputs:{expanded:"expanded",cleanOnChange:"cleanOnChange",json:"json"},features:[z.TTD],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded"]],template:function(o,d){1&o&&(z.TgZ(0,"section",0),z.YNc(1,h,9,11,"section",1),z.qZA()),2&o&&(z.xp6(1),z.Q6J("ngForOf",d.segments))},dependencies:[S.mk,S.sg,S.O5,D],styles:['@charset "UTF-8";\n    .ngx-json-viewer[_ngcontent-%COMP%] {\n      font-family: monospace;\n      font-size: 1em;\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n      position: relative; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%] {\n        padding: 2px;\n        margin: 1px 1px 1px 12px; }\n        .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%] {\n          word-wrap: break-word; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%] {\n            position: absolute;\n            margin-left: -14px;\n            margin-top: 3px;\n            font-size: .8em;\n            line-height: 1.2em;\n            vertical-align: middle;\n            color: #787878; }\n            .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]::after {\n              display: inline-block;\n              content: "\u25ba";\n              -webkit-transition: -webkit-transform 0.1s ease-in;\n              transition: -webkit-transform 0.1s ease-in;\n              transition: transform 0.1s ease-in;\n              transition: transform 0.1s ease-in, -webkit-transform 0.1s ease-in; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%] {\n            color: #4E187C; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%] {\n            color: #999; }\n          .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%] {\n            color: #000; }\n        .ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%] {\n          margin-left: 12px; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #FF6B6B; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #009688; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #b938a4; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #05668D; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #fff; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        color: #fff; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        background-color: red; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-key[_ngcontent-%COMP%] {\n        color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%]    > .segment-value[_ngcontent-%COMP%] {\n        background-color: #999; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%]    > .segment-main[_ngcontent-%COMP%] {\n        white-space: nowrap; }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%]    > .toggler[_ngcontent-%COMP%]::after {\n        -webkit-transform: rotate(90deg);\n                transform: rotate(90deg); }\n      .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]    > .toggler[_ngcontent-%COMP%] {\n        cursor: pointer; }']}),D})(),w=(()=>{class D{}return D.\u0275fac=function(o){return new(o||D)},D.\u0275mod=z.oAB({type:D}),D.\u0275inj=z.cJS({imports:[S.ez]}),D})()},8306:(et,Le,G)=>{"use strict";G.d(Le,{y:()=>w});var S=G(930),z=G(727),y=G(8822),u=G(4671);var E=G(2416),h=G(576),b=G(2806);let w=(()=>{class d{constructor(p){p&&(this._subscribe=p)}lift(p){const x=new d;return x.source=this,x.operator=p,x}subscribe(p,x,P){const N=function o(d){return d&&d instanceof S.Lv||function _(d){return d&&(0,h.m)(d.next)&&(0,h.m)(d.error)&&(0,h.m)(d.complete)}(d)&&(0,z.Nn)(d)}(p)?p:new S.Hp(p,x,P);return(0,b.x)(()=>{const{operator:j,source:f}=this;N.add(j?j.call(N,f):f?this._subscribe(N):this._trySubscribe(N))}),N}_trySubscribe(p){try{return this._subscribe(p)}catch(x){p.error(x)}}forEach(p,x){return new(x=D(x))((P,N)=>{const j=new S.Hp({next:f=>{try{p(f)}catch(C){N(C),j.unsubscribe()}},error:N,complete:P});this.subscribe(j)})}_subscribe(p){var x;return null===(x=this.source)||void 0===x?void 0:x.subscribe(p)}[y.L](){return this}pipe(...p){return function v(d){return 0===d.length?u.y:1===d.length?d[0]:function(p){return d.reduce((x,P)=>P(x),p)}}(p)(this)}toPromise(p){return new(p=D(p))((x,P)=>{let N;this.subscribe(j=>N=j,j=>P(j),()=>x(N))})}}return d.create=a=>new d(a),d})();function D(d){var a;return null!==(a=null!=d?d:E.v.Promise)&&void 0!==a?a:Promise}},7579:(et,Le,G)=>{"use strict";G.d(Le,{x:()=>E});var S=G(8306),z=G(727);const u=(0,G(3888).d)(b=>function(){b(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var m=G(8737),v=G(2806);let E=(()=>{class b extends S.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(D){const _=new h(this,this);return _.operator=D,_}_throwIfClosed(){if(this.closed)throw new u}next(D){(0,v.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _ of this.currentObservers)_.next(D)}})}error(D){(0,v.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=D;const{observers:_}=this;for(;_.length;)_.shift().error(D)}})}complete(){(0,v.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:D}=this;for(;D.length;)D.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var D;return(null===(D=this.observers)||void 0===D?void 0:D.length)>0}_trySubscribe(D){return this._throwIfClosed(),super._trySubscribe(D)}_subscribe(D){return this._throwIfClosed(),this._checkFinalizedStatuses(D),this._innerSubscribe(D)}_innerSubscribe(D){const{hasError:_,isStopped:o,observers:d}=this;return _||o?z.Lc:(this.currentObservers=null,d.push(D),new z.w0(()=>{this.currentObservers=null,(0,m.P)(d,D)}))}_checkFinalizedStatuses(D){const{hasError:_,thrownError:o,isStopped:d}=this;_?D.error(o):d&&D.complete()}asObservable(){const D=new S.y;return D.source=this,D}}return b.create=(w,D)=>new h(w,D),b})();class h extends E{constructor(w,D){super(),this.destination=w,this.source=D}next(w){var D,_;null===(_=null===(D=this.destination)||void 0===D?void 0:D.next)||void 0===_||_.call(D,w)}error(w){var D,_;null===(_=null===(D=this.destination)||void 0===D?void 0:D.error)||void 0===_||_.call(D,w)}complete(){var w,D;null===(D=null===(w=this.destination)||void 0===w?void 0:w.complete)||void 0===D||D.call(w)}_subscribe(w){var D,_;return null!==(_=null===(D=this.source)||void 0===D?void 0:D.subscribe(w))&&void 0!==_?_:z.Lc}}},930:(et,Le,G)=>{"use strict";G.d(Le,{Hp:()=>p,Lv:()=>_});var S=G(576),z=G(727),y=G(2416),u=G(7849),m=G(5032);const v=b("C",void 0,void 0);function b(f,C,L){return{kind:f,value:C,error:L}}var w=G(3410),D=G(2806);class _ extends z.w0{constructor(C){super(),this.isStopped=!1,C?(this.destination=C,(0,z.Nn)(C)&&C.add(this)):this.destination=j}static create(C,L,R){return new p(C,L,R)}next(C){this.isStopped?N(function h(f){return b("N",f,void 0)}(C),this):this._next(C)}error(C){this.isStopped?N(function E(f){return b("E",void 0,f)}(C),this):(this.isStopped=!0,this._error(C))}complete(){this.isStopped?N(v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(C){this.destination.next(C)}_error(C){try{this.destination.error(C)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const o=Function.prototype.bind;function d(f,C){return o.call(f,C)}class a{constructor(C){this.partialObserver=C}next(C){const{partialObserver:L}=this;if(L.next)try{L.next(C)}catch(R){x(R)}}error(C){const{partialObserver:L}=this;if(L.error)try{L.error(C)}catch(R){x(R)}else x(C)}complete(){const{partialObserver:C}=this;if(C.complete)try{C.complete()}catch(L){x(L)}}}class p extends _{constructor(C,L,R){let H;if(super(),(0,S.m)(C)||!C)H={next:null!=C?C:void 0,error:null!=L?L:void 0,complete:null!=R?R:void 0};else{let K;this&&y.v.useDeprecatedNextContext?(K=Object.create(C),K.unsubscribe=()=>this.unsubscribe(),H={next:C.next&&d(C.next,K),error:C.error&&d(C.error,K),complete:C.complete&&d(C.complete,K)}):H=C}this.destination=new a(H)}}function x(f){y.v.useDeprecatedSynchronousErrorHandling?(0,D.O)(f):(0,u.h)(f)}function N(f,C){const{onStoppedNotification:L}=y.v;L&&w.z.setTimeout(()=>L(f,C))}const j={closed:!0,next:m.Z,error:function P(f){throw f},complete:m.Z}},727:(et,Le,G)=>{"use strict";G.d(Le,{Lc:()=>v,w0:()=>m,Nn:()=>E});var S=G(576);const y=(0,G(3888).d)(b=>function(D){b(this),this.message=D?`${D.length} errors occurred during unsubscription:\n${D.map((_,o)=>`${o+1}) ${_.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=D});var u=G(8737);class m{constructor(w){this.initialTeardown=w,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let w;if(!this.closed){this.closed=!0;const{_parentage:D}=this;if(D)if(this._parentage=null,Array.isArray(D))for(const d of D)d.remove(this);else D.remove(this);const{initialTeardown:_}=this;if((0,S.m)(_))try{_()}catch(d){w=d instanceof y?d.errors:[d]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const d of o)try{h(d)}catch(a){w=null!=w?w:[],a instanceof y?w=[...w,...a.errors]:w.push(a)}}if(w)throw new y(w)}}add(w){var D;if(w&&w!==this)if(this.closed)h(w);else{if(w instanceof m){if(w.closed||w._hasParent(this))return;w._addParent(this)}(this._finalizers=null!==(D=this._finalizers)&&void 0!==D?D:[]).push(w)}}_hasParent(w){const{_parentage:D}=this;return D===w||Array.isArray(D)&&D.includes(w)}_addParent(w){const{_parentage:D}=this;this._parentage=Array.isArray(D)?(D.push(w),D):D?[D,w]:w}_removeParent(w){const{_parentage:D}=this;D===w?this._parentage=null:Array.isArray(D)&&(0,u.P)(D,w)}remove(w){const{_finalizers:D}=this;D&&(0,u.P)(D,w),w instanceof m&&w._removeParent(this)}}m.EMPTY=(()=>{const b=new m;return b.closed=!0,b})();const v=m.EMPTY;function E(b){return b instanceof m||b&&"closed"in b&&(0,S.m)(b.remove)&&(0,S.m)(b.add)&&(0,S.m)(b.unsubscribe)}function h(b){(0,S.m)(b)?b():b.unsubscribe()}},2416:(et,Le,G)=>{"use strict";G.d(Le,{v:()=>S});const S={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(et,Le,G)=>{"use strict";G.d(Le,{z:()=>m});var S=G(8189),y=G(3269),u=G(2076);function m(...v){return function z(){return(0,S.J)(1)}()((0,u.D)(v,(0,y.yG)(v)))}},515:(et,Le,G)=>{"use strict";G.d(Le,{E:()=>z});const z=new(G(8306).y)(m=>m.complete())},2076:(et,Le,G)=>{"use strict";G.d(Le,{D:()=>R});var S=G(8421),z=G(9672),y=G(4482),u=G(5403);function m(H,K=0){return(0,y.e)((X,oe)=>{X.subscribe((0,u.x)(oe,ae=>(0,z.f)(oe,H,()=>oe.next(ae),K),()=>(0,z.f)(oe,H,()=>oe.complete(),K),ae=>(0,z.f)(oe,H,()=>oe.error(ae),K)))})}function v(H,K=0){return(0,y.e)((X,oe)=>{oe.add(H.schedule(()=>X.subscribe(oe),K))})}var b=G(8306),D=G(2202),_=G(576);function d(H,K){if(!H)throw new Error("Iterable cannot be null");return new b.y(X=>{(0,z.f)(X,K,()=>{const oe=H[Symbol.asyncIterator]();(0,z.f)(X,K,()=>{oe.next().then(ae=>{ae.done?X.complete():X.next(ae.value)})},0,!0)})})}var a=G(3670),p=G(8239),x=G(1144),P=G(6495),N=G(2206),j=G(4532),f=G(3260);function R(H,K){return K?function L(H,K){if(null!=H){if((0,a.c)(H))return function E(H,K){return(0,S.Xf)(H).pipe(v(K),m(K))}(H,K);if((0,x.z)(H))return function w(H,K){return new b.y(X=>{let oe=0;return K.schedule(function(){oe===H.length?X.complete():(X.next(H[oe++]),X.closed||this.schedule())})})}(H,K);if((0,p.t)(H))return function h(H,K){return(0,S.Xf)(H).pipe(v(K),m(K))}(H,K);if((0,N.D)(H))return d(H,K);if((0,P.T)(H))return function o(H,K){return new b.y(X=>{let oe;return(0,z.f)(X,K,()=>{oe=H[D.h](),(0,z.f)(X,K,()=>{let ae,Me;try{({value:ae,done:Me}=oe.next())}catch(Ce){return void X.error(Ce)}Me?X.complete():X.next(ae)},0,!0)}),()=>(0,_.m)(null==oe?void 0:oe.return)&&oe.return()})}(H,K);if((0,f.L)(H))return function C(H,K){return d((0,f.Q)(H),K)}(H,K)}throw(0,j.z)(H)}(H,K):(0,S.Xf)(H)}},4968:(et,Le,G)=>{"use strict";G.d(Le,{R:()=>w});var S=G(8421),z=G(8306),y=G(5577),u=G(1144),m=G(576),v=G(3268);const E=["addListener","removeListener"],h=["addEventListener","removeEventListener"],b=["on","off"];function w(a,p,x,P){if((0,m.m)(x)&&(P=x,x=void 0),P)return w(a,p,x).pipe((0,v.Z)(P));const[N,j]=function d(a){return(0,m.m)(a.addEventListener)&&(0,m.m)(a.removeEventListener)}(a)?h.map(f=>C=>a[f](p,C,x)):function _(a){return(0,m.m)(a.addListener)&&(0,m.m)(a.removeListener)}(a)?E.map(D(a,p)):function o(a){return(0,m.m)(a.on)&&(0,m.m)(a.off)}(a)?b.map(D(a,p)):[];if(!N&&(0,u.z)(a))return(0,y.z)(f=>w(f,p,x))((0,S.Xf)(a));if(!N)throw new TypeError("Invalid event target");return new z.y(f=>{const C=(...L)=>f.next(1<L.length?L:L[0]);return N(C),()=>j(C)})}function D(a,p){return x=>P=>a[x](p,P)}},8421:(et,Le,G)=>{"use strict";G.d(Le,{Xf:()=>o});var S=G(7582),z=G(1144),y=G(8239),u=G(8306),m=G(3670),v=G(2206),E=G(4532),h=G(6495),b=G(3260),w=G(576),D=G(7849),_=G(8822);function o(f){if(f instanceof u.y)return f;if(null!=f){if((0,m.c)(f))return function d(f){return new u.y(C=>{const L=f[_.L]();if((0,w.m)(L.subscribe))return L.subscribe(C);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(f);if((0,z.z)(f))return function a(f){return new u.y(C=>{for(let L=0;L<f.length&&!C.closed;L++)C.next(f[L]);C.complete()})}(f);if((0,y.t)(f))return function p(f){return new u.y(C=>{f.then(L=>{C.closed||(C.next(L),C.complete())},L=>C.error(L)).then(null,D.h)})}(f);if((0,v.D)(f))return P(f);if((0,h.T)(f))return function x(f){return new u.y(C=>{for(const L of f)if(C.next(L),C.closed)return;C.complete()})}(f);if((0,b.L)(f))return function N(f){return P((0,b.Q)(f))}(f)}throw(0,E.z)(f)}function P(f){return new u.y(C=>{(function j(f,C){var L,R,H,K;return(0,S.mG)(this,void 0,void 0,function*(){try{for(L=(0,S.KL)(f);!(R=yield L.next()).done;)if(C.next(R.value),C.closed)return}catch(X){H={error:X}}finally{try{R&&!R.done&&(K=L.return)&&(yield K.call(L))}finally{if(H)throw H.error}}C.complete()})})(f,C).catch(L=>C.error(L))})}},6451:(et,Le,G)=>{"use strict";G.d(Le,{T:()=>v});var S=G(8189),z=G(8421),y=G(515),u=G(3269),m=G(2076);function v(...E){const h=(0,u.yG)(E),b=(0,u._6)(E,1/0),w=E;return w.length?1===w.length?(0,z.Xf)(w[0]):(0,S.J)(b)((0,m.D)(w,h)):y.E}},9646:(et,Le,G)=>{"use strict";G.d(Le,{of:()=>y});var S=G(3269),z=G(2076);function y(...u){const m=(0,S.yG)(u);return(0,z.D)(u,m)}},5403:(et,Le,G)=>{"use strict";G.d(Le,{x:()=>z});var S=G(930);function z(u,m,v,E,h){return new y(u,m,v,E,h)}class y extends S.Lv{constructor(m,v,E,h,b,w){super(m),this.onFinalize=b,this.shouldUnsubscribe=w,this._next=v?function(D){try{v(D)}catch(_){m.error(_)}}:super._next,this._error=h?function(D){try{h(D)}catch(_){m.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=E?function(){try{E()}catch(D){m.error(D)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var m;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:v}=this;super.unsubscribe(),!v&&(null===(m=this.onFinalize)||void 0===m||m.call(this))}}}},8372:(et,Le,G)=>{"use strict";G.d(Le,{b:()=>u});var S=G(4986),z=G(4482),y=G(5403);function u(m,v=S.z){return(0,z.e)((E,h)=>{let b=null,w=null,D=null;const _=()=>{if(b){b.unsubscribe(),b=null;const d=w;w=null,h.next(d)}};function o(){const d=D+m,a=v.now();if(a<d)return b=this.schedule(void 0,d-a),void h.add(b);_()}E.subscribe((0,y.x)(h,d=>{w=d,D=v.now(),b||(b=v.schedule(o,m),h.add(b))},()=>{_(),h.complete()},void 0,()=>{w=b=null}))})}},1884:(et,Le,G)=>{"use strict";G.d(Le,{x:()=>u});var S=G(4671),z=G(4482),y=G(5403);function u(v,E=S.y){return v=null!=v?v:m,(0,z.e)((h,b)=>{let w,D=!0;h.subscribe((0,y.x)(b,_=>{const o=E(_);(D||!v(w,o))&&(D=!1,w=o,b.next(_))}))})}function m(v,E){return v===E}},9300:(et,Le,G)=>{"use strict";G.d(Le,{h:()=>y});var S=G(4482),z=G(5403);function y(u,m){return(0,S.e)((v,E)=>{let h=0;v.subscribe((0,z.x)(E,b=>u.call(m,b,h++)&&E.next(b)))})}},4004:(et,Le,G)=>{"use strict";G.d(Le,{U:()=>y});var S=G(4482),z=G(5403);function y(u,m){return(0,S.e)((v,E)=>{let h=0;v.subscribe((0,z.x)(E,b=>{E.next(u.call(m,b,h++))}))})}},8189:(et,Le,G)=>{"use strict";G.d(Le,{J:()=>y});var S=G(5577),z=G(4671);function y(u=1/0){return(0,S.z)(z.y,u)}},5577:(et,Le,G)=>{"use strict";G.d(Le,{z:()=>h});var S=G(4004),z=G(8421),y=G(4482),u=G(9672),m=G(5403),E=G(576);function h(b,w,D=1/0){return(0,E.m)(w)?h((_,o)=>(0,S.U)((d,a)=>w(_,d,o,a))((0,z.Xf)(b(_,o))),D):("number"==typeof w&&(D=w),(0,y.e)((_,o)=>function v(b,w,D,_,o,d,a,p){const x=[];let P=0,N=0,j=!1;const f=()=>{j&&!x.length&&!P&&w.complete()},C=R=>P<_?L(R):x.push(R),L=R=>{d&&w.next(R),P++;let H=!1;(0,z.Xf)(D(R,N++)).subscribe((0,m.x)(w,K=>{null==o||o(K),d?C(K):w.next(K)},()=>{H=!0},void 0,()=>{if(H)try{for(P--;x.length&&P<_;){const K=x.shift();a?(0,u.f)(w,a,()=>L(K)):L(K)}f()}catch(K){w.error(K)}}))};return b.subscribe((0,m.x)(w,C,()=>{j=!0,f()})),()=>{null==p||p()}}(_,o,b,D)))}},3099:(et,Le,G)=>{"use strict";G.d(Le,{B:()=>m});var S=G(8421),z=G(7579),y=G(930),u=G(4482);function m(E={}){const{connector:h=(()=>new z.x),resetOnError:b=!0,resetOnComplete:w=!0,resetOnRefCountZero:D=!0}=E;return _=>{let o,d,a,p=0,x=!1,P=!1;const N=()=>{null==d||d.unsubscribe(),d=void 0},j=()=>{N(),o=a=void 0,x=P=!1},f=()=>{const C=o;j(),null==C||C.unsubscribe()};return(0,u.e)((C,L)=>{p++,!P&&!x&&N();const R=a=null!=a?a:h();L.add(()=>{p--,0===p&&!P&&!x&&(d=v(f,D))}),R.subscribe(L),!o&&p>0&&(o=new y.Hp({next:H=>R.next(H),error:H=>{P=!0,N(),d=v(j,b,H),R.error(H)},complete:()=>{x=!0,N(),d=v(j,w),R.complete()}}),(0,S.Xf)(C).subscribe(o))})(_)}}function v(E,h,...b){if(!0===h)return void E();if(!1===h)return;const w=new y.Hp({next:()=>{w.unsubscribe(),E()}});return h(...b).subscribe(w)}},5684:(et,Le,G)=>{"use strict";G.d(Le,{T:()=>z});var S=G(9300);function z(y){return(0,S.h)((u,m)=>y<=m)}},8675:(et,Le,G)=>{"use strict";G.d(Le,{O:()=>u});var S=G(7272),z=G(3269),y=G(4482);function u(...m){const v=(0,z.yG)(m);return(0,y.e)((E,h)=>{(v?(0,S.z)(m,E,v):(0,S.z)(m,E)).subscribe(h)})}},5698:(et,Le,G)=>{"use strict";G.d(Le,{q:()=>u});var S=G(515),z=G(4482),y=G(5403);function u(m){return m<=0?()=>S.E:(0,z.e)((v,E)=>{let h=0;v.subscribe((0,y.x)(E,b=>{++h<=m&&(E.next(b),m<=h&&E.complete())}))})}},2722:(et,Le,G)=>{"use strict";G.d(Le,{R:()=>m});var S=G(4482),z=G(5403),y=G(8421),u=G(5032);function m(v){return(0,S.e)((E,h)=>{(0,y.Xf)(v).subscribe((0,z.x)(h,()=>h.complete(),u.Z)),!h.closed&&E.subscribe(h)})}},8505:(et,Le,G)=>{"use strict";G.d(Le,{b:()=>m});var S=G(576),z=G(4482),y=G(5403),u=G(4671);function m(v,E,h){const b=(0,S.m)(v)||E||h?{next:v,error:E,complete:h}:v;return b?(0,z.e)((w,D)=>{var _;null===(_=b.subscribe)||void 0===_||_.call(b);let o=!0;w.subscribe((0,y.x)(D,d=>{var a;null===(a=b.next)||void 0===a||a.call(b,d),D.next(d)},()=>{var d;o=!1,null===(d=b.complete)||void 0===d||d.call(b),D.complete()},d=>{var a;o=!1,null===(a=b.error)||void 0===a||a.call(b,d),D.error(d)},()=>{var d,a;o&&(null===(d=b.unsubscribe)||void 0===d||d.call(b)),null===(a=b.finalize)||void 0===a||a.call(b)}))}):u.y}},4408:(et,Le,G)=>{"use strict";G.d(Le,{o:()=>m});var S=G(727);class z extends S.w0{constructor(E,h){super()}schedule(E,h=0){return this}}const y={setInterval(v,E,...h){const{delegate:b}=y;return null!=b&&b.setInterval?b.setInterval(v,E,...h):setInterval(v,E,...h)},clearInterval(v){const{delegate:E}=y;return((null==E?void 0:E.clearInterval)||clearInterval)(v)},delegate:void 0};var u=G(8737);class m extends z{constructor(E,h){super(E,h),this.scheduler=E,this.work=h,this.pending=!1}schedule(E,h=0){var b;if(this.closed)return this;this.state=E;const w=this.id,D=this.scheduler;return null!=w&&(this.id=this.recycleAsyncId(D,w,h)),this.pending=!0,this.delay=h,this.id=null!==(b=this.id)&&void 0!==b?b:this.requestAsyncId(D,this.id,h),this}requestAsyncId(E,h,b=0){return y.setInterval(E.flush.bind(E,this),b)}recycleAsyncId(E,h,b=0){if(null!=b&&this.delay===b&&!1===this.pending)return h;null!=h&&y.clearInterval(h)}execute(E,h){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const b=this._execute(E,h);if(b)return b;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(E,h){let w,b=!1;try{this.work(E)}catch(D){b=!0,w=D||new Error("Scheduled action threw falsy error")}if(b)return this.unsubscribe(),w}unsubscribe(){if(!this.closed){const{id:E,scheduler:h}=this,{actions:b}=h;this.work=this.state=this.scheduler=null,this.pending=!1,(0,u.P)(b,this),null!=E&&(this.id=this.recycleAsyncId(h,E,null)),this.delay=null,super.unsubscribe()}}}},640:(et,Le,G)=>{"use strict";G.d(Le,{v:()=>y});const S={now:()=>(S.delegate||Date).now(),delegate:void 0};class z{constructor(m,v=z.now){this.schedulerActionCtor=m,this.now=v}schedule(m,v=0,E){return new this.schedulerActionCtor(this,m).schedule(E,v)}}z.now=S.now;class y extends z{constructor(m,v=z.now){super(m,v),this.actions=[],this._active=!1}flush(m){const{actions:v}=this;if(this._active)return void v.push(m);let E;this._active=!0;do{if(E=m.execute(m.state,m.delay))break}while(m=v.shift());if(this._active=!1,E){for(;m=v.shift();)m.unsubscribe();throw E}}}},4986:(et,Le,G)=>{"use strict";G.d(Le,{P:()=>u,z:()=>y});var S=G(4408);const y=new(G(640).v)(S.o),u=y},3410:(et,Le,G)=>{"use strict";G.d(Le,{z:()=>S});const S={setTimeout(z,y,...u){const{delegate:m}=S;return null!=m&&m.setTimeout?m.setTimeout(z,y,...u):setTimeout(z,y,...u)},clearTimeout(z){const{delegate:y}=S;return((null==y?void 0:y.clearTimeout)||clearTimeout)(z)},delegate:void 0}},2202:(et,Le,G)=>{"use strict";G.d(Le,{h:()=>z});const z=function S(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(et,Le,G)=>{"use strict";G.d(Le,{L:()=>S});const S="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(et,Le,G)=>{"use strict";G.d(Le,{_6:()=>v,jO:()=>u,yG:()=>m});var S=G(576),z=G(3532);function y(E){return E[E.length-1]}function u(E){return(0,S.m)(y(E))?E.pop():void 0}function m(E){return(0,z.K)(y(E))?E.pop():void 0}function v(E,h){return"number"==typeof y(E)?E.pop():h}},4742:(et,Le,G)=>{"use strict";G.d(Le,{D:()=>m});const{isArray:S}=Array,{getPrototypeOf:z,prototype:y,keys:u}=Object;function m(E){if(1===E.length){const h=E[0];if(S(h))return{args:h,keys:null};if(function v(E){return E&&"object"==typeof E&&z(E)===y}(h)){const b=u(h);return{args:b.map(w=>h[w]),keys:b}}}return{args:E,keys:null}}},8737:(et,Le,G)=>{"use strict";function S(z,y){if(z){const u=z.indexOf(y);0<=u&&z.splice(u,1)}}G.d(Le,{P:()=>S})},3888:(et,Le,G)=>{"use strict";function S(z){const u=z(m=>{Error.call(m),m.stack=(new Error).stack});return u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u}G.d(Le,{d:()=>S})},1810:(et,Le,G)=>{"use strict";function S(z,y){return z.reduce((u,m,v)=>(u[m]=y[v],u),{})}G.d(Le,{n:()=>S})},2806:(et,Le,G)=>{"use strict";G.d(Le,{O:()=>u,x:()=>y});var S=G(2416);let z=null;function y(m){if(S.v.useDeprecatedSynchronousErrorHandling){const v=!z;if(v&&(z={errorThrown:!1,error:null}),m(),v){const{errorThrown:E,error:h}=z;if(z=null,E)throw h}}else m()}function u(m){S.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=m)}},9672:(et,Le,G)=>{"use strict";function S(z,y,u,m=0,v=!1){const E=y.schedule(function(){u(),v?z.add(this.schedule(null,m)):this.unsubscribe()},m);if(z.add(E),!v)return E}G.d(Le,{f:()=>S})},4671:(et,Le,G)=>{"use strict";function S(z){return z}G.d(Le,{y:()=>S})},1144:(et,Le,G)=>{"use strict";G.d(Le,{z:()=>S});const S=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(et,Le,G)=>{"use strict";G.d(Le,{D:()=>z});var S=G(576);function z(y){return Symbol.asyncIterator&&(0,S.m)(null==y?void 0:y[Symbol.asyncIterator])}},576:(et,Le,G)=>{"use strict";function S(z){return"function"==typeof z}G.d(Le,{m:()=>S})},3670:(et,Le,G)=>{"use strict";G.d(Le,{c:()=>y});var S=G(8822),z=G(576);function y(u){return(0,z.m)(u[S.L])}},6495:(et,Le,G)=>{"use strict";G.d(Le,{T:()=>y});var S=G(2202),z=G(576);function y(u){return(0,z.m)(null==u?void 0:u[S.h])}},8239:(et,Le,G)=>{"use strict";G.d(Le,{t:()=>z});var S=G(576);function z(y){return(0,S.m)(null==y?void 0:y.then)}},3260:(et,Le,G)=>{"use strict";G.d(Le,{L:()=>u,Q:()=>y});var S=G(7582),z=G(576);function y(m){return(0,S.FC)(this,arguments,function*(){const E=m.getReader();try{for(;;){const{value:h,done:b}=yield(0,S.qq)(E.read());if(b)return yield(0,S.qq)(void 0);yield yield(0,S.qq)(h)}}finally{E.releaseLock()}})}function u(m){return(0,z.m)(null==m?void 0:m.getReader)}},3532:(et,Le,G)=>{"use strict";G.d(Le,{K:()=>z});var S=G(576);function z(y){return y&&(0,S.m)(y.schedule)}},4482:(et,Le,G)=>{"use strict";G.d(Le,{e:()=>y});var S=G(576);function y(u){return m=>{if(function z(u){return(0,S.m)(null==u?void 0:u.lift)}(m))return m.lift(function(v){try{return u(v,this)}catch(E){this.error(E)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(et,Le,G)=>{"use strict";G.d(Le,{Z:()=>u});var S=G(4004);const{isArray:z}=Array;function u(m){return(0,S.U)(v=>function y(m,v){return z(v)?m(...v):m(v)}(m,v))}},5032:(et,Le,G)=>{"use strict";function S(){}G.d(Le,{Z:()=>S})},7849:(et,Le,G)=>{"use strict";G.d(Le,{h:()=>y});var S=G(2416),z=G(3410);function y(u){z.z.setTimeout(()=>{const{onUnhandledError:m}=S.v;if(!m)throw u;m(u)})}},4532:(et,Le,G)=>{"use strict";function S(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(Le,{z:()=>S})},6239:et=>{self,et.exports=(()=>(()=>{"use strict";var Le={965:function(y,u,m){var v=this&&this.__decorate||function(j,f,C,L){var R,H=arguments.length,K=H<3?f:null===L?L=Object.getOwnPropertyDescriptor(f,C):L;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(j,f,C,L);else for(var X=j.length-1;X>=0;X--)(R=j[X])&&(K=(H<3?R(K):H>3?R(f,C,K):R(f,C))||K);return H>3&&K&&Object.defineProperty(f,C,K),K};Object.defineProperty(u,"__esModule",{value:!0}),u.GlyphRenderer=void 0;const E=m(374),h=m(509),b=m(855),w=m(859),D=m(776),_=m(381),o=11,d=o*Float32Array.BYTES_PER_ELEMENT;let a,p=0,x=0,P=0;class N extends w.Disposable{constructor(f,C,L){super(),this._terminal=f,this._gl=C,this._dimensions=L,this._activeBuffer=0,this._vertices={count:0,attributes:new Float32Array(0),attributesBuffers:[new Float32Array(0),new Float32Array(0)]};const R=this._gl;void 0===h.TextureAtlas.maxAtlasPages&&(h.TextureAtlas.maxAtlasPages=Math.min(32,(0,E.throwIfFalsy)(R.getParameter(R.MAX_TEXTURE_IMAGE_UNITS))),h.TextureAtlas.maxTextureSize=(0,E.throwIfFalsy)(R.getParameter(R.MAX_TEXTURE_SIZE))),this._program=(0,E.throwIfFalsy)((0,_.createProgram)(R,"#version 300 es\nlayout (location = 0) in vec2 a_unitquad;\nlayout (location = 1) in vec2 a_cellpos;\nlayout (location = 2) in vec2 a_offset;\nlayout (location = 3) in vec2 a_size;\nlayout (location = 4) in float a_texpage;\nlayout (location = 5) in vec2 a_texcoord;\nlayout (location = 6) in vec2 a_texsize;\n\nuniform mat4 u_projection;\nuniform vec2 u_resolution;\n\nout vec2 v_texcoord;\nflat out int v_texpage;\n\nvoid main() {\n  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\n  v_texpage = int(a_texpage);\n  v_texcoord = a_texcoord + a_unitquad * a_texsize;\n}",function(Me){let Ce="";for(let Z=1;Z<Me;Z++)Ce+=` else if (v_texpage == ${Z}) { outColor = texture(u_texture[${Z}], v_texcoord); }`;return`#version 300 es\nprecision lowp float;\n\nin vec2 v_texcoord;\nflat in int v_texpage;\n\nuniform sampler2D u_texture[${Me}];\n\nout vec4 outColor;\n\nvoid main() {\n  if (v_texpage == 0) {\n    outColor = texture(u_texture[0], v_texcoord);\n  } ${Ce}\n}`}(h.TextureAtlas.maxAtlasPages))),this.register((0,w.toDisposable)(()=>R.deleteProgram(this._program))),this._projectionLocation=(0,E.throwIfFalsy)(R.getUniformLocation(this._program,"u_projection")),this._resolutionLocation=(0,E.throwIfFalsy)(R.getUniformLocation(this._program,"u_resolution")),this._textureLocation=(0,E.throwIfFalsy)(R.getUniformLocation(this._program,"u_texture")),this._vertexArrayObject=R.createVertexArray(),R.bindVertexArray(this._vertexArrayObject);const H=new Float32Array([0,0,1,0,0,1,1,1]),K=R.createBuffer();this.register((0,w.toDisposable)(()=>R.deleteBuffer(K))),R.bindBuffer(R.ARRAY_BUFFER,K),R.bufferData(R.ARRAY_BUFFER,H,R.STATIC_DRAW),R.enableVertexAttribArray(0),R.vertexAttribPointer(0,2,this._gl.FLOAT,!1,0,0);const X=new Uint8Array([0,1,2,3]),oe=R.createBuffer();this.register((0,w.toDisposable)(()=>R.deleteBuffer(oe))),R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,oe),R.bufferData(R.ELEMENT_ARRAY_BUFFER,X,R.STATIC_DRAW),this._attributesBuffer=(0,E.throwIfFalsy)(R.createBuffer()),this.register((0,w.toDisposable)(()=>R.deleteBuffer(this._attributesBuffer))),R.bindBuffer(R.ARRAY_BUFFER,this._attributesBuffer),R.enableVertexAttribArray(2),R.vertexAttribPointer(2,2,R.FLOAT,!1,d,0),R.vertexAttribDivisor(2,1),R.enableVertexAttribArray(3),R.vertexAttribPointer(3,2,R.FLOAT,!1,d,2*Float32Array.BYTES_PER_ELEMENT),R.vertexAttribDivisor(3,1),R.enableVertexAttribArray(4),R.vertexAttribPointer(4,1,R.FLOAT,!1,d,4*Float32Array.BYTES_PER_ELEMENT),R.vertexAttribDivisor(4,1),R.enableVertexAttribArray(5),R.vertexAttribPointer(5,2,R.FLOAT,!1,d,5*Float32Array.BYTES_PER_ELEMENT),R.vertexAttribDivisor(5,1),R.enableVertexAttribArray(6),R.vertexAttribPointer(6,2,R.FLOAT,!1,d,7*Float32Array.BYTES_PER_ELEMENT),R.vertexAttribDivisor(6,1),R.enableVertexAttribArray(1),R.vertexAttribPointer(1,2,R.FLOAT,!1,d,9*Float32Array.BYTES_PER_ELEMENT),R.vertexAttribDivisor(1,1),R.useProgram(this._program);const ae=new Int32Array(h.TextureAtlas.maxAtlasPages);for(let Me=0;Me<h.TextureAtlas.maxAtlasPages;Me++)ae[Me]=Me;R.uniform1iv(this._textureLocation,ae),R.uniformMatrix4fv(this._projectionLocation,!1,_.PROJECTION_MATRIX),this._atlasTextures=[];for(let Me=0;Me<h.TextureAtlas.maxAtlasPages;Me++){const Ce=new _.GLTexture((0,E.throwIfFalsy)(R.createTexture()));this.register((0,w.toDisposable)(()=>R.deleteTexture(Ce.texture))),R.activeTexture(R.TEXTURE0+Me),R.bindTexture(R.TEXTURE_2D,Ce.texture),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,R.CLAMP_TO_EDGE),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,1,1,0,R.RGBA,R.UNSIGNED_BYTE,new Uint8Array([255,0,0,255])),this._atlasTextures[Me]=Ce}R.enable(R.BLEND),R.blendFunc(R.SRC_ALPHA,R.ONE_MINUS_SRC_ALPHA),this.handleResize()}beginFrame(){return!this._atlas||this._atlas.beginFrame()}updateCell(f,C,L,R,H,K,X,oe){this._updateCell(this._vertices.attributes,f,C,L,R,H,K,X,oe)}_updateCell(f,C,L,R,H,K,X,oe,ae){p=(L*this._terminal.cols+C)*o,R!==b.NULL_CELL_CODE&&void 0!==R?this._atlas&&(a=oe&&oe.length>1?this._atlas.getRasterizedGlyphCombinedChar(oe,H,K,X,!1):this._atlas.getRasterizedGlyph(R,H,K,X,!1),x=Math.floor((this._dimensions.device.cell.width-this._dimensions.device.char.width)/2),H!==ae&&a.offset.x>x?(P=a.offset.x-x,f[p]=-(a.offset.x-P)+this._dimensions.device.char.left,f[p+1]=-a.offset.y+this._dimensions.device.char.top,f[p+2]=(a.size.x-P)/this._dimensions.device.canvas.width,f[p+3]=a.size.y/this._dimensions.device.canvas.height,f[p+4]=a.texturePage,f[p+5]=a.texturePositionClipSpace.x+P/this._atlas.pages[a.texturePage].canvas.width,f[p+6]=a.texturePositionClipSpace.y,f[p+7]=a.sizeClipSpace.x-P/this._atlas.pages[a.texturePage].canvas.width,f[p+8]=a.sizeClipSpace.y):(f[p]=-a.offset.x+this._dimensions.device.char.left,f[p+1]=-a.offset.y+this._dimensions.device.char.top,f[p+2]=a.size.x/this._dimensions.device.canvas.width,f[p+3]=a.size.y/this._dimensions.device.canvas.height,f[p+4]=a.texturePage,f[p+5]=a.texturePositionClipSpace.x,f[p+6]=a.texturePositionClipSpace.y,f[p+7]=a.sizeClipSpace.x,f[p+8]=a.sizeClipSpace.y)):f.fill(0,p,p+o-1-2)}clear(){const f=this._terminal,C=f.cols*f.rows*o;this._vertices.count!==C?this._vertices.attributes=new Float32Array(C):this._vertices.attributes.fill(0);let L=0;for(;L<this._vertices.attributesBuffers.length;L++)this._vertices.count!==C?this._vertices.attributesBuffers[L]=new Float32Array(C):this._vertices.attributesBuffers[L].fill(0);this._vertices.count=C,L=0;for(let R=0;R<f.rows;R++)for(let H=0;H<f.cols;H++)this._vertices.attributes[L+9]=H/f.cols,this._vertices.attributes[L+10]=R/f.rows,L+=o}handleResize(){const f=this._gl;f.useProgram(this._program),f.viewport(0,0,f.canvas.width,f.canvas.height),f.uniform2f(this._resolutionLocation,f.canvas.width,f.canvas.height),this.clear()}render(f){if(!this._atlas)return;const C=this._gl;C.useProgram(this._program),C.bindVertexArray(this._vertexArrayObject),this._activeBuffer=(this._activeBuffer+1)%2;const L=this._vertices.attributesBuffers[this._activeBuffer];let R=0;for(let H=0;H<f.lineLengths.length;H++){const K=H*this._terminal.cols*o,X=this._vertices.attributes.subarray(K,K+f.lineLengths[H]*o);L.set(X,R),R+=X.length}C.bindBuffer(C.ARRAY_BUFFER,this._attributesBuffer),C.bufferData(C.ARRAY_BUFFER,L.subarray(0,R),C.STREAM_DRAW);for(let H=0;H<this._atlas.pages.length;H++)this._atlas.pages[H].version!==this._atlasTextures[H].version&&this._bindAtlasPageTexture(C,this._atlas,H);C.drawElementsInstanced(C.TRIANGLE_STRIP,4,C.UNSIGNED_BYTE,0,R/o)}setAtlas(f){this._atlas=f;for(const C of this._atlasTextures)C.version=-1}_bindAtlasPageTexture(f,C,L){f.activeTexture(f.TEXTURE0+L),f.bindTexture(f.TEXTURE_2D,this._atlasTextures[L].texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,C.pages[L].canvas),f.generateMipmap(f.TEXTURE_2D),this._atlasTextures[L].version=C.pages[L].version}setDimensions(f){this._dimensions=f}}u.GlyphRenderer=N,v([D.traceCall],N.prototype,"updateCell",null)},742:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RectangleRenderer=void 0;const v=m(374),E=m(859),h=m(310),b=m(381),w=8*Float32Array.BYTES_PER_ELEMENT;class D{constructor(){this.attributes=new Float32Array(160),this.count=0}}let _=0,o=0,d=0,a=0,p=0,x=0,P=0;u.RectangleRenderer=class N extends E.Disposable{constructor(f,C,L,R){super(),this._terminal=f,this._gl=C,this._dimensions=L,this._themeService=R,this._vertices=new D,this._verticesCursor=new D;const H=this._gl;this._program=(0,v.throwIfFalsy)((0,b.createProgram)(H,"#version 300 es\nlayout (location = 0) in vec2 a_position;\nlayout (location = 1) in vec2 a_size;\nlayout (location = 2) in vec4 a_color;\nlayout (location = 3) in vec2 a_unitquad;\n\nuniform mat4 u_projection;\n\nout vec4 v_color;\n\nvoid main() {\n  vec2 zeroToOne = a_position + (a_unitquad * a_size);\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\n  v_color = a_color;\n}","#version 300 es\nprecision lowp float;\n\nin vec4 v_color;\n\nout vec4 outColor;\n\nvoid main() {\n  outColor = v_color;\n}")),this.register((0,E.toDisposable)(()=>H.deleteProgram(this._program))),this._projectionLocation=(0,v.throwIfFalsy)(H.getUniformLocation(this._program,"u_projection")),this._vertexArrayObject=H.createVertexArray(),H.bindVertexArray(this._vertexArrayObject);const K=new Float32Array([0,0,1,0,0,1,1,1]),X=H.createBuffer();this.register((0,E.toDisposable)(()=>H.deleteBuffer(X))),H.bindBuffer(H.ARRAY_BUFFER,X),H.bufferData(H.ARRAY_BUFFER,K,H.STATIC_DRAW),H.enableVertexAttribArray(3),H.vertexAttribPointer(3,2,this._gl.FLOAT,!1,0,0);const oe=new Uint8Array([0,1,2,3]),ae=H.createBuffer();this.register((0,E.toDisposable)(()=>H.deleteBuffer(ae))),H.bindBuffer(H.ELEMENT_ARRAY_BUFFER,ae),H.bufferData(H.ELEMENT_ARRAY_BUFFER,oe,H.STATIC_DRAW),this._attributesBuffer=(0,v.throwIfFalsy)(H.createBuffer()),this.register((0,E.toDisposable)(()=>H.deleteBuffer(this._attributesBuffer))),H.bindBuffer(H.ARRAY_BUFFER,this._attributesBuffer),H.enableVertexAttribArray(0),H.vertexAttribPointer(0,2,H.FLOAT,!1,w,0),H.vertexAttribDivisor(0,1),H.enableVertexAttribArray(1),H.vertexAttribPointer(1,2,H.FLOAT,!1,w,2*Float32Array.BYTES_PER_ELEMENT),H.vertexAttribDivisor(1,1),H.enableVertexAttribArray(2),H.vertexAttribPointer(2,4,H.FLOAT,!1,w,4*Float32Array.BYTES_PER_ELEMENT),H.vertexAttribDivisor(2,1),this._updateCachedColors(R.colors),this.register(this._themeService.onChangeColors(Me=>{this._updateCachedColors(Me),this._updateViewportRectangle()}))}renderBackgrounds(){this._renderVertices(this._vertices)}renderCursor(){this._renderVertices(this._verticesCursor)}_renderVertices(f){const C=this._gl;C.useProgram(this._program),C.bindVertexArray(this._vertexArrayObject),C.uniformMatrix4fv(this._projectionLocation,!1,b.PROJECTION_MATRIX),C.bindBuffer(C.ARRAY_BUFFER,this._attributesBuffer),C.bufferData(C.ARRAY_BUFFER,f.attributes,C.DYNAMIC_DRAW),C.drawElementsInstanced(this._gl.TRIANGLE_STRIP,4,C.UNSIGNED_BYTE,0,f.count)}handleResize(){this._updateViewportRectangle()}setDimensions(f){this._dimensions=f}_updateCachedColors(f){this._bgFloat=this._colorToFloat32Array(f.background),this._cursorFloat=this._colorToFloat32Array(f.cursor)}_updateViewportRectangle(){this._addRectangleFloat(this._vertices.attributes,0,0,0,this._terminal.cols*this._dimensions.device.cell.width,this._terminal.rows*this._dimensions.device.cell.height,this._bgFloat)}updateBackgrounds(f){const C=this._terminal,L=this._vertices;let R,H,K,X,oe,ae,Me,Ce,Z,q,Q,ie=1;for(R=0;R<C.rows;R++){for(K=-1,X=0,oe=0,ae=!1,H=0;H<C.cols;H++)Me=(R*C.cols+H)*h.RENDER_MODEL_INDICIES_PER_CELL,Ce=f.cells[Me+h.RENDER_MODEL_BG_OFFSET],Z=f.cells[Me+h.RENDER_MODEL_FG_OFFSET],q=!!(67108864&Z),(Ce!==X||Z!==oe&&(ae||q))&&((0!==X||ae&&0!==oe)&&(Q=8*ie++,this._updateRectangle(L,Q,oe,X,K,H,R)),K=H,X=Ce,oe=Z,ae=q);(0!==X||ae&&0!==oe)&&(Q=8*ie++,this._updateRectangle(L,Q,oe,X,K,C.cols,R))}L.count=ie}updateCursor(f){const C=this._verticesCursor,L=f.cursor;if(!L||"block"===L.style)return void(C.count=0);let R,H=0;"bar"!==L.style&&"outline"!==L.style||(R=8*H++,this._addRectangleFloat(C.attributes,R,L.x*this._dimensions.device.cell.width,L.y*this._dimensions.device.cell.height,"bar"===L.style?L.dpr*L.cursorWidth:L.dpr,this._dimensions.device.cell.height,this._cursorFloat)),"underline"!==L.style&&"outline"!==L.style||(R=8*H++,this._addRectangleFloat(C.attributes,R,L.x*this._dimensions.device.cell.width,(L.y+1)*this._dimensions.device.cell.height-L.dpr,L.width*this._dimensions.device.cell.width,L.dpr,this._cursorFloat)),"outline"===L.style&&(R=8*H++,this._addRectangleFloat(C.attributes,R,L.x*this._dimensions.device.cell.width,L.y*this._dimensions.device.cell.height,L.width*this._dimensions.device.cell.width,L.dpr,this._cursorFloat),R=8*H++,this._addRectangleFloat(C.attributes,R,(L.x+L.width)*this._dimensions.device.cell.width-L.dpr,L.y*this._dimensions.device.cell.height,L.dpr,this._dimensions.device.cell.height,this._cursorFloat)),C.count=H}_updateRectangle(f,C,L,R,H,K,X){if(67108864&L)switch(50331648&L){case 16777216:case 33554432:_=this._themeService.colors.ansi[255&L].rgba;break;case 50331648:_=(16777215&L)<<8;break;default:_=this._themeService.colors.foreground.rgba}else switch(50331648&R){case 16777216:case 33554432:_=this._themeService.colors.ansi[255&R].rgba;break;case 50331648:_=(16777215&R)<<8;break;default:_=this._themeService.colors.background.rgba}f.attributes.length<C+4&&(f.attributes=(0,b.expandFloat32Array)(f.attributes,this._terminal.rows*this._terminal.cols*8)),o=H*this._dimensions.device.cell.width,d=X*this._dimensions.device.cell.height,a=(_>>24&255)/255,p=(_>>16&255)/255,x=(_>>8&255)/255,P=1,this._addRectangle(f.attributes,C,o,d,(K-H)*this._dimensions.device.cell.width,this._dimensions.device.cell.height,a,p,x,P)}_addRectangle(f,C,L,R,H,K,X,oe,ae,Me){f[C]=L/this._dimensions.device.canvas.width,f[C+1]=R/this._dimensions.device.canvas.height,f[C+2]=H/this._dimensions.device.canvas.width,f[C+3]=K/this._dimensions.device.canvas.height,f[C+4]=X,f[C+5]=oe,f[C+6]=ae,f[C+7]=Me}_addRectangleFloat(f,C,L,R,H,K,X){f[C]=L/this._dimensions.device.canvas.width,f[C+1]=R/this._dimensions.device.canvas.height,f[C+2]=H/this._dimensions.device.canvas.width,f[C+3]=K/this._dimensions.device.canvas.height,f[C+4]=X[0],f[C+5]=X[1],f[C+6]=X[2],f[C+7]=X[3]}_colorToFloat32Array(f){return new Float32Array([(f.rgba>>24&255)/255,(f.rgba>>16&255)/255,(f.rgba>>8&255)/255,(255&f.rgba)/255])}}},310:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RenderModel=u.COMBINED_CHAR_BIT_MASK=u.RENDER_MODEL_EXT_OFFSET=u.RENDER_MODEL_FG_OFFSET=u.RENDER_MODEL_BG_OFFSET=u.RENDER_MODEL_INDICIES_PER_CELL=void 0;const v=m(296);u.RENDER_MODEL_INDICIES_PER_CELL=4,u.RENDER_MODEL_BG_OFFSET=1,u.RENDER_MODEL_FG_OFFSET=2,u.RENDER_MODEL_EXT_OFFSET=3,u.COMBINED_CHAR_BIT_MASK=2147483648,u.RenderModel=class{constructor(){this.cells=new Uint32Array(0),this.lineLengths=new Uint32Array(0),this.selection=(0,v.createSelectionRenderModel)()}resize(E,h){const b=E*h*u.RENDER_MODEL_INDICIES_PER_CELL;b!==this.cells.length&&(this.cells=new Uint32Array(b),this.lineLengths=new Uint32Array(h))}clear(){this.cells.fill(0,0),this.lineLengths.fill(0,0)}}},666:function(y,u,m){var v=this&&this.__decorate||function(K,X,oe,ae){var Me,Ce=arguments.length,Z=Ce<3?X:null===ae?ae=Object.getOwnPropertyDescriptor(X,oe):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(K,X,oe,ae);else for(var q=K.length-1;q>=0;q--)(Me=K[q])&&(Z=(Ce<3?Me(Z):Ce>3?Me(X,oe,Z):Me(X,oe))||Z);return Ce>3&&Z&&Object.defineProperty(X,oe,Z),Z};Object.defineProperty(u,"__esModule",{value:!0}),u.JoinedCellData=u.WebglRenderer=void 0;const E=m(820),h=m(274),b=m(627),w=m(457),D=m(56),_=m(374),o=m(345),d=m(859),a=m(147),p=m(782),x=m(855),P=m(776),N=m(965),j=m(742),f=m(310),C=m(733);class L extends d.Disposable{constructor(X,oe,ae,Me,Ce,Z,q,Q,ie){if(super(),this._terminal=X,this._characterJoinerService=oe,this._charSizeService=ae,this._coreBrowserService=Me,this._coreService=Ce,this._decorationService=Z,this._optionsService=q,this._themeService=Q,this._cursorBlinkStateManager=new d.MutableDisposable,this._charAtlasDisposable=this.register(new d.MutableDisposable),this._model=new f.RenderModel,this._workCell=new p.CellData,this._rectangleRenderer=this.register(new d.MutableDisposable),this._glyphRenderer=this.register(new d.MutableDisposable),this._onChangeTextureAtlas=this.register(new o.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new o.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new o.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onRequestRedraw=this.register(new o.EventEmitter),this.onRequestRedraw=this._onRequestRedraw.event,this._onContextLoss=this.register(new o.EventEmitter),this.onContextLoss=this._onContextLoss.event,this.register(this._themeService.onChangeColors(()=>this._handleColorChange())),this._cellColorResolver=new h.CellColorResolver(this._terminal,this._model.selection,this._decorationService,this._coreBrowserService,this._themeService),this._core=this._terminal._core,this._renderLayers=[new C.LinkRenderLayer(this._core.screenElement,2,this._terminal,this._core.linkifier2,this._coreBrowserService,q,this._themeService)],this.dimensions=(0,_.createRenderDimensions)(),this._devicePixelRatio=this._coreBrowserService.dpr,this._updateDimensions(),this._updateCursorBlink(),this.register(q.onOptionChange(()=>this._handleOptionsChanged())),this._canvas=document.createElement("canvas"),this._gl=this._canvas.getContext("webgl2",{antialias:!1,depth:!1,preserveDrawingBuffer:ie}),!this._gl)throw new Error("WebGL2 not supported "+this._gl);this.register((0,E.addDisposableDomListener)(this._canvas,"webglcontextlost",be=>{console.log("webglcontextlost event received"),be.preventDefault(),this._contextRestorationTimeout=setTimeout(()=>{this._contextRestorationTimeout=void 0,console.warn("webgl context not restored; firing onContextLoss"),this._onContextLoss.fire(be)},3e3)})),this.register((0,E.addDisposableDomListener)(this._canvas,"webglcontextrestored",be=>{console.warn("webglcontextrestored event received"),clearTimeout(this._contextRestorationTimeout),this._contextRestorationTimeout=void 0,(0,b.removeTerminalFromCache)(this._terminal),this._initializeWebGLState(),this._requestRedrawViewport()})),this.register((0,D.observeDevicePixelDimensions)(this._canvas,this._coreBrowserService.window,(be,Ne)=>this._setCanvasDevicePixelDimensions(be,Ne))),this._core.screenElement.appendChild(this._canvas),[this._rectangleRenderer.value,this._glyphRenderer.value]=this._initializeWebGLState(),this._isAttached=this._coreBrowserService.window.document.body.contains(this._core.screenElement),this.register((0,d.toDisposable)(()=>{var be;for(const Ne of this._renderLayers)Ne.dispose();null===(be=this._canvas.parentElement)||void 0===be||be.removeChild(this._canvas),(0,b.removeTerminalFromCache)(this._terminal)}))}get textureAtlas(){var X;return null===(X=this._charAtlas)||void 0===X?void 0:X.pages[0].canvas}_handleColorChange(){this._refreshCharAtlas(),this._clearModel(!0)}handleDevicePixelRatioChange(){this._devicePixelRatio!==this._coreBrowserService.dpr&&(this._devicePixelRatio=this._coreBrowserService.dpr,this.handleResize(this._terminal.cols,this._terminal.rows))}handleResize(X,oe){var ae,Me,Ce,Z;this._updateDimensions(),this._model.resize(this._terminal.cols,this._terminal.rows);for(const q of this._renderLayers)q.resize(this._terminal,this.dimensions);this._canvas.width=this.dimensions.device.canvas.width,this._canvas.height=this.dimensions.device.canvas.height,this._canvas.style.width=`${this.dimensions.css.canvas.width}px`,this._canvas.style.height=`${this.dimensions.css.canvas.height}px`,this._core.screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._core.screenElement.style.height=`${this.dimensions.css.canvas.height}px`,null===(ae=this._rectangleRenderer.value)||void 0===ae||ae.setDimensions(this.dimensions),null===(Me=this._rectangleRenderer.value)||void 0===Me||Me.handleResize(),null===(Ce=this._glyphRenderer.value)||void 0===Ce||Ce.setDimensions(this.dimensions),null===(Z=this._glyphRenderer.value)||void 0===Z||Z.handleResize(),this._refreshCharAtlas(),this._clearModel(!1)}handleCharSizeChanged(){this.handleResize(this._terminal.cols,this._terminal.rows)}handleBlur(){var X;for(const oe of this._renderLayers)oe.handleBlur(this._terminal);null===(X=this._cursorBlinkStateManager.value)||void 0===X||X.pause(),this._requestRedrawViewport()}handleFocus(){var X;for(const oe of this._renderLayers)oe.handleFocus(this._terminal);null===(X=this._cursorBlinkStateManager.value)||void 0===X||X.resume(),this._requestRedrawViewport()}handleSelectionChanged(X,oe,ae){for(const Me of this._renderLayers)Me.handleSelectionChanged(this._terminal,X,oe,ae);this._model.selection.update(this._terminal,X,oe,ae),this._requestRedrawViewport()}handleCursorMove(){var X;for(const oe of this._renderLayers)oe.handleCursorMove(this._terminal);null===(X=this._cursorBlinkStateManager.value)||void 0===X||X.restartBlinkAnimation()}_handleOptionsChanged(){this._updateDimensions(),this._refreshCharAtlas(),this._updateCursorBlink()}_initializeWebGLState(){return this._rectangleRenderer.value=new j.RectangleRenderer(this._terminal,this._gl,this.dimensions,this._themeService),this._glyphRenderer.value=new N.GlyphRenderer(this._terminal,this._gl,this.dimensions),this.handleCharSizeChanged(),[this._rectangleRenderer.value,this._glyphRenderer.value]}_refreshCharAtlas(){var X;if(this.dimensions.device.char.width<=0&&this.dimensions.device.char.height<=0)return void(this._isAttached=!1);const oe=(0,b.acquireTextureAtlas)(this._terminal,this._optionsService.rawOptions,this._themeService.colors,this.dimensions.device.cell.width,this.dimensions.device.cell.height,this.dimensions.device.char.width,this.dimensions.device.char.height,this._coreBrowserService.dpr);this._charAtlas!==oe&&(this._onChangeTextureAtlas.fire(oe.pages[0].canvas),this._charAtlasDisposable.value=(0,d.getDisposeArrayDisposable)([(0,o.forwardEvent)(oe.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas),(0,o.forwardEvent)(oe.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)])),this._charAtlas=oe,this._charAtlas.warmUp(),null===(X=this._glyphRenderer.value)||void 0===X||X.setAtlas(this._charAtlas)}_clearModel(X){var oe;this._model.clear(),X&&(null===(oe=this._glyphRenderer.value)||void 0===oe||oe.clear())}clearTextureAtlas(){var X;null===(X=this._charAtlas)||void 0===X||X.clearTexture(),this._clearModel(!0),this._requestRedrawViewport()}clear(){var X;this._clearModel(!0);for(const oe of this._renderLayers)oe.reset(this._terminal);null===(X=this._cursorBlinkStateManager.value)||void 0===X||X.restartBlinkAnimation(),this._updateCursorBlink()}registerCharacterJoiner(X){return-1}deregisterCharacterJoiner(X){return!1}renderRows(X,oe){if(!this._isAttached){if(!(this._coreBrowserService.window.document.body.contains(this._core.screenElement)&&this._charSizeService.width&&this._charSizeService.height))return;this._updateDimensions(),this._refreshCharAtlas(),this._isAttached=!0}for(const ae of this._renderLayers)ae.handleGridChanged(this._terminal,X,oe);this._glyphRenderer.value&&this._rectangleRenderer.value&&(this._glyphRenderer.value.beginFrame()?(this._clearModel(!0),this._updateModel(0,this._terminal.rows-1)):this._updateModel(X,oe),this._rectangleRenderer.value.renderBackgrounds(),this._glyphRenderer.value.render(this._model),this._cursorBlinkStateManager.value&&!this._cursorBlinkStateManager.value.isCursorVisible||this._rectangleRenderer.value.renderCursor())}_updateCursorBlink(){this._terminal.options.cursorBlink?this._cursorBlinkStateManager.value=new w.CursorBlinkStateManager(()=>{this._requestRedrawCursor()},this._coreBrowserService):this._cursorBlinkStateManager.clear(),this._requestRedrawCursor()}_updateModel(X,oe){const ae=this._core;let Me,Ce,Z,q,Q,ie,ge,be,Ne,Ye,me,ne,Ie,Pe=this._workCell;X=H(X,ae.rows-1,0),oe=H(oe,ae.rows-1,0);const Je=this._terminal.buffer.active.baseY+this._terminal.buffer.active.cursorY,je=Math.min(this._terminal.buffer.active.cursorX,ae.cols-1);let _t=-1;const gt=this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden&&(!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isCursorVisible);this._model.cursor=void 0;let Ct=!1;for(Ce=X;Ce<=oe;Ce++)for(Z=Ce+ae.buffer.ydisp,q=ae.buffer.lines.get(Z),this._model.lineLengths[Ce]=0,Q=this._characterJoinerService.getJoinedCharacters(Z),ne=0;ne<ae.cols;ne++)if(Me=this._cellColorResolver.result.bg,q.loadCell(ne,Pe),0===ne&&(Me=this._cellColorResolver.result.bg),ie=!1,ge=ne,Q.length>0&&ne===Q[0][0]&&(ie=!0,be=Q.shift(),Pe=new R(Pe,q.translateToString(!0,be[0],be[1]),be[1]-be[0]),ge=be[1]-1),Ne=Pe.getChars(),Ye=Pe.getCode(),me=(Ce*ae.cols+ne)*f.RENDER_MODEL_INDICIES_PER_CELL,this._cellColorResolver.resolve(Pe,ne,Z),gt&&Z===Je&&(ne===je&&(this._model.cursor={x:je,y:this._terminal.buffer.active.cursorY,width:Pe.getWidth(),style:this._coreBrowserService.isFocused?ae.options.cursorStyle||"block":ae.options.cursorInactiveStyle,cursorWidth:ae.options.cursorWidth,dpr:this._devicePixelRatio},_t=je+Pe.getWidth()-1),ne>=je&&ne<=_t&&(this._coreBrowserService.isFocused&&"block"===(ae.options.cursorStyle||"block")||!1===this._coreBrowserService.isFocused&&"block"===ae.options.cursorInactiveStyle)&&(this._cellColorResolver.result.fg=50331648|this._themeService.colors.cursorAccent.rgba>>8&16777215,this._cellColorResolver.result.bg=50331648|this._themeService.colors.cursor.rgba>>8&16777215)),Ye!==x.NULL_CELL_CODE&&(this._model.lineLengths[Ce]=ne+1),(this._model.cells[me]!==Ye||this._model.cells[me+f.RENDER_MODEL_BG_OFFSET]!==this._cellColorResolver.result.bg||this._model.cells[me+f.RENDER_MODEL_FG_OFFSET]!==this._cellColorResolver.result.fg||this._model.cells[me+f.RENDER_MODEL_EXT_OFFSET]!==this._cellColorResolver.result.ext)&&(Ct=!0,Ne.length>1&&(Ye|=f.COMBINED_CHAR_BIT_MASK),this._model.cells[me]=Ye,this._model.cells[me+f.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[me+f.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[me+f.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext,this._glyphRenderer.value.updateCell(ne,Ce,Ye,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,Ne,Me),ie))for(Pe=this._workCell,ne++;ne<ge;ne++)Ie=(Ce*ae.cols+ne)*f.RENDER_MODEL_INDICIES_PER_CELL,this._glyphRenderer.value.updateCell(ne,Ce,x.NULL_CELL_CODE,0,0,0,x.NULL_CELL_CHAR,0),this._model.cells[Ie]=x.NULL_CELL_CODE,this._model.cells[Ie+f.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[Ie+f.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[Ie+f.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext;Ct&&this._rectangleRenderer.value.updateBackgrounds(this._model),this._rectangleRenderer.value.updateCursor(this._model)}_updateDimensions(){this._charSizeService.width&&this._charSizeService.height&&(this.dimensions.device.char.width=Math.floor(this._charSizeService.width*this._devicePixelRatio),this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*this._devicePixelRatio),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.top=1===this._optionsService.rawOptions.lineHeight?0:Math.round((this.dimensions.device.cell.height-this.dimensions.device.char.height)/2),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.char.left=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.device.canvas.height=this._terminal.rows*this.dimensions.device.cell.height,this.dimensions.device.canvas.width=this._terminal.cols*this.dimensions.device.cell.width,this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/this._devicePixelRatio),this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/this._devicePixelRatio),this.dimensions.css.cell.height=this.dimensions.device.cell.height/this._devicePixelRatio,this.dimensions.css.cell.width=this.dimensions.device.cell.width/this._devicePixelRatio)}_setCanvasDevicePixelDimensions(X,oe){this._canvas.width===X&&this._canvas.height===oe||(this._canvas.width=X,this._canvas.height=oe,this._requestRedrawViewport())}_requestRedrawViewport(){this._onRequestRedraw.fire({start:0,end:this._terminal.rows-1})}_requestRedrawCursor(){const X=this._terminal.buffer.active.cursorY;this._onRequestRedraw.fire({start:X,end:X})}}u.WebglRenderer=L,v([P.traceCall],L.prototype,"renderRows",null);class R extends a.AttributeData{constructor(X,oe,ae){super(),this.content=0,this.combinedData="",this.fg=X.fg,this.bg=X.bg,this.combinedData=oe,this._width=ae}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(X){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}function H(K,X,oe=0){return Math.max(Math.min(K,X),oe)}u.JoinedCellData=R},381:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GLTexture=u.expandFloat32Array=u.createShader=u.createProgram=u.PROJECTION_MATRIX=void 0;const v=m(374);function E(h,b,w){const D=(0,v.throwIfFalsy)(h.createShader(b));if(h.shaderSource(D,w),h.compileShader(D),h.getShaderParameter(D,h.COMPILE_STATUS))return D;console.error(h.getShaderInfoLog(D)),h.deleteShader(D)}u.PROJECTION_MATRIX=new Float32Array([2,0,0,0,0,-2,0,0,0,0,1,0,-1,1,0,1]),u.createProgram=function(h,b,w){const D=(0,v.throwIfFalsy)(h.createProgram());if(h.attachShader(D,(0,v.throwIfFalsy)(E(h,h.VERTEX_SHADER,b))),h.attachShader(D,(0,v.throwIfFalsy)(E(h,h.FRAGMENT_SHADER,w))),h.linkProgram(D),h.getProgramParameter(D,h.LINK_STATUS))return D;console.error(h.getProgramInfoLog(D)),h.deleteProgram(D)},u.createShader=E,u.expandFloat32Array=function(h,b){const w=Math.min(2*h.length,b),D=new Float32Array(w);for(let _=0;_<h.length;_++)D[_]=h[_];return D},u.GLTexture=class{constructor(h){this.texture=h,this.version=-1}}},592:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BaseRenderLayer=void 0;const v=m(627),E=m(237),h=m(374),b=m(859);u.BaseRenderLayer=class w extends b.Disposable{constructor(_,o,d,a,p,x,P,N){super(),this._container=o,this._alpha=p,this._coreBrowserService=x,this._optionsService=P,this._themeService=N,this._deviceCharWidth=0,this._deviceCharHeight=0,this._deviceCellWidth=0,this._deviceCellHeight=0,this._deviceCharLeft=0,this._deviceCharTop=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add(`xterm-${d}-layer`),this._canvas.style.zIndex=a.toString(),this._initCanvas(),this._container.appendChild(this._canvas),this.register(this._themeService.onChangeColors(j=>{this._refreshCharAtlas(_,j),this.reset(_)})),this.register((0,b.toDisposable)(()=>{this._canvas.remove()}))}_initCanvas(){this._ctx=(0,h.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()}handleBlur(_){}handleFocus(_){}handleCursorMove(_){}handleGridChanged(_,o,d){}handleSelectionChanged(_,o,d,a=!1){}_setTransparency(_,o){if(o===this._alpha)return;const d=this._canvas;this._alpha=o,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,d),this._refreshCharAtlas(_,this._themeService.colors),this.handleGridChanged(_,0,_.rows-1)}_refreshCharAtlas(_,o){this._deviceCharWidth<=0&&this._deviceCharHeight<=0||(this._charAtlas=(0,v.acquireTextureAtlas)(_,this._optionsService.rawOptions,o,this._deviceCellWidth,this._deviceCellHeight,this._deviceCharWidth,this._deviceCharHeight,this._coreBrowserService.dpr),this._charAtlas.warmUp())}resize(_,o){this._deviceCellWidth=o.device.cell.width,this._deviceCellHeight=o.device.cell.height,this._deviceCharWidth=o.device.char.width,this._deviceCharHeight=o.device.char.height,this._deviceCharLeft=o.device.char.left,this._deviceCharTop=o.device.char.top,this._canvas.width=o.device.canvas.width,this._canvas.height=o.device.canvas.height,this._canvas.style.width=`${o.css.canvas.width}px`,this._canvas.style.height=`${o.css.canvas.height}px`,this._alpha||this._clearAll(),this._refreshCharAtlas(_,this._themeService.colors)}_fillBottomLineAtCells(_,o,d=1){this._ctx.fillRect(_*this._deviceCellWidth,(o+1)*this._deviceCellHeight-this._coreBrowserService.dpr-1,d*this._deviceCellWidth,this._coreBrowserService.dpr)}_clearAll(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))}_clearCells(_,o,d,a){this._alpha?this._ctx.clearRect(_*this._deviceCellWidth,o*this._deviceCellHeight,d*this._deviceCellWidth,a*this._deviceCellHeight):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(_*this._deviceCellWidth,o*this._deviceCellHeight,d*this._deviceCellWidth,a*this._deviceCellHeight))}_fillCharTrueColor(_,o,d,a){this._ctx.font=this._getFont(_,!1,!1),this._ctx.textBaseline=E.TEXT_BASELINE,this._clipCell(d,a,o.getWidth()),this._ctx.fillText(o.getChars(),d*this._deviceCellWidth+this._deviceCharLeft,a*this._deviceCellHeight+this._deviceCharTop+this._deviceCharHeight)}_clipCell(_,o,d){this._ctx.beginPath(),this._ctx.rect(_*this._deviceCellWidth,o*this._deviceCellHeight,d*this._deviceCellWidth,this._deviceCellHeight),this._ctx.clip()}_getFont(_,o,d){return`${d?"italic":""} ${o?_.options.fontWeightBold:_.options.fontWeight} ${_.options.fontSize*this._coreBrowserService.dpr}px ${_.options.fontFamily}`}}},733:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.LinkRenderLayer=void 0;const v=m(197),E=m(237),h=m(592);u.LinkRenderLayer=class b extends h.BaseRenderLayer{constructor(D,_,o,d,a,p,x){super(o,D,"link",_,!0,a,p,x),this.register(d.onShowLinkUnderline(P=>this._handleShowLinkUnderline(P))),this.register(d.onHideLinkUnderline(P=>this._handleHideLinkUnderline(P)))}resize(D,_){super.resize(D,_),this._state=void 0}reset(D){this._clearCurrentLink()}_clearCurrentLink(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);const D=this._state.y2-this._state.y1-1;D>0&&this._clearCells(0,this._state.y1+1,this._state.cols,D),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}}_handleShowLinkUnderline(D){if(this._ctx.fillStyle=D.fg===E.INVERTED_DEFAULT_COLOR?this._themeService.colors.background.css:void 0!==D.fg&&(0,v.is256Color)(D.fg)?this._themeService.colors.ansi[D.fg].css:this._themeService.colors.foreground.css,D.y1===D.y2)this._fillBottomLineAtCells(D.x1,D.y1,D.x2-D.x1);else{this._fillBottomLineAtCells(D.x1,D.y1,D.cols-D.x1);for(let _=D.y1+1;_<D.y2;_++)this._fillBottomLineAtCells(0,_,D.cols);this._fillBottomLineAtCells(0,D.y2,D.x2)}this._state=D}_handleHideLinkUnderline(D){this._clearCurrentLink()}}},820:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.addDisposableDomListener=void 0,u.addDisposableDomListener=function(m,v,E,h){m.addEventListener(v,E,h);let b=!1;return{dispose:()=>{b||(b=!0,m.removeEventListener(v,E,h))}}}},274:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CellColorResolver=void 0;let m,v=0,E=0,h=!1,b=!1,w=!1;u.CellColorResolver=class{constructor(D,_,o,d,a){this._terminal=D,this._selectionRenderModel=_,this._decorationService=o,this._coreBrowserService=d,this._themeService=a,this.result={fg:0,bg:0,ext:0}}resolve(D,_,o){this.result.bg=D.bg,this.result.fg=D.fg,this.result.ext=268435456&D.bg?D.extended.ext:0,E=0,v=0,b=!1,h=!1,w=!1,m=this._themeService.colors,this._decorationService.forEachDecorationAtCell(_,o,"bottom",d=>{d.backgroundColorRGB&&(E=d.backgroundColorRGB.rgba>>8&16777215,b=!0),d.foregroundColorRGB&&(v=d.foregroundColorRGB.rgba>>8&16777215,h=!0)}),w=this._selectionRenderModel.isCellSelected(this._terminal,_,o),w&&(E=(this._coreBrowserService.isFocused?m.selectionBackgroundOpaque:m.selectionInactiveBackgroundOpaque).rgba>>8&16777215,b=!0,m.selectionForeground&&(v=m.selectionForeground.rgba>>8&16777215,h=!0)),this._decorationService.forEachDecorationAtCell(_,o,"top",d=>{d.backgroundColorRGB&&(E=d.backgroundColorRGB.rgba>>8&16777215,b=!0),d.foregroundColorRGB&&(v=d.foregroundColorRGB.rgba>>8&16777215,h=!0)}),b&&(E=w?-16777216&D.bg&-134217729|E|50331648:-16777216&D.bg|E|50331648),h&&(v=-16777216&D.fg&-67108865|v|50331648),67108864&this.result.fg&&(b&&!h&&(v=0==(50331648&this.result.bg)?-134217728&this.result.fg|16777215&m.background.rgba>>8|50331648:-134217728&this.result.fg|67108863&this.result.bg,h=!0),!b&&h&&(E=0==(50331648&this.result.fg)?-67108864&this.result.bg|16777215&m.foreground.rgba>>8|50331648:-67108864&this.result.bg|67108863&this.result.fg,b=!0)),m=void 0,this.result.bg=b?E:this.result.bg,this.result.fg=h?v:this.result.fg}}},627:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.removeTerminalFromCache=u.acquireTextureAtlas=void 0;const v=m(509),E=m(197),h=[];u.acquireTextureAtlas=function(b,w,D,_,o,d,a,p){const x=(0,E.generateConfig)(_,o,d,a,w,D,p);for(let j=0;j<h.length;j++){const f=h[j],C=f.ownedBy.indexOf(b);if(C>=0){if((0,E.configEquals)(f.config,x))return f.atlas;1===f.ownedBy.length?(f.atlas.dispose(),h.splice(j,1)):f.ownedBy.splice(C,1);break}}for(let j=0;j<h.length;j++){const f=h[j];if((0,E.configEquals)(f.config,x))return f.ownedBy.push(b),f.atlas}const N={atlas:new v.TextureAtlas(document,x,b._core.unicodeService),config:x,ownedBy:[b]};return h.push(N),N.atlas},u.removeTerminalFromCache=function(b){for(let w=0;w<h.length;w++){const D=h[w].ownedBy.indexOf(b);if(-1!==D){1===h[w].ownedBy.length?(h[w].atlas.dispose(),h.splice(w,1)):h[w].ownedBy.splice(D,1);break}}}},197:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.is256Color=u.configEquals=u.generateConfig=void 0;const v=m(160);u.generateConfig=function(E,h,b,w,D,_,o){const d={foreground:_.foreground,background:_.background,cursor:v.NULL_COLOR,cursorAccent:v.NULL_COLOR,selectionForeground:v.NULL_COLOR,selectionBackgroundTransparent:v.NULL_COLOR,selectionBackgroundOpaque:v.NULL_COLOR,selectionInactiveBackgroundTransparent:v.NULL_COLOR,selectionInactiveBackgroundOpaque:v.NULL_COLOR,ansi:_.ansi.slice(),contrastCache:_.contrastCache,halfContrastCache:_.halfContrastCache};return{customGlyphs:D.customGlyphs,devicePixelRatio:o,letterSpacing:D.letterSpacing,lineHeight:D.lineHeight,deviceCellWidth:E,deviceCellHeight:h,deviceCharWidth:b,deviceCharHeight:w,fontFamily:D.fontFamily,fontSize:D.fontSize,fontWeight:D.fontWeight,fontWeightBold:D.fontWeightBold,allowTransparency:D.allowTransparency,drawBoldTextInBrightColors:D.drawBoldTextInBrightColors,minimumContrastRatio:D.minimumContrastRatio,colors:d}},u.configEquals=function(E,h){for(let b=0;b<E.colors.ansi.length;b++)if(E.colors.ansi[b].rgba!==h.colors.ansi[b].rgba)return!1;return E.devicePixelRatio===h.devicePixelRatio&&E.customGlyphs===h.customGlyphs&&E.lineHeight===h.lineHeight&&E.letterSpacing===h.letterSpacing&&E.fontFamily===h.fontFamily&&E.fontSize===h.fontSize&&E.fontWeight===h.fontWeight&&E.fontWeightBold===h.fontWeightBold&&E.allowTransparency===h.allowTransparency&&E.deviceCharWidth===h.deviceCharWidth&&E.deviceCharHeight===h.deviceCharHeight&&E.drawBoldTextInBrightColors===h.drawBoldTextInBrightColors&&E.minimumContrastRatio===h.minimumContrastRatio&&E.colors.foreground.rgba===h.colors.foreground.rgba&&E.colors.background.rgba===h.colors.background.rgba},u.is256Color=function(E){return 16777216==(50331648&E)||33554432==(50331648&E)}},237:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TEXT_BASELINE=u.DIM_OPACITY=u.INVERTED_DEFAULT_COLOR=void 0;const v=m(399);u.INVERTED_DEFAULT_COLOR=257,u.DIM_OPACITY=.5,u.TEXT_BASELINE=v.isFirefox||v.isLegacyEdge?"bottom":"ideographic"},457:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CursorBlinkStateManager=void 0,u.CursorBlinkStateManager=class{constructor(m,v){this._renderCallback=m,this._coreBrowserService=v,this.isCursorVisible=!0,this._coreBrowserService.isFocused&&this._restartInterval()}get isPaused(){return!(this._blinkStartTimeout||this._blinkInterval)}dispose(){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}restartBlinkAnimation(){this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})))}_restartInterval(m=600){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=this._coreBrowserService.window.setTimeout(()=>{if(this._animationTimeRestarted){const v=600-(Date.now()-this._animationTimeRestarted);if(this._animationTimeRestarted=void 0,v>0)return void this._restartInterval(v)}this.isCursorVisible=!1,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0}),this._blinkInterval=this._coreBrowserService.window.setInterval(()=>{if(this._animationTimeRestarted){const v=600-(Date.now()-this._animationTimeRestarted);return this._animationTimeRestarted=void 0,void this._restartInterval(v)}this.isCursorVisible=!this.isCursorVisible,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})},600)},m)}pause(){this.isCursorVisible=!0,this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}resume(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()}}},860:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.tryDrawCustomChar=u.powerlineDefinitions=u.boxDrawingDefinitions=u.blockElementDefinitions=void 0;const v=m(374);u.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258a":[{x:0,y:0,w:6,h:8}],"\u258b":[{x:0,y:0,w:5,h:8}],"\u258c":[{x:0,y:0,w:4,h:8}],"\u258d":[{x:0,y:0,w:3,h:8}],"\u258e":[{x:0,y:0,w:2,h:8}],"\u258f":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:8,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259a":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259b":[{x:0,y:0,w:4,h:8},{x:4,y:0,w:4,h:4}],"\u259c":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259d":[{x:4,y:0,w:4,h:4}],"\u259e":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259f":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u{1fb70}":[{x:1,y:0,w:1,h:8}],"\u{1fb71}":[{x:2,y:0,w:1,h:8}],"\u{1fb72}":[{x:3,y:0,w:1,h:8}],"\u{1fb73}":[{x:4,y:0,w:1,h:8}],"\u{1fb74}":[{x:5,y:0,w:1,h:8}],"\u{1fb75}":[{x:6,y:0,w:1,h:8}],"\u{1fb76}":[{x:0,y:1,w:8,h:1}],"\u{1fb77}":[{x:0,y:2,w:8,h:1}],"\u{1fb78}":[{x:0,y:3,w:8,h:1}],"\u{1fb79}":[{x:0,y:4,w:8,h:1}],"\u{1fb7a}":[{x:0,y:5,w:8,h:1}],"\u{1fb7b}":[{x:0,y:6,w:8,h:1}],"\u{1fb7c}":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1fb7d}":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1fb7e}":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1fb7f}":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1fb80}":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1fb81}":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1fb82}":[{x:0,y:0,w:8,h:2}],"\u{1fb83}":[{x:0,y:0,w:8,h:3}],"\u{1fb84}":[{x:0,y:0,w:8,h:5}],"\u{1fb85}":[{x:0,y:0,w:8,h:6}],"\u{1fb86}":[{x:0,y:0,w:8,h:7}],"\u{1fb87}":[{x:6,y:0,w:2,h:8}],"\u{1fb88}":[{x:5,y:0,w:3,h:8}],"\u{1fb89}":[{x:3,y:0,w:5,h:8}],"\u{1fb8a}":[{x:2,y:0,w:6,h:8}],"\u{1fb8b}":[{x:1,y:0,w:7,h:8}],"\u{1fb95}":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\u{1fb96}":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\u{1fb97}":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};const E={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};u.boxDrawingDefinitions={"\u2500":{1:"M0,.5 L1,.5"},"\u2501":{3:"M0,.5 L1,.5"},"\u2502":{1:"M.5,0 L.5,1"},"\u2503":{3:"M.5,0 L.5,1"},"\u250c":{1:"M0.5,1 L.5,.5 L1,.5"},"\u250f":{3:"M0.5,1 L.5,.5 L1,.5"},"\u2510":{1:"M0,.5 L.5,.5 L.5,1"},"\u2513":{3:"M0,.5 L.5,.5 L.5,1"},"\u2514":{1:"M.5,0 L.5,.5 L1,.5"},"\u2517":{3:"M.5,0 L.5,.5 L1,.5"},"\u2518":{1:"M.5,0 L.5,.5 L0,.5"},"\u251b":{3:"M.5,0 L.5,.5 L0,.5"},"\u251c":{1:"M.5,0 L.5,1 M.5,.5 L1,.5"},"\u2523":{3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"\u2524":{1:"M.5,0 L.5,1 M.5,.5 L0,.5"},"\u252b":{3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"\u252c":{1:"M0,.5 L1,.5 M.5,.5 L.5,1"},"\u2533":{3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"\u2534":{1:"M0,.5 L1,.5 M.5,.5 L.5,0"},"\u253b":{3:"M0,.5 L1,.5 M.5,.5 L.5,0"},"\u253c":{1:"M0,.5 L1,.5 M.5,0 L.5,1"},"\u254b":{3:"M0,.5 L1,.5 M.5,0 L.5,1"},"\u2574":{1:"M.5,.5 L0,.5"},"\u2578":{3:"M.5,.5 L0,.5"},"\u2575":{1:"M.5,.5 L.5,0"},"\u2579":{3:"M.5,.5 L.5,0"},"\u2576":{1:"M.5,.5 L1,.5"},"\u257a":{3:"M.5,.5 L1,.5"},"\u2577":{1:"M.5,.5 L.5,1"},"\u257b":{3:"M.5,.5 L.5,1"},"\u2550":{1:(_,o)=>`M0,${.5-o} L1,${.5-o} M0,${.5+o} L1,${.5+o}`},"\u2551":{1:(_,o)=>`M${.5-_},0 L${.5-_},1 M${.5+_},0 L${.5+_},1`},"\u2552":{1:(_,o)=>`M.5,1 L.5,${.5-o} L1,${.5-o} M.5,${.5+o} L1,${.5+o}`},"\u2553":{1:(_,o)=>`M${.5-_},1 L${.5-_},.5 L1,.5 M${.5+_},.5 L${.5+_},1`},"\u2554":{1:(_,o)=>`M1,${.5-o} L${.5-_},${.5-o} L${.5-_},1 M1,${.5+o} L${.5+_},${.5+o} L${.5+_},1`},"\u2555":{1:(_,o)=>`M0,${.5-o} L.5,${.5-o} L.5,1 M0,${.5+o} L.5,${.5+o}`},"\u2556":{1:(_,o)=>`M${.5+_},1 L${.5+_},.5 L0,.5 M${.5-_},.5 L${.5-_},1`},"\u2557":{1:(_,o)=>`M0,${.5+o} L${.5-_},${.5+o} L${.5-_},1 M0,${.5-o} L${.5+_},${.5-o} L${.5+_},1`},"\u2558":{1:(_,o)=>`M.5,0 L.5,${.5+o} L1,${.5+o} M.5,${.5-o} L1,${.5-o}`},"\u2559":{1:(_,o)=>`M1,.5 L${.5-_},.5 L${.5-_},0 M${.5+_},.5 L${.5+_},0`},"\u255a":{1:(_,o)=>`M1,${.5-o} L${.5+_},${.5-o} L${.5+_},0 M1,${.5+o} L${.5-_},${.5+o} L${.5-_},0`},"\u255b":{1:(_,o)=>`M0,${.5+o} L.5,${.5+o} L.5,0 M0,${.5-o} L.5,${.5-o}`},"\u255c":{1:(_,o)=>`M0,.5 L${.5+_},.5 L${.5+_},0 M${.5-_},.5 L${.5-_},0`},"\u255d":{1:(_,o)=>`M0,${.5-o} L${.5-_},${.5-o} L${.5-_},0 M0,${.5+o} L${.5+_},${.5+o} L${.5+_},0`},"\u255e":{1:(_,o)=>`M.5,0 L.5,1 M.5,${.5-o} L1,${.5-o} M.5,${.5+o} L1,${.5+o}`},"\u255f":{1:(_,o)=>`M${.5-_},0 L${.5-_},1 M${.5+_},0 L${.5+_},1 M${.5+_},.5 L1,.5`},"\u2560":{1:(_,o)=>`M${.5-_},0 L${.5-_},1 M1,${.5+o} L${.5+_},${.5+o} L${.5+_},1 M1,${.5-o} L${.5+_},${.5-o} L${.5+_},0`},"\u2561":{1:(_,o)=>`M.5,0 L.5,1 M0,${.5-o} L.5,${.5-o} M0,${.5+o} L.5,${.5+o}`},"\u2562":{1:(_,o)=>`M0,.5 L${.5-_},.5 M${.5-_},0 L${.5-_},1 M${.5+_},0 L${.5+_},1`},"\u2563":{1:(_,o)=>`M${.5+_},0 L${.5+_},1 M0,${.5+o} L${.5-_},${.5+o} L${.5-_},1 M0,${.5-o} L${.5-_},${.5-o} L${.5-_},0`},"\u2564":{1:(_,o)=>`M0,${.5-o} L1,${.5-o} M0,${.5+o} L1,${.5+o} M.5,${.5+o} L.5,1`},"\u2565":{1:(_,o)=>`M0,.5 L1,.5 M${.5-_},.5 L${.5-_},1 M${.5+_},.5 L${.5+_},1`},"\u2566":{1:(_,o)=>`M0,${.5-o} L1,${.5-o} M0,${.5+o} L${.5-_},${.5+o} L${.5-_},1 M1,${.5+o} L${.5+_},${.5+o} L${.5+_},1`},"\u2567":{1:(_,o)=>`M.5,0 L.5,${.5-o} M0,${.5-o} L1,${.5-o} M0,${.5+o} L1,${.5+o}`},"\u2568":{1:(_,o)=>`M0,.5 L1,.5 M${.5-_},.5 L${.5-_},0 M${.5+_},.5 L${.5+_},0`},"\u2569":{1:(_,o)=>`M0,${.5+o} L1,${.5+o} M0,${.5-o} L${.5-_},${.5-o} L${.5-_},0 M1,${.5-o} L${.5+_},${.5-o} L${.5+_},0`},"\u256a":{1:(_,o)=>`M.5,0 L.5,1 M0,${.5-o} L1,${.5-o} M0,${.5+o} L1,${.5+o}`},"\u256b":{1:(_,o)=>`M0,.5 L1,.5 M${.5-_},0 L${.5-_},1 M${.5+_},0 L${.5+_},1`},"\u256c":{1:(_,o)=>`M0,${.5+o} L${.5-_},${.5+o} L${.5-_},1 M1,${.5+o} L${.5+_},${.5+o} L${.5+_},1 M0,${.5-o} L${.5-_},${.5-o} L${.5-_},0 M1,${.5-o} L${.5+_},${.5-o} L${.5+_},0`},"\u2571":{1:"M1,0 L0,1"},"\u2572":{1:"M0,0 L1,1"},"\u2573":{1:"M1,0 L0,1 M0,0 L1,1"},"\u257c":{1:"M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"\u257d":{1:"M.5,.5 L.5,0",3:"M.5,.5 L.5,1"},"\u257e":{1:"M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u257f":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"\u250d":{1:"M.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"\u250e":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2511":{1:"M.5,.5 L.5,1",3:"M.5,.5 L0,.5"},"\u2512":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"\u2515":{1:"M.5,.5 L.5,0",3:"M.5,.5 L1,.5"},"\u2516":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"\u2519":{1:"M.5,.5 L.5,0",3:"M.5,.5 L0,.5"},"\u251a":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,0"},"\u251d":{1:"M.5,0 L.5,1",3:"M.5,.5 L1,.5"},"\u251e":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"\u251f":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2520":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1"},"\u2521":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"\u2522":{1:"M.5,.5 L.5,0",3:"M0.5,1 L.5,.5 L1,.5"},"\u2525":{1:"M.5,0 L.5,1",3:"M.5,.5 L0,.5"},"\u2526":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"\u2527":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"\u2528":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1"},"\u2529":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L0,.5"},"\u252a":{1:"M.5,.5 L.5,0",3:"M0,.5 L.5,.5 L.5,1"},"\u252d":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u252e":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"\u252f":{1:"M.5,.5 L.5,1",3:"M0,.5 L1,.5"},"\u2530":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2531":{1:"M.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"\u2532":{1:"M.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"\u2535":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u2536":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"\u2537":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5"},"\u2538":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,0"},"\u2539":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"\u253a":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,.5 L1,.5"},"\u253d":{1:"M.5,0 L.5,1 M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u253e":{1:"M.5,0 L.5,1 M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"\u253f":{1:"M.5,0 L.5,1",3:"M0,.5 L1,.5"},"\u2540":{1:"M0,.5 L1,.5 M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"\u2541":{1:"M.5,.5 L.5,0 M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2542":{1:"M0,.5 L1,.5",3:"M.5,0 L.5,1"},"\u2543":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"\u2544":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"\u2545":{1:"M.5,0 L.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"\u2546":{1:"M.5,0 L.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"\u2547":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0 M0,.5 L1,.5"},"\u2548":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"\u2549":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"\u254a":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"\u254c":{1:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"\u254d":{3:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"\u2504":{1:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"\u2505":{3:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"\u2508":{1:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"\u2509":{3:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"\u254e":{1:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"\u254f":{3:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"\u2506":{1:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"\u2507":{3:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"\u250a":{1:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"\u250b":{3:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"\u256d":{1:(_,o)=>`M.5,1 L.5,${.5+o/.15*.5} C.5,${.5+o/.15*.5},.5,.5,1,.5`},"\u256e":{1:(_,o)=>`M.5,1 L.5,${.5+o/.15*.5} C.5,${.5+o/.15*.5},.5,.5,0,.5`},"\u256f":{1:(_,o)=>`M.5,0 L.5,${.5-o/.15*.5} C.5,${.5-o/.15*.5},.5,.5,0,.5`},"\u2570":{1:(_,o)=>`M.5,0 L.5,${.5-o/.15*.5} C.5,${.5-o/.15*.5},.5,.5,1,.5`}},u.powerlineDefinitions={"\ue0b0":{d:"M0,0 L1,.5 L0,1",type:0,rightPadding:2},"\ue0b1":{d:"M-1,-.5 L1,.5 L-1,1.5",type:1,leftPadding:1,rightPadding:1},"\ue0b2":{d:"M1,0 L0,.5 L1,1",type:0,leftPadding:2},"\ue0b3":{d:"M2,-.5 L0,.5 L2,1.5",type:1,leftPadding:1,rightPadding:1},"\ue0b4":{d:"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0",type:0,rightPadding:1},"\ue0b5":{d:"M.2,1 C.422,1,.8,.826,.78,.5 C.8,.174,0.422,0,.2,0",type:1,rightPadding:1},"\ue0b6":{d:"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0",type:0,leftPadding:1},"\ue0b7":{d:"M.8,1 C0.578,1,0.2,.826,.22,.5 C0.2,0.174,0.578,0,0.8,0",type:1,leftPadding:1},"\ue0b8":{d:"M-.5,-.5 L1.5,1.5 L-.5,1.5",type:0},"\ue0b9":{d:"M-.5,-.5 L1.5,1.5",type:1,leftPadding:1,rightPadding:1},"\ue0ba":{d:"M1.5,-.5 L-.5,1.5 L1.5,1.5",type:0},"\ue0bc":{d:"M1.5,-.5 L-.5,1.5 L-.5,-.5",type:0},"\ue0bd":{d:"M1.5,-.5 L-.5,1.5",type:1,leftPadding:1,rightPadding:1},"\ue0be":{d:"M-.5,-.5 L1.5,1.5 L1.5,-.5",type:0}},u.powerlineDefinitions["\ue0bb"]=u.powerlineDefinitions["\ue0bd"],u.powerlineDefinitions["\ue0bf"]=u.powerlineDefinitions["\ue0b9"],u.tryDrawCustomChar=function(_,o,d,a,p,x,P,N){const j=u.blockElementDefinitions[o];if(j)return function(R,H,K,X,oe,ae){for(let Me=0;Me<H.length;Me++){const Ce=H[Me],Z=oe/8,q=ae/8;R.fillRect(K+Ce.x*Z,X+Ce.y*q,Ce.w*Z,Ce.h*q)}}(_,j,d,a,p,x),!0;const f=E[o];if(f)return function(R,H,K,X,oe,ae){let Me=h.get(H);Me||(Me=new Map,h.set(H,Me));const Ce=R.fillStyle;if("string"!=typeof Ce)throw new Error(`Unexpected fillStyle type "${Ce}"`);let Z=Me.get(Ce);if(!Z){const q=H[0].length,Q=H.length,ie=document.createElement("canvas");ie.width=q,ie.height=Q;const ge=(0,v.throwIfFalsy)(ie.getContext("2d")),be=new ImageData(q,Q);let Ne,Ye,me,ne;if(Ce.startsWith("#"))Ne=parseInt(Ce.slice(1,3),16),Ye=parseInt(Ce.slice(3,5),16),me=parseInt(Ce.slice(5,7),16),ne=Ce.length>7&&parseInt(Ce.slice(7,9),16)||1;else{if(!Ce.startsWith("rgba"))throw new Error(`Unexpected fillStyle color format "${Ce}" when drawing pattern glyph`);[Ne,Ye,me,ne]=Ce.substring(5,Ce.length-1).split(",").map(Ie=>parseFloat(Ie))}for(let Ie=0;Ie<Q;Ie++)for(let Pe=0;Pe<q;Pe++)be.data[4*(Ie*q+Pe)]=Ne,be.data[4*(Ie*q+Pe)+1]=Ye,be.data[4*(Ie*q+Pe)+2]=me,be.data[4*(Ie*q+Pe)+3]=H[Ie][Pe]*(255*ne);ge.putImageData(be,0,0),Z=(0,v.throwIfFalsy)(R.createPattern(ie,null)),Me.set(Ce,Z)}R.fillStyle=Z,R.fillRect(K,X,oe,ae)}(_,f,d,a,p,x),!0;const C=u.boxDrawingDefinitions[o];if(C)return function(R,H,K,X,oe,ae,Me){R.strokeStyle=R.fillStyle;for(const[Ce,Z]of Object.entries(H)){let q;R.beginPath(),R.lineWidth=Me*Number.parseInt(Ce),q="function"==typeof Z?Z(.15,.15/ae*oe):Z;for(const Q of q.split(" ")){const ie=Q[0],ge=w[ie];if(!ge){console.error(`Could not find drawing instructions for "${ie}"`);continue}const be=Q.substring(1).split(",");be[0]&&be[1]&&ge(R,D(be,oe,ae,K,X,!0,Me))}R.stroke(),R.closePath()}}(_,C,d,a,p,x,N),!0;const L=u.powerlineDefinitions[o];return!!L&&(function(R,H,K,X,oe,ae,Me,Ce){var Z,q;const Q=new Path2D;Q.rect(K,X,oe,ae),R.clip(Q),R.beginPath();const ie=Me/12;R.lineWidth=Ce*ie;for(const ge of H.d.split(" ")){const be=ge[0],Ne=w[be];if(!Ne){console.error(`Could not find drawing instructions for "${be}"`);continue}const Ye=ge.substring(1).split(",");Ye[0]&&Ye[1]&&Ne(R,D(Ye,oe,ae,K,X,!1,Ce,(null!==(Z=H.leftPadding)&&void 0!==Z?Z:0)*(ie/2),(null!==(q=H.rightPadding)&&void 0!==q?q:0)*(ie/2)))}1===H.type?(R.strokeStyle=R.fillStyle,R.stroke()):R.fill(),R.closePath()}(_,L,d,a,p,x,P,N),!0)};const h=new Map;function b(_,o,d=0){return Math.max(Math.min(_,o),d)}const w={C:(_,o)=>_.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]),L:(_,o)=>_.lineTo(o[0],o[1]),M:(_,o)=>_.moveTo(o[0],o[1])};function D(_,o,d,a,p,x,P,N=0,j=0){const f=_.map(C=>parseFloat(C)||parseInt(C));if(f.length<2)throw new Error("Too few arguments for instruction");for(let C=0;C<f.length;C+=2)f[C]*=o-N*P-j*P,x&&0!==f[C]&&(f[C]=b(Math.round(f[C]+.5)-.5,o,0)),f[C]+=a+N*P;for(let C=1;C<f.length;C+=2)f[C]*=d,x&&0!==f[C]&&(f[C]=b(Math.round(f[C]+.5)-.5,d,0)),f[C]+=p;return f}},56:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.observeDevicePixelDimensions=void 0;const v=m(859);u.observeDevicePixelDimensions=function(E,h,b){let w=new h.ResizeObserver(D=>{const _=D.find(a=>a.target===E);if(!_)return;if(!("devicePixelContentBoxSize"in _))return null==w||w.disconnect(),void(w=void 0);const o=_.devicePixelContentBoxSize[0].inlineSize,d=_.devicePixelContentBoxSize[0].blockSize;o>0&&d>0&&b(o,d)});try{w.observe(E,{box:["device-pixel-content-box"]})}catch(D){w.disconnect(),w=void 0}return(0,v.toDisposable)(()=>null==w?void 0:w.disconnect())}},374:(y,u)=>{function m(v){return 57508<=v&&v<=57558}Object.defineProperty(u,"__esModule",{value:!0}),u.createRenderDimensions=u.excludeFromContrastRatioDemands=u.isRestrictedPowerlineGlyph=u.isPowerlineGlyph=u.throwIfFalsy=void 0,u.throwIfFalsy=function(v){if(!v)throw new Error("value must not be falsy");return v},u.isPowerlineGlyph=m,u.isRestrictedPowerlineGlyph=function(v){return 57520<=v&&v<=57527},u.excludeFromContrastRatioDemands=function(v){return m(v)||9472<=(E=v)&&E<=9631;var E},u.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},296:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.createSelectionRenderModel=void 0;class m{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(E,h,b,w=!1){if(this.selectionStart=h,this.selectionEnd=b,!h||!b||h[0]===b[0]&&h[1]===b[1])return void this.clear();const D=h[1]-E.buffer.active.viewportY,_=b[1]-E.buffer.active.viewportY,o=Math.max(D,0),d=Math.min(_,E.rows-1);o>=E.rows||d<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=w,this.viewportStartRow=D,this.viewportEndRow=_,this.viewportCappedStartRow=o,this.viewportCappedEndRow=d,this.startCol=h[0],this.endCol=b[0])}isCellSelected(E,h,b){return!!this.hasSelection&&(b-=E.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?h>=this.startCol&&b>=this.viewportCappedStartRow&&h<this.endCol&&b<=this.viewportCappedEndRow:h<this.startCol&&b>=this.viewportCappedStartRow&&h>=this.endCol&&b<=this.viewportCappedEndRow:b>this.viewportStartRow&&b<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&b===this.viewportStartRow&&h>=this.startCol&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&b===this.viewportEndRow&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&b===this.viewportStartRow&&h>=this.startCol)}}u.createSelectionRenderModel=function(){return new m}},509:function(y,u,m){var v=this&&this.__decorate||function(L,R,H,K){var X,oe=arguments.length,ae=oe<3?R:null===K?K=Object.getOwnPropertyDescriptor(R,H):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(L,R,H,K);else for(var Me=L.length-1;Me>=0;Me--)(X=L[Me])&&(ae=(oe<3?X(ae):oe>3?X(R,H,ae):X(R,H))||ae);return oe>3&&ae&&Object.defineProperty(R,H,ae),ae};Object.defineProperty(u,"__esModule",{value:!0}),u.TextureAtlas=void 0;const E=m(237),h=m(860),b=m(374),w=m(160),D=m(345),_=m(485),o=m(385),d=m(147),a=m(855),p=m(776),x={texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},offset:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}};let P;class N{get pages(){return this._pages}constructor(R,H,K){this._document=R,this._config=H,this._unicodeService=K,this._didWarmUp=!1,this._cacheMap=new _.FourKeyMap,this._cacheMapCombined=new _.FourKeyMap,this._pages=[],this._activePages=[],this._workBoundingBox={top:0,left:0,bottom:0,right:0},this._workAttributeData=new d.AttributeData,this._textureSize=512,this._onAddTextureAtlasCanvas=new D.EventEmitter,this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=new D.EventEmitter,this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._requestClearModel=!1,this._createNewPage(),this._tmpCanvas=C(R,4*this._config.deviceCellWidth+4,this._config.deviceCellHeight+4),this._tmpCtx=(0,b.throwIfFalsy)(this._tmpCanvas.getContext("2d",{alpha:this._config.allowTransparency,willReadFrequently:!0}))}dispose(){for(const R of this.pages)R.canvas.remove();this._onAddTextureAtlasCanvas.dispose()}warmUp(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)}_doWarmUp(){const R=new o.IdleTaskQueue;for(let H=33;H<126;H++)R.enqueue(()=>{if(!this._cacheMap.get(H,a.DEFAULT_COLOR,a.DEFAULT_COLOR,a.DEFAULT_EXT)){const K=this._drawToCache(H,a.DEFAULT_COLOR,a.DEFAULT_COLOR,a.DEFAULT_EXT);this._cacheMap.set(H,a.DEFAULT_COLOR,a.DEFAULT_COLOR,a.DEFAULT_EXT,K)}})}beginFrame(){return this._requestClearModel}clearTexture(){if(0!==this._pages[0].currentRow.x||0!==this._pages[0].currentRow.y){for(const R of this._pages)R.clear();this._cacheMap.clear(),this._cacheMapCombined.clear(),this._didWarmUp=!1}}_createNewPage(){if(N.maxAtlasPages&&this._pages.length>=Math.max(4,N.maxAtlasPages)){const H=this._pages.filter(Z=>2*Z.canvas.width<=(N.maxTextureSize||4096)).sort((Z,q)=>q.canvas.width!==Z.canvas.width?q.canvas.width-Z.canvas.width:q.percentageUsed-Z.percentageUsed);let K=-1,X=0;for(let Z=0;Z<H.length;Z++)if(H[Z].canvas.width!==X)K=Z,X=H[Z].canvas.width;else if(Z-K==3)break;const oe=H.slice(K,K+4),ae=oe.map(Z=>Z.glyphs[0].texturePage).sort((Z,q)=>Z>q?1:-1),Ce=this._mergePages(oe,this.pages.length-oe.length);Ce.version++;for(let Z=ae.length-1;Z>=0;Z--)this._deletePage(ae[Z]);this.pages.push(Ce),this._requestClearModel=!0,this._onAddTextureAtlasCanvas.fire(Ce.canvas)}const R=new j(this._document,this._textureSize);return this._pages.push(R),this._activePages.push(R),this._onAddTextureAtlasCanvas.fire(R.canvas),R}_mergePages(R,H){const K=2*R[0].canvas.width,X=new j(this._document,K,R);for(const[oe,ae]of R.entries()){const Me=oe*ae.canvas.width%K,Ce=Math.floor(oe/2)*ae.canvas.height;X.ctx.drawImage(ae.canvas,Me,Ce);for(const q of ae.glyphs)q.texturePage=H,q.sizeClipSpace.x=q.size.x/K,q.sizeClipSpace.y=q.size.y/K,q.texturePosition.x+=Me,q.texturePosition.y+=Ce,q.texturePositionClipSpace.x=q.texturePosition.x/K,q.texturePositionClipSpace.y=q.texturePosition.y/K;this._onRemoveTextureAtlasCanvas.fire(ae.canvas);const Z=this._activePages.indexOf(ae);-1!==Z&&this._activePages.splice(Z,1)}return X}_deletePage(R){this._pages.splice(R,1);for(let H=R;H<this._pages.length;H++){const K=this._pages[H];for(const X of K.glyphs)X.texturePage--;K.version++}}getRasterizedGlyphCombinedChar(R,H,K,X,oe){return this._getFromCacheMap(this._cacheMapCombined,R,H,K,X,oe)}getRasterizedGlyph(R,H,K,X,oe){return this._getFromCacheMap(this._cacheMap,R,H,K,X,oe)}_getFromCacheMap(R,H,K,X,oe,ae=!1){return P=R.get(H,K,X,oe),P||(P=this._drawToCache(H,K,X,oe,ae),R.set(H,K,X,oe,P)),P}_getColorFromAnsiIndex(R){if(R>=this._config.colors.ansi.length)throw new Error("No color found for idx "+R);return this._config.colors.ansi[R]}_getBackgroundColor(R,H,K,X){if(this._config.allowTransparency)return w.NULL_COLOR;let oe;switch(R){case 16777216:case 33554432:oe=this._getColorFromAnsiIndex(H);break;case 50331648:const ae=d.AttributeData.toColorRGB(H);oe=w.rgba.toColor(ae[0],ae[1],ae[2]);break;default:oe=K?w.color.opaque(this._config.colors.foreground):this._config.colors.background}return oe}_getForegroundColor(R,H,K,X,oe,ae,Me,Ce,Z,q){const Q=this._getMinimumContrastColor(R,H,K,X,oe,ae,!1,Z,Ce,q);if(Q)return Q;let ie;switch(oe){case 16777216:case 33554432:this._config.drawBoldTextInBrightColors&&Z&&ae<8&&(ae+=8),ie=this._getColorFromAnsiIndex(ae);break;case 50331648:const ge=d.AttributeData.toColorRGB(ae);ie=w.rgba.toColor(ge[0],ge[1],ge[2]);break;default:ie=Me?this._config.colors.background:this._config.colors.foreground}return this._config.allowTransparency&&(ie=w.color.opaque(ie)),Ce&&(ie=w.color.multiplyOpacity(ie,E.DIM_OPACITY)),ie}_resolveBackgroundRgba(R,H,K){switch(R){case 16777216:case 33554432:return this._getColorFromAnsiIndex(H).rgba;case 50331648:return H<<8;default:return K?this._config.colors.foreground.rgba:this._config.colors.background.rgba}}_resolveForegroundRgba(R,H,K,X){switch(R){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&X&&H<8&&(H+=8),this._getColorFromAnsiIndex(H).rgba;case 50331648:return H<<8;default:return K?this._config.colors.background.rgba:this._config.colors.foreground.rgba}}_getMinimumContrastColor(R,H,K,X,oe,ae,Me,Ce,Z,q){if(1===this._config.minimumContrastRatio||q)return;const Q=this._getContrastCache(Z),ie=Q.getColor(R,X);if(void 0!==ie)return ie||void 0;const ge=this._resolveBackgroundRgba(H,K,Me),be=this._resolveForegroundRgba(oe,ae,Me,Ce),Ne=w.rgba.ensureContrastRatio(ge,be,this._config.minimumContrastRatio/(Z?2:1));if(!Ne)return void Q.setColor(R,X,null);const Ye=w.rgba.toColor(Ne>>24&255,Ne>>16&255,Ne>>8&255);return Q.setColor(R,X,Ye),Ye}_getContrastCache(R){return R?this._config.colors.halfContrastCache:this._config.colors.contrastCache}_drawToCache(R,H,K,X,oe=!1){const ae="number"==typeof R?String.fromCharCode(R):R,Me=Math.min(this._config.deviceCellWidth*Math.max(ae.length,2)+4,this._textureSize);this._tmpCanvas.width<Me&&(this._tmpCanvas.width=Me);const Ce=Math.min(this._config.deviceCellHeight+8,this._textureSize);if(this._tmpCanvas.height<Ce&&(this._tmpCanvas.height=Ce),this._tmpCtx.save(),this._workAttributeData.fg=K,this._workAttributeData.bg=H,this._workAttributeData.extended.ext=X,this._workAttributeData.isInvisible())return x;const Z=!!this._workAttributeData.isBold(),q=!!this._workAttributeData.isInverse(),Q=!!this._workAttributeData.isDim(),ie=!!this._workAttributeData.isItalic(),ge=!!this._workAttributeData.isUnderline(),be=!!this._workAttributeData.isStrikethrough(),Ne=!!this._workAttributeData.isOverline();let Ye=this._workAttributeData.getFgColor(),me=this._workAttributeData.getFgColorMode(),ne=this._workAttributeData.getBgColor(),Ie=this._workAttributeData.getBgColorMode();if(q){const ke=Ye;Ye=ne,ne=ke;const ue=me;me=Ie,Ie=ue}const Pe=this._getBackgroundColor(Ie,ne,q,Q);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=Pe.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation="source-over",this._tmpCtx.font=`${ie?"italic":""} ${Z?this._config.fontWeightBold:this._config.fontWeight} ${this._config.fontSize*this._config.devicePixelRatio}px ${this._config.fontFamily}`,this._tmpCtx.textBaseline=E.TEXT_BASELINE;const _t=1===ae.length&&(0,b.isPowerlineGlyph)(ae.charCodeAt(0)),gt=1===ae.length&&(0,b.isRestrictedPowerlineGlyph)(ae.charCodeAt(0)),Ct=this._getForegroundColor(H,Ie,ne,K,me,Ye,q,Q,Z,(0,b.excludeFromContrastRatioDemands)(ae.charCodeAt(0)));this._tmpCtx.fillStyle=Ct.css;const dt=gt?0:4;let at=!1;!1!==this._config.customGlyphs&&(at=(0,h.tryDrawCustomChar)(this._tmpCtx,ae,dt,dt,this._config.deviceCellWidth,this._config.deviceCellHeight,this._config.fontSize,this._config.devicePixelRatio));let vt,an=!_t;if(vt="number"==typeof R?this._unicodeService.wcwidth(R):this._unicodeService.getStringCellWidth(R),ge){this._tmpCtx.save();const ke=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),ue=ke%2==1?.5:0;if(this._tmpCtx.lineWidth=ke,this._workAttributeData.isUnderlineColorDefault())this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle;else if(this._workAttributeData.isUnderlineColorRGB())an=!1,this._tmpCtx.strokeStyle=`rgb(${d.AttributeData.toColorRGB(this._workAttributeData.getUnderlineColor()).join(",")})`;else{an=!1;let xe=this._workAttributeData.getUnderlineColor();this._config.drawBoldTextInBrightColors&&this._workAttributeData.isBold()&&xe<8&&(xe+=8),this._tmpCtx.strokeStyle=this._getColorFromAnsiIndex(xe).css}this._tmpCtx.beginPath();const Ae=dt,le=Math.ceil(dt+this._config.deviceCharHeight)-ue-(oe?2*ke:0),Oe=le+ke,Fe=le+2*ke;for(let xe=0;xe<vt;xe++){this._tmpCtx.save();const Ue=Ae+xe*this._config.deviceCellWidth,ot=Ae+(xe+1)*this._config.deviceCellWidth,At=Ue+this._config.deviceCellWidth/2;switch(this._workAttributeData.extended.underlineStyle){case 2:this._tmpCtx.moveTo(Ue,le),this._tmpCtx.lineTo(ot,le),this._tmpCtx.moveTo(Ue,Fe),this._tmpCtx.lineTo(ot,Fe);break;case 3:const Et=ke<=1?Fe:Math.ceil(dt+this._config.deviceCharHeight-ke/2)-ue,ht=ke<=1?le:Math.ceil(dt+this._config.deviceCharHeight+ke/2)-ue,Qe=new Path2D;Qe.rect(Ue,le,this._config.deviceCellWidth,Fe-le),this._tmpCtx.clip(Qe),this._tmpCtx.moveTo(Ue-this._config.deviceCellWidth/2,Oe),this._tmpCtx.bezierCurveTo(Ue-this._config.deviceCellWidth/2,ht,Ue,ht,Ue,Oe),this._tmpCtx.bezierCurveTo(Ue,Et,At,Et,At,Oe),this._tmpCtx.bezierCurveTo(At,ht,ot,ht,ot,Oe),this._tmpCtx.bezierCurveTo(ot,Et,ot+this._config.deviceCellWidth/2,Et,ot+this._config.deviceCellWidth/2,Oe);break;case 4:this._tmpCtx.setLineDash([Math.round(ke),Math.round(ke)]),this._tmpCtx.moveTo(Ue,le),this._tmpCtx.lineTo(ot,le);break;case 5:this._tmpCtx.setLineDash([4*this._config.devicePixelRatio,3*this._config.devicePixelRatio]),this._tmpCtx.moveTo(Ue,le),this._tmpCtx.lineTo(ot,le);break;default:this._tmpCtx.moveTo(Ue,le),this._tmpCtx.lineTo(ot,le)}this._tmpCtx.stroke(),this._tmpCtx.restore()}if(this._tmpCtx.restore(),!at&&this._config.fontSize>=12&&!this._config.allowTransparency&&" "!==ae){this._tmpCtx.save(),this._tmpCtx.textBaseline="alphabetic";const xe=this._tmpCtx.measureText(ae);if(this._tmpCtx.restore(),"actualBoundingBoxDescent"in xe&&xe.actualBoundingBoxDescent>0){this._tmpCtx.save();const Ue=new Path2D;Ue.rect(Ae,le-Math.ceil(ke/2),this._config.deviceCellWidth*vt,Fe-le+Math.ceil(ke/2)),this._tmpCtx.clip(Ue),this._tmpCtx.lineWidth=3*this._config.devicePixelRatio,this._tmpCtx.strokeStyle=Pe.css,this._tmpCtx.strokeText(ae,dt,dt+this._config.deviceCharHeight),this._tmpCtx.restore()}}}if(Ne){const ke=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),ue=ke%2==1?.5:0;this._tmpCtx.lineWidth=ke,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(dt,dt+ue),this._tmpCtx.lineTo(dt+this._config.deviceCharWidth*vt,dt+ue),this._tmpCtx.stroke()}if(at||this._tmpCtx.fillText(ae,dt,dt+this._config.deviceCharHeight),"_"===ae&&!this._config.allowTransparency){let ke=f(this._tmpCtx.getImageData(dt,dt,this._config.deviceCellWidth,this._config.deviceCellHeight),Pe,Ct,an);if(ke)for(let ue=1;ue<=5&&(this._tmpCtx.save(),this._tmpCtx.fillStyle=Pe.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.restore(),this._tmpCtx.fillText(ae,dt,dt+this._config.deviceCharHeight-ue),ke=f(this._tmpCtx.getImageData(dt,dt,this._config.deviceCellWidth,this._config.deviceCellHeight),Pe,Ct,an),ke);ue++);}if(be){const ke=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/10)),ue=this._tmpCtx.lineWidth%2==1?.5:0;this._tmpCtx.lineWidth=ke,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(dt,dt+Math.floor(this._config.deviceCharHeight/2)-ue),this._tmpCtx.lineTo(dt+this._config.deviceCharWidth*vt,dt+Math.floor(this._config.deviceCharHeight/2)-ue),this._tmpCtx.stroke()}this._tmpCtx.restore();const ln=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height);let lt;if(lt=this._config.allowTransparency?function(ke){for(let ue=0;ue<ke.data.length;ue+=4)if(ke.data[ue+3]>0)return!1;return!0}(ln):f(ln,Pe,Ct,an),lt)return x;const xt=this._findGlyphBoundingBox(ln,this._workBoundingBox,Me,gt,at,dt);let Ke,nt;for(;;){if(0===this._activePages.length){const ke=this._createNewPage();Ke=ke,nt=ke.currentRow,nt.height=xt.size.y;break}Ke=this._activePages[this._activePages.length-1],nt=Ke.currentRow;for(const ke of this._activePages)xt.size.y<=ke.currentRow.height&&(Ke=ke,nt=ke.currentRow);for(let ke=this._activePages.length-1;ke>=0;ke--)for(const ue of this._activePages[ke].fixedRows)ue.height<=nt.height&&xt.size.y<=ue.height&&(Ke=this._activePages[ke],nt=ue);if(nt.y+xt.size.y>=Ke.canvas.height||nt.height>xt.size.y+2){let ke=!1;if(Ke.currentRow.y+Ke.currentRow.height+xt.size.y>=Ke.canvas.height){let ue;for(const Ae of this._activePages)if(Ae.currentRow.y+Ae.currentRow.height+xt.size.y<Ae.canvas.height){ue=Ae;break}if(ue)Ke=ue;else if(N.maxAtlasPages&&this._pages.length>=N.maxAtlasPages&&nt.y+xt.size.y<=Ke.canvas.height&&nt.height>=xt.size.y&&nt.x+xt.size.x<=Ke.canvas.width)ke=!0;else{const Ae=this._createNewPage();Ke=Ae,nt=Ae.currentRow,nt.height=xt.size.y,ke=!0}}ke||(Ke.currentRow.height>0&&Ke.fixedRows.push(Ke.currentRow),nt={x:0,y:Ke.currentRow.y+Ke.currentRow.height,height:xt.size.y},Ke.fixedRows.push(nt),Ke.currentRow={x:0,y:nt.y+nt.height,height:0})}if(nt.x+xt.size.x<=Ke.canvas.width)break;nt===Ke.currentRow?(nt.x=0,nt.y+=nt.height,nt.height=0):Ke.fixedRows.splice(Ke.fixedRows.indexOf(nt),1)}return xt.texturePage=this._pages.indexOf(Ke),xt.texturePosition.x=nt.x,xt.texturePosition.y=nt.y,xt.texturePositionClipSpace.x=nt.x/Ke.canvas.width,xt.texturePositionClipSpace.y=nt.y/Ke.canvas.height,xt.sizeClipSpace.x/=Ke.canvas.width,xt.sizeClipSpace.y/=Ke.canvas.height,nt.height=Math.max(nt.height,xt.size.y),nt.x+=xt.size.x,Ke.ctx.putImageData(ln,xt.texturePosition.x-this._workBoundingBox.left,xt.texturePosition.y-this._workBoundingBox.top,this._workBoundingBox.left,this._workBoundingBox.top,xt.size.x,xt.size.y),Ke.addGlyph(xt),Ke.version++,xt}_findGlyphBoundingBox(R,H,K,X,oe,ae){H.top=0;const Me=X?this._config.deviceCellHeight:this._tmpCanvas.height,Ce=X?this._config.deviceCellWidth:K;let Z=!1;for(let q=0;q<Me;q++){for(let Q=0;Q<Ce;Q++)if(0!==R.data[q*this._tmpCanvas.width*4+4*Q+3]){H.top=q,Z=!0;break}if(Z)break}H.left=0,Z=!1;for(let q=0;q<ae+Ce;q++){for(let Q=0;Q<Me;Q++)if(0!==R.data[Q*this._tmpCanvas.width*4+4*q+3]){H.left=q,Z=!0;break}if(Z)break}H.right=Ce,Z=!1;for(let q=ae+Ce-1;q>=ae;q--){for(let Q=0;Q<Me;Q++)if(0!==R.data[Q*this._tmpCanvas.width*4+4*q+3]){H.right=q,Z=!0;break}if(Z)break}H.bottom=Me,Z=!1;for(let q=Me-1;q>=0;q--){for(let Q=0;Q<Ce;Q++)if(0!==R.data[q*this._tmpCanvas.width*4+4*Q+3]){H.bottom=q,Z=!0;break}if(Z)break}return{texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:H.right-H.left+1,y:H.bottom-H.top+1},sizeClipSpace:{x:H.right-H.left+1,y:H.bottom-H.top+1},offset:{x:-H.left+ae+(X||oe?Math.floor((this._config.deviceCellWidth-this._config.deviceCharWidth)/2):0),y:-H.top+ae+(X||oe?1===this._config.lineHeight?0:Math.round((this._config.deviceCellHeight-this._config.deviceCharHeight)/2):0)}}}}u.TextureAtlas=N,v([p.traceCall],N.prototype,"_drawToCache",null);class j{get percentageUsed(){return this._usedPixels/(this.canvas.width*this.canvas.height)}get glyphs(){return this._glyphs}addGlyph(R){this._glyphs.push(R),this._usedPixels+=R.size.x*R.size.y}constructor(R,H,K){if(this._usedPixels=0,this._glyphs=[],this.version=0,this.currentRow={x:0,y:0,height:0},this.fixedRows=[],K)for(const X of K)this._glyphs.push(...X.glyphs),this._usedPixels+=X._usedPixels;this.canvas=C(R,H,H),this.ctx=(0,b.throwIfFalsy)(this.canvas.getContext("2d",{alpha:!0}))}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.currentRow.x=0,this.currentRow.y=0,this.currentRow.height=0,this.fixedRows.length=0,this.version++}}function f(L,R,H,K){const X=R.rgba>>>24,oe=R.rgba>>>16&255,ae=R.rgba>>>8&255,Ce=H.rgba>>>16&255,Z=H.rgba>>>8&255,q=Math.floor((Math.abs(X-(H.rgba>>>24))+Math.abs(oe-Ce)+Math.abs(ae-Z))/12);let Q=!0;for(let ie=0;ie<L.data.length;ie+=4)L.data[ie]===X&&L.data[ie+1]===oe&&L.data[ie+2]===ae||K&&Math.abs(L.data[ie]-X)+Math.abs(L.data[ie+1]-oe)+Math.abs(L.data[ie+2]-ae)<q?L.data[ie+3]=0:Q=!1;return Q}function C(L,R,H){const K=L.createElement("canvas");return K.width=R,K.height=H,K}},160:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.contrastRatio=u.toPaddedHex=u.rgba=u.rgb=u.css=u.color=u.channels=u.NULL_COLOR=void 0;const v=m(399);let E=0,h=0,b=0,w=0;var D,_,o,d,a,P;function p(P){const N=P.toString(16);return N.length<2?"0"+N:N}function x(P,N){return P<N?(N+.05)/(P+.05):(P+.05)/(N+.05)}u.NULL_COLOR={css:"#00000000",rgba:0},(P=D||(u.channels=D={})).toCss=function(N,j,f,C){return void 0!==C?`#${p(N)}${p(j)}${p(f)}${p(C)}`:`#${p(N)}${p(j)}${p(f)}`},P.toRgba=function(N,j,f,C=255){return(N<<24|j<<16|f<<8|C)>>>0},function(P){function N(j,f){return w=Math.round(255*f),[E,h,b]=a.toChannels(j.rgba),{css:D.toCss(E,h,b,w),rgba:D.toRgba(E,h,b,w)}}P.blend=function(j,f){if(w=(255&f.rgba)/255,1===w)return{css:f.css,rgba:f.rgba};const L=f.rgba>>16&255,R=f.rgba>>8&255,H=j.rgba>>24&255,K=j.rgba>>16&255,X=j.rgba>>8&255;return E=H+Math.round(((f.rgba>>24&255)-H)*w),h=K+Math.round((L-K)*w),b=X+Math.round((R-X)*w),{css:D.toCss(E,h,b),rgba:D.toRgba(E,h,b)}},P.isOpaque=function(j){return 255==(255&j.rgba)},P.ensureContrastRatio=function(j,f,C){const L=a.ensureContrastRatio(j.rgba,f.rgba,C);if(L)return a.toColor(L>>24&255,L>>16&255,L>>8&255)},P.opaque=function(j){const f=(255|j.rgba)>>>0;return[E,h,b]=a.toChannels(f),{css:D.toCss(E,h,b),rgba:f}},P.opacity=N,P.multiplyOpacity=function(j,f){return w=255&j.rgba,N(j,w*f/255)},P.toColorRGB=function(j){return[j.rgba>>24&255,j.rgba>>16&255,j.rgba>>8&255]}}(_||(u.color=_={})),function(P){let N,j;if(!v.isNode){const f=document.createElement("canvas");f.width=1,f.height=1;const C=f.getContext("2d",{willReadFrequently:!0});C&&(N=C,N.globalCompositeOperation="copy",j=N.createLinearGradient(0,0,1,1))}P.toColor=function(f){if(f.match(/#[\da-f]{3,8}/i))switch(f.length){case 4:return E=parseInt(f.slice(1,2).repeat(2),16),h=parseInt(f.slice(2,3).repeat(2),16),b=parseInt(f.slice(3,4).repeat(2),16),a.toColor(E,h,b);case 5:return E=parseInt(f.slice(1,2).repeat(2),16),h=parseInt(f.slice(2,3).repeat(2),16),b=parseInt(f.slice(3,4).repeat(2),16),w=parseInt(f.slice(4,5).repeat(2),16),a.toColor(E,h,b,w);case 7:return{css:f,rgba:(parseInt(f.slice(1),16)<<8|255)>>>0};case 9:return{css:f,rgba:parseInt(f.slice(1),16)>>>0}}const C=f.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(C)return E=parseInt(C[1]),h=parseInt(C[2]),b=parseInt(C[3]),w=Math.round(255*(void 0===C[5]?1:parseFloat(C[5]))),a.toColor(E,h,b,w);if(!N||!j)throw new Error("css.toColor: Unsupported css format");if(N.fillStyle=j,N.fillStyle=f,"string"!=typeof N.fillStyle)throw new Error("css.toColor: Unsupported css format");if(N.fillRect(0,0,1,1),[E,h,b,w]=N.getImageData(0,0,1,1).data,255!==w)throw new Error("css.toColor: Unsupported css format");return{rgba:D.toRgba(E,h,b,w),css:f}}}(o||(u.css=o={})),function(P){function N(j,f,C){const L=j/255,R=f/255,H=C/255;return.2126*(L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4))+.7152*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))+.0722*(H<=.03928?H/12.92:Math.pow((H+.055)/1.055,2.4))}P.relativeLuminance=function(j){return N(j>>16&255,j>>8&255,255&j)},P.relativeLuminance2=N}(d||(u.rgb=d={})),function(P){function N(f,C,L){const R=f>>24&255,H=f>>16&255,K=f>>8&255;let X=C>>24&255,oe=C>>16&255,ae=C>>8&255,Me=x(d.relativeLuminance2(X,oe,ae),d.relativeLuminance2(R,H,K));for(;Me<L&&(X>0||oe>0||ae>0);)X-=Math.max(0,Math.ceil(.1*X)),oe-=Math.max(0,Math.ceil(.1*oe)),ae-=Math.max(0,Math.ceil(.1*ae)),Me=x(d.relativeLuminance2(X,oe,ae),d.relativeLuminance2(R,H,K));return(X<<24|oe<<16|ae<<8|255)>>>0}function j(f,C,L){const R=f>>24&255,H=f>>16&255,K=f>>8&255;let X=C>>24&255,oe=C>>16&255,ae=C>>8&255,Me=x(d.relativeLuminance2(X,oe,ae),d.relativeLuminance2(R,H,K));for(;Me<L&&(X<255||oe<255||ae<255);)X=Math.min(255,X+Math.ceil(.1*(255-X))),oe=Math.min(255,oe+Math.ceil(.1*(255-oe))),ae=Math.min(255,ae+Math.ceil(.1*(255-ae))),Me=x(d.relativeLuminance2(X,oe,ae),d.relativeLuminance2(R,H,K));return(X<<24|oe<<16|ae<<8|255)>>>0}P.ensureContrastRatio=function(f,C,L){const R=d.relativeLuminance(f>>8),H=d.relativeLuminance(C>>8);if(x(R,H)<L){if(H<R){const oe=N(f,C,L),ae=x(R,d.relativeLuminance(oe>>8));if(ae<L){const Me=j(f,C,L);return ae>x(R,d.relativeLuminance(Me>>8))?oe:Me}return oe}const K=j(f,C,L),X=x(R,d.relativeLuminance(K>>8));if(X<L){const oe=N(f,C,L);return X>x(R,d.relativeLuminance(oe>>8))?K:oe}return K}},P.reduceLuminance=N,P.increaseLuminance=j,P.toChannels=function(f){return[f>>24&255,f>>16&255,f>>8&255,255&f]},P.toColor=function(f,C,L,R){return{css:D.toCss(f,C,L,R),rgba:D.toRgba(f,C,L,R)}}}(a||(u.rgba=a={})),u.toPaddedHex=p,u.contrastRatio=x},345:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.forwardEvent=u.EventEmitter=void 0,u.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=m=>(this._listeners.push(m),{dispose:()=>{if(!this._disposed)for(let v=0;v<this._listeners.length;v++)if(this._listeners[v]===m)return void this._listeners.splice(v,1)}})),this._event}fire(m,v){const E=[];for(let h=0;h<this._listeners.length;h++)E.push(this._listeners[h]);for(let h=0;h<E.length;h++)E[h].call(void 0,m,v)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},u.forwardEvent=function(m,v){return m(E=>v.fire(E))}},859:(y,u)=>{function m(v){for(const E of v)E.dispose();v.length=0}Object.defineProperty(u,"__esModule",{value:!0}),u.getDisposeArrayDisposable=u.disposeArray=u.toDisposable=u.MutableDisposable=u.Disposable=void 0,u.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const v of this._disposables)v.dispose();this._disposables.length=0}register(v){return this._disposables.push(v),v}unregister(v){const E=this._disposables.indexOf(v);-1!==E&&this._disposables.splice(E,1)}},u.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(v){var E;this._isDisposed||v===this._value||(null===(E=this._value)||void 0===E||E.dispose(),this._value=v)}clear(){this.value=void 0}dispose(){var v;this._isDisposed=!0,null===(v=this._value)||void 0===v||v.dispose(),this._value=void 0}},u.toDisposable=function(v){return{dispose:v}},u.disposeArray=m,u.getDisposeArrayDisposable=function(v){return{dispose:()=>m(v)}}},485:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.FourKeyMap=u.TwoKeyMap=void 0;class m{constructor(){this._data={}}set(E,h,b){this._data[E]||(this._data[E]={}),this._data[E][h]=b}get(E,h){return this._data[E]?this._data[E][h]:void 0}clear(){this._data={}}}u.TwoKeyMap=m,u.FourKeyMap=class{constructor(){this._data=new m}set(v,E,h,b,w){this._data.get(v,E)||this._data.set(v,E,new m),this._data.get(v,E).set(h,b,w)}get(v,E,h,b){var w;return null===(w=this._data.get(v,E))||void 0===w?void 0:w.get(h,b)}clear(){this._data.clear()}}},399:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.isChromeOS=u.isLinux=u.isWindows=u.isIphone=u.isIpad=u.isMac=u.getSafariVersion=u.isSafari=u.isLegacyEdge=u.isFirefox=u.isNode=void 0,u.isNode="undefined"==typeof navigator;const m=u.isNode?"node":navigator.userAgent,v=u.isNode?"node":navigator.platform;u.isFirefox=m.includes("Firefox"),u.isLegacyEdge=m.includes("Edge"),u.isSafari=/^((?!chrome|android).)*safari/i.test(m),u.getSafariVersion=function(){if(!u.isSafari)return 0;const E=m.match(/Version\/(\d+)/);return null===E||E.length<2?0:parseInt(E[1])},u.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(v),u.isIpad="iPad"===v,u.isIphone="iPhone"===v,u.isWindows=["Windows","Win16","Win32","WinCE"].includes(v),u.isLinux=v.indexOf("Linux")>=0,u.isChromeOS=/\bCrOS\b/.test(m)},385:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DebouncedIdleTask=u.IdleTaskQueue=u.PriorityTaskQueue=void 0;const v=m(399);class E{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let D=0,_=0,o=w.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(D=Date.now(),this._tasks[this._i]()||this._i++,D=Math.max(1,Date.now()-D),_=Math.max(D,_),d=w.timeRemaining(),1.5*_>d)return o-D<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(o-D))}ms`),void this._start();o=d}this.clear()}}class h extends E{_requestCallback(w){return setTimeout(()=>w(this._createDeadline(16)))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const D=Date.now()+w;return{timeRemaining:()=>Math.max(0,D-Date.now())}}}u.PriorityTaskQueue=h,u.IdleTaskQueue=!v.isNode&&"requestIdleCallback"in window?class extends E{_requestCallback(b){return requestIdleCallback(b)}_cancelCallback(b){cancelIdleCallback(b)}}:h,u.DebouncedIdleTask=class{constructor(){this._queue=new u.IdleTaskQueue}set(b){this._queue.clear(),this._queue.enqueue(b)}flush(){this._queue.flush()}}},147:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ExtendedAttrs=u.AttributeData=void 0;class m{constructor(){this.fg=0,this.bg=0,this.extended=new v}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new m;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}u.AttributeData=m;class v{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}constructor(h=0,b=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=b}clone(){return new v(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}u.ExtendedAttrs=v},782:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CellData=void 0;const v=m(133),E=m(855),h=m(147);class b extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(D){const _=new b;return _.setFromCharData(D),_}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,v.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(D){this.fg=D[E.CHAR_DATA_ATTR_INDEX],this.bg=0;let _=!1;if(D[E.CHAR_DATA_CHAR_INDEX].length>2)_=!0;else if(2===D[E.CHAR_DATA_CHAR_INDEX].length){const o=D[E.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=o&&o<=56319){const d=D[E.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(o-55296)+d-56320+65536|D[E.CHAR_DATA_WIDTH_INDEX]<<22:_=!0}else _=!0}else this.content=D[E.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|D[E.CHAR_DATA_WIDTH_INDEX]<<22;_&&(this.combinedData=D[E.CHAR_DATA_CHAR_INDEX],this.content=2097152|D[E.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}u.CellData=b},855:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.WHITESPACE_CELL_CODE=u.WHITESPACE_CELL_WIDTH=u.WHITESPACE_CELL_CHAR=u.NULL_CELL_CODE=u.NULL_CELL_WIDTH=u.NULL_CELL_CHAR=u.CHAR_DATA_CODE_INDEX=u.CHAR_DATA_WIDTH_INDEX=u.CHAR_DATA_CHAR_INDEX=u.CHAR_DATA_ATTR_INDEX=u.DEFAULT_EXT=u.DEFAULT_ATTR=u.DEFAULT_COLOR=void 0,u.DEFAULT_COLOR=0,u.DEFAULT_ATTR=256|u.DEFAULT_COLOR<<9,u.DEFAULT_EXT=0,u.CHAR_DATA_ATTR_INDEX=0,u.CHAR_DATA_CHAR_INDEX=1,u.CHAR_DATA_WIDTH_INDEX=2,u.CHAR_DATA_CODE_INDEX=3,u.NULL_CELL_CHAR="",u.NULL_CELL_WIDTH=1,u.NULL_CELL_CODE=0,u.WHITESPACE_CELL_CHAR=" ",u.WHITESPACE_CELL_WIDTH=1,u.WHITESPACE_CELL_CODE=32},133:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Utf8ToUtf32=u.StringToUtf32=u.utf32ToString=u.stringFromCodePoint=void 0,u.stringFromCodePoint=function(m){return m>65535?(m-=65536,String.fromCharCode(55296+(m>>10))+String.fromCharCode(m%1024+56320)):String.fromCharCode(m)},u.utf32ToString=function(m,v=0,E=m.length){let h="";for(let b=v;b<E;++b){let w=m[b];w>65535?(w-=65536,h+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):h+=String.fromCharCode(w)}return h},u.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(m,v){const E=m.length;if(!E)return 0;let h=0,b=0;if(this._interim){const w=m.charCodeAt(b++);56320<=w&&w<=57343?v[h++]=1024*(this._interim-55296)+w-56320+65536:(v[h++]=this._interim,v[h++]=w),this._interim=0}for(let w=b;w<E;++w){const D=m.charCodeAt(w);if(55296<=D&&D<=56319){if(++w>=E)return this._interim=D,h;const _=m.charCodeAt(w);56320<=_&&_<=57343?v[h++]=1024*(D-55296)+_-56320+65536:(v[h++]=D,v[h++]=_)}else 65279!==D&&(v[h++]=D)}return h}},u.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(m,v){const E=m.length;if(!E)return 0;let h,b,w,D,_=0,o=0,d=0;if(this.interim[0]){let x=!1,P=this.interim[0];P&=192==(224&P)?31:224==(240&P)?15:7;let N,j=0;for(;(N=63&this.interim[++j])&&j<4;)P<<=6,P|=N;const f=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,C=f-j;for(;d<C;){if(d>=E)return 0;if(N=m[d++],128!=(192&N)){d--,x=!0;break}this.interim[j++]=N,P<<=6,P|=63&N}x||(2===f?P<128?d--:v[_++]=P:3===f?P<2048||P>=55296&&P<=57343||65279===P||(v[_++]=P):P<65536||P>1114111||(v[_++]=P)),this.interim.fill(0)}const a=E-4;let p=d;for(;p<E;){for(;!(!(p<a)||128&(h=m[p])||128&(b=m[p+1])||128&(w=m[p+2])||128&(D=m[p+3]));)v[_++]=h,v[_++]=b,v[_++]=w,v[_++]=D,p+=4;if(h=m[p++],h<128)v[_++]=h;else if(192==(224&h)){if(p>=E)return this.interim[0]=h,_;if(b=m[p++],128!=(192&b)){p--;continue}if(o=(31&h)<<6|63&b,o<128){p--;continue}v[_++]=o}else if(224==(240&h)){if(p>=E)return this.interim[0]=h,_;if(b=m[p++],128!=(192&b)){p--;continue}if(p>=E)return this.interim[0]=h,this.interim[1]=b,_;if(w=m[p++],128!=(192&w)){p--;continue}if(o=(15&h)<<12|(63&b)<<6|63&w,o<2048||o>=55296&&o<=57343||65279===o)continue;v[_++]=o}else if(240==(248&h)){if(p>=E)return this.interim[0]=h,_;if(b=m[p++],128!=(192&b)){p--;continue}if(p>=E)return this.interim[0]=h,this.interim[1]=b,_;if(w=m[p++],128!=(192&w)){p--;continue}if(p>=E)return this.interim[0]=h,this.interim[1]=b,this.interim[2]=w,_;if(D=m[p++],128!=(192&D)){p--;continue}if(o=(7&h)<<18|(63&b)<<12|(63&w)<<6|63&D,o<65536||o>1114111)continue;v[_++]=o}}return _}}},776:function(y,u,m){var v=this&&this.__decorate||function(o,d,a,p){var x,P=arguments.length,N=P<3?d:null===p?p=Object.getOwnPropertyDescriptor(d,a):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(o,d,a,p);else for(var j=o.length-1;j>=0;j--)(x=o[j])&&(N=(P<3?x(N):P>3?x(d,a,N):x(d,a))||N);return P>3&&N&&Object.defineProperty(d,a,N),N},E=this&&this.__param||function(o,d){return function(a,p){d(a,p,o)}};Object.defineProperty(u,"__esModule",{value:!0}),u.traceCall=u.setTraceLogger=u.LogService=void 0;const h=m(859),b=m(97),w={trace:b.LogLevelEnum.TRACE,debug:b.LogLevelEnum.DEBUG,info:b.LogLevelEnum.INFO,warn:b.LogLevelEnum.WARN,error:b.LogLevelEnum.ERROR,off:b.LogLevelEnum.OFF};let D,_=u.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(o){super(),this._optionsService=o,this._logLevel=b.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),D=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(o){for(let d=0;d<o.length;d++)"function"==typeof o[d]&&(o[d]=o[d]())}_log(o,d,a){this._evalLazyOptionalParams(a),o.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+d,...a)}trace(o,...d){var a,p;this._logLevel<=b.LogLevelEnum.TRACE&&this._log(null!==(p=null===(a=this._optionsService.options.logger)||void 0===a?void 0:a.trace.bind(this._optionsService.options.logger))&&void 0!==p?p:console.log,o,d)}debug(o,...d){var a,p;this._logLevel<=b.LogLevelEnum.DEBUG&&this._log(null!==(p=null===(a=this._optionsService.options.logger)||void 0===a?void 0:a.debug.bind(this._optionsService.options.logger))&&void 0!==p?p:console.log,o,d)}info(o,...d){var a,p;this._logLevel<=b.LogLevelEnum.INFO&&this._log(null!==(p=null===(a=this._optionsService.options.logger)||void 0===a?void 0:a.info.bind(this._optionsService.options.logger))&&void 0!==p?p:console.info,o,d)}warn(o,...d){var a,p;this._logLevel<=b.LogLevelEnum.WARN&&this._log(null!==(p=null===(a=this._optionsService.options.logger)||void 0===a?void 0:a.warn.bind(this._optionsService.options.logger))&&void 0!==p?p:console.warn,o,d)}error(o,...d){var a,p;this._logLevel<=b.LogLevelEnum.ERROR&&this._log(null!==(p=null===(a=this._optionsService.options.logger)||void 0===a?void 0:a.error.bind(this._optionsService.options.logger))&&void 0!==p?p:console.error,o,d)}};u.LogService=_=v([E(0,b.IOptionsService)],_),u.setTraceLogger=function(o){D=o},u.traceCall=function(o,d,a){if("function"!=typeof a.value)throw new Error("not supported");const p=a.value;a.value=function(...x){if(D.logLevel!==b.LogLevelEnum.TRACE)return p.apply(this,x);D.trace(`GlyphRenderer#${p.name}(${x.map(N=>JSON.stringify(N)).join(", ")})`);const P=p.apply(this,x);return D.trace(`GlyphRenderer#${p.name} return`,P),P}}},726:(y,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.createDecorator=u.getServiceDependencies=u.serviceRegistry=void 0;const m="di$target",v="di$dependencies";u.serviceRegistry=new Map,u.getServiceDependencies=function(E){return E[v]||[]},u.createDecorator=function(E){if(u.serviceRegistry.has(E))return u.serviceRegistry.get(E);const h=function(b,w,D){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");var _,o,d;_=h,d=D,(o=b)[m]===o?o[v].push({id:_,index:d}):(o[v]=[{id:_,index:d}],o[m]=o)};return h.toString=()=>E,u.serviceRegistry.set(E,h),h}},97:(y,u,m)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.IDecorationService=u.IUnicodeService=u.IOscLinkService=u.IOptionsService=u.ILogService=u.LogLevelEnum=u.IInstantiationService=u.ICharsetService=u.ICoreService=u.ICoreMouseService=u.IBufferService=void 0;const v=m(726);var E,h;u.IBufferService=(0,v.createDecorator)("BufferService"),u.ICoreMouseService=(0,v.createDecorator)("CoreMouseService"),u.ICoreService=(0,v.createDecorator)("CoreService"),u.ICharsetService=(0,v.createDecorator)("CharsetService"),u.IInstantiationService=(0,v.createDecorator)("InstantiationService"),(h=E||(u.LogLevelEnum=E={}))[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF",u.ILogService=(0,v.createDecorator)("LogService"),u.IOptionsService=(0,v.createDecorator)("OptionsService"),u.IOscLinkService=(0,v.createDecorator)("OscLinkService"),u.IUnicodeService=(0,v.createDecorator)("UnicodeService"),u.IDecorationService=(0,v.createDecorator)("DecorationService")}},G={};function S(y){var u=G[y];if(void 0!==u)return u.exports;var m=G[y]={exports:{}};return Le[y].call(m.exports,m,m.exports,S),m.exports}var z={};return(()=>{var y=z;Object.defineProperty(y,"__esModule",{value:!0}),y.WebglAddon=void 0;const u=S(345),m=S(859),v=S(399),E=S(666),h=S(776);y.WebglAddon=class b extends m.Disposable{constructor(D){if(v.isSafari&&(0,v.getSafariVersion)()<16)throw new Error("Webgl2 is only supported on Safari 16 and above");super(),this._preserveDrawingBuffer=D,this._onChangeTextureAtlas=this.register(new u.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new u.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new u.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onContextLoss=this.register(new u.EventEmitter),this.onContextLoss=this._onContextLoss.event}activate(D){const _=D._core;if(!D.element)return void this.register(_.onWillOpen(()=>this.activate(D)));this._terminal=D;const o=_.coreService,d=_.optionsService,p=_._renderService,x=_._characterJoinerService,P=_._charSizeService,N=_._coreBrowserService,j=_._decorationService,C=_._themeService;(0,h.setTraceLogger)(_._logService),this._renderer=this.register(new E.WebglRenderer(D,x,P,N,o,j,d,C,this._preserveDrawingBuffer)),this.register((0,u.forwardEvent)(this._renderer.onContextLoss,this._onContextLoss)),this.register((0,u.forwardEvent)(this._renderer.onChangeTextureAtlas,this._onChangeTextureAtlas)),this.register((0,u.forwardEvent)(this._renderer.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas)),this.register((0,u.forwardEvent)(this._renderer.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)),p.setRenderer(this._renderer),this.register((0,m.toDisposable)(()=>{const L=this._terminal._core._renderService;L.setRenderer(this._terminal._core._createRenderer()),L.handleResize(D.cols,D.rows)}))}get textureAtlas(){var D;return null===(D=this._renderer)||void 0===D?void 0:D.textureAtlas}clearTextureAtlas(){var D;null===(D=this._renderer)||void 0===D||D.clearTextureAtlas()}}})(),z})())()},617:(et,Le,G)=>{"use strict";G.d(Le,{vd:()=>an,M0:()=>ke,Eo:()=>dt,qZ:()=>at});var S=G(5e3),z=G(8426),y=G(5298),u=G(7579),m=G(9808),v=G(6451),E=G(8306),h=G(4968),b=G(8505),w=G(3099),D=G(5577),_=G(5698),o=G(4004),d=G(4482),a=G(5403),x=G(9300),P=G(2722);const N="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function f(ue,Ae,le,Oe){const Fe=Ae.querySelectorAll(ue);if(Fe.length){const xe=le.querySelectorAll(ue);for(let Ue=0;Ue<Fe.length;Ue++)Oe(Fe[Ue],xe[Ue])}}let C=0;function L(ue,Ae){"file"!==Ae.type&&(Ae.value=ue.value),"radio"===Ae.type&&Ae.name&&(Ae.name=`mat-clone-${Ae.name}-${C++}`)}function R(ue,Ae){const le=Ae.getContext("2d");if(le)try{le.drawImage(ue,0,0)}catch(Oe){}}function H(ue,Ae,le,Oe){const Fe={top:ue.top,bottom:ue.bottom,left:ue.left,right:ue.right};return Ae.top&&(Fe.top+=Oe),Ae.bottom&&(Fe.bottom+=Oe),Ae.left&&(Fe.left+=le),Ae.right&&(Fe.right+=le),Fe.height=Fe.bottom-Fe.top,Fe.width=Fe.right-Fe.left,Fe}const X=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function oe(ue,Ae){return ue.left&&ue.top?Ae.topLeft:ue.right&&ue.top?Ae.topRight:ue.left&&ue.bottom?Ae.bottomLeft:ue.right&&ue.bottom?Ae.bottomRight:ue.left||ue.right?Ae.leftOrRight:ue.top||ue.bottom?Ae.topOrBottom:""}function ae({edges:ue,initialRectangle:Ae,newRectangle:le}){const Oe={};return Object.keys(ue).forEach(Fe=>{Oe[Fe]=(le[Fe]||0)-(Ae[Fe]||0)}),Oe}const Me="resize-active";let q=(()=>{class ue{constructor(le,Oe,Fe,xe){this.platformId=le,this.renderer=Oe,this.elm=Fe,this.zone=xe,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=X,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new S.vpe,this.resizing=new S.vpe,this.resizeEnd=new S.vpe,this.mouseup=new u.x,this.mousedown=new u.x,this.mousemove=new u.x,this.destroy$=new u.x,this.pointerEventListeners=Q.getInstance(Oe,xe)}ngOnInit(){const le=(0,v.T)(this.pointerEventListeners.pointerDown,this.mousedown),Oe=(0,v.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,b.b)(({event:Et})=>{if(xe)try{Et.preventDefault()}catch(ht){}}),(0,w.B)()),Fe=(0,v.T)(this.pointerEventListeners.pointerUp,this.mouseup);let xe;const Ue=()=>{xe&&xe.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(xe.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},ot=()=>Object.assign(Object.assign({},X),this.resizeCursors);le.pipe((0,D.z)(Et=>{function ht(Te){return{clientX:Te.clientX-Et.clientX,clientY:Te.clientY-Et.clientY}}const Qe=()=>{const Te={x:1,y:1};return xe&&(this.resizeSnapGrid.left&&xe.edges.left?Te.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&xe.edges.right&&(Te.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&xe.edges.top?Te.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&xe.edges.bottom&&(Te.y=+this.resizeSnapGrid.bottom)),Te};function Ee(Te,$e){return{x:Math.ceil(Te.clientX/$e.x),y:Math.ceil(Te.clientY/$e.y)}}return(0,v.T)(Oe.pipe((0,_.q)(1)).pipe((0,o.U)(Te=>[,Te])),Oe.pipe(function p(){return(0,d.e)((ue,Ae)=>{let le,Oe=!1;ue.subscribe((0,a.x)(Ae,Fe=>{const xe=le;le=Fe,Oe&&Ae.next([xe,Fe]),Oe=!0}))})}())).pipe((0,o.U)(([Te,$e])=>[Te&&ht(Te),ht($e)])).pipe((0,x.h)(([Te,$e])=>{if(!Te)return!0;const Mt=Qe(),qt=Ee(Te,Mt),Cn=Ee($e,Mt);return qt.x!==Cn.x||qt.y!==Cn.y})).pipe((0,o.U)(([,Te])=>{const $e=Qe();return{clientX:Math.round(Te.clientX/$e.x)*$e.x,clientY:Math.round(Te.clientY/$e.y)*$e.y}})).pipe((0,P.R)((0,v.T)(Fe,le)))})).pipe((0,x.h)(()=>!!xe)).pipe((0,o.U)(({clientX:Et,clientY:ht})=>H(xe.startingRect,xe.edges,Et,ht))).pipe((0,x.h)(Et=>this.allowNegativeResizes||!!(Et.height&&Et.width&&Et.height>0&&Et.width>0))).pipe((0,x.h)(Et=>!this.validateResize||this.validateResize({rectangle:Et,edges:ae({edges:xe.edges,initialRectangle:xe.startingRect,newRectangle:Et})})),(0,P.R)(this.destroy$)).subscribe(Et=>{xe&&xe.clonedNode&&(this.renderer.setStyle(xe.clonedNode,"height",`${Et.height}px`),this.renderer.setStyle(xe.clonedNode,"width",`${Et.width}px`),this.renderer.setStyle(xe.clonedNode,"top",`${Et.top}px`),this.renderer.setStyle(xe.clonedNode,"left",`${Et.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:ae({edges:xe.edges,initialRectangle:xe.startingRect,newRectangle:Et}),rectangle:Et})}),xe.currentRect=Et}),le.pipe((0,o.U)(({edges:Et})=>Et||{}),(0,x.h)(Et=>Object.keys(Et).length>0),(0,P.R)(this.destroy$)).subscribe(Et=>{xe&&Ue();const ht=function K(ue,Ae){let le=0,Oe=0;const Fe=ue.nativeElement.style,Ue=["transform","-ms-transform","-moz-transform","-o-transform"].map(ot=>Fe[ot]).find(ot=>!!ot);if(Ue&&Ue.includes("translate")&&(le=Ue.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),Oe=Ue.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===Ae)return{height:ue.nativeElement.offsetHeight,width:ue.nativeElement.offsetWidth,top:ue.nativeElement.offsetTop-Oe,bottom:ue.nativeElement.offsetHeight+ue.nativeElement.offsetTop-Oe,left:ue.nativeElement.offsetLeft-le,right:ue.nativeElement.offsetWidth+ue.nativeElement.offsetLeft-le};{const ot=ue.nativeElement.getBoundingClientRect();return{height:ot.height,width:ot.width,top:ot.top-Oe,bottom:ot.bottom-Oe,left:ot.left-le,right:ot.right-le,scrollTop:ue.nativeElement.scrollTop,scrollLeft:ue.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);xe={edges:Et,startingRect:ht,currentRect:ht};const Qe=ot(),Ee=oe(xe.edges,Qe);this.renderer.setStyle(document.body,"cursor",Ee),this.setElementClass(this.elm,Me,!0),this.enableGhostResize&&(xe.clonedNode=function j(ue){const Ae=ue.cloneNode(!0),le=Ae.querySelectorAll("[id]"),Oe=ue.nodeName.toLowerCase();return Ae.removeAttribute("id"),le.forEach(Fe=>{Fe.removeAttribute("id")}),"canvas"===Oe?R(ue,Ae):("input"===Oe||"select"===Oe||"textarea"===Oe)&&L(ue,Ae),f("canvas",ue,Ae,R),f("input, textarea, select",ue,Ae,L),Ae}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(xe.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(xe.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(xe.clonedNode,"left",`${xe.startingRect.left}px`),this.renderer.setStyle(xe.clonedNode,"top",`${xe.startingRect.top}px`),this.renderer.setStyle(xe.clonedNode,"height",`${xe.startingRect.height}px`),this.renderer.setStyle(xe.clonedNode,"width",`${xe.startingRect.width}px`),this.renderer.setStyle(xe.clonedNode,"cursor",oe(xe.edges,Qe)),this.renderer.addClass(xe.clonedNode,"resize-ghost-element"),xe.clonedNode.scrollTop=xe.startingRect.scrollTop,xe.clonedNode.scrollLeft=xe.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:ae({edges:Et,initialRectangle:ht,newRectangle:ht}),rectangle:H(ht,{},0,0)})})}),Fe.pipe((0,P.R)(this.destroy$)).subscribe(()=>{xe&&(this.renderer.removeClass(this.elm.nativeElement,Me),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:ae({edges:xe.edges,initialRectangle:xe.startingRect,newRectangle:xe.currentRect}),rectangle:xe.currentRect})}),Ue(),xe=null)})}ngOnDestroy(){(0,m.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(le,Oe,Fe){Fe?this.renderer.addClass(le.nativeElement,Oe):this.renderer.removeClass(le.nativeElement,Oe)}}return ue.\u0275fac=function(le){return new(le||ue)(S.Y36(S.Lbi),S.Y36(S.Qsj),S.Y36(S.SBq),S.Y36(S.R0b))},ue.\u0275dir=S.lG2({type:ue,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),ue})();class Q{constructor(Ae,le){this.pointerDown=new E.y(Oe=>{let Fe,xe;return le.runOutsideAngular(()=>{Fe=Ae.listen("document","mousedown",Ue=>{Oe.next({clientX:Ue.clientX,clientY:Ue.clientY,event:Ue})}),N&&(xe=Ae.listen("document","touchstart",Ue=>{Oe.next({clientX:Ue.touches[0].clientX,clientY:Ue.touches[0].clientY,event:Ue})}))}),()=>{Fe(),N&&xe()}}).pipe((0,w.B)()),this.pointerMove=new E.y(Oe=>{let Fe,xe;return le.runOutsideAngular(()=>{Fe=Ae.listen("document","mousemove",Ue=>{Oe.next({clientX:Ue.clientX,clientY:Ue.clientY,event:Ue})}),N&&(xe=Ae.listen("document","touchmove",Ue=>{Oe.next({clientX:Ue.targetTouches[0].clientX,clientY:Ue.targetTouches[0].clientY,event:Ue})}))}),()=>{Fe(),N&&xe()}}).pipe((0,w.B)()),this.pointerUp=new E.y(Oe=>{let Fe,xe,Ue;return le.runOutsideAngular(()=>{Fe=Ae.listen("document","mouseup",ot=>{Oe.next({clientX:ot.clientX,clientY:ot.clientY,event:ot})}),N&&(xe=Ae.listen("document","touchend",ot=>{Oe.next({clientX:ot.changedTouches[0].clientX,clientY:ot.changedTouches[0].clientY,event:ot})}),Ue=Ae.listen("document","touchcancel",ot=>{Oe.next({clientX:ot.changedTouches[0].clientX,clientY:ot.changedTouches[0].clientY,event:ot})}))}),()=>{Fe(),N&&(xe(),Ue())}}).pipe((0,w.B)())}static getInstance(Ae,le){return Q.instance||(Q.instance=new Q(Ae,le)),Q.instance}}let ie=(()=>{class ue{constructor(le,Oe,Fe,xe){this.renderer=le,this.element=Oe,this.zone=Fe,this.resizableDirective=xe,this.resizeEdges={},this.eventListeners={},this.destroy$=new u.x}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(le=>{this.onMousedown(le,le.clientX,le.clientY)}),this.listenOnTheHost("mouseup").subscribe(le=>{this.onMouseup(le.clientX,le.clientY)}),N&&(this.listenOnTheHost("touchstart").subscribe(le=>{this.onMousedown(le,le.touches[0].clientX,le.touches[0].clientY)}),(0,v.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(le=>{this.onMouseup(le.changedTouches[0].clientX,le.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(le,Oe,Fe){le.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",xe=>{this.onMousemove(xe,xe.targetTouches[0].clientX,xe.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",xe=>{this.onMousemove(xe,xe.clientX,xe.clientY)})),this.resizable.mousedown.next({clientX:Oe,clientY:Fe,edges:this.resizeEdges})}onMouseup(le,Oe){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:le,clientY:Oe,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(le,Oe,Fe){this.resizable.mousemove.next({clientX:Oe,clientY:Fe,edges:this.resizeEdges,event:le})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(le=>{this.eventListeners[le](),delete this.eventListeners[le]})}listenOnTheHost(le){return(0,h.R)(this.element.nativeElement,le).pipe((0,P.R)(this.destroy$))}}return ue.\u0275fac=function(le){return new(le||ue)(S.Y36(S.Qsj),S.Y36(S.SBq),S.Y36(S.R0b),S.Y36(q,8))},ue.\u0275dir=S.lG2({type:ue,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),ue})(),ge=(()=>{class ue{}return ue.\u0275fac=function(le){return new(le||ue)},ue.\u0275mod=S.oAB({type:ue}),ue.\u0275inj=S.cJS({}),ue})();const be=["terminal"],Ne=["resizeBox"],Ye=["detectBox"],me=function(ue){return{"handle-active":ue}},ne=function(){return{top:!1}},Ie=function(){return{left:!1}},Pe=function(){return{right:!0}},Je=function(){return{right:!1}},je=function(){return{bottom:!0}},_t=function(){return{bottom:!1}};let gt=(()=>{class ue{constructor(le){this.hostRef=le,this.handlerToCheckElementConnection=void 0,this.propertyChangeQueue=[],this.itemsToBeHandled=new u.x,this.handleImmediate=()=>{if(!this.handlerToCheckElementConnection){let Oe=this.propertyChangeQueue.splice(0,1);1==Oe.length&&this.itemsToBeHandled.next(Oe[0])}}}get renderObservable(){return this.itemsToBeHandled}handleNextOne(le=!1){!this.hostRef.nativeElement.isConnected||le?this.pollAndHandle(this.hostRef.nativeElement.isConnected?"LAZY":"NOT_CONNECTED_ELEMENT"):this.handleImmediate()}pushAndHandle(le,Oe=!1){let Fe=Object.assign({},le);this.propertyChangeQueue.push(Fe),this.handleNextOne(Oe)}pollAndHandle(le){(()=>{if(this.handlerToCheckElementConnection)return;const Fe=setInterval(()=>{this.hostRef.nativeElement.isConnected&&(clearInterval(Fe),this.handlerToCheckElementConnection=void 0,this.handleImmediate())},"NOT_CONNECTED_ELEMENT"===le?500:30);this.handlerToCheckElementConnection=Fe})()}ngOnDestroy(){this.handlerToCheckElementConnection&&clearInterval(this.handlerToCheckElementConnection)}}return ue.\u0275fac=function(le){return new(le||ue)(S.LFG(S.SBq))},ue.\u0275prov=S.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})(),Ct=(()=>{class ue{constructor(){}ngOnInit(){}}return ue.\u0275fac=function(le){return new(le||ue)},ue.\u0275cmp=S.Xpm({type:ue,selectors:[["global-style"]],decls:0,vars:0,template:function(le,Oe){},styles:['/**\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n * @license MIT\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author\'s permission):\n *   Fabrice Bellard\'s javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;inset:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;inset:0;z-index:10;color:transparent;pointer-events:none}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{-webkit-text-decoration:double underline;text-decoration:double underline}.xterm-underline-3{-webkit-text-decoration:wavy underline;text-decoration:wavy underline}.xterm-underline-4{-webkit-text-decoration:dotted underline;text-decoration:dotted underline}.xterm-underline-5{-webkit-text-decoration:dashed underline;text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{-webkit-text-decoration:overline double underline;text-decoration:overline double underline}.xterm-overline.xterm-underline-3{-webkit-text-decoration:overline wavy underline;text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{-webkit-text-decoration:overline dotted underline;text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{-webkit-text-decoration:overline dashed underline;text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}\n'],encapsulation:2}),ue})(),dt=(()=>{class ue{constructor(le,Oe){this.renderer=le,this.hostRef=Oe,this.dataSubject=new u.x,this.keySubject=new u.x,this.keyInputSubjectSubscription=void 0,this.keyEventSubjectSubscription=void 0,this.allLogsSubjectSubscription=void 0,this.dataSourceSubscription=void 0,this.resizableObservers=[],this.dataSource=void 0,this.paddingSize=5,this.stylesForResizeBox={display:"block"},this.keyInputEmitter=new S.vpe,this.keyEventEmitter=new S.vpe,this.dataEmitter=this.keyInputEmitter,this.keyEmitter=this.keyEventEmitter,this._xtermOptions={},this.lastDraggedPosition=void 0,this._draggable=!1,this._stylesInput={},this.handleToCheckLazyContainer=void 0,this.lastDetectedWidth=0,this.linearRender=new gt(Oe)}set _dataSource(le){!le||(null!=this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.dataSource=le,this.dataSourceSubscription=this.dataSource.subscribe(Oe=>this.write(Oe)))}set draggable(le){this._draggable=le}get draggable(){return this._draggable}setMinWidth(le){this._minWidthInput=le}setMinHeight(le){this._minHeightInput=le}setDraggable(le){this._draggable=le,this.lastDraggedPosition=void 0}setXtermOptions(le){this._xtermOptions=le,this.linearRender.pushAndHandle({time:new Date,type:"none"})}setRows(le){this._rowsInput!=le&&(this._rowsInput=le,this.linearRender.pushAndHandle({time:new Date,type:"rowChanged"}))}setCols(le){this._colsInput!=le&&(this._colsInput=le,this.linearRender.pushAndHandle({time:new Date,type:"columnChanged"}))}setStyle(le){var Oe;JSON.stringify(null!==(Oe=this._stylesInput)&&void 0!==Oe?Oe:{})!=JSON.stringify(null!=le?le:{})&&(this._stylesInput=le,this.linearRender.pushAndHandle({time:new Date,type:"none"}))}setup(){this.xterm&&(this.xterm.onData(le=>{this.dataSubject.next(le)}),this.xterm.onKey(le=>{this.keySubject.next(le)})),this.keyInputSubjectSubscription=this.dataSubject.subscribe(le=>{this.keyInputEmitter.emit(le)}),this.keyEventSubjectSubscription=this.keySubject.subscribe(le=>{this.keyEventEmitter.emit(le)}),this.setupResizeObservers(),this.allLogsSubjectSubscription=this.linearRender.renderObservable.subscribe(le=>{this.coordinateOuterAndTerminal(le),this.linearRender.handleNextOne()}),this.linearRender.handleNextOne()}setOuterDimensions(le,Oe,Fe,xe){this.linearRender.pushAndHandle({time:new Date,type:"dragged",dragged:{draggedWidth:`${Fe}px`,draggedHeight:`${xe}px`}})}applyStylesToResizeBox(){Object.keys(this.stylesForResizeBox).map(le=>({key:le,value:this.stylesForResizeBox[le]})).forEach(({key:le,value:Oe})=>{this.resizeBox&&(Oe?this.renderer.setStyle(this.resizeBox.nativeElement,le,Oe):this.renderer.removeStyle(this.resizeBox.nativeElement,le))}),this.stylesForResizeBox=this.stylesForResizeBox}ngOnInit(){}ngAfterViewInit(){this.fitAddon=new y.FitAddon,this.xterm=new z.Terminal({allowProposedApi:!0}),this.terminalOuter.nativeElement.isConnected?(this.xterm.open(this.terminalOuter.nativeElement),this.xterm.loadAddon(this.fitAddon),this.setup(),this.linearRender.pushAndHandle({time:new Date,type:"none"})):this.handleToCheckLazyContainer=setInterval(()=>{if(this.terminalOuter.nativeElement.isConnected)try{console.debug("The container's been connected."),this.xterm.open(this.terminalOuter.nativeElement),this.xterm.loadAddon(this.fitAddon),this.setup(),this.linearRender.pushAndHandle({time:new Date,type:"none"})}finally{this.handleToCheckLazyContainer&&clearInterval(this.handleToCheckLazyContainer)}},500)}ngOnChanges(le){var Oe,Fe,xe,Ue;console.group("onChanges"),console.debug("prop: ",le),console.groupEnd(),null!=le&&le._rowsInput&&(null===(Oe=null==le?void 0:le._rowsInput)||void 0===Oe?void 0:Oe.previousValue)!=(null===(Fe=null==le?void 0:le._rowsInput)||void 0===Fe?void 0:Fe.currentValue)&&this.linearRender.pushAndHandle({time:new Date,type:"rowChanged"}),null!=le&&le._colsInput&&(null===(xe=null==le?void 0:le._colsInput)||void 0===xe?void 0:xe.previousValue)!=(null===(Ue=null==le?void 0:le._colsInput)||void 0===Ue?void 0:Ue.currentValue)&&this.linearRender.pushAndHandle({time:new Date,type:"columnChanged"}),null!=le&&le.draggable&&this.linearRender.pushAndHandle({time:new Date,type:"none"})}coordinateOuterAndTerminal(le){var Oe;console.debug(`changeList: ${JSON.stringify(le)}`),this.xterm&&(null!==(null===(Oe=this.hostRef.nativeElement)||void 0===Oe?void 0:Oe.offsetParent)?(this.doUpdateXtermStyles(),this.doAdjustDimensionOfResizeBox(le),this.doAdjustSizeOfXtermScreen(le),this.doUpdateViewportAndResizeBoxWithPixcelUnit()):console.debug("`display` of host element was set to `none`"))}doUpdateXtermStyles(){var le,Oe;!this.xterm||(this.xterm.options=Object.assign({},this._xtermOptions),!(null===(le=this._xtermOptions.theme)||void 0===le)&&le.background&&(this.resizeHandleStyleRule||(this.resizeHandleStyleRule=this.findCssStyleRule(".resize-handle[")),this.resizeHandleStyleRule&&(this.resizeHandleStyleRule.style.backgroundColor=this._xtermOptions.theme.background)),null!==(Oe=this._xtermOptions.theme)&&void 0!==Oe&&Oe.border&&(this.resizeHandleActiveStyleRule||(this.resizeHandleActiveStyleRule=this.findCssStyleRule(".handle-active")),this.resizeHandleActiveStyleRule&&(this.resizeHandleActiveStyleRule.style.backgroundColor=this._xtermOptions.theme.border)))}doAdjustDimensionOfResizeBox(le){var Oe,Fe;if(this.stylesForResizeBox=Object.assign(Object.assign(Object.assign({},this.stylesForResizeBox),this._stylesInput),{width:this.stylesForResizeBox.width,height:this.stylesForResizeBox.height}),"dragged"===le.type){const xe=null!==(Oe=this._minWidthInput)&&void 0!==Oe?Oe:24,Ue=null!==(Fe=this._minHeightInput)&&void 0!==Fe?Fe:24,ot=parseInt(le.dragged.draggedWidth)>xe?le.dragged.draggedWidth:`${xe}px`,At=parseInt(le.dragged.draggedHeight)>Ue?le.dragged.draggedHeight:`${Ue}px`;this.stylesForResizeBox.width=ot,this.stylesForResizeBox.height=At,this.lastDraggedPosition={width:ot,height:At},this.applyStylesToResizeBox()}else if(!this.draggable||!this.lastDraggedPosition){const xe=getComputedStyle(this.hostRef.nativeElement).width,Ue=getComputedStyle(this.detectBox.nativeElement).width;let ot=!1;parseFloat(Ue)<parseFloat(xe)&&(ot=!0),ot?(this.stylesForResizeBox.width=`${parseFloat(Ue)}px`,this.applyStylesToResizeBox()):(this._rowsInput||(this.stylesForResizeBox.height="100%"),this._colsInput||(this.stylesForResizeBox.width="100%"),this.applyStylesToResizeBox())}}doAdjustSizeOfXtermScreen(le){var Oe,Fe,xe;!this.xterm||("rowChanged"==le.type&&this._rowsInput||"columnChanged"==le.type&&this._colsInput?this.xterm.resize(null!==(Oe=this._colsInput)&&void 0!==Oe?Oe:this.xterm.cols,null!==(Fe=this._rowsInput)&&void 0!==Fe?Fe:this.xterm.rows):this.xterm.element&&(this.xterm.element.style.paddingLeft=`${this.paddingSize}px`,this.printDimension("Before fitAddon.fit() of Xterm"),null===(xe=this.fitAddon)||void 0===xe||xe.fit(),this.printDimension("After fitAddon.fit() of Xterm"),this.xterm.element.style.paddingLeft="0px"))}doUpdateViewportAndResizeBoxWithPixcelUnit(){var le;if(null!==(le=this.xterm)&&void 0!==le&&le.element){let Oe=this.xterm.element.getElementsByClassName("xterm-screen")[0],Fe=this.xterm.element.getElementsByClassName("xterm-viewport")[0];const xe=Oe.clientWidth,Ue=Oe.clientHeight,At=this.underlying._core.viewport.scrollBarWidth;parseInt(getComputedStyle(this.hostRef.nativeElement).width),this.renderer.setStyle(Fe,"width",`${xe+At}px`);const ht=xe+At+2*this.paddingSize,Ee=parseInt(getComputedStyle(this.hostRef.nativeElement).width),Te=ht>Ee?Ee:ht;this.stylesForResizeBox=Object.assign(Object.assign({},this.stylesForResizeBox),{width:`${Te}px`,height:`${Ue+2*this.paddingSize}px`}),this.applyStylesToResizeBox(),this.printDimension("After update the dimensions for all boxes with pixel values")}}printDimension(le){var Oe;if((0,S.X6Q)()&&(null===(Oe=this.xterm)||void 0===Oe?void 0:Oe.element)){let Fe=this.resizeBox.nativeElement,xe=this.xterm.element.getElementsByClassName("xterm-screen")[0],Ue=this.xterm.element.getElementsByClassName("xterm-viewport")[0];const ot=xe.clientWidth,At=xe.clientHeight;console.group(`${le}`),console.debug(`width(resizeBox): ${getComputedStyle(Fe).width},\nwidth(viewport): ${getComputedStyle(Ue).width},\nwidth(screen): ${ot}\nscrollBarWidth: ${this.scrollBarWidth}`),console.debug(`height(resizeBox): ${getComputedStyle(Fe).height},\nheight(viewport) ${getComputedStyle(Ue).height},\nheight(screen): ${At}`),console.groupEnd()}}setupResizeObservers(){this.resizableObservers=[];let le=this.observeXtermViewportDimension(),Oe=this.observeHostDimension();le&&this.resizableObservers.push(le),Oe&&this.resizableObservers.push(Oe)}observeXtermViewportDimension(){let le=this.terminalOuter.nativeElement.querySelector(".xterm-viewport");if(le){const Oe=new ResizeObserver(Fe=>{var xe,Ue;const ot=null===(xe=this.terminalOuter.nativeElement)||void 0===xe?void 0:xe.clientWidth,At=null===(Ue=this.terminalOuter.nativeElement)||void 0===Ue?void 0:Ue.clientHeight;for(let Et of Fe)if(Et.contentBoxSize.length>0){let ht=Et.target.clientWidth,Qe=Et.target.clientHeight;(ot&&ht>ot||At&&Qe>At)&&(console.debug("Changes on a xterm viewport element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"xtermViewportExceedingOuterDiv",xtermViewportExceedingOuterDiv:{width:`${ht}`,height:`${Qe}`,outerDivWidth:`${ot}`,outerDivHeight:`${At}`}},!0))}});return Oe.observe(le),Oe}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}observeHostDimension(){let le=this.hostRef.nativeElement,Oe=this.detectBox.nativeElement;if(le&&Oe){const Fe=new ResizeObserver(xe=>{for(let Ue of xe){if(Ue.target===le&&Ue.contentBoxSize.length>0){let ot=getComputedStyle(Ue.target).width,At=getComputedStyle(Ue.target).height;parseInt(ot)>=0&&parseInt(At)>=0&&(console.debug("Changes on a host element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"hostResized",hostResized:{width:`${ot}`,height:`${At}`}},!0))}if(Ue.target===Oe&&Ue.contentBoxSize.length>0){let ot=getComputedStyle(Ue.target).width;parseInt(ot)>=0&&parseInt(ot)<=this.lastDetectedWidth&&(console.debug("Changes on a detect-box element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"detectBoxResized",detectBoxResized:{width:`${ot}`}},!0)),this.lastDetectedWidth=parseInt(ot)}}});return Fe.observe(le),Fe.observe(Oe),Fe}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}ngOnDestroy(){this.resizableObservers.forEach(le=>le.disconnect()),this.keyInputSubjectSubscription&&this.keyInputSubjectSubscription.unsubscribe(),this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.keyEventSubjectSubscription&&this.keyEventSubjectSubscription.unsubscribe(),this.allLogsSubjectSubscription&&this.allLogsSubjectSubscription.unsubscribe(),this.handleToCheckLazyContainer&&clearInterval(this.handleToCheckLazyContainer),this.xterm&&this.xterm.dispose(),console.debug("All resources has been cleaned up.")}write(le){var Oe;null===(Oe=this.xterm)||void 0===Oe||Oe.write(le)}get keyInput(){return this.dataSubject}onData(){return this.dataSubject}get keyEventInput(){return this.keySubject}onKey(){return this.keySubject}get underlying(){return this.xterm}get isDraggableOnEdgeActivated(){return this._draggable}get scrollBarWidth(){return this.underlying._core.viewport.scrollBarWidth}onResizeEnd(le,Oe,Fe,xe){this.setOuterDimensions(le,Oe,Fe,xe)}validatorFactory(){return Oe=>!!this._draggable}findCssStyleRule(le){for(let Oe=0;Oe<document.styleSheets.length;Oe++){let Fe=document.styleSheets.item(Oe);if(Fe)for(let xe=0;xe<Fe.cssRules.length;xe++){let Ue=Fe.cssRules.item(xe);if("selectorText"in Ue&&Ue.selectorText.includes(le))return Ue}}}}return ue.\u0275fac=function(le){return new(le||ue)(S.Y36(S.Qsj),S.Y36(S.SBq))},ue.\u0275cmp=S.Xpm({type:ue,selectors:[["ng-terminal"]],viewQuery:function(le,Oe){if(1&le&&(S.Gf(be,7),S.Gf(Ne,7),S.Gf(Ye,7)),2&le){let Fe;S.iGM(Fe=S.CRH())&&(Oe.terminalOuter=Fe.first),S.iGM(Fe=S.CRH())&&(Oe.resizeBox=Fe.first),S.iGM(Fe=S.CRH())&&(Oe.detectBox=Fe.first)}},inputs:{_dataSource:["dataSource","_dataSource"],_rowsInput:["rows","_rowsInput"],_colsInput:["cols","_colsInput"],_minWidthInput:["minWidth","_minWidthInput"],_minHeightInput:["minHeight","_minHeightInput"],draggable:"draggable",_xtermOptions:["xtermOptions","_xtermOptions"]},outputs:{keyInputEmitter:"keyInput",keyEventEmitter:"keyEvent",dataEmitter:"data",keyEmitter:"key"},features:[S._Bn([gt]),S.TTD],decls:11,vars:24,consts:[["mwlResizable","",1,"resize-box",3,"validateResize","enableGhostResize","resizeEnd"],["resizeBox",""],[1,"terminal-outer"],["terminal",""],["mwlResizeHandle","",1,"resize-handle","resize-handle-top",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-left",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-right",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-bottom",3,"ngClass","resizeEdges"],[2,"width","100%","height","0px","position","absolute"],["detectBox",""]],template:function(le,Oe){1&le&&(S._UZ(0,"global-style"),S.TgZ(1,"div",0,1),S.NdJ("resizeEnd",function(xe){let Ue;return Oe.onResizeEnd(xe.rectangle.left,xe.rectangle.top,null!==(Ue=xe.rectangle.width)&&void 0!==Ue?Ue:0,null!==(Ue=xe.rectangle.height)&&void 0!==Ue?Ue:0)}),S._UZ(3,"div",2,3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),S.qZA(),S._UZ(9,"div",8,9)),2&le&&(S.xp6(1),S.Q6J("validateResize",Oe.validatorFactory())("enableGhostResize",!0),S.xp6(4),S.Q6J("ngClass",S.VKq(10,me,Oe.isDraggableOnEdgeActivated))("resizeEdges",S.DdM(12,ne)),S.xp6(1),S.Q6J("ngClass",S.VKq(13,me,Oe.isDraggableOnEdgeActivated))("resizeEdges",S.DdM(15,Ie)),S.xp6(1),S.Q6J("ngClass",S.VKq(16,me,Oe.isDraggableOnEdgeActivated))("resizeEdges",Oe.isDraggableOnEdgeActivated?S.DdM(18,Pe):S.DdM(19,Je)),S.xp6(1),S.Q6J("ngClass",S.VKq(20,me,Oe.isDraggableOnEdgeActivated))("resizeEdges",Oe.isDraggableOnEdgeActivated?S.DdM(22,je):S.DdM(23,_t)))},dependencies:[q,ie,m.mk,Ct],styles:[".terminal-outer[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;padding:5px}[_nghost-%COMP%]{display:block;height:100%;width:100%}.resize-box[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;position:relative}div[_ngcontent-%COMP%] > .handle-active[_ngcontent-%COMP%]{z-index:100;background-color:#85858a!important}.resize-handle[_ngcontent-%COMP%]{background-color:#000}.resize-handle-top.handle-active[_ngcontent-%COMP%], .resize-handle-bottom.handle-active[_ngcontent-%COMP%]{cursor:row-resize}.resize-handle-left.handle-active[_ngcontent-%COMP%], .resize-handle-right.handle-active[_ngcontent-%COMP%]{cursor:col-resize}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%]{position:absolute;height:5px;width:100%}.resize-handle-top[_ngcontent-%COMP%]{top:0}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:0}.resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;height:100%;width:5px}.resize-handle-left[_ngcontent-%COMP%]{left:0;top:0}.resize-handle-right[_ngcontent-%COMP%]{right:0;top:0}"],changeDetection:0}),ue})(),at=(()=>{class ue{}return ue.\u0275fac=function(le){return new(le||ue)},ue.\u0275mod=S.oAB({type:ue}),ue.\u0275inj=S.cJS({imports:[ge,m.ez]}),ue})();class an{static get CSI(){return"\x9b"}static insertBlank(Ae){return`\x9b${Ae}@`}static cursorUp(Ae){return`\x9b${Ae}A`}static cursorDown(Ae){return`\x9b${Ae}B`}static cursorForward(Ae){return`\x9b${Ae}C`}static cursorBackward(Ae){return`\x9b${Ae}D`}static cursorNextLine(Ae){return`\x9b${Ae}E`}static cursorPrecedingLine(Ae){return`\x9b${Ae}F`}static cursorColumn(Ae){return`\x9b${Ae}G`}static cursorPosition(Ae,le){return`\x9b${Ae};${le}H`}static eraseInDisplay(Ae){return`\x9b${Ae}J`}static eraseSelectiveThingsInDisplay(Ae){return`\x9b?${Ae}J`}static eraseInLine(Ae){return`\x9b${Ae}K`}static eraseSelectiveThingsInLine(Ae){return`\x9b?${Ae}K`}static insertLines(Ae){return`\x9b${Ae}L`}static deleteLines(Ae){return`\x9b${Ae}M`}static deleteCharacter(Ae){return`\x9b${Ae}P`}static scrollUpLines(Ae){return`\x9b${Ae}S`}static scrollDownLines(Ae){return`\x9b${Ae}T`}static eraseCharacters(Ae){return`\x9b${Ae}X`}static cursorBackwardTabulationPstabstops(Ae){return`\x9b${Ae}Z`}static scrolldownPslines(Ae){return`\x9b${Ae}^`}static characterPositionAbsolute(Ae){return`\x9b${Ae}\``}static characterPositionRelative(Ae){return`\x9b${Ae}a`}static repeatThePrecedingGraphicCharacter(Ae){return`\x9b${Ae}b`}static linePositionAbsolute(Ae){return`\x9b${Ae}d`}static linePositionRelative(Ae){return`\x9b${Ae}e`}static horizontalandVerticalPosition(Ae,le){return`\x9b${Ae};${le}f`}static setMode(Ae,...le){return`\x9b${[Ae,...null!=le?le:[]].join(";")}h`}static resetMode(Ae,...le){return`\x9b${[Ae,...null!=le?le:[]].join(";")}l`}static characterAttributes(Ae,...le){return`\x9b${[Ae,...null!=le?le:[]].join(";")}m`}}var ke=(()=>{return(ue=ke||(ke={}))[ue.Normal=0]="Normal",ue[ue.Bold=1]="Bold",ue[ue.Faint=2]="Faint",ue[ue.Italicized=3]="Italicized",ue[ue.Underlined=4]="Underlined",ue[ue.Blink=5]="Blink",ue[ue.Inverse=7]="Inverse",ue[ue.Invisible=8]="Invisible",ue[ue.CrossedOutcharacters=9]="CrossedOutcharacters",ue[ue.DoublyUnderlined=21]="DoublyUnderlined",ue[ue.NormalNeitherBoldNorFaint=22]="NormalNeitherBoldNorFaint",ue[ue.Notitalicized=23]="Notitalicized",ue[ue.Notunderlined=24]="Notunderlined",ue[ue.Steady=25]="Steady",ue[ue.Positive=27]="Positive",ue[ue.Visible=28]="Visible",ue[ue.NotcrossedOut=29]="NotcrossedOut",ue[ue.SetforegroundcolortoBlack=30]="SetforegroundcolortoBlack",ue[ue.SetforegroundcolortoRed=31]="SetforegroundcolortoRed",ue[ue.SetforegroundcolortoGreen=32]="SetforegroundcolortoGreen",ue[ue.SetforegroundcolortoYellow=33]="SetforegroundcolortoYellow",ue[ue.SetforegroundcolortoBlue=34]="SetforegroundcolortoBlue",ue[ue.SetforegroundcolortoMagenta=35]="SetforegroundcolortoMagenta",ue[ue.SetforegroundcolortoCyan=36]="SetforegroundcolortoCyan",ue[ue.SetforegroundcolortoWhite=37]="SetforegroundcolortoWhite",ue[ue.Setforegroundcolortodefault=39]="Setforegroundcolortodefault",ue[ue.SetbackgroundcolortoBlack=40]="SetbackgroundcolortoBlack",ue[ue.SetbackgroundcolortoRed=41]="SetbackgroundcolortoRed",ue[ue.SetbackgroundcolortoGreen=42]="SetbackgroundcolortoGreen",ue[ue.SetbackgroundcolortoYellow=43]="SetbackgroundcolortoYellow",ue[ue.SetbackgroundcolortoBlue=44]="SetbackgroundcolortoBlue",ue[ue.SetbackgroundcolortoMagenta=45]="SetbackgroundcolortoMagenta",ue[ue.SetbackgroundcolortoCyan=46]="SetbackgroundcolortoCyan",ue[ue.SetbackgroundcolortoWhite=47]="SetbackgroundcolortoWhite",ue[ue.SetbackgroundcolortoDefault=49]="SetbackgroundcolortoDefault",ke;var ue})()},1777:(et,Le,G)=>{"use strict";G.d(Le,{LC:()=>z,SB:()=>b,X$:()=>u,ZE:()=>N,ZN:()=>P,_j:()=>S,eR:()=>D,jt:()=>m,k1:()=>j,l3:()=>y,oB:()=>h,vP:()=>E});class S{}class z{}const y="*";function u(f,C){return{type:7,name:f,definitions:C,options:{}}}function m(f,C=null){return{type:4,styles:C,timings:f}}function E(f,C=null){return{type:2,steps:f,options:C}}function h(f){return{type:6,styles:f,offset:null}}function b(f,C,L){return{type:0,name:f,styles:C,options:L}}function D(f,C,L=null){return{type:1,expr:f,animation:C,options:L}}function x(f){Promise.resolve().then(f)}class P{constructor(C=0,L=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=C+L}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(C=>C()),this._onDoneFns=[])}onStart(C){this._originalOnStartFns.push(C),this._onStartFns.push(C)}onDone(C){this._originalOnDoneFns.push(C),this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){x(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(C=>C()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(C){this._position=this.totalTime?C*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(C){const L="start"==C?this._onStartFns:this._onDoneFns;L.forEach(R=>R()),L.length=0}}class N{constructor(C){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=C;let L=0,R=0,H=0;const K=this.players.length;0==K?x(()=>this._onFinish()):this.players.forEach(X=>{X.onDone(()=>{++L==K&&this._onFinish()}),X.onDestroy(()=>{++R==K&&this._onDestroy()}),X.onStart(()=>{++H==K&&this._onStart()})}),this.totalTime=this.players.reduce((X,oe)=>Math.max(X,oe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(C=>C()),this._onDoneFns=[])}init(){this.players.forEach(C=>C.init())}onStart(C){this._onStartFns.push(C)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(C=>C()),this._onStartFns=[])}onDone(C){this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(C=>C.play())}pause(){this.players.forEach(C=>C.pause())}restart(){this.players.forEach(C=>C.restart())}finish(){this._onFinish(),this.players.forEach(C=>C.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(C=>C.destroy()),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}reset(){this.players.forEach(C=>C.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(C){const L=C*this.totalTime;this.players.forEach(R=>{const H=R.totalTime?Math.min(1,L/R.totalTime):1;R.setPosition(H)})}getPosition(){const C=this.players.reduce((L,R)=>null===L||R.totalTime>L.totalTime?R:L,null);return null!=C?C.getPosition():0}beforeDestroy(){this.players.forEach(C=>{C.beforeDestroy&&C.beforeDestroy()})}triggerCallback(C){const L="start"==C?this._onStartFns:this._onDoneFns;L.forEach(R=>R()),L.length=0}}const j="!"},2982:(et,Le,G)=>{"use strict";G.d(Le,{rt:()=>wn,kH:()=>Hn,Em:()=>xt,tE:()=>Jn,qm:()=>Yt,X6:()=>$i,yG:()=>ri});var S=G(9808),z=G(5e3),y=G(925),u=G(7579),m=G(727);class v extends u.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const de=super._subscribe(pe);return!de.closed&&pe.next(this._value),de}getValue(){const{hasError:pe,thrownError:de,_value:Re}=this;if(pe)throw de;return this._throwIfClosed(),Re}next(pe){super.next(this._value=pe)}}var E=G(9646),h=G(1159),b=G(8505),w=G(8372),D=G(9300),_=G(4004),o=G(5684),d=G(1884),a=G(2722),p=G(3191),x=G(7144),P=G(8306),N=G(4742),j=G(2076),f=G(4671),C=G(3268),L=G(3269),R=G(1810),H=G(5403),K=G(9672);function ae(ye,pe,de){ye?(0,K.f)(de,ye,pe):pe()}var Me=G(7272),Ce=G(5698),Z=G(8675);const Q=new Set;let ie,ge=(()=>{class ye{constructor(de){this._platform=de,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ne}matchMedia(de){return(this._platform.WEBKIT||this._platform.BLINK)&&function be(ye){if(!Q.has(ye))try{ie||(ie=document.createElement("style"),ie.setAttribute("type","text/css"),document.head.appendChild(ie)),ie.sheet&&(ie.sheet.insertRule(`@media ${ye} {body{ }}`,0),Q.add(ye))}catch(pe){console.error(pe)}}(de),this._matchMedia(de)}}return ye.\u0275fac=function(de){return new(de||ye)(z.LFG(y.t4))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();function Ne(ye){return{matches:"all"===ye||""===ye,media:ye,addListener:()=>{},removeListener:()=>{}}}let Ye=(()=>{class ye{constructor(de,Re){this._mediaMatcher=de,this._zone=Re,this._queries=new Map,this._destroySubject=new u.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(de){return me((0,p.Eq)(de)).some(We=>this._registerQuery(We).mql.matches)}observe(de){let rt=function X(...ye){const pe=(0,L.yG)(ye),de=(0,L.jO)(ye),{args:Re,keys:We}=(0,N.D)(ye);if(0===Re.length)return(0,j.D)([],pe);const rt=new P.y(function oe(ye,pe,de=f.y){return Re=>{ae(pe,()=>{const{length:We}=ye,rt=new Array(We);let St=We,Dt=We;for(let en=0;en<We;en++)ae(pe,()=>{const _n=(0,j.D)(ye[en],pe);let It=!1;_n.subscribe((0,H.x)(Re,Oi=>{rt[en]=Oi,It||(It=!0,Dt--),Dt||Re.next(de(rt.slice()))},()=>{--St||Re.complete()}))},Re)},Re)}}(Re,pe,We?St=>(0,R.n)(We,St):f.y));return de?rt.pipe((0,C.Z)(de)):rt}(me((0,p.Eq)(de)).map(St=>this._registerQuery(St).observable));return rt=(0,Me.z)(rt.pipe((0,Ce.q)(1)),rt.pipe((0,o.T)(1),(0,w.b)(0))),rt.pipe((0,_.U)(St=>{const Dt={matches:!1,breakpoints:{}};return St.forEach(({matches:en,query:_n})=>{Dt.matches=Dt.matches||en,Dt.breakpoints[_n]=en}),Dt}))}_registerQuery(de){if(this._queries.has(de))return this._queries.get(de);const Re=this._mediaMatcher.matchMedia(de),rt={observable:new P.y(St=>{const Dt=en=>this._zone.run(()=>St.next(en));return Re.addListener(Dt),()=>{Re.removeListener(Dt)}}).pipe((0,Z.O)(Re),(0,_.U)(({matches:St})=>({query:de,matches:St})),(0,a.R)(this._destroySubject)),mql:Re};return this._queries.set(de,rt),rt}}return ye.\u0275fac=function(de){return new(de||ye)(z.LFG(ge),z.LFG(z.R0b))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();function me(ye){return ye.map(pe=>pe.split(",")).reduce((pe,de)=>pe.concat(de)).map(pe=>pe.trim())}class xt extends class ln{constructor(pe){this._items=pe,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new u.x,this._typeaheadSubscription=m.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=de=>de.disabled,this._pressedLetters=[],this.tabOut=new u.x,this.change=new u.x,pe instanceof z.n_E&&pe.changes.subscribe(de=>{if(this._activeItem){const We=de.toArray().indexOf(this._activeItem);We>-1&&We!==this._activeItemIndex&&(this._activeItemIndex=We)}})}skipPredicate(pe){return this._skipPredicateFn=pe,this}withWrap(pe=!0){return this._wrap=pe,this}withVerticalOrientation(pe=!0){return this._vertical=pe,this}withHorizontalOrientation(pe){return this._horizontal=pe,this}withAllowedModifierKeys(pe){return this._allowedModifierKeys=pe,this}withTypeAhead(pe=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,b.b)(de=>this._pressedLetters.push(de)),(0,w.b)(pe),(0,D.h)(()=>this._pressedLetters.length>0),(0,_.U)(()=>this._pressedLetters.join(""))).subscribe(de=>{const Re=this._getItemsArray();for(let We=1;We<Re.length+1;We++){const rt=(this._activeItemIndex+We)%Re.length,St=Re[rt];if(!this._skipPredicateFn(St)&&0===St.getLabel().toUpperCase().trim().indexOf(de)){this.setActiveItem(rt);break}}this._pressedLetters=[]}),this}withHomeAndEnd(pe=!0){return this._homeAndEnd=pe,this}setActiveItem(pe){const de=this._activeItem;this.updateActiveItem(pe),this._activeItem!==de&&this.change.next(this._activeItemIndex)}onKeydown(pe){const de=pe.keyCode,We=["altKey","ctrlKey","metaKey","shiftKey"].every(rt=>!pe[rt]||this._allowedModifierKeys.indexOf(rt)>-1);switch(de){case h.Mf:return void this.tabOut.next();case h.JH:if(this._vertical&&We){this.setNextItemActive();break}return;case h.LH:if(this._vertical&&We){this.setPreviousItemActive();break}return;case h.SV:if(this._horizontal&&We){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case h.oh:if(this._horizontal&&We){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case h.Sd:if(this._homeAndEnd&&We){this.setFirstItemActive();break}return;case h.uR:if(this._homeAndEnd&&We){this.setLastItemActive();break}return;default:return void((We||(0,h.Vb)(pe,"shiftKey"))&&(pe.key&&1===pe.key.length?this._letterKeyStream.next(pe.key.toLocaleUpperCase()):(de>=h.A&&de<=h.Z||de>=h.xE&&de<=h.aO)&&this._letterKeyStream.next(String.fromCharCode(de))))}this._pressedLetters=[],pe.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(pe){const de=this._getItemsArray(),Re="number"==typeof pe?pe:de.indexOf(pe),We=de[Re];this._activeItem=null==We?null:We,this._activeItemIndex=Re}_setActiveItemByDelta(pe){this._wrap?this._setActiveInWrapMode(pe):this._setActiveInDefaultMode(pe)}_setActiveInWrapMode(pe){const de=this._getItemsArray();for(let Re=1;Re<=de.length;Re++){const We=(this._activeItemIndex+pe*Re+de.length)%de.length;if(!this._skipPredicateFn(de[We]))return void this.setActiveItem(We)}}_setActiveInDefaultMode(pe){this._setActiveItemByIndex(this._activeItemIndex+pe,pe)}_setActiveItemByIndex(pe,de){const Re=this._getItemsArray();if(Re[pe]){for(;this._skipPredicateFn(Re[pe]);)if(!Re[pe+=de])return;this.setActiveItem(pe)}}_getItemsArray(){return this._items instanceof z.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(pe){return this._origin=pe,this}setActiveItem(pe){super.setActiveItem(pe),this.activeItem&&this.activeItem.focus(this._origin)}}function $i(ye){return 0===ye.buttons||0===ye.offsetX&&0===ye.offsetY}function ri(ye){const pe=ye.touches&&ye.touches[0]||ye.changedTouches&&ye.changedTouches[0];return!(!pe||-1!==pe.identifier||null!=pe.radiusX&&1!==pe.radiusX||null!=pe.radiusY&&1!==pe.radiusY)}const dn=new z.OlP("cdk-input-modality-detector-options"),In={ignoreKeys:[h.zL,h.jx,h.b2,h.MW,h.JU]},Sn=(0,y.i$)({passive:!0,capture:!0});let jn=(()=>{class ye{constructor(de,Re,We,rt){this._platform=de,this._mostRecentTarget=null,this._modality=new v(null),this._lastTouchMs=0,this._onKeydown=St=>{var Dt,en;null!==(en=null===(Dt=this._options)||void 0===Dt?void 0:Dt.ignoreKeys)&&void 0!==en&&en.some(_n=>_n===St.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,y.sA)(St))},this._onMousedown=St=>{Date.now()-this._lastTouchMs<650||(this._modality.next($i(St)?"keyboard":"mouse"),this._mostRecentTarget=(0,y.sA)(St))},this._onTouchstart=St=>{ri(St)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,y.sA)(St))},this._options=Object.assign(Object.assign({},In),rt),this.modalityDetected=this._modality.pipe((0,o.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,d.x)()),de.isBrowser&&Re.runOutsideAngular(()=>{We.addEventListener("keydown",this._onKeydown,Sn),We.addEventListener("mousedown",this._onMousedown,Sn),We.addEventListener("touchstart",this._onTouchstart,Sn)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Sn),document.removeEventListener("mousedown",this._onMousedown,Sn),document.removeEventListener("touchstart",this._onTouchstart,Sn))}}return ye.\u0275fac=function(de){return new(de||ye)(z.LFG(y.t4),z.LFG(z.R0b),z.LFG(S.K0),z.LFG(dn,8))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();const Mn=new z.OlP("cdk-focus-monitor-default-options"),Xn=(0,y.i$)({passive:!0,capture:!0});let Jn=(()=>{class ye{constructor(de,Re,We,rt,St){this._ngZone=de,this._platform=Re,this._inputModalityDetector=We,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new u.x,this._rootNodeFocusAndBlurListener=Dt=>{for(let _n=(0,y.sA)(Dt);_n;_n=_n.parentElement)"focus"===Dt.type?this._onFocus(Dt,_n):this._onBlur(Dt,_n)},this._document=rt,this._detectionMode=(null==St?void 0:St.detectionMode)||0}monitor(de,Re=!1){const We=(0,p.fI)(de);if(!this._platform.isBrowser||1!==We.nodeType)return(0,E.of)(null);const rt=(0,y.kV)(We)||this._getDocument(),St=this._elementInfo.get(We);if(St)return Re&&(St.checkChildren=!0),St.subject;const Dt={checkChildren:Re,subject:new u.x,rootNode:rt};return this._elementInfo.set(We,Dt),this._registerGlobalListeners(Dt),Dt.subject}stopMonitoring(de){const Re=(0,p.fI)(de),We=this._elementInfo.get(Re);We&&(We.subject.complete(),this._setClasses(Re),this._elementInfo.delete(Re),this._removeGlobalListeners(We))}focusVia(de,Re,We){const rt=(0,p.fI)(de);rt===this._getDocument().activeElement?this._getClosestElementsInfo(rt).forEach(([Dt,en])=>this._originChanged(Dt,Re,en)):(this._setOrigin(Re),"function"==typeof rt.focus&&rt.focus(We))}ngOnDestroy(){this._elementInfo.forEach((de,Re)=>this.stopMonitoring(Re))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(de){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(de)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:de&&this._isLastInteractionFromInputLabel(de)?"mouse":"program"}_shouldBeAttributedToTouch(de){return 1===this._detectionMode||!(null==de||!de.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(de,Re){de.classList.toggle("cdk-focused",!!Re),de.classList.toggle("cdk-touch-focused","touch"===Re),de.classList.toggle("cdk-keyboard-focused","keyboard"===Re),de.classList.toggle("cdk-mouse-focused","mouse"===Re),de.classList.toggle("cdk-program-focused","program"===Re)}_setOrigin(de,Re=!1){this._ngZone.runOutsideAngular(()=>{this._origin=de,this._originFromTouchInteraction="touch"===de&&Re,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(de,Re){const We=this._elementInfo.get(Re),rt=(0,y.sA)(de);!We||!We.checkChildren&&Re!==rt||this._originChanged(Re,this._getFocusOrigin(rt),We)}_onBlur(de,Re){const We=this._elementInfo.get(Re);!We||We.checkChildren&&de.relatedTarget instanceof Node&&Re.contains(de.relatedTarget)||(this._setClasses(Re),this._emitOrigin(We,null))}_emitOrigin(de,Re){de.subject.observers.length&&this._ngZone.run(()=>de.subject.next(Re))}_registerGlobalListeners(de){if(!this._platform.isBrowser)return;const Re=de.rootNode,We=this._rootNodeFocusListenerCount.get(Re)||0;We||this._ngZone.runOutsideAngular(()=>{Re.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xn),Re.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xn)}),this._rootNodeFocusListenerCount.set(Re,We+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,a.R)(this._stopInputModalityDetector)).subscribe(rt=>{this._setOrigin(rt,!0)}))}_removeGlobalListeners(de){const Re=de.rootNode;if(this._rootNodeFocusListenerCount.has(Re)){const We=this._rootNodeFocusListenerCount.get(Re);We>1?this._rootNodeFocusListenerCount.set(Re,We-1):(Re.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xn),Re.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xn),this._rootNodeFocusListenerCount.delete(Re))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(de,Re,We){this._setClasses(de,Re),this._emitOrigin(We,Re),this._lastFocusOrigin=Re}_getClosestElementsInfo(de){const Re=[];return this._elementInfo.forEach((We,rt)=>{(rt===de||We.checkChildren&&rt.contains(de))&&Re.push([rt,We])}),Re}_isLastInteractionFromInputLabel(de){const{_mostRecentTarget:Re,mostRecentModality:We}=this._inputModalityDetector;if("mouse"!==We||!Re||Re===de||"INPUT"!==de.nodeName&&"TEXTAREA"!==de.nodeName||de.disabled)return!1;const rt=de.labels;if(rt)for(let St=0;St<rt.length;St++)if(rt[St].contains(Re))return!0;return!1}}return ye.\u0275fac=function(de){return new(de||ye)(z.LFG(z.R0b),z.LFG(y.t4),z.LFG(jn),z.LFG(S.K0,8),z.LFG(Mn,8))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})(),Hn=(()=>{class ye{constructor(de,Re){this._elementRef=de,this._focusMonitor=Re,this._focusOrigin=null,this.cdkFocusChange=new z.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const de=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(de,1===de.nodeType&&de.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Re=>{this._focusOrigin=Re,this.cdkFocusChange.emit(Re)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return ye.\u0275fac=function(de){return new(de||ye)(z.Y36(z.SBq),z.Y36(Jn))},ye.\u0275dir=z.lG2({type:ye,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),ye})();const Ri="cdk-high-contrast-black-on-white",oi="cdk-high-contrast-white-on-black",cn="cdk-high-contrast-active";let Yt=(()=>{class ye{constructor(de,Re){this._platform=de,this._document=Re,this._breakpointSubscription=(0,z.f3M)(Ye).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const de=this._document.createElement("div");de.style.backgroundColor="rgb(1,2,3)",de.style.position="absolute",this._document.body.appendChild(de);const Re=this._document.defaultView||window,We=Re&&Re.getComputedStyle?Re.getComputedStyle(de):null,rt=(We&&We.backgroundColor||"").replace(/ /g,"");switch(de.remove(),rt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const de=this._document.body.classList;de.remove(cn,Ri,oi),this._hasCheckedHighContrastMode=!0;const Re=this.getHighContrastMode();1===Re?de.add(cn,Ri):2===Re&&de.add(cn,oi)}}}return ye.\u0275fac=function(de){return new(de||ye)(z.LFG(y.t4),z.LFG(S.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})(),wn=(()=>{class ye{constructor(de){de._applyBodyHighContrastModeCssClasses()}}return ye.\u0275fac=function(de){return new(de||ye)(z.LFG(Yt))},ye.\u0275mod=z.oAB({type:ye}),ye.\u0275inj=z.cJS({imports:[x.Q8]}),ye})()},226:(et,Le,G)=>{"use strict";G.d(Le,{Is:()=>E,vT:()=>b});var S=G(5e3),z=G(9808);const y=new S.OlP("cdk-dir-doc",{providedIn:"root",factory:function u(){return(0,S.f3M)(z.K0)}}),m=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let E=(()=>{class w{constructor(_){if(this.value="ltr",this.change=new S.vpe,_){const d=_.documentElement?_.documentElement.dir:null;this.value=function v(w){const D=(null==w?void 0:w.toLowerCase())||"";return"auto"===D&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?m.test(navigator.language)?"rtl":"ltr":"rtl"===D?"rtl":"ltr"}((_.body?_.body.dir:null)||d||"ltr")}}ngOnDestroy(){this.change.complete()}}return w.\u0275fac=function(_){return new(_||w)(S.LFG(y,8))},w.\u0275prov=S.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),b=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=S.oAB({type:w}),w.\u0275inj=S.cJS({}),w})()},3191:(et,Le,G)=>{"use strict";G.d(Le,{Eq:()=>m,Ig:()=>z,fI:()=>E,su:()=>y});var S=G(5e3);function z(b){return null!=b&&"false"!=`${b}`}function y(b,w=0){return function u(b){return!isNaN(parseFloat(b))&&!isNaN(Number(b))}(b)?Number(b):w}function m(b){return Array.isArray(b)?b:[b]}function E(b){return b instanceof S.SBq?b.nativeElement:b}},1159:(et,Le,G)=>{"use strict";G.d(Le,{A:()=>Ye,JH:()=>j,JU:()=>v,K5:()=>m,LH:()=>P,L_:()=>_,MW:()=>Ue,Mf:()=>y,SV:()=>N,Sd:()=>p,Vb:()=>Zt,Z:()=>xe,aO:()=>Q,b2:()=>Li,jx:()=>E,oh:()=>x,uR:()=>a,xE:()=>H,zL:()=>h});const y=9,m=13,v=16,E=17,h=18,_=32,a=35,p=36,x=37,P=38,N=39,j=40,H=48,Q=57,Ye=65,xe=90,Ue=91,Li=224;function Zt(fi,...pi){return pi.length?pi.some(hn=>fi[hn]):fi.altKey||fi.shiftKey||fi.ctrlKey||fi.metaKey}},7144:(et,Le,G)=>{"use strict";G.d(Le,{Q8:()=>b,wD:()=>h});var S=G(3191),z=G(5e3),y=G(8306),u=G(7579),m=G(8372);let v=(()=>{class w{create(_){return"undefined"==typeof MutationObserver?null:new MutationObserver(_)}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=z.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),E=(()=>{class w{constructor(_){this._mutationObserverFactory=_,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((_,o)=>this._cleanupObserver(o))}observe(_){const o=(0,S.fI)(_);return new y.y(d=>{const p=this._observeElement(o).subscribe(d);return()=>{p.unsubscribe(),this._unobserveElement(o)}})}_observeElement(_){if(this._observedElements.has(_))this._observedElements.get(_).count++;else{const o=new u.x,d=this._mutationObserverFactory.create(a=>o.next(a));d&&d.observe(_,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(_,{observer:d,stream:o,count:1})}return this._observedElements.get(_).stream}_unobserveElement(_){this._observedElements.has(_)&&(this._observedElements.get(_).count--,this._observedElements.get(_).count||this._cleanupObserver(_))}_cleanupObserver(_){if(this._observedElements.has(_)){const{observer:o,stream:d}=this._observedElements.get(_);o&&o.disconnect(),d.complete(),this._observedElements.delete(_)}}}return w.\u0275fac=function(_){return new(_||w)(z.LFG(v))},w.\u0275prov=z.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),h=(()=>{class w{constructor(_,o,d){this._contentObserver=_,this._elementRef=o,this._ngZone=d,this.event=new z.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(_){this._disabled=(0,S.Ig)(_),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(_){this._debounce=(0,S.su)(_),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const _=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?_.pipe((0,m.b)(this.debounce)):_).subscribe(this.event)})}_unsubscribe(){var _;null===(_=this._currentSubscription)||void 0===_||_.unsubscribe()}}return w.\u0275fac=function(_){return new(_||w)(z.Y36(E),z.Y36(z.SBq),z.Y36(z.R0b))},w.\u0275dir=z.lG2({type:w,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),w})(),b=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275mod=z.oAB({type:w}),w.\u0275inj=z.cJS({providers:[v]}),w})()},925:(et,Le,G)=>{"use strict";G.d(Le,{Oy:()=>f,i$:()=>D,kV:()=>P,qK:()=>h,sA:()=>j,t4:()=>u});var S=G(5e3),z=G(9808);let y;try{y="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(C){y=!1}let v,u=(()=>{class C{constructor(R){this._platformId=R,this.isBrowser=this._platformId?(0,z.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!y)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return C.\u0275fac=function(R){return new(R||C)(S.LFG(S.Lbi))},C.\u0275prov=S.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const E=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function h(){if(v)return v;if("object"!=typeof document||!document)return v=new Set(E),v;let C=document.createElement("input");return v=new Set(E.filter(L=>(C.setAttribute("type",L),C.type===L))),v}let b,p;function D(C){return function w(){if(null==b&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>b=!0}))}finally{b=b||!1}return b}()?C:!!C.capture}function P(C){if(function x(){if(null==p){const C="undefined"!=typeof document?document.head:null;p=!(!C||!C.createShadowRoot&&!C.attachShadow)}return p}()){const L=C.getRootNode?C.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&L instanceof ShadowRoot)return L}return null}function j(C){return C.composedPath?C.composedPath()[0]:C.target}function f(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},9808:(et,Le,G)=>{"use strict";G.d(Le,{HT:()=>m,JF:()=>Ar,K0:()=>E,Mx:()=>Qi,NF:()=>Tr,O5:()=>fi,RF:()=>wi,bD:()=>sn,ez:()=>Pt,mk:()=>ai,n9:()=>Ei,q:()=>y,sg:()=>ui,w_:()=>v});var S=G(5e3);let z=null;function y(){return z}function m(O){z||(z=O)}class v{}const E=new S.OlP("DocumentToken");function Qi(O,Y){Y=encodeURIComponent(Y);for(const B of O.split(";")){const re=B.indexOf("="),[we,ze]=-1==re?[B,""]:[B.slice(0,re),B.slice(re+1)];if(we.trim()===Y)return decodeURIComponent(ze)}return null}let ai=(()=>{class O{constructor(B,re,we,ze){this._iterableDiffers=B,this._keyValueDiffers=re,this._ngEl=we,this._renderer=ze,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(B){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof B?B.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(B){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof B?B.split(/\s+/):B,this._rawClass&&((0,S.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const B=this._iterableDiffer.diff(this._rawClass);B&&this._applyIterableChanges(B)}else if(this._keyValueDiffer){const B=this._keyValueDiffer.diff(this._rawClass);B&&this._applyKeyValueChanges(B)}}_applyKeyValueChanges(B){B.forEachAddedItem(re=>this._toggleClass(re.key,re.currentValue)),B.forEachChangedItem(re=>this._toggleClass(re.key,re.currentValue)),B.forEachRemovedItem(re=>{re.previousValue&&this._toggleClass(re.key,!1)})}_applyIterableChanges(B){B.forEachAddedItem(re=>{if("string"!=typeof re.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,S.AaK)(re.item)}`);this._toggleClass(re.item,!0)}),B.forEachRemovedItem(re=>this._toggleClass(re.item,!1))}_applyClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(re=>this._toggleClass(re,!0)):Object.keys(B).forEach(re=>this._toggleClass(re,!!B[re])))}_removeClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(re=>this._toggleClass(re,!1)):Object.keys(B).forEach(re=>this._toggleClass(re,!1)))}_toggleClass(B,re){(B=B.trim())&&B.split(/\s+/g).forEach(we=>{re?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}}return O.\u0275fac=function(B){return new(B||O)(S.Y36(S.ZZ4),S.Y36(S.aQg),S.Y36(S.SBq),S.Y36(S.Qsj))},O.\u0275dir=S.lG2({type:O,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),O})();class Vn{constructor(Y,B,re,we){this.$implicit=Y,this.ngForOf=B,this.index=re,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ui=(()=>{class O{constructor(B,re,we){this._viewContainer=B,this._template=re,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const re=this._viewContainer;B.forEachOperation((we,ze,Xe)=>{if(null==we.previousIndex)re.createEmbeddedView(this._template,new Vn(we.item,this._ngForOf,-1,-1),null===Xe?void 0:Xe);else if(null==Xe)re.remove(null===ze?void 0:ze);else if(null!==ze){const bt=re.get(ze);re.move(bt,Xe),Li(bt,we)}});for(let we=0,ze=re.length;we<ze;we++){const bt=re.get(we).context;bt.index=we,bt.count=ze,bt.ngForOf=this._ngForOf}B.forEachIdentityChange(we=>{Li(re.get(we.currentIndex),we)})}static ngTemplateContextGuard(B,re){return!0}}return O.\u0275fac=function(B){return new(B||O)(S.Y36(S.s_b),S.Y36(S.Rgc),S.Y36(S.ZZ4))},O.\u0275dir=S.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),O})();function Li(O,Y){O.context.$implicit=Y.item}let fi=(()=>{class O{constructor(B,re){this._viewContainer=B,this._context=new pi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=re}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){hn("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){hn("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,re){return!0}}return O.\u0275fac=function(B){return new(B||O)(S.Y36(S.s_b),S.Y36(S.Rgc))},O.\u0275dir=S.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),O})();class pi{constructor(){this.$implicit=null,this.ngIf=null}}function hn(O,Y){if(Y&&!Y.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,S.AaK)(Y)}'.`)}class Rn{constructor(Y,B){this._viewContainerRef=Y,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Y){Y&&!this._created?this.create():!Y&&this._created&&this.destroy()}}let wi=(()=>{class O{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(B)}_matchCase(B){const re=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||re,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),re}_updateDefaultCases(B){if(this._defaultViews&&B!==this._defaultUsed){this._defaultUsed=B;for(let re=0;re<this._defaultViews.length;re++)this._defaultViews[re].enforceState(B)}}}return O.\u0275fac=function(B){return new(B||O)},O.\u0275dir=S.lG2({type:O,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),O})(),Ei=(()=>{class O{constructor(B,re,we){this.ngSwitch=we,we._addCase(),this._view=new Rn(B,re)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return O.\u0275fac=function(B){return new(B||O)(S.Y36(S.s_b),S.Y36(S.Rgc),S.Y36(wi,9))},O.\u0275dir=S.lG2({type:O,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),O})(),Pt=(()=>{class O{}return O.\u0275fac=function(B){return new(B||O)},O.\u0275mod=S.oAB({type:O}),O.\u0275inj=S.cJS({}),O})();const sn="browser";function Tr(O){return O===sn}class Ar{}},5e3:(et,Le,G)=>{"use strict";G.d(Le,{$8M:()=>Zo,$Z:()=>kh,AFp:()=>K_,AaK:()=>h,BQk:()=>ml,CHM:()=>ps,CRH:()=>E_,CZH:()=>Al,CqO:()=>xf,D6c:()=>Sw,DdM:()=>a_,EJc:()=>UC,EpF:()=>Mf,F$t:()=>Pf,F4k:()=>Tf,FYo:()=>ph,G48:()=>aw,Gf:()=>C_,GfV:()=>_h,Gpc:()=>D,Hsn:()=>kf,Ikx:()=>bu,JOm:()=>Vr,KtG:()=>cr,LFG:()=>M,Lbi:()=>NC,Lck:()=>O0,MAs:()=>Df,NdJ:()=>pu,OlP:()=>fn,Oqu:()=>vu,Q6J:()=>uu,QGY:()=>fu,QbO:()=>VC,Qsj:()=>tv,R0b:()=>nr,RDi:()=>gm,Rgc:()=>Ea,SBq:()=>ca,Suo:()=>w_,TTD:()=>U,TgZ:()=>pl,VKq:()=>l_,W1O:()=>T_,WLB:()=>c_,X6Q:()=>ow,Xpm:()=>hi,Y36:()=>Do,YNc:()=>Ef,Yjl:()=>Nn,Yz7:()=>ne,ZZ4:()=>Zu,_Bn:()=>Xp,_UZ:()=>hu,_Vd:()=>la,_c5:()=>Ew,_uU:()=>sp,aQg:()=>Qu,cJS:()=>Pe,cg1:()=>yu,dDg:()=>XC,dqk:()=>Ue,eFA:()=>sg,ekj:()=>gu,eoX:()=>ng,f3M:()=>J,g9A:()=>q_,h0i:()=>Ho,hGG:()=>Dw,hij:()=>bl,iGM:()=>y_,ifc:()=>xe,ip1:()=>G_,kL8:()=>Dp,kYT:()=>Kn,lG2:()=>jn,lri:()=>eg,n5z:()=>Yo,n_E:()=>Dl,oAB:()=>In,oxw:()=>Lf,qLn:()=>ua,qOj:()=>ou,qZA:()=>_l,rWj:()=>tg,sBO:()=>lw,sIi:()=>fa,s_b:()=>Ml,soG:()=>Il,uIk:()=>cu,vHH:()=>a,vpe:()=>Wr,wAp:()=>Nt,xp6:()=>wh,ynx:()=>gl,z2F:()=>Rl,zSh:()=>Tc,zs3:()=>Ys});var S=G(7579),z=G(727),y=G(8306),u=G(6451),m=G(3099);function v(e){for(let t in e)if(e[t]===v)return t;throw Error("Could not find renamed property on target object.")}function E(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function h(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(h).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function b(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const w=v({__forward_ref__:v});function D(e){return e.__forward_ref__=D,e.toString=function(){return h(this())},e}function _(e){return o(e)?e():e}function o(e){return"function"==typeof e&&e.hasOwnProperty(w)&&e.__forward_ref__===D}class a extends Error{constructor(t,n){super(function p(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function x(e){return"string"==typeof e?e:null==e?"":String(e)}function C(e,t){throw new a(-201,!1)}function ge(e,t){null==e&&function be(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function ne(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pe(e){return{providers:e.providers||[],imports:e.imports||[]}}function Je(e){return _t(e,at)||_t(e,an)}function _t(e,t){return e.hasOwnProperty(t)?e[t]:null}function dt(e){return e&&(e.hasOwnProperty(vt)||e.hasOwnProperty(ln))?e[vt]:null}const at=v({\u0275prov:v}),vt=v({\u0275inj:v}),an=v({ngInjectableDef:v}),ln=v({ngInjectorDef:v});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let xt;function nt(e){const t=xt;return xt=e,t}function ke(e,t,n){const i=Je(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&lt.Optional?null:void 0!==t?t:void C(h(e))}function Ae(e){return{toString:e}.toString()}var le=(()=>((le=le||{})[le.OnPush=0]="OnPush",le[le.Default=1]="Default",le))(),xe=(()=>{return(e=xe||(xe={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",xe;var e})();const Ue=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),Et={},ht=[],Qe=v({\u0275cmp:v}),Ee=v({\u0275dir:v}),Te=v({\u0275pipe:v}),$e=v({\u0275mod:v}),Mt=v({\u0275fac:v}),qt=v({__NG_ELEMENT_ID__:v});let Cn=0;function hi(e){return Ae(()=>{const n=!0===e.standalone,i={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===le.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||ht,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||xe.Emulated,id:"c"+Cn++,styles:e.styles||ht,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.dependencies,g=e.features;return r.inputs=Sn(e.inputs,i),r.outputs=Sn(e.outputs),g&&g.forEach(T=>T(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(ri).filter(dn):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(mn).filter(dn):null,r})}function ri(e){return Ut(e)||pn(e)}function dn(e){return null!==e}function In(e){return Ae(()=>({type:e.type,bootstrap:e.bootstrap||ht,declarations:e.declarations||ht,imports:e.imports||ht,exports:e.exports||ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Kn(e,t){return Ae(()=>{const n=Mn(e,!0);n.declarations=t.declarations||ht,n.imports=t.imports||ht,n.exports=t.exports||ht})}function Sn(e,t){if(null==e)return Et;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}const jn=hi;function Nn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ut(e){return e[Qe]||null}function pn(e){return e[Ee]||null}function mn(e){return e[Te]||null}function Mn(e,t){const n=e[$e]||null;if(!n&&!0===t)throw new Error(`Type ${h(e)} does not have '\u0275mod' property.`);return n}function hn(e){return Array.isArray(e)&&"object"==typeof e[1]}function Rn(e){return Array.isArray(e)&&!0===e[1]}function wi(e){return 0!=(8&e.flags)}function Ei(e){return 2==(2&e.flags)}function ir(e){return 1==(1&e.flags)}function Yn(e){return null!==e.template}function Xi(e){return 0!=(256&e[2])}function De(e,t){return e.hasOwnProperty(Mt)?e[Mt]:null}class he{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function U(){return se}function se(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ve),_e}function _e(){const e=Rt(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Et)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Ve(e,t,n,i){const r=Rt(e)||function Pt(e,t){return e[ft]=t}(e,{previous:Et,current:null}),s=r.current||(r.current={}),g=r.previous,T=this.declaredInputs[n],I=g[T];s[T]=new he(I&&I.currentValue,t,g===Et),e[i]=t}U.ngInherit=!0;const ft="__ngSimpleChanges__";function Rt(e){return e[ft]||null}function bn(e){for(;Array.isArray(e);)e=e[0];return e}function Di(e,t){return bn(t[e])}function Un(e,t){return bn(t[e.index])}function Ar(e,t){return e.data[t]}function kn(e,t){const n=t[e];return hn(n)?n:n[0]}function or(e){return 64==(64&e[2])}function En(e,t){return null==t?null:e[t]}function Zn(e){e[18]=0}function Ki(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const Ot={lFrame:$o(null),bindingsEnabled:!0};function lr(){return Ot.bindingsEnabled}function tt(){return Ot.lFrame.lView}function Bt(){return Ot.lFrame.tView}function ps(e){return Ot.lFrame.contextLView=e,e[8]}function cr(e){return Ot.lFrame.contextLView=null,e}function vn(){let e=Ls();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ls(){return Ot.lFrame.currentTNode}function Si(e,t){const n=Ot.lFrame;n.currentTNode=e,n.isParent=t}function Ps(){return Ot.lFrame.isParent}function io(){Ot.lFrame.isParent=!1}function A(){const e=Ot.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function pt(){return Ot.lFrame.bindingIndex++}function ur(e,t){const n=Ot.lFrame;n.bindingIndex=n.bindingRootIndex=e,hr(t)}function hr(e){Ot.lFrame.currentDirectiveIndex=e}function gs(){return Ot.lFrame.currentQueryIndex}function fr(e){Ot.lFrame.currentQueryIndex=e}function Lr(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ks(e,t,n){if(n&lt.SkipSelf){let r=t,s=e;for(;!(r=r.parent,null!==r||n&lt.Host||(r=Lr(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,e=s}const i=Ot.lFrame=kr();return i.currentTNode=t,i.lView=e,!0}function Pr(e){const t=kr(),n=e[1];Ot.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function kr(){const e=Ot.lFrame,t=null===e?null:e.child;return null===t?$o(e):t}function $o(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function zo(){const e=Ot.lFrame;return Ot.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ro=zo;function ms(){const e=zo();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ni(){return Ot.lFrame.selectedIndex}function Fi(e){Ot.lFrame.selectedIndex=e}function gn(){const e=Ot.lFrame;return Ar(e.tView,e.selectedIndex)}function oo(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:T,ngAfterViewInit:I,ngAfterViewChecked:W,ngOnDestroy:ee}=s;g&&(e.contentHooks||(e.contentHooks=[])).push(-n,g),T&&((e.contentHooks||(e.contentHooks=[])).push(n,T),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,T)),I&&(e.viewHooks||(e.viewHooks=[])).push(-n,I),W&&((e.viewHooks||(e.viewHooks=[])).push(n,W),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,W)),null!=ee&&(e.destroyHooks||(e.destroyHooks=[])).push(n,ee)}}function vs(e,t,n){Hs(e,t,3,n)}function bs(e,t,n,i){(3&e[2])===n&&Hs(e,t,n,i)}function Ns(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Hs(e,t,n,i){const s=null!=i?i:-1,g=t.length-1;let T=0;for(let I=void 0!==i?65535&e[18]:0;I<g;I++)if("number"==typeof t[I+1]){if(T=t[I],null!=i&&T>=i)break}else t[I]<0&&(e[18]+=65536),(T<s||-1==s)&&(Go(e,n,t,I),e[18]=(4294901760&e[18])+I+2),I++}function Go(e,t,n,i){const r=n[i]<0,s=n[i+1],T=e[r?-n[i]:n[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(T)}finally{}}}else try{s.call(T)}finally{}}class ys{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function re(e,t,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const s=n[i++],g=n[i++],T=n[i++];e.setAttribute(t,g,T,s)}else{const s=r,g=n[++i];ze(s)?e.setProperty(t,s,g):e.setAttribute(t,s,g),i++}}return i}function we(e){return 3===e||4===e||6===e}function ze(e){return 64===e.charCodeAt(0)}function Xe(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||bt(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function bt(e,t,n,i,r){let s=0,g=e.length;if(-1===t)g=-1;else for(;s<e.length;){const T=e[s++];if("number"==typeof T){if(T===t){g=-1;break}if(T>t){g=s-1;break}}}for(;s<e.length;){const T=e[s];if("number"==typeof T)break;if(T===n){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==g&&(e.splice(g,0,t),s=g+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}function Xt(e){return-1!==e}function Gt(e){return 32767&e}function $t(e,t){let n=function nn(e){return e>>16}(e),i=t;for(;n>0;)i=i[15],n--;return i}let Jt=!0;function tn(e){const t=Jt;return Jt=e,t}let pr=0;const On={};function _r(e,t){const n=Ko(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,gr(i.data,e),gr(t,null),gr(i.blueprint,null));const r=Vs(e,t),s=e.injectorIndex;if(Xt(r)){const g=Gt(r),T=$t(r,t),I=T[1].data;for(let W=0;W<8;W++)t[s+W]=T[g+W]|I[g+W]}return t[s+8]=r,s}function gr(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ko(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Vs(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){if(i=Na(r),null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function js(e,t,n){!function ws(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(qt)&&(i=n[qt]),null==i&&(i=n[qt]=pr++);const r=255&i;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function Ti(e,t,n){if(n&lt.Optional||void 0!==e)return e;C()}function ts(e,t,n,i){if(n&lt.Optional&&void 0===i&&(i=null),0==(n&(lt.Self|lt.Host))){const r=e[9],s=nt(void 0);try{return r?r.get(t,i,n&lt.Optional):ke(t,i,n&lt.Optional)}finally{nt(s)}}return Ti(i,0,n)}function La(e,t,n,i=lt.Default,r){if(null!==e){if(1024&t[2]){const g=function Nl(e,t,n,i,r){let s=e,g=t;for(;null!==s&&null!==g&&1024&g[2]&&!(256&g[2]);){const T=Pa(s,g,n,i|lt.Self,On);if(T!==On)return T;let I=s.parent;if(!I){const W=g[21];if(W){const ee=W.get(n,On,i);if(ee!==On)return ee}I=Na(g),g=g[15]}s=I}return r}(e,t,n,i,On);if(g!==On)return g}const s=Pa(e,t,n,i,On);if(s!==On)return s}return ts(t,n,i,r)}function Pa(e,t,n,i,r){const s=function co(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(qt)?e[qt]:void 0;return"number"==typeof t?t>=0?255&t:Bl:t}(n);if("function"==typeof s){if(!ks(t,e,i))return i&lt.Host?Ti(r,0,i):ts(t,n,i,r);try{const g=s(i);if(null!=g||i&lt.Optional)return g;C()}finally{ro()}}else if("number"==typeof s){let g=null,T=Ko(e,t),I=-1,W=i&lt.Host?t[16][6]:null;for((-1===T||i&lt.SkipSelf)&&(I=-1===T?Vs(e,t):t[T+8],-1!==I&&Ba(i,!1)?(g=t[1],T=Gt(I),t=$t(I,t)):T=-1);-1!==T;){const ee=t[1];if(Fa(s,T,ee.data)){const ce=ka(T,t,n,g,i,W);if(ce!==On)return ce}I=t[T+8],-1!==I&&Ba(i,t[1].data[T+8]===W)&&Fa(s,T,t)?(g=ee,T=Gt(I),t=$t(I,t)):T=-1}}return r}function ka(e,t,n,i,r,s){const g=t[1],T=g.data[e+8],ee=lo(T,g,n,null==i?Ei(T)&&Jt:i!=g&&0!=(3&T.type),r&lt.Host&&s===T);return null!==ee?Es(t,g,ee,T):On}function lo(e,t,n,i,r){const s=e.providerIndexes,g=t.data,T=1048575&s,I=e.directiveStart,ee=s>>20,Se=r?T+ee:e.directiveEnd;for(let He=i?T:T+ee;He<Se;He++){const qe=g[He];if(He<I&&n===qe||He>=I&&qe.type===n)return He}if(r){const He=g[I];if(He&&Yn(He)&&He.type===n)return I}return null}function Es(e,t,n,i){let r=e[n];const s=t.data;if(function Aa(e){return e instanceof ys}(r)){const g=r;g.resolving&&function N(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new a(-200,`Circular dependency in DI detected for ${e}${n}`)}(function P(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():x(e)}(s[n]));const T=tn(g.canSeeViewProviders);g.resolving=!0;const I=g.injectImpl?nt(g.injectImpl):null;ks(e,i,lt.Default);try{r=e[n]=g.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&function Bs(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const g=se(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,g),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,g)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==I&&nt(I),tn(T),g.resolving=!1,ro()}}return r}function Fa(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Ba(e,t){return!(e&lt.Self||e&lt.Host&&t)}class Br{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return La(this._tNode,this._lView,t,i,n)}}function Bl(){return new Br(vn(),tt())}function Yo(e){return Ae(()=>{const t=e.prototype.constructor,n=t[Mt]||qo(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const s=r[Mt]||qo(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function qo(e){return o(e)?()=>{const t=qo(_(e));return t&&t()}:De(e)}function Na(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}function Zo(e){return function Oa(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let r=0;for(;r<i;){const s=n[r];if(we(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(s===t)return n[r+1];r+=2}}}return null}(vn(),e)}const mr="__parameters__";function Ds(e,t,n){return Ae(()=>{const i=function uo(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const g=new r(...s);return T.annotation=g,T;function T(I,W,ee){const ce=I.hasOwnProperty(mr)?I[mr]:Object.defineProperty(I,mr,{value:[]})[mr];for(;ce.length<=ee;)ce.push(null);return(ce[ee]=ce[ee]||[]).push(g),I}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}class fn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ne({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ni(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Ni(i,t)):t!==e&&t.push(i)}return t}function Nr(e,t){e.forEach(n=>Array.isArray(n)?Nr(n,t):t(n))}function $l(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Qo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function po(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function Hi(e,t,n){let i=Us(e,t);return i>=0?e[1|i]=n:(i=~i,function fd(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function Ua(e,t){const n=Us(e,t);if(n>=0)return e[1|n]}function Us(e,t){return function $a(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){const s=i+(r-i>>1),g=e[s<<n];if(t===g)return s<<n;g>t?r=s:i=s+1}return~(r<<n)}(e,t,1)}const _o={},Wa="__NG_DI_FLAG__",Jo="ngTempTokenPath",Xl=/\n/gm,ec="__source";let k;function l(e){const t=k;return k=e,t}function c(e,t=lt.Default){if(void 0===k)throw new a(-203,!1);return null===k?ke(e,void 0,t):k.get(e,t&lt.Optional?null:void 0,t)}function M(e,t=lt.Default){return(function Ke(){return xt}()||c)(_(e),t)}function J(e,t=lt.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),M(e,t)}function fe(e){const t=[];for(let n=0;n<e.length;n++){const i=_(e[n]);if(Array.isArray(i)){if(0===i.length)throw new a(900,!1);let r,s=lt.Default;for(let g=0;g<i.length;g++){const T=i[g],I=Be(T);"number"==typeof I?-1===I?r=T.token:s|=I:r=T}t.push(M(r,s))}else t.push(M(i))}return t}function ve(e,t){return e[Wa]=t,e.prototype[Wa]=t,e}function Be(e){return e[Wa]}const jt=ve(Ds("Optional"),8),kt=ve(Ds("SkipSelf"),4);var Vr=(()=>((Vr=Vr||{})[Vr.Important=1]="Important",Vr[Vr.DashCase=2]="DashCase",Vr))();const nc=new Map;let Ng=0;const rc="__ngContext__";function yi(e,t){hn(t)?(e[rc]=t[20],function Vg(e){nc.set(e[20],e)}(t)):e[rc]=t}function oc(e,t){return undefined(e,t)}function ia(e){const t=e[3];return Rn(t)?t[3]:t}function ac(e){return xd(e[13])}function lc(e){return xd(e[4])}function xd(e){for(;null!==e&&!Rn(e);)e=e[4];return e}function vo(e,t,n,i,r){if(null!=i){let s,g=!1;Rn(i)?s=i:hn(i)&&(g=!0,i=i[0]);const T=bn(i);0===e&&null!==n?null==r?Pd(t,n,T):Ws(t,n,T,r||null,!0):1===e&&null!==n?Ws(t,n,T,r||null,!0):2===e?function _c(e,t,n){const i=Ya(e,t);i&&function lm(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,T,g):3===e&&t.destroyNode(T),null!=s&&function dm(e,t,n,i,r){const s=n[7];s!==bn(n)&&vo(t,e,i,s,r);for(let T=10;T<n.length;T++){const I=n[T];ra(I[1],I,e,t,i,s)}}(t,e,s,n,r)}}function uc(e,t,n){return e.createElement(t,n)}function Id(e,t){const n=e[9],i=n.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,Ki(r,-1)),n.splice(i,1)}function dc(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const r=i[17];null!==r&&r!==e&&Id(r,i),t>0&&(e[n-1][4]=i[4]);const s=Qo(e,10+t);!function em(e,t){ra(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const g=s[19];null!==g&&g.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function Rd(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&ra(e,t,n,3,null,null),function im(e){let t=e[13];if(!t)return hc(e[1],e);for(;t;){let n=null;if(hn(t))n=t[13];else{const i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)hn(t)&&hc(t[1],t),t=t[3];null===t&&(t=e),hn(t)&&hc(t[1],t),n=t&&t[4]}t=n}}(t)}}function hc(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function am(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof ys)){const s=n[i+1];if(Array.isArray(s))for(let g=0;g<s.length;g+=2){const T=r[s[g]],I=s[g+1];try{I.call(T)}finally{}}else try{s.call(r)}finally{}}}}(e,t),function om(e,t){const n=e.cleanup,i=t[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const g=n[s+1],T="function"==typeof g?g(t):bn(t[g]),I=i[r=n[s+2]],W=n[s+3];"boolean"==typeof W?T.removeEventListener(n[s],I,W):W>=0?i[r=W]():i[r=-W].unsubscribe(),s+=2}else{const g=i[r=n[s+1]];n[s].call(g)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&Rn(t[3])){n!==t[3]&&Id(n,t);const i=t[19];null!==i&&i.detachView(e)}!function jg(e){nc.delete(e[20])}(t)}}function Od(e,t,n){return function Ld(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const r=e.data[i.directiveStart].encapsulation;if(r===xe.None||r===xe.Emulated)return null}return Un(i,n)}(e,t.parent,n)}function Ws(e,t,n,i,r){e.insertBefore(t,n,i,r)}function Pd(e,t,n){e.appendChild(t,n)}function kd(e,t,n,i,r){null!==i?Ws(e,t,n,i,r):Pd(e,t,n)}function Ya(e,t){return e.parentNode(t)}function Fd(e,t,n){return Nd(e,t,n)}let bc,Nd=function Bd(e,t,n){return 40&e.type?Un(e,n):null};function qa(e,t,n,i){const r=Od(e,i,t),s=t[11],T=Fd(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(let I=0;I<n.length;I++)kd(s,r,n[I],T,!1);else kd(s,r,n,T,!1)}function Za(e,t){if(null!==t){const n=t.type;if(3&n)return Un(t,e);if(4&n)return pc(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return Za(e,i);{const r=e[t.index];return Rn(r)?pc(-1,r):bn(r)}}if(32&n)return oc(t,e)()||bn(e[t.index]);{const i=Vd(e,t);return null!==i?Array.isArray(i)?i[0]:Za(ia(e[16]),i):Za(e,t.next)}}return null}function Vd(e,t){return null!==t?e[16][6].projection[t.projection]:null}function pc(e,t){const n=10+e+1;if(n<t.length){const i=t[n],r=i[1].firstChild;if(null!==r)return Za(i,r)}return t[7]}function gc(e,t,n,i,r,s,g){for(;null!=n;){const T=i[n.index],I=n.type;if(g&&0===t&&(T&&yi(bn(T),i),n.flags|=4),64!=(64&n.flags))if(8&I)gc(e,t,n.child,i,r,s,!1),vo(t,e,r,T,s);else if(32&I){const W=oc(n,i);let ee;for(;ee=W();)vo(t,e,r,ee,s);vo(t,e,r,T,s)}else 16&I?jd(e,t,i,n,r,s):vo(t,e,r,T,s);n=g?n.projectionNext:n.next}}function ra(e,t,n,i,r,s){gc(n,i,e.firstChild,t,r,s,!1)}function jd(e,t,n,i,r,s){const g=n[16],I=g[6].projection[i.projection];if(Array.isArray(I))for(let W=0;W<I.length;W++)vo(t,e,r,I[W],s);else gc(e,t,I,g[3],r,s,!0)}function Ud(e,t,n){e.setAttribute(t,"style",n)}function mc(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function gm(e){bc=e}const nh=new fn("ENVIRONMENT_INITIALIZER"),ih=new fn("INJECTOR",-1),rh=new fn("INJECTOR_DEF_TYPES");class sh{get(t,n=_o){if(n===_o){const i=new Error(`NullInjectorError: No provider for ${h(t)}!`);throw i.name="NullInjectorError",i}return n}}function Vm(...e){return{\u0275providers:oh(0,e)}}function oh(e,...t){const n=[],i=new Set;let r;return Nr(t,s=>{const g=s;Sc(g,n,[],i)&&(r||(r=[]),r.push(g))}),void 0!==r&&ah(r,n),n}function ah(e,t){for(let n=0;n<e.length;n++){const{providers:r}=e[n];Nr(r,s=>{t.push(s)})}}function Sc(e,t,n,i){if(!(e=_(e)))return!1;let r=null,s=dt(e);const g=!s&&Ut(e);if(s||g){if(g&&!g.standalone)return!1;r=e}else{const I=e.ngModule;if(s=dt(I),!s)return!1;r=I}const T=i.has(r);if(g){if(T)return!1;if(i.add(r),g.dependencies){const I="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const W of I)Sc(W,t,n,i)}}else{if(!s)return!1;{if(null!=s.imports&&!T){let W;i.add(r);try{Nr(s.imports,ee=>{Sc(ee,t,n,i)&&(W||(W=[]),W.push(ee))})}finally{}void 0!==W&&ah(W,t)}if(!T){const W=De(r)||(()=>new r);t.push({provide:r,useFactory:W,deps:ht},{provide:rh,useValue:r,multi:!0},{provide:nh,useValue:()=>M(r),multi:!0})}const I=s.providers;null==I||T||Nr(I,ee=>{t.push(ee)})}}return r!==e&&void 0!==e.providers}const jm=v({provide:String,useValue:v});function Mc(e){return null!==e&&"object"==typeof e&&jm in e}function Ks(e){return"function"==typeof e}const Tc=new fn("Set Injector scope."),el={},$m={};let xc;function tl(){return void 0===xc&&(xc=new sh),xc}class bo{}class uh extends bo{constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ic(t,g=>this.processProvider(g)),this.records.set(ih,yo(void 0,this)),r.has("environment")&&this.records.set(bo,yo(void 0,this));const s=this.records.get(Tc);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(rh.multi,ht,lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=l(this),i=nt(void 0);try{return t()}finally{l(n),nt(i)}}get(t,n=_o,i=lt.Default){this.assertNotDestroyed();const r=l(this),s=nt(void 0);try{if(!(i&lt.SkipSelf)){let T=this.records.get(t);if(void 0===T){const I=function Ym(e){return"function"==typeof e||"object"==typeof e&&e instanceof fn}(t)&&Je(t);T=I&&this.injectableDefInScope(I)?yo(Ac(t),el):null,this.records.set(t,T)}if(null!=T)return this.hydrate(t,T)}return(i&lt.Self?tl():this.parent).get(t,n=i&lt.Optional&&n===_o?null:n)}catch(g){if("NullInjectorError"===g.name){if((g[Jo]=g[Jo]||[]).unshift(h(t)),r)throw g;return function Ze(e,t,n,i){const r=e[Jo];throw t[ec]&&r.unshift(t[ec]),e.message=function ct(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=h(t);if(Array.isArray(t))r=t.map(h).join(" -> ");else if("object"==typeof t){let s=[];for(let g in t)if(t.hasOwnProperty(g)){let T=t[g];s.push(g+":"+("string"==typeof T?JSON.stringify(T):h(T)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(Xl,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e[Jo]=null,e}(g,t,"R3InjectorError",this.source)}throw g}finally{nt(s),l(r)}}resolveInjectorInitializers(){const t=l(this),n=nt(void 0);try{const i=this.get(nh.multi,ht,lt.Self);for(const r of i)r()}finally{l(t),nt(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(h(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new a(205,!1)}processProvider(t){let n=Ks(t=_(t))?t:_(t&&t.provide);const i=function Wm(e){return Mc(e)?yo(void 0,e.useValue):yo(dh(e),el)}(t);if(Ks(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=yo(void 0,el,!0),r.factory=()=>fe(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===el&&(n.value=$m,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Km(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=_(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Ac(e){const t=Je(e),n=null!==t?t.factory:De(e);if(null!==n)return n;if(e instanceof fn)throw new a(204,!1);if(e instanceof Function)return function zm(e){const t=e.length;if(t>0)throw po(t,"?"),new a(204,!1);const n=function gt(e){const t=e&&(e[at]||e[an]);if(t){const n=function Ct(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new a(204,!1)}function dh(e,t,n){let i;if(Ks(e)){const r=_(e);return De(r)||Ac(r)}if(Mc(e))i=()=>_(e.useValue);else if(function ch(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...fe(e.deps||[]));else if(function lh(e){return!(!e||!e.useExisting)}(e))i=()=>M(_(e.useExisting));else{const r=_(e&&(e.useClass||e.provide));if(!function Gm(e){return!!e.deps}(e))return De(r)||Ac(r);i=()=>new r(...fe(e.deps))}return i}function yo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function qm(e){return!!e.\u0275providers}function Ic(e,t){for(const n of e)Array.isArray(n)?Ic(n,t):qm(n)?Ic(n.\u0275providers,t):t(n)}class hh{}class Xm{resolveComponentFactory(t){throw function Qm(e){const t=Error(`No component factory found for ${h(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let la=(()=>{class e{}return e.NULL=new Xm,e})();function Jm(){return Co(vn(),tt())}function Co(e,t){return new ca(Un(e,t))}let ca=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Jm,e})();function ev(e){return e instanceof ca?e.nativeElement:e}class ph{}let tv=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function nv(){const e=tt(),n=kn(vn().index,e);return(hn(n)?n:e)[11]}(),e})(),iv=(()=>{class e{}return e.\u0275prov=ne({token:e,providedIn:"root",factory:()=>null}),e})();class _h{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const rv=new _h("14.3.0"),Rc={};function Lc(e){return e.ngOriginalError}class ua{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Lc(t);for(;n&&Lc(n);)n=Lc(n);return n||null}}function mh(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}n=r+1}}const vh="ng-template";function _v(e,t,n){let i=0;for(;i<e.length;){let r=e[i++];if(n&&"class"===r){if(r=e[i],-1!==mh(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function bh(e){return 4===e.type&&e.value!==vh}function gv(e,t,n){return t===(4!==e.type||n?e.value:vh)}function mv(e,t,n){let i=4;const r=e.attrs||[],s=function yv(e){for(let t=0;t<e.length;t++)if(we(e[t]))return t;return e.length}(r);let g=!1;for(let T=0;T<t.length;T++){const I=t[T];if("number"!=typeof I){if(!g)if(4&i){if(i=2|1&i,""!==I&&!gv(e,I,n)||""===I&&1===t.length){if(br(i))return!1;g=!0}}else{const W=8&i?I:t[++T];if(8&i&&null!==e.attrs){if(!_v(e.attrs,W,n)){if(br(i))return!1;g=!0}continue}const ce=vv(8&i?"class":I,r,bh(e),n);if(-1===ce){if(br(i))return!1;g=!0;continue}if(""!==W){let Se;Se=ce>s?"":r[ce+1].toLowerCase();const He=8&i?Se:null;if(He&&-1!==mh(He,W,0)||2&i&&W!==Se){if(br(i))return!1;g=!0}}}}else{if(!g&&!br(i)&&!br(I))return!1;if(g&&br(I))continue;g=!1,i=I|1&i}}return br(i)||g}function br(e){return 0==(1&e)}function vv(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let s=!1;for(;r<t.length;){const g=t[r];if(g===e)return r;if(3===g||6===g)s=!0;else{if(1===g||2===g){let T=t[++r];for(;"string"==typeof T;)T=t[++r];continue}if(4===g)break;if(0===g){r+=4;continue}}r+=s?1:2}return-1}return function Cv(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function yh(e,t,n=!1){for(let i=0;i<t.length;i++)if(mv(e,t[i],n))return!0;return!1}function wv(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Ch(e,t){return e?":not("+t.trim()+")":t}function Ev(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let g=e[n];if("string"==typeof g)if(2&i){const T=e[++n];r+="["+g+(T.length>0?'="'+T+'"':"")+"]"}else 8&i?r+="."+g:4&i&&(r+=" "+g);else""!==r&&!br(g)&&(t+=Ch(s,r),r=""),i=g,s=s||!br(i);n++}return""!==r&&(t+=Ch(s,r)),t}const zt={};function wh(e){Eh(Bt(),tt(),ni()+e,!1)}function Eh(e,t,n,i){if(!i)if(3==(3&t[2])){const s=e.preOrderCheckHooks;null!==s&&vs(t,s,n)}else{const s=e.preOrderHooks;null!==s&&bs(t,s,0,n)}Fi(n)}function Th(e,t=null,n=null,i){const r=xh(e,t,n,i);return r.resolveInjectorInitializers(),r}function xh(e,t=null,n=null,i,r=new Set){const s=[n||ht,Vm(e)];return i=i||("object"==typeof e?void 0:h(e)),new uh(s,t||tl(),i||null,r)}let Ys=(()=>{class e{static create(n,i){var r;if(Array.isArray(n))return Th({name:""},i,n,"");{const s=null!==(r=n.name)&&void 0!==r?r:"";return Th({name:s},n.parent,n.providers,s)}}}return e.THROW_IF_NOT_FOUND=_o,e.NULL=new sh,e.\u0275prov=ne({token:e,providedIn:"any",factory:()=>M(ih)}),e.__NG_ELEMENT_ID__=-1,e})();function Do(e,t=lt.Default){const n=tt();return null===n?M(e,t):La(vn(),n,_(e),t)}function kh(){throw new Error("invalid")}function il(e,t){return e<<17|t<<2}function yr(e){return e>>17&32767}function Nc(e){return 2|e}function as(e){return(131068&e)>>2}function Hc(e,t){return-131069&e|t<<2}function Vc(e){return 1|e}function Gh(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const g=e.data[s];fr(r),g.contentQueries(2,t[s],s)}}}function ol(e,t,n,i,r,s,g,T,I,W,ee){const ce=t.blueprint.slice();return ce[0]=r,ce[2]=76|i,(null!==ee||e&&1024&e[2])&&(ce[2]|=1024),Zn(ce),ce[3]=ce[15]=e,ce[8]=n,ce[10]=g||e&&e[10],ce[11]=T||e&&e[11],ce[12]=I||e&&e[12]||null,ce[9]=W||e&&e[9]||null,ce[6]=s,ce[20]=function Hg(){return Ng++}(),ce[21]=ee,ce[16]=2==t.type?e[16]:ce,ce}function So(e,t,n,i,r){let s=e.data[t];if(null===s)s=function Yc(e,t,n,i,r){const s=Ls(),g=Ps(),I=e.data[t]=function sb(e,t,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?s:s&&s.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=I),null!==s&&(g?null==s.child&&null!==I.parent&&(s.child=I):null===s.next&&(s.next=I)),I}(e,t,n,i,r),function ti(){return Ot.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const g=function Or(){const e=Ot.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===g?-1:g.injectorIndex}return Si(s,!0),s}function Mo(e,t,n,i){if(0===n)return-1;const r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function qc(e,t,n){Pr(t);try{const i=e.viewQuery;null!==i&&iu(1,i,n);const r=e.template;null!==r&&Kh(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Gh(e,t),e.staticViewQueries&&iu(2,e.viewQuery,n);const s=e.components;null!==s&&function nb(e,t){for(let n=0;n<t.length;n++)Cb(e,t[n])}(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[2]&=-5,ms()}}function al(e,t,n,i){const r=t[2];if(128!=(128&r)){Pr(t);try{Zn(t),function Ge(e){return Ot.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Kh(e,t,n,2,i);const g=3==(3&r);if(g){const W=e.preOrderCheckHooks;null!==W&&vs(t,W,null)}else{const W=e.preOrderHooks;null!==W&&bs(t,W,0,null),Ns(t,0)}if(function bb(e){for(let t=ac(e);null!==t;t=lc(t)){if(!t[2])continue;const n=t[9];for(let i=0;i<n.length;i++){const r=n[i],s=r[3];0==(512&r[2])&&Ki(s,1),r[2]|=512}}}(t),function vb(e){for(let t=ac(e);null!==t;t=lc(t))for(let n=10;n<t.length;n++){const i=t[n],r=i[1];or(i)&&al(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&Gh(e,t),g){const W=e.contentCheckHooks;null!==W&&vs(t,W)}else{const W=e.contentHooks;null!==W&&bs(t,W,1),Ns(t,1)}!function eb(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)Fi(~r);else{const s=r,g=n[++i],T=n[++i];ur(g,s),T(2,t[s])}}}finally{Fi(-1)}}(e,t);const T=e.components;null!==T&&function tb(e,t){for(let n=0;n<t.length;n++)yb(e,t[n])}(t,T);const I=e.viewQuery;if(null!==I&&iu(2,I,i),g){const W=e.viewCheckHooks;null!==W&&vs(t,W)}else{const W=e.viewHooks;null!==W&&bs(t,W,2),Ns(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Ki(t[3],-1))}finally{ms()}}}function Kh(e,t,n,i,r){const s=ni(),g=2&i;try{Fi(-1),g&&t.length>22&&Eh(e,t,22,!1),n(i,r)}finally{Fi(s)}}function Yh(e,t,n){if(wi(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const g=e.data[s];g.contentQueries&&g.contentQueries(1,n[s],s)}}}function Zc(e,t,n){!lr()||(function ub(e,t,n,i){const r=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||_r(n,t),yi(i,t);const g=n.initialInputs;for(let T=r;T<s;T++){const I=e.data[T],W=Yn(I);W&&_b(t,n,I);const ee=Es(t,e,T,n);yi(ee,t),null!==g&&gb(0,T-r,ee,I,0,g),W&&(kn(n.index,t)[8]=ee)}}(e,t,n,Un(n,t)),128==(128&n.flags)&&function db(e,t,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,g=function dr(){return Ot.lFrame.currentDirectiveIndex}();try{Fi(s);for(let T=i;T<r;T++){const I=e.data[T],W=t[T];hr(T),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&tf(I,W)}}finally{Fi(-1),hr(g)}}(e,t,n))}function Qc(e,t,n=Un){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const g=i[s+1],T=-1===g?n(t,e):e[g];e[r++]=T}}}function qh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Xc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Xc(e,t,n,i,r,s,g,T,I,W){const ee=22+i,ce=ee+r,Se=function ib(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:zt);return n}(ee,ce),He="function"==typeof W?W():W;return Se[1]={type:e,blueprint:Se,template:n,queries:null,viewQuery:T,declTNode:t,data:Se.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:I,consts:He,incompleteFirstPass:!1}}function Zh(e,t,n,i){const r=lf(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&cf(e).push(i,r.length-1))}function Qh(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function Xh(e,t){const i=t.directiveEnd,r=e.data,s=t.attrs,g=[];let T=null,I=null;for(let W=t.directiveStart;W<i;W++){const ee=r[W],ce=ee.inputs,Se=null===s||bh(t)?null:mb(ce,s);g.push(Se),T=Qh(ce,W,T),I=Qh(ee.outputs,W,I)}null!==T&&(T.hasOwnProperty("class")&&(t.flags|=16),T.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=g,t.inputs=T,t.outputs=I}function Zi(e,t,n,i,r,s,g,T){const I=Un(t,n);let ee,W=t.inputs;!T&&null!=W&&(ee=W[i])?(ru(e,n,ee,i,r),Ei(t)&&Jh(n,t.index)):3&t.type&&(i=function ob(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=g?g(r,t.value||"",i):r,s.setProperty(I,i,r))}function Jh(e,t){const n=kn(t,e);16&n[2]||(n[2]|=32)}function Jc(e,t,n,i){let r=!1;if(lr()){const s=function hb(e,t,n){const i=e.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const g=i[s];yh(n,g.selectors,!1)&&(r||(r=[]),js(_r(n,t),e,g.type),Yn(g)?(nf(e,n),r.unshift(g)):r.push(g))}return r}(e,t,n),g=null===i?null:{"":-1};if(null!==s){r=!0,rf(n,e.data.length,s.length);for(let ee=0;ee<s.length;ee++){const ce=s[ee];ce.providersResolver&&ce.providersResolver(ce)}let T=!1,I=!1,W=Mo(e,t,s.length,null);for(let ee=0;ee<s.length;ee++){const ce=s[ee];n.mergedAttrs=Xe(n.mergedAttrs,ce.hostAttrs),sf(e,n,t,W,ce),pb(W,ce,g),null!==ce.contentQueries&&(n.flags|=8),(null!==ce.hostBindings||null!==ce.hostAttrs||0!==ce.hostVars)&&(n.flags|=128);const Se=ce.type.prototype;!T&&(Se.ngOnChanges||Se.ngOnInit||Se.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),T=!0),!I&&(Se.ngOnChanges||Se.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),I=!0),W++}Xh(e,n)}g&&function fb(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const s=n[t[r+1]];if(null==s)throw new a(-301,!1);i.push(t[r],s)}}}(n,i,g)}return n.mergedAttrs=Xe(n.mergedAttrs,n.attrs),r}function ef(e,t,n,i,r,s){const g=s.hostBindings;if(g){let T=e.hostBindingOpCodes;null===T&&(T=e.hostBindingOpCodes=[]);const I=~t.index;(function cb(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(T)!=I&&T.push(I),T.push(i,r,g)}}function tf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function nf(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function pb(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Yn(t)&&(n[""]=e)}}function rf(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function sf(e,t,n,i,r){e.data[i]=r;const s=r.factory||(r.factory=De(r.type)),g=new ys(s,Yn(r),Do);e.blueprint[i]=g,n[i]=g,ef(e,t,0,i,Mo(e,n,r.hostVars,zt),r)}function _b(e,t,n){const i=Un(t,e),r=qh(n),s=e[10],g=ll(e,ol(e,r,null,n.onPush?32:16,i,t,s,s.createRenderer(i,n),null,null,null));e[t.index]=g}function jr(e,t,n,i,r,s){const g=Un(e,t);!function eu(e,t,n,i,r,s,g){if(null==s)e.removeAttribute(t,r,n);else{const T=null==g?x(s):g(s,i||"",r);e.setAttribute(t,r,T,n)}}(t[11],g,s,e.value,n,i,r)}function gb(e,t,n,i,r,s){const g=s[t];if(null!==g){const T=i.setInput;for(let I=0;I<g.length;){const W=g[I++],ee=g[I++],ce=g[I++];null!==T?i.setInput(n,ce,W,ee):n[ee]=ce}}}function mb(e,t){let n=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function af(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function yb(e,t){const n=kn(t,e);if(or(n)){const i=n[1];48&n[2]?al(i,n,i.template,n[8]):n[5]>0&&tu(n)}}function tu(e){for(let i=ac(e);null!==i;i=lc(i))for(let r=10;r<i.length;r++){const s=i[r];if(or(s))if(512&s[2]){const g=s[1];al(g,s,g.template,s[8])}else s[5]>0&&tu(s)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=kn(n[i],e);or(r)&&r[5]>0&&tu(r)}}function Cb(e,t){const n=kn(t,e),i=n[1];(function wb(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),qc(i,n,n[8])}function ll(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function nu(e){for(;e;){e[2]|=32;const t=ia(e);if(Xi(e)&&!t)return e;e=t}return null}function cl(e,t,n,i=!0){const r=t[10];r.begin&&r.begin();try{al(e,t,e.template,n)}catch(g){throw i&&df(t,g),g}finally{r.end&&r.end()}}function iu(e,t,n){fr(0),t(e,n)}function lf(e){return e[7]||(e[7]=[])}function cf(e){return e.cleanup||(e.cleanup=[])}function df(e,t){const n=e[9],i=n?n.get(ua,null):null;i&&i.handleError(t)}function ru(e,t,n,i,r){for(let s=0;s<n.length;){const g=n[s++],T=n[s++],I=t[g],W=e.data[g];null!==W.setInput?W.setInput(I,r,i,T):I[T]=r}}function ul(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(null!==t)for(let g=0;g<t.length;g++){const T=t[g];"number"==typeof T?s=T:1==s?r=b(r,T):2==s&&(i=b(i,T+": "+t[++g]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function dl(e,t,n,i,r=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&i.push(bn(s)),Rn(s))for(let T=10;T<s.length;T++){const I=s[T],W=I[1].firstChild;null!==W&&dl(I[1],I,W,i)}const g=n.type;if(8&g)dl(e,t,n.child,i);else if(32&g){const T=oc(n,t);let I;for(;I=T();)i.push(I)}else if(16&g){const T=Vd(t,n);if(Array.isArray(T))i.push(...T);else{const I=ia(t[16]);dl(I[1],I,T,i,!0)}}n=r?n.projectionNext:n.next}return i}class da{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return dl(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Rn(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(dc(t,i),Qo(n,i))}this._attachedToViewContainer=!1}Rd(this._lView[1],this._lView)}onDestroy(t){Zh(this._lView[1],this._lView,null,t)}markForCheck(){nu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){cl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new a(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nm(e,t){ra(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new a(902,!1);this._appRef=t}}class Eb extends da{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;cl(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class su extends la{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ut(t);return new ha(n,this.ngModule)}}function hf(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Sb{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){const r=this.injector.get(t,Rc,i);return r!==Rc||n===Rc?r:this.parentInjector.get(t,n,i)}}class ha extends hh{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Dv(e){return e.map(Ev).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return hf(this.componentDef.inputs)}get outputs(){return hf(this.componentDef.outputs)}create(t,n,i,r){let s=(r=r||this.ngModule)instanceof bo?r:null==r?void 0:r.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const g=s?new Sb(t,s):t,T=g.get(ph,null);if(null===T)throw new a(407,!1);const I=g.get(iv,null),W=T.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",ce=i?function rb(e,t,n){return e.selectRootElement(t,n===xe.ShadowDom)}(W,i,this.componentDef.encapsulation):uc(W,ee,function Db(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ee)),Se=this.componentDef.onPush?288:272,He=Xc(0,null,null,1,0,null,null,null,null,null),qe=ol(null,He,null,Se,null,null,T,W,I,g,null);let st,ut;Pr(qe);try{const wt=function xb(e,t,n,i,r,s){const g=n[1];n[22]=e;const I=So(g,22,2,"#host",null),W=I.mergedAttrs=t.hostAttrs;null!==W&&(ul(I,W,!0),null!==e&&(re(r,e,W),null!==I.classes&&mc(r,e,I.classes),null!==I.styles&&Ud(r,e,I.styles)));const ee=i.createRenderer(e,t),ce=ol(n,qh(t),null,t.onPush?32:16,n[22],I,i,ee,s||null,null,null);return g.firstCreatePass&&(js(_r(I,n),g,t.type),nf(g,I),rf(I,n.length,1)),ll(n,ce),n[22]=ce}(ce,this.componentDef,qe,T,W);if(ce)if(i)re(W,ce,["ng-version",rv.full]);else{const{attrs:Lt,classes:it}=function Sv(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++i]):8===r&&n.push(s);else{if(!br(r))break;r=s}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Lt&&re(W,ce,Lt),it&&it.length>0&&mc(W,ce,it.join(" "))}if(ut=Ar(He,22),void 0!==n){const Lt=ut.projection=[];for(let it=0;it<this.ngContentSelectors.length;it++){const Ht=n[it];Lt.push(null!=Ht?Array.from(Ht):null)}}st=function Ab(e,t,n,i){const r=n[1],s=function lb(e,t,n){const i=vn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),sf(e,i,t,Mo(e,t,1,null),n),Xh(e,i));const r=Es(t,e,i.directiveStart,i);yi(r,t);const s=Un(i,t);return s&&yi(s,t),r}(r,n,t);if(e[8]=n[8]=s,null!==i)for(const T of i)T(s,t);if(t.contentQueries){const T=vn();t.contentQueries(1,s,T.directiveStart)}const g=vn();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Fi(g.index),ef(n[1],g,0,g.directiveStart,g.directiveEnd,t),tf(t,s)),s}(wt,this.componentDef,qe,[Ib]),qc(He,qe,null)}finally{ms()}return new Tb(this.componentType,st,Co(ut,qe),qe,ut)}}class Tb extends class Zm{}{constructor(t,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Eb(r),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;ru(s[1],s,r,t,n),Jh(s,this._tNode.index)}}get injector(){return new Br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Ib(){const e=vn();oo(tt()[1],e)}function ou(e){let t=function ff(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let r;if(Yn(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new a(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);const g=e;g.inputs=au(e.inputs),g.declaredInputs=au(e.declaredInputs),g.outputs=au(e.outputs);const T=r.hostBindings;T&&Pb(e,T);const I=r.viewQuery,W=r.contentQueries;if(I&&Ob(e,I),W&&Lb(e,W),E(e.inputs,r.inputs),E(e.declaredInputs,r.declaredInputs),E(e.outputs,r.outputs),Yn(r)&&r.data.animation){const ee=e.data;ee.animation=(ee.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let g=0;g<s.length;g++){const T=s[g];T&&T.ngInherit&&T(e),T===ou&&(n=!1)}}t=Object.getPrototypeOf(t)}!function Rb(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Xe(r.hostAttrs,n=Xe(n,r.hostAttrs))}}(i)}function au(e){return e===Et?{}:e===ht?[]:e}function Ob(e,t){const n=e.viewQuery;e.viewQuery=n?(i,r)=>{t(i,r),n(i,r)}:t}function Lb(e,t){const n=e.contentQueries;e.contentQueries=n?(i,r,s)=>{t(i,r,s),n(i,r,s)}:t}function Pb(e,t){const n=e.hostBindings;e.hostBindings=n?(i,r)=>{t(i,r),n(i,r)}:t}let hl=null;function qs(){if(!hl){const e=Ue.Symbol;if(e&&e.iterator)hl=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(hl=i)}}}return hl}function fa(e){return!!lu(e)&&(Array.isArray(e)||!(e instanceof Map)&&qs()in e)}function lu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ur(e,t,n){return e[t]=n}function Ci(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function cu(e,t,n,i){const r=tt();return Ci(r,pt(),t)&&(Bt(),jr(gn(),r,e,t,n,i)),cu}function Ef(e,t,n,i,r,s,g,T){const I=tt(),W=Bt(),ee=e+22,ce=W.firstCreatePass?function Ub(e,t,n,i,r,s,g,T,I){const W=t.consts,ee=So(t,e,4,g||null,En(W,T));Jc(t,n,ee,En(W,I)),oo(t,ee);const ce=ee.tViews=Xc(2,ee,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,W);return null!==t.queries&&(t.queries.template(t,ee),ce.queries=t.queries.embeddedTView(ee)),ee}(ee,W,I,t,n,i,r,s,g):W.data[ee];Si(ce,!1);const Se=I[11].createComment("");qa(W,I,Se,ce),yi(Se,I),ll(I,I[ee]=af(Se,I,Se,ce)),ir(ce)&&Zc(W,I,ce),null!=g&&Qc(I,ce,T)}function Df(e){return function er(e,t){return e[t]}(function yn(){return Ot.lFrame.contextLView}(),22+e)}function uu(e,t,n){const i=tt();return Ci(i,pt(),t)&&Zi(Bt(),gn(),i,e,t,i[11],n,!1),uu}function du(e,t,n,i,r){const g=r?"class":"style";ru(e,n,t.inputs[g],g,i)}function pl(e,t,n,i){const r=tt(),s=Bt(),g=22+e,T=r[11],I=r[g]=uc(T,t,function Fl(){return Ot.lFrame.currentNamespace}()),W=s.firstCreatePass?function zb(e,t,n,i,r,s,g){const T=t.consts,W=So(t,e,2,r,En(T,s));return Jc(t,n,W,En(T,g)),null!==W.attrs&&ul(W,W.attrs,!1),null!==W.mergedAttrs&&ul(W,W.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,W),W}(g,s,r,0,t,n,i):s.data[g];Si(W,!0);const ee=W.mergedAttrs;null!==ee&&re(T,I,ee);const ce=W.classes;null!==ce&&mc(T,I,ce);const Se=W.styles;return null!==Se&&Ud(T,I,Se),64!=(64&W.flags)&&qa(s,r,I,W),0===function Rr(){return Ot.lFrame.elementDepthCount}()&&yi(I,r),function ar(){Ot.lFrame.elementDepthCount++}(),ir(W)&&(Zc(s,r,W),Yh(s,W,r)),null!==i&&Qc(r,W),pl}function _l(){let e=vn();Ps()?io():(e=e.parent,Si(e,!1));const t=e;!function Os(){Ot.lFrame.elementDepthCount--}();const n=Bt();return n.firstCreatePass&&(oo(n,e),wi(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Ra(e){return 0!=(16&e.flags)}(t)&&du(n,t,tt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function O(e){return 0!=(32&e.flags)}(t)&&du(n,t,tt(),t.stylesWithoutHost,!1),_l}function hu(e,t,n,i){return pl(e,t,n,i),_l(),hu}function gl(e,t,n){const i=tt(),r=Bt(),s=e+22,g=r.firstCreatePass?function Wb(e,t,n,i,r){const s=t.consts,g=En(s,i),T=So(t,e,8,"ng-container",g);return null!==g&&ul(T,g,!0),Jc(t,n,T,En(s,r)),null!==t.queries&&t.queries.elementStart(t,T),T}(s,r,i,t,n):r.data[s];Si(g,!0);const T=i[s]=i[11].createComment("");return qa(r,i,T,g),yi(T,i),ir(g)&&(Zc(r,i,g),Yh(r,g,i)),null!=n&&Qc(i,g),gl}function ml(){let e=vn();const t=Bt();return Ps()?io():(e=e.parent,Si(e,!1)),t.firstCreatePass&&(oo(t,e),wi(e)&&t.queries.elementEnd(e)),ml}function Mf(){return tt()}function fu(e){return!!e&&"function"==typeof e.then}function Tf(e){return!!e&&"function"==typeof e.subscribe}const xf=Tf;function pu(e,t,n,i){const r=tt(),s=Bt(),g=vn();return function If(e,t,n,i,r,s,g,T){const I=ir(i),ee=e.firstCreatePass&&cf(e),ce=t[8],Se=lf(t);let He=!0;if(3&i.type||T){const ut=Un(i,t),wt=T?T(ut):ut,Lt=Se.length,it=T?rn=>T(bn(rn[i.index])):i.index;let Ht=null;if(!T&&I&&(Ht=function Gb(e,t,n,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const g=r[s];if(g===n&&r[s+1]===i){const T=t[7],I=r[s+2];return T.length>I?T[I]:null}"string"==typeof g&&(s+=2)}return null}(e,t,r,i.index)),null!==Ht)(Ht.__ngLastListenerFn__||Ht).__ngNextListenerFn__=s,Ht.__ngLastListenerFn__=s,He=!1;else{s=Of(i,t,ce,s,!1);const rn=n.listen(wt,r,s);Se.push(s,rn),ee&&ee.push(r,it,Lt,Lt+1)}}else s=Of(i,t,ce,s,!1);const qe=i.outputs;let st;if(He&&null!==qe&&(st=qe[r])){const ut=st.length;if(ut)for(let wt=0;wt<ut;wt+=2){const An=t[st[wt]][st[wt+1]].subscribe(s),Js=Se.length;Se.push(s,An),ee&&ee.push(r,i.index,Js,-(Js+1))}}}(s,r,r[11],g,e,t,0,i),pu}function Rf(e,t,n,i){try{return!1!==n(i)}catch(r){return df(e,r),!1}}function Of(e,t,n,i,r){return function s(g){if(g===Function)return i;nu(2&e.flags?kn(e.index,t):t);let I=Rf(t,0,i,g),W=s.__ngNextListenerFn__;for(;W;)I=Rf(t,0,W,g)&&I,W=W.__ngNextListenerFn__;return r&&!1===I&&(g.preventDefault(),g.returnValue=!1),I}}function Lf(e=1){return function Ma(e){return(Ot.lFrame.contextLView=function so(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ot.lFrame.contextLView))[8]}(e)}function Kb(e,t){let n=null;const i=function bv(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?yh(e,s,!0):wv(i,s))return r}else n=r}return n}function Pf(e){const t=tt()[16][6];if(!t.projection){const i=t.projection=po(e?e.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const g=e?Kb(s,e):0;null!==g&&(r[g]?r[g].projectionNext=s:i[g]=s,r[g]=s),s=s.next}}}function kf(e,t=0,n){const i=tt(),r=Bt(),s=So(r,22+e,16,null,n||null);null===s.projection&&(s.projection=t),io(),64!=(64&s.flags)&&function um(e,t,n){jd(t[11],0,t,n,Od(e,n,t),Fd(n.parent||t[6],n,t))}(r,i,s)}function Wf(e,t,n,i,r){const s=e[n+1],g=null===t;let T=i?yr(s):as(s),I=!1;for(;0!==T&&(!1===I||g);){const ee=e[T+1];Zb(e[T],t)&&(I=!0,e[T+1]=i?Vc(ee):Nc(ee)),T=i?yr(ee):as(ee)}I&&(e[n+1]=i?Nc(s):Vc(s))}function Zb(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Us(e,t)>=0}function gu(e,t){return function Cr(e,t,n,i){const r=tt(),s=Bt(),g=function Qt(e){const t=Ot.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function ep(e,t,n,i){const r=e.data;if(null===r[n+1]){const s=r[ni()],g=function Jf(e,t){return t>=e.expandoStartIndex}(e,n);(function rp(e,t){return 0!=(e.flags&(t?16:32))})(s,i)&&null===t&&!g&&(t=!1),t=function sy(e,t,n,i){const r=function es(e){const t=Ot.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=_a(n=mu(null,e,t,n,i),t.attrs,i),s=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==r)if(n=mu(r,e,t,n,i),null===s){let I=function oy(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==as(i))return e[yr(i)]}(e,t,i);void 0!==I&&Array.isArray(I)&&(I=mu(null,e,t,I[1],i),I=_a(I,t.attrs,i),function ay(e,t,n,i){e[yr(n?t.classBindings:t.styleBindings)]=i}(e,t,i,I))}else s=function ly(e,t,n){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=_a(i,e[s].hostAttrs,n);return _a(i,t.attrs,n)}(e,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),n}(r,s,t,i),function Yb(e,t,n,i,r,s){let g=s?t.classBindings:t.styleBindings,T=yr(g),I=as(g);e[i]=n;let ee,W=!1;if(Array.isArray(n)){const ce=n;ee=ce[1],(null===ee||Us(ce,ee)>0)&&(W=!0)}else ee=n;if(r)if(0!==I){const Se=yr(e[T+1]);e[i+1]=il(Se,T),0!==Se&&(e[Se+1]=Hc(e[Se+1],i)),e[T+1]=function zv(e,t){return 131071&e|t<<17}(e[T+1],i)}else e[i+1]=il(T,0),0!==T&&(e[T+1]=Hc(e[T+1],i)),T=i;else e[i+1]=il(I,0),0===T?T=i:e[I+1]=Hc(e[I+1],i),I=i;W&&(e[i+1]=Nc(e[i+1])),Wf(e,ee,i,!0),Wf(e,ee,i,!1),function qb(e,t,n,i,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Us(s,t)>=0&&(n[i+1]=Vc(n[i+1]))}(t,ee,e,i,s),g=il(T,I),s?t.classBindings=g:t.styleBindings=g}(r,s,t,n,g,i)}}(s,e,g,i),t!==zt&&Ci(r,g,t)&&function np(e,t,n,i,r,s,g,T){if(!(3&t.type))return;const I=e.data,W=I[T+1];vl(function Nh(e){return 1==(1&e)}(W)?ip(I,t,n,r,as(W),g):void 0)||(vl(s)||function Bh(e){return 2==(2&e)}(W)&&(s=ip(I,null,n,r,T,g)),function hm(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let s=-1===i.indexOf("-")?void 0:Vr.DashCase;null==r?e.removeStyle(n,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Vr.Important),e.setStyle(n,i,r,s))}}(i,g,Di(ni(),n),r,s))}(s,s.data[ni()],r,r[11],e,r[g+1]=function dy(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=h(function Ms(e){return e instanceof class Kd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),i,g)}(e,t,null,!0),gu}function mu(e,t,n,i,r){let s=null;const g=n.directiveEnd;let T=n.directiveStylingLast;for(-1===T?T=n.directiveStart:T++;T<g&&(s=t[T],i=_a(i,s.hostAttrs,r),s!==e);)T++;return null!==e&&(n.directiveStylingLast=T),i}function _a(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const g=t[s];"number"==typeof g?r=g:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Hi(e,g,!!n||t[++s]))}return void 0===e?null:e}function ip(e,t,n,i,r,s){const g=null===t;let T;for(;r>0;){const I=e[r],W=Array.isArray(I),ee=W?I[1]:I,ce=null===ee;let Se=n[r+1];Se===zt&&(Se=ce?ht:void 0);let He=ce?Ua(Se,i):ee===i?Se:void 0;if(W&&!vl(He)&&(He=Ua(I,i)),vl(He)&&(T=He,g))return T;const qe=e[r+1];r=g?yr(qe):as(qe)}if(null!==t){let I=s?t.residualClasses:t.residualStyles;null!=I&&(T=Ua(I,i))}return T}function vl(e){return void 0!==e}function sp(e,t=""){const n=tt(),i=Bt(),r=e+22,s=i.firstCreatePass?So(i,r,1,t,null):i.data[r],g=n[r]=function cc(e,t){return e.createText(t)}(n[11],t);qa(i,n,g,s),Si(s,!1)}function vu(e){return bl("",e,""),vu}function bl(e,t,n){const i=tt(),r=function xo(e,t,n,i){return Ci(e,pt(),n)?t+x(n)+i:zt}(i,e,t,n);return r!==zt&&function ls(e,t,n){const i=Di(t,e);!function Ad(e,t,n){e.setValue(t,n)}(e[11],i,n)}(i,ni(),r),bl}function bu(e,t,n){const i=tt();return Ci(i,pt(),t)&&Zi(Bt(),gn(),i,e,t,i[11],n,!0),bu}const Qs=void 0;var Ry=["en",[["a","p"],["AM","PM"],Qs],[["AM","PM"],Qs,Qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qs,"{1} 'at' {0}",Qs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Iy(e){const n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let Bo={};function yu(e){const t=function Oy(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Sp(t);if(n)return n;const i=t.split("-")[0];if(n=Sp(i),n)return n;if("en"===i)return Ry;throw new a(701,!1)}function Dp(e){return yu(e)[Nt.PluralCase]}function Sp(e){return e in Bo||(Bo[e]=Ue.ng&&Ue.ng.common&&Ue.ng.common.locales&&Ue.ng.common.locales[e]),Bo[e]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const No="en-US";let Mp=No;function Eu(e,t,n,i,r){if(e=_(e),Array.isArray(e))for(let s=0;s<e.length;s++)Eu(e[s],t,n,i,r);else{const s=Bt(),g=tt();let T=Ks(e)?e:_(e.provide),I=dh(e);const W=vn(),ee=1048575&W.providerIndexes,ce=W.directiveStart,Se=W.providerIndexes>>20;if(Ks(e)||!e.multi){const He=new ys(I,r,Do),qe=Su(T,t,r?ee:ee+Se,ce);-1===qe?(js(_r(W,g),s,T),Du(s,e,t.length),t.push(T),W.directiveStart++,W.directiveEnd++,r&&(W.providerIndexes+=1048576),n.push(He),g.push(He)):(n[qe]=He,g[qe]=He)}else{const He=Su(T,t,ee+Se,ce),qe=Su(T,t,ee,ee+Se),st=He>=0&&n[He],ut=qe>=0&&n[qe];if(r&&!ut||!r&&!st){js(_r(W,g),s,T);const wt=function I0(e,t,n,i,r){const s=new ys(e,n,Do);return s.multi=[],s.index=t,s.componentProviders=0,Qp(s,r,i&&!n),s}(r?A0:x0,n.length,r,i,I);!r&&ut&&(n[qe].providerFactory=wt),Du(s,e,t.length,0),t.push(T),W.directiveStart++,W.directiveEnd++,r&&(W.providerIndexes+=1048576),n.push(wt),g.push(wt)}else Du(s,e,He>-1?He:qe,Qp(n[r?qe:He],I,!r&&i));!r&&i&&ut&&n[qe].componentProviders++}}}function Du(e,t,n,i){const r=Ks(t),s=function Um(e){return!!e.useClass}(t);if(r||s){const I=(s?_(t.useClass):t).prototype.ngOnDestroy;if(I){const W=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const ee=W.indexOf(n);-1===ee?W.push(n,[i,I]):W[ee+1].push(i,I)}else W.push(n,I)}}}function Qp(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Su(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function x0(e,t,n,i){return Mu(this.multi,[])}function A0(e,t,n,i){const r=this.multi;let s;if(this.providerFactory){const g=this.providerFactory.componentProviders,T=Es(n,n[1],this.providerFactory.index,i);s=T.slice(0,g),Mu(r,s);for(let I=g;I<T.length;I++)s.push(T[I])}else s=[],Mu(r,s);return s}function Mu(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Xp(e,t=[]){return n=>{n.providersResolver=(i,r)=>function T0(e,t,n){const i=Bt();if(i.firstCreatePass){const r=Yn(e);Eu(n,i.data,i.blueprint,r,!0),Eu(t,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,t)}}class Ho{}function O0(e,t){return new Jp(e,null!=t?t:null)}class Jp extends Ho{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new su(this);const i=Mn(t);this._bootstrapComponents=function os(e){return e instanceof Function?e():e}(i.bootstrap),this._r3Injector=xh(t,n,[{provide:Ho,useValue:this},{provide:la,useValue:this.componentFactoryResolver}],h(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Tu extends class R0{}{constructor(t){super(),this.moduleType=t}create(t){return new Jp(this.moduleType,t)}}function a_(e,t,n){const i=A()+e,r=tt();return r[i]===zt?Ur(r,i,n?t.call(n):t()):function pa(e,t){return e[t]}(r,i)}function l_(e,t,n,i){return function u_(e,t,n,i,r,s){const g=t+n;return Ci(e,g,r)?Ur(e,g+1,s?i.call(s,r):i(r)):Ca(e,g+1)}(tt(),A(),e,t,n,i)}function c_(e,t,n,i,r){return function d_(e,t,n,i,r,s,g){const T=t+n;return function Zs(e,t,n,i){const r=Ci(e,t,n);return Ci(e,t+1,i)||r}(e,T,r,s)?Ur(e,T+2,g?i.call(g,r,s):i(r,s)):Ca(e,T+2)}(tt(),A(),e,t,n,i,r)}function Ca(e,t){const n=e[t];return n===zt?void 0:n}function Au(e){return t=>{setTimeout(e,void 0,t)}}const Wr=class rC extends S.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){var r,s,g;let T=t,I=n||(()=>null),W=i;if(t&&"object"==typeof t){const ce=t;T=null===(r=ce.next)||void 0===r?void 0:r.bind(ce),I=null===(s=ce.error)||void 0===s?void 0:s.bind(ce),W=null===(g=ce.complete)||void 0===g?void 0:g.bind(ce)}this.__isAsync&&(I=Au(I),T&&(T=Au(T)),W&&(W=Au(W)));const ee=super.subscribe({next:T,error:I,complete:W});return t instanceof z.w0&&t.add(ee),ee}};function sC(){return this._results[qs()]()}class Dl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=qs(),i=Dl.prototype;i[n]||(i[n]=sC)}get changes(){return this._changes||(this._changes=new Wr)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const r=Ni(t);(this._changesDetected=!function dd(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ea=(()=>{class e{}return e.__NG_ELEMENT_ID__=lC,e})();const oC=Ea,aC=class extends oC{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t,n){const i=this._declarationTContainer.tViews,r=ol(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,n||null);r[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(r[19]=g.createEmbeddedView(i)),qc(i,r,t),new da(r)}};function lC(){return Sl(vn(),tt())}function Sl(e,t){return 4&e.type?new aC(t,e,Co(e,t)):null}let Ml=(()=>{class e{}return e.__NG_ELEMENT_ID__=cC,e})();function cC(){return m_(vn(),tt())}const uC=Ml,__=class extends uC{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Co(this._hostTNode,this._hostLView)}get injector(){return new Br(this._hostTNode,this._hostLView)}get parentInjector(){const t=Vs(this._hostTNode,this._hostLView);if(Xt(t)){const n=$t(t,this._hostLView),i=Gt(t);return new Br(n[1].data[i+8],n)}return new Br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=g_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const g=t.createEmbeddedView(n||{},s);return this.insert(g,r),g}createComponent(t,n,i,r,s){const g=t&&!function fo(e){return"function"==typeof e}(t);let T;if(g)T=n;else{const ce=n||{};T=ce.index,i=ce.injector,r=ce.projectableNodes,s=ce.environmentInjector||ce.ngModuleRef}const I=g?t:new ha(Ut(t)),W=i||this.parentInjector;if(!s&&null==I.ngModule){const Se=(g?W:this.parentInjector).get(bo,null);Se&&(s=Se)}const ee=I.create(W,r,void 0,s);return this.insert(ee.hostView,T),ee}insert(t,n){const i=t._lView,r=i[1];if(function hs(e){return Rn(e[3])}(i)){const ee=this.indexOf(t);if(-1!==ee)this.detach(ee);else{const ce=i[3],Se=new __(ce,ce[6],ce[3]);Se.detach(Se.indexOf(t))}}const s=this._adjustIndex(n),g=this._lContainer;!function rm(e,t,n,i){const r=10+i,s=n.length;i>0&&(n[r-1][4]=t),i<s-10?(t[4]=n[r],$l(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const g=t[17];null!==g&&n!==g&&function sm(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(g,t);const T=t[19];null!==T&&T.insertView(e),t[2]|=64}(r,i,g,s);const T=pc(s,g),I=i[11],W=Ya(I,g[7]);return null!==W&&function tm(e,t,n,i,r,s){i[0]=r,i[6]=t,ra(e,i,n,1,r,s)}(r,g[6],I,i,W,T),t.attachToViewContainerRef(),$l(Iu(g),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=g_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=dc(this._lContainer,n);i&&(Qo(Iu(this._lContainer),n),Rd(i[1],i))}detach(t){const n=this._adjustIndex(t,-1),i=dc(this._lContainer,n);return i&&null!=Qo(Iu(this._lContainer),n)?new da(i):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function g_(e){return e[8]}function Iu(e){return e[8]||(e[8]=[])}function m_(e,t){let n;const i=t[e.index];if(Rn(i))n=i;else{let r;if(8&e.type)r=bn(i);else{const s=t[11];r=s.createComment("");const g=Un(e,t);Ws(s,Ya(s,g),r,function cm(e,t){return e.nextSibling(t)}(s,g),!1)}t[e.index]=n=af(i,t,r,e),ll(t,n)}return new __(n,e,t)}class Ru{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ru(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ou{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){const g=n.getByIndex(s);r.push(this.queries[g.indexInDeclarationView].clone())}return new Ou(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==M_(t,n).matches&&this.queries[n].setDirty()}}class v_{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class Lu{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==n?n.push(s):n=[s])}return null!==n?new Lu(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Pu{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Pu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,n,fC(n,s)),this.matchTNodeWithReadOption(t,n,lo(n,t,s,!1,!1))}else i===Ea?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,lo(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ca||r===Ml||r===Ea&&4&n.type)this.addMatch(n.index,-2);else{const s=lo(n,t,r,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function fC(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function _C(e,t,n,i){return-1===n?function pC(e,t){return 11&e.type?Co(e,t):4&e.type?Sl(e,t):null}(t,e):-2===n?function gC(e,t,n){return n===ca?Co(t,e):n===Ea?Sl(t,e):n===Ml?m_(t,e):void 0}(e,t,i):Es(e,e[1],n,t)}function b_(e,t,n,i){const r=t[19].queries[i];if(null===r.matches){const s=e.data,g=n.matches,T=[];for(let I=0;I<g.length;I+=2){const W=g[I];T.push(W<0?null:_C(t,s[W],g[I+1],n.metadata.read))}r.matches=T}return r.matches}function ku(e,t,n,i){const r=e.queries.getByIndex(n),s=r.matches;if(null!==s){const g=b_(e,t,r,n);for(let T=0;T<s.length;T+=2){const I=s[T];if(I>0)i.push(g[T/2]);else{const W=s[T+1],ee=t[-I];for(let ce=10;ce<ee.length;ce++){const Se=ee[ce];Se[17]===Se[3]&&ku(Se[1],Se,W,i)}if(null!==ee[9]){const ce=ee[9];for(let Se=0;Se<ce.length;Se++){const He=ce[Se];ku(He[1],He,W,i)}}}}}return i}function y_(e){const t=tt(),n=Bt(),i=gs();fr(i+1);const r=M_(n,i);if(e.dirty&&function Pi(e){return 4==(4&e[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?ku(n,t,i,[]):b_(n,t,r,i);e.reset(s,ev),e.notifyOnChanges()}return!0}return!1}function C_(e,t,n){const i=Bt();i.firstCreatePass&&(S_(i,new v_(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),D_(i,tt(),t)}function w_(e,t,n,i){const r=Bt();if(r.firstCreatePass){const s=vn();S_(r,new v_(t,n,i),s.index),function vC(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(r,e),2==(2&n)&&(r.staticContentQueries=!0)}D_(r,tt(),n)}function E_(){return function mC(e,t){return e[19].queries[t].queryList}(tt(),gs())}function D_(e,t,n){const i=new Dl(4==(4&n));Zh(e,t,i,i.destroy),null===t[19]&&(t[19]=new Ou),t[19].queries.push(new Ru(i))}function S_(e,t,n){null===e.queries&&(e.queries=new Lu),e.queries.track(new Pu(t,n))}function M_(e,t){return e.queries.getByIndex(t)}function T_(e,t){return Sl(e,t)}function xl(...e){}const G_=new fn("Application Initializer");let Al=(()=>{class e{constructor(n){this.appInits=n,this.resolve=xl,this.reject=xl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(fu(s))n.push(s);else if(xf(s)){const g=new Promise((T,I)=>{s.subscribe({complete:T,error:I})});n.push(g)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(M(G_,8))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const K_=new fn("AppId",{providedIn:"root",factory:function Y_(){return`${Vu()}${Vu()}${Vu()}`}});function Vu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const q_=new fn("Platform Initializer"),NC=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),HC=new fn("appBootstrapListener"),VC=new fn("AnimationModuleType"),Il=new fn("LocaleId",{providedIn:"root",factory:()=>J(Il,lt.Optional|lt.SkipSelf)||function jC(){return"undefined"!=typeof $localize&&$localize.locale||No}()}),UC=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),GC=(()=>Promise.resolve(0))();function ju(e){"undefined"==typeof Zone?GC.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class nr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wr(!1),this.onMicrotaskEmpty=new Wr(!1),this.onStable=new Wr(!1),this.onError=new Wr(!1),"undefined"==typeof Zone)throw new a(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function KC(){let e=Ue.requestAnimationFrame,t=Ue.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function ZC(e){const t=()=>{!function qC(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ue,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,$u(e),e.isCheckStableRunning=!0,Uu(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),$u(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,g,T)=>{try{return X_(e),n.invokeTask(r,s,g,T)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),J_(e)}},onInvoke:(n,i,r,s,g,T,I)=>{try{return X_(e),n.invoke(r,s,g,T,I)}finally{e.shouldCoalesceRunChangeDetection&&t(),J_(e)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,$u(e),Uu(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nr.isInAngularZone())throw new a(909,!1)}static assertNotInAngularZone(){if(nr.isInAngularZone())throw new a(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const s=this._inner,g=s.scheduleEventTask("NgZoneEvent: "+r,t,YC,xl,xl);try{return s.runTask(g,n,i)}finally{s.cancelTask(g)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const YC={};function Uu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function $u(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function X_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function J_(e){e._nesting--,Uu(e)}class QC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wr,this.onMicrotaskEmpty=new Wr,this.onStable=new Wr,this.onError=new Wr}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}const eg=new fn(""),tg=new fn("");let Sa,XC=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sa||(function JC(e){Sa=e}(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nr.assertNotInAngularZone(),ju(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ju(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==s),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}}return e.\u0275fac=function(n){return new(n||e)(M(nr),M(ng),M(tg))},e.\u0275prov=ne({token:e,factory:e.\u0275fac}),e})(),ng=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){var r;return null!==(r=null==Sa?void 0:Sa.findTestabilityInTree(this,n,i))&&void 0!==r?r:null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Gr=null;const ig=new fn("AllowMultipleToken"),zu=new fn("PlatformDestroyListeners");function sg(e,t,n=[]){const i=`Platform: ${t}`,r=new fn(i);return(s=[])=>{let g=Wu();if(!g||g.injector.get(ig,!1)){const T=[...n,...s,{provide:r,useValue:!0}];e?e(T):function nw(e){if(Gr&&!Gr.get(ig,!1))throw new a(400,!1);Gr=e;const t=e.get(ag);(function rg(e){const t=e.get(q_,null);t&&t.forEach(n=>n())})(e)}(function og(e=[],t){return Ys.create({name:t,providers:[{provide:Tc,useValue:"platform"},{provide:zu,useValue:new Set([()=>Gr=null])},...e]})}(T,i))}return function rw(e){const t=Wu();if(!t)throw new a(401,!1);return t}()}}function Wu(){var e;return null!==(e=null==Gr?void 0:Gr.get(ag))&&void 0!==e?e:null}let ag=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const r=function cg(e,t){let n;return n="noop"===e?new QC:("zone.js"===e?void 0:e)||new nr(t),n}(null==i?void 0:i.ngZone,function lg(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:nr,useValue:r}];return r.run(()=>{const g=Ys.create({providers:s,parent:this.injector,name:n.moduleType.name}),T=n.create(g),I=T.injector.get(ua,null);if(!I)throw new a(402,!1);return r.runOutsideAngular(()=>{const W=r.onError.subscribe({next:ee=>{I.handleError(ee)}});T.onDestroy(()=>{Ol(this._modules,T),W.unsubscribe()})}),function ug(e,t,n){try{const i=n();return fu(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(I,r,()=>{const W=T.injector.get(Al);return W.runInitializers(),W.donePromise.then(()=>(function Tp(e){ge(e,"Expected localeId to be defined"),"string"==typeof e&&(Mp=e.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Il,No)||No),this._moduleDoBootstrap(T),T))})})}bootstrapModule(n,i=[]){const r=dg({},i);return function ew(e,t,n){const i=new Tu(n);return Promise.resolve(i)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(n){const i=n.injector.get(Rl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new a(403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new a(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(zu,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(M(Ys))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function dg(e,t){return Array.isArray(t)?t.reduce(dg,e):Object.assign(Object.assign({},e),t)}let Rl=(()=>{class e{constructor(n,i,r){this._zone=n,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new y.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),g=new y.y(T=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{nr.assertNotInAngularZone(),ju(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const W=this._zone.onUnstable.subscribe(()=>{nr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{I.unsubscribe(),W.unsubscribe()}});this.isStable=(0,u.T)(s,g.pipe((0,m.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const r=n instanceof hh;if(!this._injector.get(Al).done)throw!r&&function si(e){const t=Ut(e)||pn(e)||mn(e);return null!==t&&t.standalone}(n),new a(405,false);let g;g=r?n:this._injector.get(la).resolveComponentFactory(n),this.componentTypes.push(g.componentType);const T=function tw(e){return e.isBoundToModule}(g)?void 0:this._injector.get(Ho),W=g.create(Ys.NULL,[],i||g.selector,T),ee=W.location.nativeElement,ce=W.injector.get(eg,null);return null==ce||ce.registerApplication(ee),W.onDestroy(()=>{this.detachView(W.hostView),Ol(this.components,W),null==ce||ce.unregisterApplication(ee)}),this._loadComponent(W),W}tick(){if(this._runningTick)throw new a(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Ol(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(HC,[]).concat(this._bootstrapListeners).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ol(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new a(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(M(nr),M(bo),M(ua))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ol(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let fg=!0,pg=!1;function ow(){return pg=!0,fg}function aw(){if(pg)throw new Error("Cannot enable prod mode after platform setup.");fg=!1}let lw=(()=>{class e{}return e.__NG_ELEMENT_ID__=cw,e})();function cw(e){return function uw(e,t,n){if(Ei(e)&&!n){const i=kn(e.index,t);return new da(i,i)}return 47&e.type?new da(t[16],t):null}(vn(),tt(),16==(16&e))}class vg{constructor(){}supports(t){return fa(t)}create(t){return new gw(t)}}const _w=(e,t)=>t;class gw{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||_w}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){const g=!i||n&&n.currentIndex<yg(i,r,s)?n:i,T=yg(g,r,s),I=g.currentIndex;if(g===i)r--,i=i._nextRemoved;else if(n=n._next,null==g.previousIndex)r++;else{s||(s=[]);const W=T-r,ee=I-r;if(W!=ee){for(let Se=0;Se<W;Se++){const He=Se<s.length?s[Se]:s[Se]=0,qe=He+Se;ee<=qe&&qe<W&&(s[Se]=He+1)}s[g.previousIndex]=ee-W}}T!==I&&t(g,T,I)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!fa(t))throw new a(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,g,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let T=0;T<this.length;T++)s=t[T],g=this._trackByFn(T,s),null!==n&&Object.is(n.trackById,g)?(i&&(n=this._verifyReinsertion(n,s,g,T)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,g,T),i=!0),n=n._next}else r=0,function Hb(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[qs()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,T=>{g=this._trackByFn(r,T),null!==n&&Object.is(n.trackById,g)?(i&&(n=this._verifyReinsertion(n,T,g,r)),Object.is(n.item,T)||this._addIdentityChange(n,T)):(n=this._mismatch(n,T,g,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,r)):t=this._addAfter(new mw(n,i),s,r),t}_verifyReinsertion(t,n,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const r=null===n?this._itHead:n._next;return t._next=r,t._prev=n,null===r?this._itTail=t:r._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new bg),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bg),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class mw{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vw{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class bg{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new vw,this.map.set(n,i)),i.add(t)}get(t,n){const r=this.map.get(t);return r?r.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yg(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class Cg{constructor(){}supports(t){return t instanceof Map||lu(t)}create(){return new bw}}class bw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||lu(t)))throw new a(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,n);const s=r._prev,g=r._next;return s&&(s._next=g),g&&(g._prev=s),r._next=null,r._prev=null,r}const i=new yw(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class yw{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wg(){return new Zu([new vg])}let Zu=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||wg()),deps:[[e,new kt,new jt]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new a(901,!1)}}return e.\u0275prov=ne({token:e,providedIn:"root",factory:wg}),e})();function Eg(){return new Qu([new Cg])}let Qu=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Eg()),deps:[[e,new kt,new jt]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(i)return i;throw new a(901,!1)}}return e.\u0275prov=ne({token:e,providedIn:"root",factory:Eg}),e})();const Ew=sg(null,"core",[]);let Dw=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(M(Rl))},e.\u0275mod=In({type:e}),e.\u0275inj=Pe({}),e})();function Sw(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},2382:(et,Le,G)=>{"use strict";G.d(Le,{Zs:()=>Zn,Fj:()=>f,NI:()=>Ei,oH:()=>gi,sg:()=>he,Cf:()=>H,JU:()=>a,a5:()=>Ke,JJ:()=>le,F:()=>hn,wV:()=>Ji,UX:()=>cr,kI:()=>oe});var S=G(5e3),z=G(9808),y=G(2076),u=G(8306),m=G(4742),v=G(8421),E=G(3269),h=G(5403),b=G(3268),w=G(1810),_=G(4004);let o=(()=>{class ${constructor(A,te){this._renderer=A,this._elementRef=te,this.onChange=Ge=>{},this.onTouched=()=>{}}setProperty(A,te){this._renderer.setProperty(this._elementRef.nativeElement,A,te)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return $.\u0275fac=function(A){return new(A||$)(S.Y36(S.Qsj),S.Y36(S.SBq))},$.\u0275dir=S.lG2({type:$}),$})(),d=(()=>{class $ extends o{}return $.\u0275fac=function(){let F;return function(te){return(F||(F=S.n5z($)))(te||$)}}(),$.\u0275dir=S.lG2({type:$,features:[S.qOj]}),$})();const a=new S.OlP("NgValueAccessor"),P={provide:a,useExisting:(0,S.Gpc)(()=>f),multi:!0},j=new S.OlP("CompositionEventMode");let f=(()=>{class $ extends o{constructor(A,te,Ge){super(A,te),this._compositionMode=Ge,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function N(){const $=(0,z.q)()?(0,z.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(A){this.setProperty("value",null==A?"":A)}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return $.\u0275fac=function(A){return new(A||$)(S.Y36(S.Qsj),S.Y36(S.SBq),S.Y36(j,8))},$.\u0275dir=S.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,te){1&A&&S.NdJ("input",function(pt){return te._handleInput(pt.target.value)})("blur",function(){return te.onTouched()})("compositionstart",function(){return te._compositionStart()})("compositionend",function(pt){return te._compositionEnd(pt.target.value)})},features:[S._Bn([P]),S.qOj]}),$})();function L($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}function R($){return null!=$&&"number"==typeof $.length}const H=new S.OlP("NgValidators"),K=new S.OlP("NgAsyncValidators"),X=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oe{static min(F){return function ae($){return F=>{if(L(F.value)||L($))return null;const A=parseFloat(F.value);return!isNaN(A)&&A<$?{min:{min:$,actual:F.value}}:null}}(F)}static max(F){return function Me($){return F=>{if(L(F.value)||L($))return null;const A=parseFloat(F.value);return!isNaN(A)&&A>$?{max:{max:$,actual:F.value}}:null}}(F)}static required(F){return Ce(F)}static requiredTrue(F){return Z(F)}static email(F){return function q($){return L($.value)||X.test($.value)?null:{email:!0}}(F)}static minLength(F){return function Q($){return F=>L(F.value)||!R(F.value)?null:F.value.length<$?{minlength:{requiredLength:$,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function ie($){return F=>R(F.value)&&F.value.length>$?{maxlength:{requiredLength:$,actualLength:F.value.length}}:null}(F)}static pattern(F){return function ge($){if(!$)return be;let F,A;return"string"==typeof $?(A="","^"!==$.charAt(0)&&(A+="^"),A+=$,"$"!==$.charAt($.length-1)&&(A+="$"),F=new RegExp(A)):(A=$.toString(),F=$),te=>{if(L(te.value))return null;const Ge=te.value;return F.test(Ge)?null:{pattern:{requiredPattern:A,actualValue:Ge}}}}(F)}static nullValidator(F){return null}static compose(F){return Je(F)}static composeAsync(F){return _t(F)}}function Ce($){return L($.value)?{required:!0}:null}function Z($){return!0===$.value?null:{required:!0}}function be($){return null}function Ne($){return null!=$}function Ye($){return(0,S.QGY)($)?(0,y.D)($):$}function me($){let F={};return $.forEach(A=>{F=null!=A?Object.assign(Object.assign({},F),A):F}),0===Object.keys(F).length?null:F}function ne($,F){return F.map(A=>A($))}function Pe($){return $.map(F=>function Ie($){return!$.validate}(F)?F:A=>F.validate(A))}function Je($){if(!$)return null;const F=$.filter(Ne);return 0==F.length?null:function(A){return me(ne(A,F))}}function je($){return null!=$?Je(Pe($)):null}function _t($){if(!$)return null;const F=$.filter(Ne);return 0==F.length?null:function(A){return function D(...$){const F=(0,E.jO)($),{args:A,keys:te}=(0,m.D)($),Ge=new u.y(pt=>{const{length:Qt}=A;if(!Qt)return void pt.complete();const ti=new Array(Qt);let ki=Qt,ur=Qt;for(let dr=0;dr<Qt;dr++){let hr=!1;(0,v.Xf)(A[dr]).subscribe((0,h.x)(pt,es=>{hr||(hr=!0,ur--),ti[dr]=es},()=>ki--,void 0,()=>{(!ki||!hr)&&(ur||pt.next(te?(0,w.n)(te,ti):ti),pt.complete())}))}});return F?Ge.pipe((0,b.Z)(F)):Ge}(ne(A,F).map(Ye)).pipe((0,_.U)(me))}}function gt($){return null!=$?_t(Pe($)):null}function Ct($,F){return null===$?[F]:Array.isArray($)?[...$,F]:[$,F]}function dt($){return $._rawValidators}function at($){return $._rawAsyncValidators}function vt($){return $?Array.isArray($)?$:[$]:[]}function an($,F){return Array.isArray($)?$.includes(F):$===F}function ln($,F){const A=vt(F);return vt($).forEach(Ge=>{an(A,Ge)||A.push(Ge)}),A}function lt($,F){return vt(F).filter(A=>!an($,A))}class xt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=je(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=gt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,A){return!!this.control&&this.control.hasError(F,A)}getError(F,A){return this.control?this.control.getError(F,A):null}}class Ke extends xt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nt extends xt{get formDirective(){return null}get path(){return null}}let le=(()=>{class $ extends class ke{constructor(F){this._cd=F}get isTouched(){var F,A;return!(null===(A=null===(F=this._cd)||void 0===F?void 0:F.control)||void 0===A||!A.touched)}get isUntouched(){var F,A;return!(null===(A=null===(F=this._cd)||void 0===F?void 0:F.control)||void 0===A||!A.untouched)}get isPristine(){var F,A;return!(null===(A=null===(F=this._cd)||void 0===F?void 0:F.control)||void 0===A||!A.pristine)}get isDirty(){var F,A;return!(null===(A=null===(F=this._cd)||void 0===F?void 0:F.control)||void 0===A||!A.dirty)}get isValid(){var F,A;return!(null===(A=null===(F=this._cd)||void 0===F?void 0:F.control)||void 0===A||!A.valid)}get isInvalid(){var F,A;return!(null===(A=null===(F=this._cd)||void 0===F?void 0:F.control)||void 0===A||!A.invalid)}get isPending(){var F,A;return!(null===(A=null===(F=this._cd)||void 0===F?void 0:F.control)||void 0===A||!A.pending)}get isSubmitted(){var F;return!(null===(F=this._cd)||void 0===F||!F.submitted)}}{constructor(A){super(A)}}return $.\u0275fac=function(A){return new(A||$)(S.Y36(Ke,2))},$.\u0275dir=S.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,te){2&A&&S.ekj("ng-untouched",te.isUntouched)("ng-touched",te.isTouched)("ng-pristine",te.isPristine)("ng-dirty",te.isDirty)("ng-valid",te.isValid)("ng-invalid",te.isInvalid)("ng-pending",te.isPending)},features:[S.qOj]}),$})();const In="VALID",Kn="INVALID",Sn="PENDING",jn="DISABLED";function Nn($){return(si($)?$.validators:$)||null}function Ut($){return Array.isArray($)?je($):$||null}function pn($,F){return(si(F)?F.asyncValidators:$)||null}function mn($){return Array.isArray($)?gt($):$||null}function si($){return null!=$&&!Array.isArray($)&&"object"==typeof $}class Jn{constructor(F,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=F,this._rawAsyncValidators=A,this._composedValidatorFn=Ut(this._rawValidators),this._composedAsyncValidatorFn=mn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===In}get invalid(){return this.status===Kn}get pending(){return this.status==Sn}get disabled(){return this.status===jn}get enabled(){return this.status!==jn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._rawValidators=F,this._composedValidatorFn=Ut(F)}setAsyncValidators(F){this._rawAsyncValidators=F,this._composedAsyncValidatorFn=mn(F)}addValidators(F){this.setValidators(ln(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(ln(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(lt(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(lt(F,this._rawAsyncValidators))}hasValidator(F){return an(this._rawValidators,F)}hasAsyncValidator(F){return an(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=Sn,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const A=this._parentMarkedDirty(F.onlySelf);this.status=jn,this.errors=null,this._forEachChild(te=>{te.disable(Object.assign(Object.assign({},F),{onlySelf:!0}))}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},F),{skipPristineCheck:A})),this._onDisabledChange.forEach(te=>te(!0))}enable(F={}){const A=this._parentMarkedDirty(F.onlySelf);this.status=In,this._forEachChild(te=>{te.enable(Object.assign(Object.assign({},F),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},F),{skipPristineCheck:A})),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===In||this.status===Sn)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jn:In}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=Sn,this._hasOwnPendingAsyncValidator=!0;const A=Ye(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(te,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,A={}){this.errors=F,this._updateControlsErrors(!1!==A.emitEvent)}get(F){let A=F;return null==A||(Array.isArray(A)||(A=A.split(".")),0===A.length)?null:A.reduce((te,Ge)=>te&&te._find(Ge),this)}getError(F,A){const te=A?this.get(A):this;return te&&te.errors?te.errors[F]:null}hasError(F,A){return!!this.getError(F,A)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new S.vpe,this.statusChanges=new S.vpe}_calculateStatus(){return this._allControlsDisabled()?jn:this.errors?Kn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sn)?Sn:this._anyControlsHaveStatus(Kn)?Kn:In}_anyControlsHaveStatus(F){return this._anyControls(A=>A.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){si(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}}class Hn extends Jn{constructor(F,A,te){super(Nn(A),pn(te,A)),this.controls=F,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,A){return this.controls[F]?this.controls[F]:(this.controls[F]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(F,A,te={}){this.registerControl(F,A),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(F,A={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(F,A,te={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],A&&this.registerControl(F,A),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,A={}){(function Xn($,F,A){$._forEachChild((te,Ge)=>{if(void 0===A[Ge])throw new S.vHH(1002,"")})})(this,0,F),Object.keys(F).forEach(te=>{(function Mn($,F,A){const te=$.controls;if(!(F?Object.keys(te):te).length)throw new S.vHH(1e3,"");if(!te[A])throw new S.vHH(1001,"")})(this,!0,te),this.controls[te].setValue(F[te],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(F,A={}){null!=F&&(Object.keys(F).forEach(te=>{const Ge=this.controls[te];Ge&&Ge.patchValue(F[te],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(F={},A={}){this._forEachChild((te,Ge)=>{te.reset(F[Ge],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(F,A,te)=>(F[te]=A.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(A,te)=>!!te._syncPendingControls()||A);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(A=>{const te=this.controls[A];te&&F(te,A)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[A,te]of Object.entries(this.controls))if(this.contains(A)&&F(te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(A,te,Ge)=>((te.enabled||this.disabled)&&(A[Ge]=te.value),A))}_reduceChildren(F,A){let te=F;return this._forEachChild((Ge,pt)=>{te=A(te,Ge,pt)}),te}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}function ye($,F){var A,te;We($,F),F.valueAccessor.writeValue($.value),$.disabled&&(null===(te=(A=F.valueAccessor).setDisabledState)||void 0===te||te.call(A,!0)),function St($,F){F.valueAccessor.registerOnChange(A=>{$._pendingValue=A,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&en($,F)})}($,F),function _n($,F){const A=(te,Ge)=>{F.valueAccessor.writeValue(te),Ge&&F.viewToModelUpdate(te)};$.registerOnChange(A),F._registerOnDestroy(()=>{$._unregisterOnChange(A)})}($,F),function Dt($,F){F.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&en($,F),"submit"!==$.updateOn&&$.markAsTouched()})}($,F),function Re($,F){if(F.valueAccessor.setDisabledState){const A=te=>{F.valueAccessor.setDisabledState(te)};$.registerOnDisabledChange(A),F._registerOnDestroy(()=>{$._unregisterOnDisabledChange(A)})}}($,F)}function pe($,F,A=!0){const te=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(te),F.valueAccessor.registerOnTouched(te)),rt($,F),$&&(F._invokeOnDestroyCallbacks(),$._registerOnCollectionChange(()=>{}))}function de($,F){$.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(F)})}function We($,F){const A=dt($);null!==F.validator?$.setValidators(Ct(A,F.validator)):"function"==typeof A&&$.setValidators([A]);const te=at($);null!==F.asyncValidator?$.setAsyncValidators(Ct(te,F.asyncValidator)):"function"==typeof te&&$.setAsyncValidators([te]);const Ge=()=>$.updateValueAndValidity();de(F._rawValidators,Ge),de(F._rawAsyncValidators,Ge)}function rt($,F){let A=!1;if(null!==$){if(null!==F.validator){const Ge=dt($);if(Array.isArray(Ge)&&Ge.length>0){const pt=Ge.filter(Qt=>Qt!==F.validator);pt.length!==Ge.length&&(A=!0,$.setValidators(pt))}}if(null!==F.asyncValidator){const Ge=at($);if(Array.isArray(Ge)&&Ge.length>0){const pt=Ge.filter(Qt=>Qt!==F.asyncValidator);pt.length!==Ge.length&&(A=!0,$.setAsyncValidators(pt))}}}const te=()=>{};return de(F._rawValidators,te),de(F._rawAsyncValidators,te),A}function en($,F){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate($._pendingValue),$._pendingChange=!1}function It($,F){We($,F)}function Vn($,F){$._syncPendingControls(),F.forEach(A=>{const te=A.control;"submit"===te.updateOn&&te._pendingChange&&(A.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}const fi={provide:nt,useExisting:(0,S.Gpc)(()=>hn)},pi=(()=>Promise.resolve())();let hn=(()=>{class $ extends nt{constructor(A,te){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new S.vpe,this.form=new Hn({},je(A),gt(te))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(A){pi.then(()=>{const te=this._findContainer(A.path);A.control=te.registerControl(A.name,A.control),ye(A.control,A),A.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(A)})}getControl(A){return this.form.get(A.path)}removeControl(A){pi.then(()=>{const te=this._findContainer(A.path);te&&te.removeControl(A.name),this._directives.delete(A)})}addFormGroup(A){pi.then(()=>{const te=this._findContainer(A.path),Ge=new Hn({});It(Ge,A),te.registerControl(A.name,Ge),Ge.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(A){pi.then(()=>{const te=this._findContainer(A.path);te&&te.removeControl(A.name)})}getFormGroup(A){return this.form.get(A.path)}updateModel(A,te){pi.then(()=>{this.form.get(A.path).setValue(te)})}setValue(A){this.control.setValue(A)}onSubmit(A){var te;return this.submitted=!0,Vn(this.form,this._directives),this.ngSubmit.emit(A),"dialog"===(null===(te=null==A?void 0:A.target)||void 0===te?void 0:te.method)}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(A){return A.pop(),A.length?this.form.get(A):this.form}}return $.\u0275fac=function(A){return new(A||$)(S.Y36(H,10),S.Y36(K,10))},$.\u0275dir=S.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(A,te){1&A&&S.NdJ("submit",function(pt){return te.onSubmit(pt)})("reset",function(){return te.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[S._Bn([fi]),S.qOj]}),$})();function Rn($,F){const A=$.indexOf(F);A>-1&&$.splice(A,1)}function wi($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const Ei=class extends Jn{constructor(F=null,A,te){super(Nn(A),pn(te,A)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),si(A)&&(A.nonNullable||A.initialValueIsDefault)&&(this.defaultValue=wi(F)?F.value:F)}setValue(F,A={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(F,A={}){this.setValue(F,A)}reset(F=this.defaultValue,A={}){this._applyFormState(F),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){Rn(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){Rn(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){wi(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}},Dr={provide:a,useExisting:(0,S.Gpc)(()=>Ji),multi:!0};let Ji=(()=>{class $ extends d{writeValue(A){this.setProperty("value",null==A?"":A)}registerOnChange(A){this.onChange=te=>{A(""==te?null:parseFloat(te))}}}return $.\u0275fac=function(){let F;return function(te){return(F||(F=S.n5z($)))(te||$)}}(),$.\u0275dir=S.lG2({type:$,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(A,te){1&A&&S.NdJ("input",function(pt){return te.onChange(pt.target.value)})("blur",function(){return te.onTouched()})},features:[S._Bn([Dr]),S.qOj]}),$})(),Qr=(()=>{class ${}return $.\u0275fac=function(A){return new(A||$)},$.\u0275mod=S.oAB({type:$}),$.\u0275inj=S.cJS({}),$})();const ds=new S.OlP("NgModelWithFormControlWarning"),Is={provide:Ke,useExisting:(0,S.Gpc)(()=>gi)};let gi=(()=>{class $ extends Ke{constructor(A,te,Ge,pt){super(),this._ngModelWarningConfig=pt,this.update=new S.vpe,this._ngModelWarningSent=!1,this._setValidators(A),this._setAsyncValidators(te),this.valueAccessor=function ui($,F){if(!F)return null;let A,te,Ge;return Array.isArray(F),F.forEach(pt=>{pt.constructor===f?A=pt:function ci($){return Object.getPrototypeOf($.constructor)===d}(pt)?te=pt:Ge=pt}),Ge||te||A||null}(0,Ge)}set isDisabled(A){}ngOnChanges(A){if(this._isControlChanged(A)){const te=A.form.previousValue;te&&pe(te,this,!1),ye(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}(function li($,F){if(!$.hasOwnProperty("model"))return!1;const A=$.model;return!!A.isFirstChange()||!Object.is(F,A.currentValue)})(A,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&pe(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}_isControlChanged(A){return A.hasOwnProperty("form")}}return $._ngModelWarningSentOnce=!1,$.\u0275fac=function(A){return new(A||$)(S.Y36(H,10),S.Y36(K,10),S.Y36(a,10),S.Y36(ds,8))},$.\u0275dir=S.lG2({type:$,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[S._Bn([Is]),S.qOj,S.TTD]}),$})();const De={provide:nt,useExisting:(0,S.Gpc)(()=>he)};let he=(()=>{class $ extends nt{constructor(A,te){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new S.vpe,this._setValidators(A),this._setAsyncValidators(te)}ngOnChanges(A){this._checkFormPresent(),A.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(A){const te=this.form.get(A.path);return ye(te,A),te.updateValueAndValidity({emitEvent:!1}),this.directives.push(A),te}getControl(A){return this.form.get(A.path)}removeControl(A){pe(A.control||null,A,!1),function Li($,F){const A=$.indexOf(F);A>-1&&$.splice(A,1)}(this.directives,A)}addFormGroup(A){this._setUpFormContainer(A)}removeFormGroup(A){this._cleanUpFormContainer(A)}getFormGroup(A){return this.form.get(A.path)}addFormArray(A){this._setUpFormContainer(A)}removeFormArray(A){this._cleanUpFormContainer(A)}getFormArray(A){return this.form.get(A.path)}updateModel(A,te){this.form.get(A.path).setValue(te)}onSubmit(A){var te;return this.submitted=!0,Vn(this.form,this.directives),this.ngSubmit.emit(A),"dialog"===(null===(te=null==A?void 0:A.target)||void 0===te?void 0:te.method)}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_updateDomValue(){this.directives.forEach(A=>{const te=A.control,Ge=this.form.get(A.path);te!==Ge&&(pe(te||null,A),($=>$ instanceof Ei)(Ge)&&(ye(Ge,A),A.control=Ge))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(A){const te=this.form.get(A.path);It(te,A),te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(A){if(this.form){const te=this.form.get(A.path);te&&function Oi($,F){return rt($,F)}(te,A)&&te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){We(this.form,this),this._oldForm&&rt(this._oldForm,this)}_checkFormPresent(){}}return $.\u0275fac=function(A){return new(A||$)(S.Y36(H,10),S.Y36(K,10))},$.\u0275dir=S.lG2({type:$,selectors:[["","formGroup",""]],hostBindings:function(A,te){1&A&&S.NdJ("submit",function(pt){return te.onSubmit(pt)})("reset",function(){return te.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[S._Bn([De]),S.qOj,S.TTD]}),$})(),bi=(()=>{class ${constructor(){this._validator=be}ngOnChanges(A){if(this.inputName in A){const te=this.normalizeInput(A[this.inputName].currentValue);this._enabled=this.enabled(te),this._validator=this._enabled?this.createValidator(te):be,this._onChange&&this._onChange()}}validate(A){return this._validator(A)}registerOnValidatorChange(A){this._onChange=A}enabled(A){return null!=A}}return $.\u0275fac=function(A){return new(A||$)},$.\u0275dir=S.lG2({type:$,features:[S.TTD]}),$})();const or={provide:H,useExisting:(0,S.Gpc)(()=>En),multi:!0},hs={provide:H,useExisting:(0,S.Gpc)(()=>Zn),multi:!0};let En=(()=>{class $ extends bi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=S.D6c,this.createValidator=A=>Ce}enabled(A){return A}}return $.\u0275fac=function(){let F;return function(te){return(F||(F=S.n5z($)))(te||$)}}(),$.\u0275dir=S.lG2({type:$,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(A,te){2&A&&S.uIk("required",te._enabled?"":null)},inputs:{required:"required"},features:[S._Bn([or]),S.qOj]}),$})(),Zn=(()=>{class $ extends En{constructor(){super(...arguments),this.createValidator=A=>Z}}return $.\u0275fac=function(){let F;return function(te){return(F||(F=S.n5z($)))(te||$)}}(),$.\u0275dir=S.lG2({type:$,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(A,te){2&A&&S.uIk("required",te._enabled?"":null)},features:[S._Bn([hs]),S.qOj]}),$})(),Bt=(()=>{class ${}return $.\u0275fac=function(A){return new(A||$)},$.\u0275mod=S.oAB({type:$}),$.\u0275inj=S.cJS({imports:[Qr]}),$})(),cr=(()=>{class ${static withConfig(A){return{ngModule:$,providers:[{provide:ds,useValue:A.warnOnNgModelWithFormControl}]}}}return $.\u0275fac=function(A){return new(A||$)},$.\u0275mod=S.oAB({type:$}),$.\u0275inj=S.cJS({imports:[Bt]}),$})()},7423:(et,Le,G)=>{"use strict";G.d(Le,{lW:()=>w,ot:()=>_});var S=G(5e3),z=G(508),y=G(2982);const u=["mat-button",""],m=["*"],h=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],b=(0,z.pj)((0,z.Id)((0,z.Kr)(class{constructor(o){this._elementRef=o}})));let w=(()=>{class o extends b{constructor(a,p,x){super(a),this._focusMonitor=p,this._animationMode=x,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const P of h)this._hasHostAttributes(P)&&this._getHostElement().classList.add(P);a.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(a,p){a?this._focusMonitor.focusVia(this._getHostElement(),a,p):this._getHostElement().focus(p)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...a){return a.some(p=>this._getHostElement().hasAttribute(p))}}return o.\u0275fac=function(a){return new(a||o)(S.Y36(S.SBq),S.Y36(y.tE),S.Y36(S.QbO,8))},o.\u0275cmp=S.Xpm({type:o,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(a,p){if(1&a&&S.Gf(z.wG,5),2&a){let x;S.iGM(x=S.CRH())&&(p.ripple=x.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(a,p){2&a&&(S.uIk("disabled",p.disabled||null),S.ekj("_mat-animation-noopable","NoopAnimations"===p._animationMode)("mat-button-disabled",p.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[S.qOj],attrs:u,ngContentSelectors:m,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(a,p){1&a&&(S.F$t(),S.TgZ(0,"span",0),S.Hsn(1),S.qZA(),S._UZ(2,"span",1)(3,"span",2)),2&a&&(S.xp6(2),S.ekj("mat-button-ripple-round",p.isRoundButton||p.isIconButton),S.Q6J("matRippleDisabled",p._isRippleDisabled())("matRippleCentered",p.isIconButton)("matRippleTrigger",p._getHostElement()))},dependencies:[z.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),o})(),_=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=S.oAB({type:o}),o.\u0275inj=S.cJS({imports:[z.si,z.BQ,z.BQ]}),o})()},508:(et,Le,G)=>{"use strict";G.d(Le,{rD:()=>Ye,BQ:()=>P,wG:()=>ln,si:()=>lt,pj:()=>L,Kr:()=>R,Id:()=>C,FD:()=>K,sb:()=>H});var S=G(5e3),z=G(226),u=G(9808),m=G(925),v=G(2982),E=G(3191);const x=new S.OlP("mat-sanity-checks",{providedIn:"root",factory:function p(){return!0}});let P=(()=>{class Qe{constructor(Te,$e,Mt){this._sanityChecks=$e,this._document=Mt,this._hasDoneGlobalChecks=!1,Te._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Te){return!(0,m.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Te])}}return Qe.\u0275fac=function(Te){return new(Te||Qe)(S.LFG(v.qm),S.LFG(x,8),S.LFG(u.K0))},Qe.\u0275mod=S.oAB({type:Qe}),Qe.\u0275inj=S.cJS({imports:[z.vT,z.vT]}),Qe})();function C(Qe){return class extends Qe{constructor(...Ee){super(...Ee),this._disabled=!1}get disabled(){return this._disabled}set disabled(Ee){this._disabled=(0,E.Ig)(Ee)}}}function L(Qe,Ee){return class extends Qe{constructor(...Te){super(...Te),this.defaultColor=Ee,this.color=Ee}get color(){return this._color}set color(Te){const $e=Te||this.defaultColor;$e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),$e&&this._elementRef.nativeElement.classList.add(`mat-${$e}`),this._color=$e)}}}function R(Qe){return class extends Qe{constructor(...Ee){super(...Ee),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(Ee){this._disableRipple=(0,E.Ig)(Ee)}}}function H(Qe,Ee=0){return class extends Qe{constructor(...Te){super(...Te),this._tabIndex=Ee,this.defaultTabIndex=Ee}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Te){this._tabIndex=null!=Te?(0,E.su)(Te):this.defaultTabIndex}}}function K(Qe){return class extends Qe{constructor(...Ee){super(...Ee),this.errorState=!1}updateErrorState(){const Ee=this.errorState,qt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);qt!==Ee&&(this.errorState=qt,this.stateChanges.next())}}}let Ye=(()=>{class Qe{isErrorState(Te,$e){return!!(Te&&Te.invalid&&(Te.touched||$e&&$e.submitted))}}return Qe.\u0275fac=function(Te){return new(Te||Qe)},Qe.\u0275prov=S.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})();class Je{constructor(Ee,Te,$e,Mt=!1){this._renderer=Ee,this.element=Te,this.config=$e,this._animationForciblyDisabledThroughCss=Mt,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const je={enterDuration:225,exitDuration:150},gt=(0,m.i$)({passive:!0}),Ct=["mousedown","touchstart"],dt=["mouseup","mouseleave","touchend","touchcancel"];class at{constructor(Ee,Te,$e,Mt){this._target=Ee,this._ngZone=Te,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Mt.isBrowser&&(this._containerElement=(0,E.fI)($e))}fadeInRipple(Ee,Te,$e={}){const Mt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),qt=Object.assign(Object.assign({},je),$e.animation);$e.centered&&(Ee=Mt.left+Mt.width/2,Te=Mt.top+Mt.height/2);const Cn=$e.radius||function vt(Qe,Ee,Te){const $e=Math.max(Math.abs(Qe-Te.left),Math.abs(Qe-Te.right)),Mt=Math.max(Math.abs(Ee-Te.top),Math.abs(Ee-Te.bottom));return Math.sqrt($e*$e+Mt*Mt)}(Ee,Te,Mt),hi=Ee-Mt.left,$i=Te-Mt.top,ri=qt.enterDuration,dn=document.createElement("div");dn.classList.add("mat-ripple-element"),dn.style.left=hi-Cn+"px",dn.style.top=$i-Cn+"px",dn.style.height=2*Cn+"px",dn.style.width=2*Cn+"px",null!=$e.color&&(dn.style.backgroundColor=$e.color),dn.style.transitionDuration=`${ri}ms`,this._containerElement.appendChild(dn);const In=window.getComputedStyle(dn),Sn=In.transitionDuration,jn="none"===In.transitionProperty||"0s"===Sn||"0s, 0s"===Sn,Nn=new Je(this,dn,$e,jn);dn.style.transform="scale3d(1, 1, 1)",Nn.state=0,$e.persistent||(this._mostRecentTransientRipple=Nn);let Ut=null;return!jn&&(ri||qt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const pn=()=>this._finishRippleTransition(Nn),mn=()=>this._destroyRipple(Nn);dn.addEventListener("transitionend",pn),dn.addEventListener("transitioncancel",mn),Ut={onTransitionEnd:pn,onTransitionCancel:mn}}),this._activeRipples.set(Nn,Ut),(jn||!ri)&&this._finishRippleTransition(Nn),Nn}fadeOutRipple(Ee){if(2===Ee.state||3===Ee.state)return;const Te=Ee.element,$e=Object.assign(Object.assign({},je),Ee.config.animation);Te.style.transitionDuration=`${$e.exitDuration}ms`,Te.style.opacity="0",Ee.state=2,(Ee._animationForciblyDisabledThroughCss||!$e.exitDuration)&&this._finishRippleTransition(Ee)}fadeOutAll(){this._getActiveRipples().forEach(Ee=>Ee.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Ee=>{Ee.config.persistent||Ee.fadeOut()})}setupTriggerEvents(Ee){const Te=(0,E.fI)(Ee);!Te||Te===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Te,this._registerEvents(Ct))}handleEvent(Ee){"mousedown"===Ee.type?this._onMousedown(Ee):"touchstart"===Ee.type?this._onTouchStart(Ee):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(dt),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Ee){0===Ee.state?this._startFadeOutTransition(Ee):2===Ee.state&&this._destroyRipple(Ee)}_startFadeOutTransition(Ee){const Te=Ee===this._mostRecentTransientRipple,{persistent:$e}=Ee.config;Ee.state=1,!$e&&(!Te||!this._isPointerDown)&&Ee.fadeOut()}_destroyRipple(Ee){var Te;const $e=null!==(Te=this._activeRipples.get(Ee))&&void 0!==Te?Te:null;this._activeRipples.delete(Ee),this._activeRipples.size||(this._containerRect=null),Ee===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Ee.state=3,null!==$e&&(Ee.element.removeEventListener("transitionend",$e.onTransitionEnd),Ee.element.removeEventListener("transitioncancel",$e.onTransitionCancel)),Ee.element.remove()}_onMousedown(Ee){const Te=(0,v.X6)(Ee),$e=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Te&&!$e&&(this._isPointerDown=!0,this.fadeInRipple(Ee.clientX,Ee.clientY,this._target.rippleConfig))}_onTouchStart(Ee){if(!this._target.rippleDisabled&&!(0,v.yG)(Ee)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Te=Ee.changedTouches;for(let $e=0;$e<Te.length;$e++)this.fadeInRipple(Te[$e].clientX,Te[$e].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(Ee=>{!Ee.config.persistent&&(1===Ee.state||Ee.config.terminateOnPointerUp&&0===Ee.state)&&Ee.fadeOut()}))}_registerEvents(Ee){this._ngZone.runOutsideAngular(()=>{Ee.forEach(Te=>{this._triggerElement.addEventListener(Te,this,gt)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Ct.forEach(Ee=>{this._triggerElement.removeEventListener(Ee,this,gt)}),this._pointerUpEventsRegistered&&dt.forEach(Ee=>{this._triggerElement.removeEventListener(Ee,this,gt)}))}}const an=new S.OlP("mat-ripple-global-options");let ln=(()=>{class Qe{constructor(Te,$e,Mt,qt,Cn){this._elementRef=Te,this._animationMode=Cn,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=qt||{},this._rippleRenderer=new at(this,$e,Te,Mt)}get disabled(){return this._disabled}set disabled(Te){Te&&this.fadeOutAllNonPersistent(),this._disabled=Te,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Te){this._trigger=Te,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Te,$e=0,Mt){return"number"==typeof Te?this._rippleRenderer.fadeInRipple(Te,$e,Object.assign(Object.assign({},this.rippleConfig),Mt)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),Te))}}return Qe.\u0275fac=function(Te){return new(Te||Qe)(S.Y36(S.SBq),S.Y36(S.R0b),S.Y36(m.t4),S.Y36(an,8),S.Y36(S.QbO,8))},Qe.\u0275dir=S.lG2({type:Qe,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Te,$e){2&Te&&S.ekj("mat-ripple-unbounded",$e.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Qe})(),lt=(()=>{class Qe{}return Qe.\u0275fac=function(Te){return new(Te||Qe)},Qe.\u0275mod=S.oAB({type:Qe}),Qe.\u0275inj=S.cJS({imports:[P,P]}),Qe})()},7322:(et,Le,G)=>{"use strict";G.d(Le,{Eo:()=>ie,G_:()=>ln,KE:()=>lt,lN:()=>xt});var S=G(7144),z=G(9808),y=G(5e3),u=G(508),m=G(3191),v=G(7579),E=G(6451),h=G(4968),b=G(8675),w=G(2722),D=G(5698),_=G(1777),o=G(226),d=G(925);const a=["connectionContainer"],p=["inputContainer"],x=["label"];function P(Ke,nt){1&Ke&&(y.ynx(0),y.TgZ(1,"div",14),y._UZ(2,"div",15)(3,"div",16)(4,"div",17),y.qZA(),y.TgZ(5,"div",18),y._UZ(6,"div",15)(7,"div",16)(8,"div",17),y.qZA(),y.BQk())}function N(Ke,nt){if(1&Ke){const ke=y.EpF();y.TgZ(0,"div",19),y.NdJ("cdkObserveContent",function(){y.CHM(ke);const Ae=y.oxw();return y.KtG(Ae.updateOutlineGap())}),y.Hsn(1,1),y.qZA()}if(2&Ke){const ke=y.oxw();y.Q6J("cdkObserveContentDisabled","outline"!=ke.appearance)}}function j(Ke,nt){if(1&Ke&&(y.ynx(0),y.Hsn(1,2),y.TgZ(2,"span"),y._uU(3),y.qZA(),y.BQk()),2&Ke){const ke=y.oxw(2);y.xp6(3),y.Oqu(ke._control.placeholder)}}function f(Ke,nt){1&Ke&&y.Hsn(0,3,["*ngSwitchCase","true"])}function C(Ke,nt){1&Ke&&(y.TgZ(0,"span",23),y._uU(1," *"),y.qZA())}function L(Ke,nt){if(1&Ke){const ke=y.EpF();y.TgZ(0,"label",20,21),y.NdJ("cdkObserveContent",function(){y.CHM(ke);const Ae=y.oxw();return y.KtG(Ae.updateOutlineGap())}),y.YNc(2,j,4,1,"ng-container",12),y.YNc(3,f,1,0,"ng-content",12),y.YNc(4,C,2,0,"span",22),y.qZA()}if(2&Ke){const ke=y.oxw();y.ekj("mat-empty",ke._control.empty&&!ke._shouldAlwaysFloat())("mat-form-field-empty",ke._control.empty&&!ke._shouldAlwaysFloat())("mat-accent","accent"==ke.color)("mat-warn","warn"==ke.color),y.Q6J("cdkObserveContentDisabled","outline"!=ke.appearance)("id",ke._labelId)("ngSwitch",ke._hasLabel()),y.uIk("for",ke._control.id)("aria-owns",ke._control.id),y.xp6(2),y.Q6J("ngSwitchCase",!1),y.xp6(1),y.Q6J("ngSwitchCase",!0),y.xp6(1),y.Q6J("ngIf",!ke.hideRequiredMarker&&ke._control.required&&!ke._control.disabled)}}function R(Ke,nt){1&Ke&&(y.TgZ(0,"div",24),y.Hsn(1,4),y.qZA())}function H(Ke,nt){if(1&Ke&&(y.TgZ(0,"div",25),y._UZ(1,"span",26),y.qZA()),2&Ke){const ke=y.oxw();y.xp6(1),y.ekj("mat-accent","accent"==ke.color)("mat-warn","warn"==ke.color)}}function K(Ke,nt){if(1&Ke&&(y.TgZ(0,"div"),y.Hsn(1,5),y.qZA()),2&Ke){const ke=y.oxw();y.Q6J("@transitionMessages",ke._subscriptAnimationState)}}function X(Ke,nt){if(1&Ke&&(y.TgZ(0,"div",30),y._uU(1),y.qZA()),2&Ke){const ke=y.oxw(2);y.Q6J("id",ke._hintLabelId),y.xp6(1),y.Oqu(ke.hintLabel)}}function oe(Ke,nt){if(1&Ke&&(y.TgZ(0,"div",27),y.YNc(1,X,2,2,"div",28),y.Hsn(2,6),y._UZ(3,"div",29),y.Hsn(4,7),y.qZA()),2&Ke){const ke=y.oxw();y.Q6J("@transitionMessages",ke._subscriptAnimationState),y.xp6(1),y.Q6J("ngIf",ke.hintLabel)}}const ae=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Me=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Z=new y.OlP("MatError"),Q={transitionMessages:(0,_.X$)("transitionMessages",[(0,_.SB)("enter",(0,_.oB)({opacity:1,transform:"translateY(0%)"})),(0,_.eR)("void => enter",[(0,_.oB)({opacity:0,transform:"translateY(-5px)"}),(0,_.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ie=(()=>{class Ke{}return Ke.\u0275fac=function(ke){return new(ke||Ke)},Ke.\u0275dir=y.lG2({type:Ke}),Ke})();const me=new y.OlP("MatHint");let Ie=(()=>{class Ke{}return Ke.\u0275fac=function(ke){return new(ke||Ke)},Ke.\u0275dir=y.lG2({type:Ke,selectors:[["mat-label"]]}),Ke})(),Pe=(()=>{class Ke{}return Ke.\u0275fac=function(ke){return new(ke||Ke)},Ke.\u0275dir=y.lG2({type:Ke,selectors:[["mat-placeholder"]]}),Ke})();const Je=new y.OlP("MatPrefix"),_t=new y.OlP("MatSuffix");let Ct=0;const vt=(0,u.pj)(class{constructor(Ke){this._elementRef=Ke}},"primary"),an=new y.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ln=new y.OlP("MatFormField");let lt=(()=>{class Ke extends vt{constructor(ke,ue,Ae,le,Oe,Fe,xe){super(ke),this._changeDetectorRef=ue,this._dir=Ae,this._defaults=le,this._platform=Oe,this._ngZone=Fe,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new v.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Ct++,this._labelId="mat-form-field-label-"+Ct++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==xe,this.appearance=(null==le?void 0:le.appearance)||"legacy",le&&(this._hideRequiredMarker=Boolean(le.hideRequiredMarker),le.color&&(this.color=this.defaultColor=le.color))}get appearance(){return this._appearance}set appearance(ke){var ue;const Ae=this._appearance;this._appearance=ke||(null===(ue=this._defaults)||void 0===ue?void 0:ue.appearance)||"legacy","outline"===this._appearance&&Ae!==ke&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(ke){this._hideRequiredMarker=(0,m.Ig)(ke)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(ke){this._hintLabel=ke,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(ke){ke!==this._floatLabel&&(this._floatLabel=ke||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(ke){this._explicitFormFieldControl=ke}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const ke=this._control;ke.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${ke.controlType}`),ke.stateChanges.pipe((0,b.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),ke.ngControl&&ke.ngControl.valueChanges&&ke.ngControl.valueChanges.pipe((0,w.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,w.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,E.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,b.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,b.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,w.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(ke){const ue=this._control?this._control.ngControl:null;return ue&&ue[ke]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,h.R)(this._label.nativeElement,"transitionend").pipe((0,D.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let ke=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&ke.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const ue=this._hintChildren?this._hintChildren.find(le=>"start"===le.align):null,Ae=this._hintChildren?this._hintChildren.find(le=>"end"===le.align):null;ue?ke.push(ue.id):this._hintLabel&&ke.push(this._hintLabelId),Ae&&ke.push(Ae.id)}else this._errorChildren&&ke.push(...this._errorChildren.map(ue=>ue.id));this._control.setDescribedByIds(ke)}}_validateControlChild(){}updateOutlineGap(){const ke=this._label?this._label.nativeElement:null,ue=this._connectionContainerRef.nativeElement,Ae=".mat-form-field-outline-start",le=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!ke||!ke.children.length||!ke.textContent.trim()){const ot=ue.querySelectorAll(`${Ae}, ${le}`);for(let At=0;At<ot.length;At++)ot[At].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Oe=0,Fe=0;const xe=ue.querySelectorAll(Ae),Ue=ue.querySelectorAll(le);if(this._label&&this._label.nativeElement.children.length){const ot=ue.getBoundingClientRect();if(0===ot.width&&0===ot.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const At=this._getStartEnd(ot),Et=ke.children,ht=this._getStartEnd(Et[0].getBoundingClientRect());let Qe=0;for(let Ee=0;Ee<Et.length;Ee++)Qe+=Et[Ee].offsetWidth;Oe=Math.abs(ht-At)-5,Fe=Qe>0?.75*Qe+10:0}for(let ot=0;ot<xe.length;ot++)xe[ot].style.width=`${Oe}px`;for(let ot=0;ot<Ue.length;ot++)Ue[ot].style.width=`${Fe}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(ke){return this._dir&&"rtl"===this._dir.value?ke.right:ke.left}_isAttachedToDOM(){const ke=this._elementRef.nativeElement;if(ke.getRootNode){const ue=ke.getRootNode();return ue&&ue!==ke}return document.documentElement.contains(ke)}}return Ke.\u0275fac=function(ke){return new(ke||Ke)(y.Y36(y.SBq),y.Y36(y.sBO),y.Y36(o.Is,8),y.Y36(an,8),y.Y36(d.t4),y.Y36(y.R0b),y.Y36(y.QbO,8))},Ke.\u0275cmp=y.Xpm({type:Ke,selectors:[["mat-form-field"]],contentQueries:function(ke,ue,Ae){if(1&ke&&(y.Suo(Ae,ie,5),y.Suo(Ae,ie,7),y.Suo(Ae,Ie,5),y.Suo(Ae,Ie,7),y.Suo(Ae,Pe,5),y.Suo(Ae,Z,5),y.Suo(Ae,me,5),y.Suo(Ae,Je,5),y.Suo(Ae,_t,5)),2&ke){let le;y.iGM(le=y.CRH())&&(ue._controlNonStatic=le.first),y.iGM(le=y.CRH())&&(ue._controlStatic=le.first),y.iGM(le=y.CRH())&&(ue._labelChildNonStatic=le.first),y.iGM(le=y.CRH())&&(ue._labelChildStatic=le.first),y.iGM(le=y.CRH())&&(ue._placeholderChild=le.first),y.iGM(le=y.CRH())&&(ue._errorChildren=le),y.iGM(le=y.CRH())&&(ue._hintChildren=le),y.iGM(le=y.CRH())&&(ue._prefixChildren=le),y.iGM(le=y.CRH())&&(ue._suffixChildren=le)}},viewQuery:function(ke,ue){if(1&ke&&(y.Gf(a,7),y.Gf(p,5),y.Gf(x,5)),2&ke){let Ae;y.iGM(Ae=y.CRH())&&(ue._connectionContainerRef=Ae.first),y.iGM(Ae=y.CRH())&&(ue._inputContainerRef=Ae.first),y.iGM(Ae=y.CRH())&&(ue._label=Ae.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(ke,ue){2&ke&&y.ekj("mat-form-field-appearance-standard","standard"==ue.appearance)("mat-form-field-appearance-fill","fill"==ue.appearance)("mat-form-field-appearance-outline","outline"==ue.appearance)("mat-form-field-appearance-legacy","legacy"==ue.appearance)("mat-form-field-invalid",ue._control.errorState)("mat-form-field-can-float",ue._canLabelFloat())("mat-form-field-should-float",ue._shouldLabelFloat())("mat-form-field-has-label",ue._hasFloatingLabel())("mat-form-field-hide-placeholder",ue._hideControlPlaceholder())("mat-form-field-disabled",ue._control.disabled)("mat-form-field-autofilled",ue._control.autofilled)("mat-focused",ue._control.focused)("ng-untouched",ue._shouldForward("untouched"))("ng-touched",ue._shouldForward("touched"))("ng-pristine",ue._shouldForward("pristine"))("ng-dirty",ue._shouldForward("dirty"))("ng-valid",ue._shouldForward("valid"))("ng-invalid",ue._shouldForward("invalid"))("ng-pending",ue._shouldForward("pending"))("_mat-animation-noopable",!ue._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[y._Bn([{provide:ln,useExisting:Ke}]),y.qOj],ngContentSelectors:Me,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(ke,ue){1&ke&&(y.F$t(ae),y.TgZ(0,"div",0)(1,"div",1,2),y.NdJ("click",function(le){return ue._control.onContainerClick&&ue._control.onContainerClick(le)}),y.YNc(3,P,9,0,"ng-container",3),y.YNc(4,N,2,1,"div",4),y.TgZ(5,"div",5,6),y.Hsn(7),y.TgZ(8,"span",7),y.YNc(9,L,5,16,"label",8),y.qZA()(),y.YNc(10,R,2,0,"div",9),y.qZA(),y.YNc(11,H,2,4,"div",10),y.TgZ(12,"div",11),y.YNc(13,K,2,1,"div",12),y.YNc(14,oe,5,2,"div",13),y.qZA()()),2&ke&&(y.xp6(3),y.Q6J("ngIf","outline"==ue.appearance),y.xp6(1),y.Q6J("ngIf",ue._prefixChildren.length),y.xp6(5),y.Q6J("ngIf",ue._hasFloatingLabel()),y.xp6(1),y.Q6J("ngIf",ue._suffixChildren.length),y.xp6(1),y.Q6J("ngIf","outline"!=ue.appearance),y.xp6(1),y.Q6J("ngSwitch",ue._getDisplayedMessages()),y.xp6(1),y.Q6J("ngSwitchCase","error"),y.xp6(1),y.Q6J("ngSwitchCase","hint"))},dependencies:[z.O5,z.RF,z.n9,S.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Q.transitionMessages]},changeDetection:0}),Ke})(),xt=(()=>{class Ke{}return Ke.\u0275fac=function(ke){return new(ke||Ke)},Ke.\u0275mod=y.oAB({type:Ke}),Ke.\u0275inj=y.cJS({imports:[z.ez,u.BQ,S.Q8,u.BQ]}),Ke})()},7531:(et,Le,G)=>{"use strict";G.d(Le,{Nt:()=>N,c:()=>j});var S=G(3191),z=G(925),y=G(5e3),u=G(2382),m=G(508),v=G(7322),E=G(7579),h=G(515);const b=(0,z.i$)({passive:!0});let w=(()=>{class f{constructor(L,R){this._platform=L,this._ngZone=R,this._monitoredElements=new Map}monitor(L){if(!this._platform.isBrowser)return h.E;const R=(0,S.fI)(L),H=this._monitoredElements.get(R);if(H)return H.subject;const K=new E.x,X="cdk-text-field-autofilled",oe=ae=>{"cdk-text-field-autofill-start"!==ae.animationName||R.classList.contains(X)?"cdk-text-field-autofill-end"===ae.animationName&&R.classList.contains(X)&&(R.classList.remove(X),this._ngZone.run(()=>K.next({target:ae.target,isAutofilled:!1}))):(R.classList.add(X),this._ngZone.run(()=>K.next({target:ae.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{R.addEventListener("animationstart",oe,b),R.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(R,{subject:K,unlisten:()=>{R.removeEventListener("animationstart",oe,b)}}),K}stopMonitoring(L){const R=(0,S.fI)(L),H=this._monitoredElements.get(R);H&&(H.unlisten(),H.subject.complete(),R.classList.remove("cdk-text-field-autofill-monitored"),R.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(R))}ngOnDestroy(){this._monitoredElements.forEach((L,R)=>this.stopMonitoring(R))}}return f.\u0275fac=function(L){return new(L||f)(y.LFG(z.t4),y.LFG(y.R0b))},f.\u0275prov=y.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),o=(()=>{class f{}return f.\u0275fac=function(L){return new(L||f)},f.\u0275mod=y.oAB({type:f}),f.\u0275inj=y.cJS({}),f})();const a=new y.OlP("MAT_INPUT_VALUE_ACCESSOR"),p=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let x=0;const P=(0,m.FD)(class{constructor(f,C,L,R){this._defaultErrorStateMatcher=f,this._parentForm=C,this._parentFormGroup=L,this.ngControl=R,this.stateChanges=new E.x}});let N=(()=>{class f extends P{constructor(L,R,H,K,X,oe,ae,Me,Ce,Z){super(oe,K,X,H),this._elementRef=L,this._platform=R,this._autofillMonitor=Me,this._formField=Z,this._uid="mat-input-"+x++,this.focused=!1,this.stateChanges=new E.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ie=>(0,z.qK)().has(ie)),this._iOSKeyupListener=ie=>{const ge=ie.target;!ge.value&&0===ge.selectionStart&&0===ge.selectionEnd&&(ge.setSelectionRange(1,1),ge.setSelectionRange(0,0))};const q=this._elementRef.nativeElement,Q=q.nodeName.toLowerCase();this._inputValueAccessor=ae||q,this._previousNativeValue=this.value,this.id=this.id,R.IOS&&Ce.runOutsideAngular(()=>{L.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Q,this._isTextarea="textarea"===Q,this._isInFormField=!!Z,this._isNativeSelect&&(this.controlType=q.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(L){this._disabled=(0,S.Ig)(L),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(L){this._id=L||this._uid}get required(){var L,R,H,K;return null!==(K=null!==(L=this._required)&&void 0!==L?L:null===(H=null===(R=this.ngControl)||void 0===R?void 0:R.control)||void 0===H?void 0:H.hasValidator(u.kI.required))&&void 0!==K&&K}set required(L){this._required=(0,S.Ig)(L)}get type(){return this._type}set type(L){this._type=L||"text",this._validateType(),!this._isTextarea&&(0,z.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(L){L!==this.value&&(this._inputValueAccessor.value=L,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(L){this._readonly=(0,S.Ig)(L)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(L=>{this.autofilled=L.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(L){this._elementRef.nativeElement.focus(L)}_focusChanged(L){L!==this.focused&&(this.focused=L,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var L;const R=this._formField,H=!R||"legacy"!==R.appearance||null!==(L=R._hasLabel)&&void 0!==L&&L.call(R)?this.placeholder:null;if(H!==this._previousPlaceholder){const K=this._elementRef.nativeElement;this._previousPlaceholder=H,H?K.setAttribute("placeholder",H):K.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const L=this._elementRef.nativeElement.value;this._previousNativeValue!==L&&(this._previousNativeValue=L,this.stateChanges.next())}_validateType(){p.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let L=this._elementRef.nativeElement.validity;return L&&L.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const L=this._elementRef.nativeElement,R=L.options[0];return this.focused||L.multiple||!this.empty||!!(L.selectedIndex>-1&&R&&R.label)}return this.focused||!this.empty}setDescribedByIds(L){L.length?this._elementRef.nativeElement.setAttribute("aria-describedby",L.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const L=this._elementRef.nativeElement;return this._isNativeSelect&&(L.multiple||L.size>1)}}return f.\u0275fac=function(L){return new(L||f)(y.Y36(y.SBq),y.Y36(z.t4),y.Y36(u.a5,10),y.Y36(u.F,8),y.Y36(u.sg,8),y.Y36(m.rD),y.Y36(a,10),y.Y36(w),y.Y36(y.R0b),y.Y36(v.G_,8))},f.\u0275dir=y.lG2({type:f,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(L,R){1&L&&y.NdJ("focus",function(){return R._focusChanged(!0)})("blur",function(){return R._focusChanged(!1)})("input",function(){return R._onInput()}),2&L&&(y.Ikx("disabled",R.disabled)("required",R.required),y.uIk("id",R.id)("data-placeholder",R.placeholder)("name",R.name||null)("readonly",R.readonly&&!R._isNativeSelect||null)("aria-invalid",R.empty&&R.required?null:R.errorState)("aria-required",R.required),y.ekj("mat-input-server",R._isServer)("mat-native-select-inline",R._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[y._Bn([{provide:v.Eo,useExisting:f}]),y.qOj,y.TTD]}),f})(),j=(()=>{class f{}return f.\u0275fac=function(L){return new(L||f)},f.\u0275mod=y.oAB({type:f}),f.\u0275inj=y.cJS({providers:[m.rD],imports:[o,v.lN,m.BQ,o,v.lN]}),f})()},2368:(et,Le,G)=>{"use strict";G.d(Le,{Rr:()=>p,rP:()=>j});var S=G(7144),z=G(5e3),y=G(508),u=G(3191),m=G(2382),v=G(2982);const E=["input"],h=function(f){return{enterDuration:f}},b=["*"],w=new z.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let D=0;const _={provide:m.JU,useExisting:(0,z.Gpc)(()=>p),multi:!0};class o{constructor(C,L){this.source=C,this.checked=L}}const d=(0,y.sb)((0,y.pj)((0,y.Kr)((0,y.Id)(class{constructor(f){this._elementRef=f}}))));let a=(()=>{class f extends d{constructor(L,R,H,K,X,oe,ae){super(L),this._focusMonitor=R,this._changeDetectorRef=H,this.defaults=X,this._onChange=Me=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new z.vpe,this.toggleChange=new z.vpe,this.tabIndex=parseInt(K)||0,this.color=this.defaultColor=X.color||"accent",this._noopAnimations="NoopAnimations"===oe,this.id=this._uniqueId=`${ae}${++D}`}get required(){return this._required}set required(L){this._required=(0,u.Ig)(L)}get checked(){return this._checked}set checked(L){this._checked=(0,u.Ig)(L),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(L=>{"keyboard"===L||"program"===L?this._focused=!0:L||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(L){this.checked=!!L}registerOnChange(L){this._onChange=L}registerOnTouched(L){this._onTouched=L}setDisabledState(L){this.disabled=L,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return f.\u0275fac=function(L){z.$Z()},f.\u0275dir=z.lG2({type:f,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[z.qOj]}),f})(),p=(()=>{class f extends a{constructor(L,R,H,K,X,oe){super(L,R,H,K,X,oe,"mat-slide-toggle-")}_createChangeEvent(L){return new o(this,L)}_onChangeEvent(L){L.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(L){L.stopPropagation()}focus(L,R){R?this._focusMonitor.focusVia(this._inputElement,R,L):this._inputElement.nativeElement.focus(L)}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return f.\u0275fac=function(L){return new(L||f)(z.Y36(z.SBq),z.Y36(v.tE),z.Y36(z.sBO),z.$8M("tabindex"),z.Y36(w),z.Y36(z.QbO,8))},f.\u0275cmp=z.Xpm({type:f,selectors:[["mat-slide-toggle"]],viewQuery:function(L,R){if(1&L&&z.Gf(E,5),2&L){let H;z.iGM(H=z.CRH())&&(R._inputElement=H.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(L,R){2&L&&(z.Ikx("id",R.id),z.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),z.ekj("mat-checked",R.checked)("mat-disabled",R.disabled)("mat-slide-toggle-label-before","before"==R.labelPosition)("_mat-animation-noopable",R._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[z._Bn([_]),z.qOj],ngContentSelectors:b,decls:14,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(L,R){if(1&L&&(z.F$t(),z.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),z.NdJ("change",function(K){return R._onChangeEvent(K)})("click",function(K){return R._onInputClick(K)}),z.qZA(),z.TgZ(5,"span",5),z._UZ(6,"span",6),z.TgZ(7,"span",7),z._UZ(8,"span",8),z.qZA()()(),z.TgZ(9,"span",9,10),z.NdJ("cdkObserveContent",function(){return R._onLabelTextChange()}),z.TgZ(11,"span",11),z._uU(12,"\xa0"),z.qZA(),z.Hsn(13),z.qZA()()),2&L){const H=z.MAs(1),K=z.MAs(10);z.uIk("for",R.inputId),z.xp6(2),z.ekj("mat-slide-toggle-bar-no-side-margin",!K.textContent||!K.textContent.trim()),z.xp6(1),z.Q6J("id",R.inputId)("required",R.required)("tabIndex",R.tabIndex)("checked",R.checked)("disabled",R.disabled),z.uIk("name",R.name)("aria-checked",R.checked)("aria-label",R.ariaLabel)("aria-labelledby",R.ariaLabelledby)("aria-describedby",R.ariaDescribedby),z.xp6(4),z.Q6J("matRippleTrigger",H)("matRippleDisabled",R.disableRipple||R.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",z.VKq(18,h,R._noopAnimations?0:150))}},dependencies:[y.wG,S.wD],styles:['.mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.mat-slide-toggle-input:focus~.mat-slide-toggle-thumb-container .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}'],encapsulation:2,changeDetection:0}),f})(),N=(()=>{class f{}return f.\u0275fac=function(L){return new(L||f)},f.\u0275mod=z.oAB({type:f}),f.\u0275inj=z.cJS({}),f})(),j=(()=>{class f{}return f.\u0275fac=function(L){return new(L||f)},f.\u0275mod=z.oAB({type:f}),f.\u0275inj=z.cJS({imports:[N,y.si,y.BQ,S.Q8,N,y.BQ]}),f})()},6041:(et,Le,G)=>{"use strict";G.d(Le,{uX:()=>Rn,SP:()=>qn,uD:()=>fi,Nh:()=>gi});var S=G(2982),z=G(7144),y=G(5e3),u=G(9808);class D{attach(he){return this._attachedHost=he,he.attach(this)}detach(){let he=this._attachedHost;null!=he&&(this._attachedHost=null,he.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(he){this._attachedHost=he}}class _ extends D{constructor(he,U,se,_e){super(),this.component=he,this.viewContainerRef=U,this.injector=se,this.componentFactoryResolver=_e}}class o extends D{constructor(he,U,se,_e){super(),this.templateRef=he,this.viewContainerRef=U,this.context=se,this.injector=_e}get origin(){return this.templateRef.elementRef}attach(he,U=this.context){return this.context=U,super.attach(he)}detach(){return this.context=void 0,super.detach()}}class d extends D{constructor(he){super(),this.element=he instanceof y.SBq?he.nativeElement:he}}let N=(()=>{class De extends o{constructor(U,se){super(U,se)}}return De.\u0275fac=function(U){return new(U||De)(y.Y36(y.Rgc),y.Y36(y.s_b))},De.\u0275dir=y.lG2({type:De,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[y.qOj]}),De})(),f=(()=>{class De extends class a{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(he){return he instanceof _?(this._attachedPortal=he,this.attachComponentPortal(he)):he instanceof o?(this._attachedPortal=he,this.attachTemplatePortal(he)):this.attachDomPortal&&he instanceof d?(this._attachedPortal=he,this.attachDomPortal(he)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(he){this._disposeFn=he}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(U,se,_e){super(),this._componentFactoryResolver=U,this._viewContainerRef=se,this._isInitialized=!1,this.attached=new y.vpe,this.attachDomPortal=Ve=>{const ft=Ve.element,Rt=this._document.createComment("dom-portal");Ve.setAttachedHost(this),ft.parentNode.insertBefore(Rt,ft),this._getRootNode().appendChild(ft),this._attachedPortal=Ve,super.setDisposeFn(()=>{Rt.parentNode&&Rt.parentNode.replaceChild(ft,Rt)})},this._document=_e}get portal(){return this._attachedPortal}set portal(U){this.hasAttached()&&!U&&!this._isInitialized||(this.hasAttached()&&super.detach(),U&&super.attach(U),this._attachedPortal=U||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(U){U.setAttachedHost(this);const se=null!=U.viewContainerRef?U.viewContainerRef:this._viewContainerRef,Ve=(U.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(U.component),ft=se.createComponent(Ve,se.length,U.injector||se.injector);return se!==this._viewContainerRef&&this._getRootNode().appendChild(ft.hostView.rootNodes[0]),super.setDisposeFn(()=>ft.destroy()),this._attachedPortal=U,this._attachedRef=ft,this.attached.emit(ft),ft}attachTemplatePortal(U){U.setAttachedHost(this);const se=this._viewContainerRef.createEmbeddedView(U.templateRef,U.context,{injector:U.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=U,this._attachedRef=se,this.attached.emit(se),se}_getRootNode(){const U=this._viewContainerRef.element.nativeElement;return U.nodeType===U.ELEMENT_NODE?U:U.parentNode}}return De.\u0275fac=function(U){return new(U||De)(y.Y36(y._Vd),y.Y36(y.s_b),y.Y36(u.K0))},De.\u0275dir=y.lG2({type:De,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[y.qOj]}),De})(),L=(()=>{class De{}return De.\u0275fac=function(U){return new(U||De)},De.\u0275mod=y.oAB({type:De}),De.\u0275inj=y.cJS({}),De})();var H=G(508),K=G(5698),X=G(8675),oe=G(1884),ae=G(2722),Me=G(8421),Ce=G(4482),Z=G(5403),Q=G(5684),ie=G(9300),ge=G(7579),be=G(727),Ne=G(4968),Ye=G(9646),me=G(6451),ne=G(515),Ie=G(8306),Pe=G(4986),Je=G(3532);function _t(De=0,he,U=Pe.P){let se=-1;return null!=he&&((0,Je.K)(he)?U=he:se=he),new Ie.y(_e=>{let Ve=function je(De){return De instanceof Date&&!isNaN(De)}(De)?+De-U.now():De;Ve<0&&(Ve=0);let ft=0;return U.schedule(function(){_e.closed||(_e.next(ft++),0<=se?this.schedule(void 0,se):_e.complete())},Ve)})}var gt=G(1777),Ct=G(226),dt=G(3191),at=G(1159),vt=G(925),an=G(4408);const ln={schedule(De){let he=requestAnimationFrame,U=cancelAnimationFrame;const{delegate:se}=ln;se&&(he=se.requestAnimationFrame,U=se.cancelAnimationFrame);const _e=he(Ve=>{U=void 0,De(Ve)});return new be.w0(()=>null==U?void 0:U(_e))},requestAnimationFrame(...De){const{delegate:he}=ln;return((null==he?void 0:he.requestAnimationFrame)||requestAnimationFrame)(...De)},cancelAnimationFrame(...De){const{delegate:he}=ln;return((null==he?void 0:he.cancelAnimationFrame)||cancelAnimationFrame)(...De)},delegate:void 0};var xt=G(640);new class Ke extends xt.v{flush(he){this._active=!0;const U=this._scheduled;this._scheduled=void 0;const{actions:se}=this;let _e;he=he||se.shift();do{if(_e=he.execute(he.state,he.delay))break}while((he=se[0])&&he.id===U&&se.shift());if(this._active=!1,_e){for(;(he=se[0])&&he.id===U&&se.shift();)he.unsubscribe();throw _e}}}(class lt extends an.o{constructor(he,U){super(he,U),this.scheduler=he,this.work=U}requestAsyncId(he,U,se=0){return null!==se&&se>0?super.requestAsyncId(he,U,se):(he.actions.push(this),he._scheduled||(he._scheduled=ln.requestAnimationFrame(()=>he.flush(void 0))))}recycleAsyncId(he,U,se=0){var _e;if(null!=se?se>0:this.delay>0)return super.recycleAsyncId(he,U,se);const{actions:Ve}=he;null!=U&&(null===(_e=Ve[Ve.length-1])||void 0===_e?void 0:_e.id)!==U&&(ln.cancelAnimationFrame(U),he._scheduled=void 0)}});let Ae,ue=1;const le={};function Oe(De){return De in le&&(delete le[De],!0)}const Fe={setImmediate(De){const he=ue++;return le[he]=!0,Ae||(Ae=Promise.resolve()),Ae.then(()=>Oe(he)&&De()),he},clearImmediate(De){Oe(De)}},{setImmediate:Ue,clearImmediate:ot}=Fe,At={setImmediate(...De){const{delegate:he}=At;return((null==he?void 0:he.setImmediate)||Ue)(...De)},clearImmediate(De){const{delegate:he}=At;return((null==he?void 0:he.clearImmediate)||ot)(De)},delegate:void 0};new class ht extends xt.v{flush(he){this._active=!0;const U=this._scheduled;this._scheduled=void 0;const{actions:se}=this;let _e;he=he||se.shift();do{if(_e=he.execute(he.state,he.delay))break}while((he=se[0])&&he.id===U&&se.shift());if(this._active=!1,_e){for(;(he=se[0])&&he.id===U&&se.shift();)he.unsubscribe();throw _e}}}(class Et extends an.o{constructor(he,U){super(he,U),this.scheduler=he,this.work=U}requestAsyncId(he,U,se=0){return null!==se&&se>0?super.requestAsyncId(he,U,se):(he.actions.push(this),he._scheduled||(he._scheduled=At.setImmediate(he.flush.bind(he,void 0))))}recycleAsyncId(he,U,se=0){var _e;if(null!=se?se>0:this.delay>0)return super.recycleAsyncId(he,U,se);const{actions:Ve}=he;null!=U&&(null===(_e=Ve[Ve.length-1])||void 0===_e?void 0:_e.id)!==U&&(At.clearImmediate(U),he._scheduled=void 0)}});let Ut=(()=>{class De{constructor(U,se,_e){this._platform=U,this._change=new ge.x,this._changeListener=Ve=>{this._change.next(Ve)},this._document=_e,se.runOutsideAngular(()=>{if(U.isBrowser){const Ve=this._getWindow();Ve.addEventListener("resize",this._changeListener),Ve.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const U=this._getWindow();U.removeEventListener("resize",this._changeListener),U.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const U={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),U}getViewportRect(){const U=this.getViewportScrollPosition(),{width:se,height:_e}=this.getViewportSize();return{top:U.top,left:U.left,bottom:U.top+_e,right:U.left+se,height:_e,width:se}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const U=this._document,se=this._getWindow(),_e=U.documentElement,Ve=_e.getBoundingClientRect();return{top:-Ve.top||U.body.scrollTop||se.scrollY||_e.scrollTop||0,left:-Ve.left||U.body.scrollLeft||se.scrollX||_e.scrollLeft||0}}change(U=20){return U>0?this._change.pipe(function $e(De,he=Pe.z){return function Te(De){return(0,Ce.e)((he,U)=>{let se=!1,_e=null,Ve=null,ft=!1;const Rt=()=>{if(null==Ve||Ve.unsubscribe(),Ve=null,se){se=!1;const sn=_e;_e=null,U.next(sn)}ft&&U.complete()},Pt=()=>{Ve=null,ft&&U.complete()};he.subscribe((0,Z.x)(U,sn=>{se=!0,_e=sn,Ve||(0,Me.Xf)(De(sn)).subscribe(Ve=(0,Z.x)(U,Rt,Pt))},()=>{ft=!0,(!se||!Ve||Ve.closed)&&U.complete()}))})}(()=>_t(De,he))}(U)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const U=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:U.innerWidth,height:U.innerHeight}:{width:0,height:0}}}return De.\u0275fac=function(U){return new(U||De)(y.LFG(vt.t4),y.LFG(y.R0b),y.LFG(u.K0,8))},De.\u0275prov=y.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();function cn(De,he){1&De&&y.Hsn(0)}const Yt=["*"];function wn(De,he){}const ye=function(De){return{animationDuration:De}},pe=function(De,he){return{value:De,params:he}},de=["tabListContainer"],Re=["tabList"],We=["tabListInner"],rt=["nextPaginator"],St=["previousPaginator"],Dt=["tabBodyWrapper"],en=["tabHeader"];function _n(De,he){}function It(De,he){if(1&De&&y.YNc(0,_n,0,0,"ng-template",10),2&De){const U=y.oxw().$implicit;y.Q6J("cdkPortalOutlet",U.templateLabel)}}function Oi(De,he){if(1&De&&y._uU(0),2&De){const U=y.oxw().$implicit;y.Oqu(U.textLabel)}}function zi(De,he){if(1&De){const U=y.EpF();y.TgZ(0,"div",6),y.NdJ("click",function(){const _e=y.CHM(U),Ve=_e.$implicit,ft=_e.index,Rt=y.oxw(),Pt=y.MAs(1);return y.KtG(Rt._handleClick(Ve,Pt,ft))})("cdkFocusChange",function(_e){const ft=y.CHM(U).index,Rt=y.oxw();return y.KtG(Rt._tabFocusChanged(_e,ft))}),y.TgZ(1,"div",7),y.YNc(2,It,1,1,"ng-template",8),y.YNc(3,Oi,1,1,"ng-template",null,9,y.W1O),y.qZA()()}if(2&De){const U=he.$implicit,se=he.index,_e=y.MAs(4),Ve=y.oxw();y.ekj("mat-tab-label-active",Ve.selectedIndex===se),y.Q6J("id",Ve._getTabLabelId(se))("ngClass",U.labelClass)("disabled",U.disabled)("matRippleDisabled",U.disabled||Ve.disableRipple),y.uIk("tabIndex",Ve._getTabIndex(U,se))("aria-posinset",se+1)("aria-setsize",Ve._tabs.length)("aria-controls",Ve._getTabContentId(se))("aria-selected",Ve.selectedIndex===se)("aria-label",U.ariaLabel||null)("aria-labelledby",!U.ariaLabel&&U.ariaLabelledby?U.ariaLabelledby:null),y.xp6(2),y.Q6J("ngIf",U.templateLabel)("ngIfElse",_e)}}function Qi(De,he){if(1&De){const U=y.EpF();y.TgZ(0,"mat-tab-body",11),y.NdJ("_onCentered",function(){y.CHM(U);const _e=y.oxw();return y.KtG(_e._removeTabBodyWrapperHeight())})("_onCentering",function(_e){y.CHM(U);const Ve=y.oxw();return y.KtG(Ve._setTabBodyWrapperHeight(_e))}),y.qZA()}if(2&De){const U=he.$implicit,se=he.index,_e=y.oxw();y.ekj("mat-tab-body-active",_e.selectedIndex===se),y.Q6J("id",_e._getTabContentId(se))("ngClass",U.bodyClass)("content",U.content)("position",U.position)("origin",U.origin)("animationDuration",_e.animationDuration)("preserveContent",_e.preserveContent),y.uIk("tabindex",null!=_e.contentTabIndex&&_e.selectedIndex===se?_e.contentTabIndex:null)("aria-labelledby",_e._getTabLabelId(se))}}const Tn=new y.OlP("MatInkBarPositioner",{providedIn:"root",factory:function li(){return he=>({left:he?(he.offsetLeft||0)+"px":"0",width:he?(he.offsetWidth||0)+"px":"0"})}});let ci=(()=>{class De{constructor(U,se,_e,Ve){this._elementRef=U,this._ngZone=se,this._inkBarPositioner=_e,this._animationMode=Ve}alignToElement(U){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe((0,K.q)(1)).subscribe(()=>{const se=this._inkBarPositioner(U),_e=this._elementRef.nativeElement;_e.style.left=se.left,_e.style.width=se.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return De.\u0275fac=function(U){return new(U||De)(y.Y36(y.SBq),y.Y36(y.R0b),y.Y36(Tn),y.Y36(y.QbO,8))},De.\u0275dir=y.lG2({type:De,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(U,se){2&U&&y.ekj("_mat-animation-noopable","NoopAnimations"===se._animationMode)}}),De})();const Vn=new y.OlP("MatTabContent"),Li=new y.OlP("MatTabLabel"),Zt=new y.OlP("MAT_TAB");let fi=(()=>{class De extends N{constructor(U,se,_e){super(U,se),this._closestTab=_e}}return De.\u0275fac=function(U){return new(U||De)(y.Y36(y.Rgc),y.Y36(y.s_b),y.Y36(Zt,8))},De.\u0275dir=y.lG2({type:De,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[y._Bn([{provide:Li,useExisting:De}]),y.qOj]}),De})();const pi=(0,H.Id)(class{}),hn=new y.OlP("MAT_TAB_GROUP");let Rn=(()=>{class De extends pi{constructor(U,se){super(),this._viewContainerRef=U,this._closestTabGroup=se,this.textLabel="",this._contentPortal=null,this._stateChanges=new ge.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(U){this._setTemplateLabelInput(U)}get content(){return this._contentPortal}ngOnChanges(U){(U.hasOwnProperty("textLabel")||U.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new o(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(U){U&&U._closestTab===this&&(this._templateLabel=U)}}return De.\u0275fac=function(U){return new(U||De)(y.Y36(y.s_b),y.Y36(hn,8))},De.\u0275cmp=y.Xpm({type:De,selectors:[["mat-tab"]],contentQueries:function(U,se,_e){if(1&U&&(y.Suo(_e,Li,5),y.Suo(_e,Vn,7,y.Rgc)),2&U){let Ve;y.iGM(Ve=y.CRH())&&(se.templateLabel=Ve.first),y.iGM(Ve=y.CRH())&&(se._explicitContent=Ve.first)}},viewQuery:function(U,se){if(1&U&&y.Gf(y.Rgc,7),2&U){let _e;y.iGM(_e=y.CRH())&&(se._implicitContent=_e.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[y._Bn([{provide:Zt,useExisting:De}]),y.qOj,y.TTD],ngContentSelectors:Yt,decls:1,vars:0,template:function(U,se){1&U&&(y.F$t(),y.YNc(0,cn,1,0,"ng-template"))},encapsulation:2}),De})();const wi={translateTab:(0,gt.X$)("translateTab",[(0,gt.SB)("center, void, left-origin-center, right-origin-center",(0,gt.oB)({transform:"none"})),(0,gt.SB)("left",(0,gt.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,gt.SB)("right",(0,gt.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,gt.eR)("* => left, * => right, left => center, right => center",(0,gt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,gt.eR)("void => left-origin-center",[(0,gt.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,gt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,gt.eR)("void => right-origin-center",[(0,gt.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,gt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Ei=(()=>{class De extends f{constructor(U,se,_e,Ve){super(U,se,Ve),this._host=_e,this._centeringSub=be.w0.EMPTY,this._leavingSub=be.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,X.O)(this._host._isCenterPosition(this._host._position))).subscribe(U=>{U&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return De.\u0275fac=function(U){return new(U||De)(y.Y36(y._Vd),y.Y36(y.s_b),y.Y36((0,y.Gpc)(()=>Yn)),y.Y36(u.K0))},De.\u0275dir=y.lG2({type:De,selectors:[["","matTabBodyHost",""]],features:[y.qOj]}),De})(),ir=(()=>{class De{constructor(U,se,_e){this._elementRef=U,this._dir=se,this._dirChangeSubscription=be.w0.EMPTY,this._translateTabComplete=new ge.x,this._onCentering=new y.vpe,this._beforeCentering=new y.vpe,this._afterLeavingCenter=new y.vpe,this._onCentered=new y.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,se&&(this._dirChangeSubscription=se.change.subscribe(Ve=>{this._computePositionAnimationState(Ve),_e.markForCheck()})),this._translateTabComplete.pipe((0,oe.x)((Ve,ft)=>Ve.fromState===ft.fromState&&Ve.toState===ft.toState)).subscribe(Ve=>{this._isCenterPosition(Ve.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(Ve.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(U){this._positionIndex=U,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(U){const se=this._isCenterPosition(U.toState);this._beforeCentering.emit(se),se&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(U){return"center"==U||"left-origin-center"==U||"right-origin-center"==U}_computePositionAnimationState(U=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==U?"left":"right":this._positionIndex>0?"ltr"==U?"right":"left":"center"}_computePositionFromOrigin(U){const se=this._getLayoutDirection();return"ltr"==se&&U<=0||"rtl"==se&&U>0?"left-origin-center":"right-origin-center"}}return De.\u0275fac=function(U){return new(U||De)(y.Y36(y.SBq),y.Y36(Ct.Is,8),y.Y36(y.sBO))},De.\u0275dir=y.lG2({type:De,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),De})(),Yn=(()=>{class De extends ir{constructor(U,se,_e){super(U,se,_e)}}return De.\u0275fac=function(U){return new(U||De)(y.Y36(y.SBq),y.Y36(Ct.Is,8),y.Y36(y.sBO))},De.\u0275cmp=y.Xpm({type:De,selectors:[["mat-tab-body"]],viewQuery:function(U,se){if(1&U&&y.Gf(f,5),2&U){let _e;y.iGM(_e=y.CRH())&&(se._portalHost=_e.first)}},hostAttrs:[1,"mat-tab-body"],features:[y.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(U,se){1&U&&(y.TgZ(0,"div",0,1),y.NdJ("@translateTab.start",function(Ve){return se._onTranslateTabStarted(Ve)})("@translateTab.done",function(Ve){return se._translateTabComplete.next(Ve)}),y.YNc(2,wn,0,0,"ng-template",2),y.qZA()),2&U&&y.Q6J("@translateTab",y.WLB(3,pe,se._position,y.VKq(1,ye,se.animationDuration)))},dependencies:[Ei],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[wi.translateTab]}}),De})();const Xi=new y.OlP("MAT_TABS_CONFIG"),As=(0,H.Id)(class{});let Kr=(()=>{class De extends As{constructor(U){super(),this.elementRef=U}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return De.\u0275fac=function(U){return new(U||De)(y.Y36(y.SBq))},De.\u0275dir=y.lG2({type:De,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(U,se){2&U&&(y.uIk("aria-disabled",!!se.disabled),y.ekj("mat-tab-disabled",se.disabled))},inputs:{disabled:"disabled"},features:[y.qOj]}),De})();const Yr=(0,vt.i$)({passive:!0});let us=(()=>{class De{constructor(U,se,_e,Ve,ft,Rt,Pt){this._elementRef=U,this._changeDetectorRef=se,this._viewportRuler=_e,this._dir=Ve,this._ngZone=ft,this._platform=Rt,this._animationMode=Pt,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new ge.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new ge.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new y.vpe,this.indexFocused=new y.vpe,ft.runOutsideAngular(()=>{(0,Ne.R)(U.nativeElement,"mouseleave").pipe((0,ae.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(U){this._disablePagination=(0,dt.Ig)(U)}get selectedIndex(){return this._selectedIndex}set selectedIndex(U){U=(0,dt.su)(U),this._selectedIndex!=U&&(this._selectedIndexChanged=!0,this._selectedIndex=U,this._keyManager&&this._keyManager.updateActiveItem(U))}ngAfterViewInit(){(0,Ne.R)(this._previousPaginator.nativeElement,"touchstart",Yr).pipe((0,ae.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,Ne.R)(this._nextPaginator.nativeElement,"touchstart",Yr).pipe((0,ae.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const U=this._dir?this._dir.change:(0,Ye.of)("ltr"),se=this._viewportRuler.change(150),_e=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new S.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,K.q)(1)).subscribe(_e),(0,me.T)(U,se,this._items.changes,this._itemsResized()).pipe((0,ae.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),_e()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,ae.R)(this._destroyed)).subscribe(Ve=>{this.indexFocused.emit(Ve),this._setTabFocus(Ve)})}_itemsResized(){return"function"!=typeof ResizeObserver?ne.E:this._items.changes.pipe((0,X.O)(this._items),function q(De,he){return(0,Ce.e)((U,se)=>{let _e=null,Ve=0,ft=!1;const Rt=()=>ft&&!_e&&se.complete();U.subscribe((0,Z.x)(se,Pt=>{null==_e||_e.unsubscribe();let sn=0;const mi=Ve++;(0,Me.Xf)(De(Pt,mi)).subscribe(_e=(0,Z.x)(se,Pn=>se.next(he?he(Pt,Pn,mi,sn++):Pn),()=>{_e=null,Rt()}))},()=>{ft=!0,Rt()}))})}(U=>new Ie.y(se=>this._ngZone.runOutsideAngular(()=>{const _e=new ResizeObserver(Ve=>se.next(Ve));return U.forEach(Ve=>_e.observe(Ve.elementRef.nativeElement)),()=>{_e.disconnect()}}))),(0,Q.T)(1),(0,ie.h)(U=>U.some(se=>se.contentRect.width>0&&se.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(U){if(!(0,at.Vb)(U))switch(U.keyCode){case at.K5:case at.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(U));break;default:this._keyManager.onKeydown(U)}}_onContentChanges(){const U=this._elementRef.nativeElement.textContent;U!==this._currentTextContent&&(this._currentTextContent=U||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(U){!this._isValidIndex(U)||this.focusIndex===U||!this._keyManager||this._keyManager.setActiveItem(U)}_isValidIndex(U){if(!this._items)return!0;const se=this._items?this._items.toArray()[U]:null;return!!se&&!se.disabled}_setTabFocus(U){if(this._showPaginationControls&&this._scrollToLabel(U),this._items&&this._items.length){this._items.toArray()[U].focus();const se=this._tabListContainer.nativeElement;se.scrollLeft="ltr"==this._getLayoutDirection()?0:se.scrollWidth-se.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const U=this.scrollDistance,se="ltr"===this._getLayoutDirection()?-U:U;this._tabList.nativeElement.style.transform=`translateX(${Math.round(se)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(U){this._scrollTo(U)}_scrollHeader(U){return this._scrollTo(this._scrollDistance+("before"==U?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(U){this._stopInterval(),this._scrollHeader(U)}_scrollToLabel(U){if(this.disablePagination)return;const se=this._items?this._items.toArray()[U]:null;if(!se)return;const _e=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:Ve,offsetWidth:ft}=se.elementRef.nativeElement;let Rt,Pt;"ltr"==this._getLayoutDirection()?(Rt=Ve,Pt=Rt+ft):(Pt=this._tabListInner.nativeElement.offsetWidth-Ve,Rt=Pt-ft);const sn=this.scrollDistance,mi=this.scrollDistance+_e;Rt<sn?this.scrollDistance-=sn-Rt+60:Pt>mi&&(this.scrollDistance+=Pt-mi+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const U=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;U||(this.scrollDistance=0),U!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=U}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const U=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,se=U?U.elementRef.nativeElement:null;se?this._inkBar.alignToElement(se):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(U,se){se&&null!=se.button&&0!==se.button||(this._stopInterval(),_t(650,100).pipe((0,ae.R)((0,me.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:_e,distance:Ve}=this._scrollHeader(U);(0===Ve||Ve>=_e)&&this._stopInterval()}))}_scrollTo(U){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const se=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(se,U)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:se,distance:this._scrollDistance}}}return De.\u0275fac=function(U){return new(U||De)(y.Y36(y.SBq),y.Y36(y.sBO),y.Y36(Ut),y.Y36(Ct.Is,8),y.Y36(y.R0b),y.Y36(vt.t4),y.Y36(y.QbO,8))},De.\u0275dir=y.lG2({type:De,inputs:{disablePagination:"disablePagination"}}),De})(),rr=(()=>{class De extends us{constructor(U,se,_e,Ve,ft,Rt,Pt){super(U,se,_e,Ve,ft,Rt,Pt),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(U){this._disableRipple=(0,dt.Ig)(U)}_itemSelected(U){U.preventDefault()}}return De.\u0275fac=function(U){return new(U||De)(y.Y36(y.SBq),y.Y36(y.sBO),y.Y36(Ut),y.Y36(Ct.Is,8),y.Y36(y.R0b),y.Y36(vt.t4),y.Y36(y.QbO,8))},De.\u0275dir=y.lG2({type:De,inputs:{disableRipple:"disableRipple"},features:[y.qOj]}),De})(),_i=(()=>{class De extends rr{constructor(U,se,_e,Ve,ft,Rt,Pt){super(U,se,_e,Ve,ft,Rt,Pt)}}return De.\u0275fac=function(U){return new(U||De)(y.Y36(y.SBq),y.Y36(y.sBO),y.Y36(Ut),y.Y36(Ct.Is,8),y.Y36(y.R0b),y.Y36(vt.t4),y.Y36(y.QbO,8))},De.\u0275cmp=y.Xpm({type:De,selectors:[["mat-tab-header"]],contentQueries:function(U,se,_e){if(1&U&&y.Suo(_e,Kr,4),2&U){let Ve;y.iGM(Ve=y.CRH())&&(se._items=Ve)}},viewQuery:function(U,se){if(1&U&&(y.Gf(ci,7),y.Gf(de,7),y.Gf(Re,7),y.Gf(We,7),y.Gf(rt,5),y.Gf(St,5)),2&U){let _e;y.iGM(_e=y.CRH())&&(se._inkBar=_e.first),y.iGM(_e=y.CRH())&&(se._tabListContainer=_e.first),y.iGM(_e=y.CRH())&&(se._tabList=_e.first),y.iGM(_e=y.CRH())&&(se._tabListInner=_e.first),y.iGM(_e=y.CRH())&&(se._nextPaginator=_e.first),y.iGM(_e=y.CRH())&&(se._previousPaginator=_e.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(U,se){2&U&&y.ekj("mat-tab-header-pagination-controls-enabled",se._showPaginationControls)("mat-tab-header-rtl","rtl"==se._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[y.qOj],ngContentSelectors:Yt,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(U,se){1&U&&(y.F$t(),y.TgZ(0,"button",0,1),y.NdJ("click",function(){return se._handlePaginatorClick("before")})("mousedown",function(Ve){return se._handlePaginatorPress("before",Ve)})("touchend",function(){return se._stopInterval()}),y._UZ(2,"div",2),y.qZA(),y.TgZ(3,"div",3,4),y.NdJ("keydown",function(Ve){return se._handleKeydown(Ve)}),y.TgZ(5,"div",5,6),y.NdJ("cdkObserveContent",function(){return se._onContentChanges()}),y.TgZ(7,"div",7,8),y.Hsn(9),y.qZA(),y._UZ(10,"mat-ink-bar"),y.qZA()(),y.TgZ(11,"button",9,10),y.NdJ("mousedown",function(Ve){return se._handlePaginatorPress("after",Ve)})("click",function(){return se._handlePaginatorClick("after")})("touchend",function(){return se._stopInterval()}),y._UZ(13,"div",2),y.qZA()),2&U&&(y.ekj("mat-tab-header-pagination-disabled",se._disableScrollBefore),y.Q6J("matRippleDisabled",se._disableScrollBefore||se.disableRipple)("disabled",se._disableScrollBefore||null),y.xp6(5),y.ekj("_mat-animation-noopable","NoopAnimations"===se._animationMode),y.xp6(6),y.ekj("mat-tab-header-pagination-disabled",se._disableScrollAfter),y.Q6J("matRippleDisabled",se._disableScrollAfter||se.disableRipple)("disabled",se._disableScrollAfter||null))},dependencies:[H.wG,z.wD,ci],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}"],encapsulation:2}),De})(),Zr=0;class Dr{}const Ji=(0,H.pj)((0,H.Kr)(class{constructor(De){this._elementRef=De}}),"primary");let Sr=(()=>{class De extends Ji{constructor(U,se,_e,Ve){var ft;super(U),this._changeDetectorRef=se,this._animationMode=Ve,this._tabs=new y.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=be.w0.EMPTY,this._tabLabelSubscription=be.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new y.vpe,this.focusChange=new y.vpe,this.animationDone=new y.vpe,this.selectedTabChange=new y.vpe(!0),this._groupId=Zr++,this.animationDuration=_e&&_e.animationDuration?_e.animationDuration:"500ms",this.disablePagination=!(!_e||null==_e.disablePagination)&&_e.disablePagination,this.dynamicHeight=!(!_e||null==_e.dynamicHeight)&&_e.dynamicHeight,this.contentTabIndex=null!==(ft=null==_e?void 0:_e.contentTabIndex)&&void 0!==ft?ft:null,this.preserveContent=!(null==_e||!_e.preserveContent)}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(U){this._dynamicHeight=(0,dt.Ig)(U)}get selectedIndex(){return this._selectedIndex}set selectedIndex(U){this._indexToSelect=(0,dt.su)(U,null)}get animationDuration(){return this._animationDuration}set animationDuration(U){this._animationDuration=/^\d+$/.test(U+"")?U+"ms":U}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(U){this._contentTabIndex=(0,dt.su)(U,null)}get disablePagination(){return this._disablePagination}set disablePagination(U){this._disablePagination=(0,dt.Ig)(U)}get preserveContent(){return this._preserveContent}set preserveContent(U){this._preserveContent=(0,dt.Ig)(U)}get backgroundColor(){return this._backgroundColor}set backgroundColor(U){const se=this._elementRef.nativeElement;se.classList.remove(`mat-background-${this.backgroundColor}`),U&&se.classList.add(`mat-background-${U}`),this._backgroundColor=U}ngAfterContentChecked(){const U=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=U){const se=null==this._selectedIndex;if(!se){this.selectedTabChange.emit(this._createChangeEvent(U));const _e=this._tabBodyWrapper.nativeElement;_e.style.minHeight=_e.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((_e,Ve)=>_e.isActive=Ve===U),se||(this.selectedIndexChange.emit(U),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((se,_e)=>{se.position=_e-U,null!=this._selectedIndex&&0==se.position&&!se.origin&&(se.origin=U-this._selectedIndex)}),this._selectedIndex!==U&&(this._selectedIndex=U,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const U=this._clampTabIndex(this._indexToSelect);if(U===this._selectedIndex){const se=this._tabs.toArray();let _e;for(let Ve=0;Ve<se.length;Ve++)if(se[Ve].isActive){this._indexToSelect=this._selectedIndex=Ve,this._lastFocusedTabIndex=null,_e=se[Ve];break}!_e&&se[U]&&Promise.resolve().then(()=>{se[U].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(U))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,X.O)(this._allTabs)).subscribe(U=>{this._tabs.reset(U.filter(se=>se._closestTabGroup===this||!se._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(U){const se=this._tabHeader;se&&(se.focusIndex=U)}_focusChanged(U){this._lastFocusedTabIndex=U,this.focusChange.emit(this._createChangeEvent(U))}_createChangeEvent(U){const se=new Dr;return se.index=U,this._tabs&&this._tabs.length&&(se.tab=this._tabs.toArray()[U]),se}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,me.T)(...this._tabs.map(U=>U._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(U){return Math.min(this._tabs.length-1,Math.max(U||0,0))}_getTabLabelId(U){return`mat-tab-label-${this._groupId}-${U}`}_getTabContentId(U){return`mat-tab-content-${this._groupId}-${U}`}_setTabBodyWrapperHeight(U){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const se=this._tabBodyWrapper.nativeElement;se.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(se.style.height=U+"px")}_removeTabBodyWrapperHeight(){const U=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=U.clientHeight,U.style.height="",this.animationDone.emit()}_handleClick(U,se,_e){U.disabled||(this.selectedIndex=se.focusIndex=_e)}_getTabIndex(U,se){var _e;return U.disabled?null:se===(null!==(_e=this._lastFocusedTabIndex)&&void 0!==_e?_e:this.selectedIndex)?0:-1}_tabFocusChanged(U,se){U&&"mouse"!==U&&"touch"!==U&&(this._tabHeader.focusIndex=se)}}return De.\u0275fac=function(U){return new(U||De)(y.Y36(y.SBq),y.Y36(y.sBO),y.Y36(Xi,8),y.Y36(y.QbO,8))},De.\u0275dir=y.lG2({type:De,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[y.qOj]}),De})(),qn=(()=>{class De extends Sr{constructor(U,se,_e,Ve){super(U,se,_e,Ve)}}return De.\u0275fac=function(U){return new(U||De)(y.Y36(y.SBq),y.Y36(y.sBO),y.Y36(Xi,8),y.Y36(y.QbO,8))},De.\u0275cmp=y.Xpm({type:De,selectors:[["mat-tab-group"]],contentQueries:function(U,se,_e){if(1&U&&y.Suo(_e,Rn,5),2&U){let Ve;y.iGM(Ve=y.CRH())&&(se._allTabs=Ve)}},viewQuery:function(U,se){if(1&U&&(y.Gf(Dt,5),y.Gf(en,5)),2&U){let _e;y.iGM(_e=y.CRH())&&(se._tabBodyWrapper=_e.first),y.iGM(_e=y.CRH())&&(se._tabHeader=_e.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(U,se){2&U&&y.ekj("mat-tab-group-dynamic-height",se.dynamicHeight)("mat-tab-group-inverted-header","below"===se.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[y._Bn([{provide:hn,useExisting:De}]),y.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(U,se){1&U&&(y.TgZ(0,"mat-tab-header",0,1),y.NdJ("indexFocused",function(Ve){return se._focusChanged(Ve)})("selectFocusedIndex",function(Ve){return se.selectedIndex=Ve}),y.YNc(2,zi,5,15,"div",2),y.qZA(),y.TgZ(3,"div",3,4),y.YNc(5,Qi,1,11,"mat-tab-body",5),y.qZA()),2&U&&(y.Q6J("selectedIndex",se.selectedIndex||0)("disableRipple",se.disableRipple)("disablePagination",se.disablePagination),y.xp6(2),y.Q6J("ngForOf",se._tabs),y.xp6(1),y.ekj("_mat-animation-noopable","NoopAnimations"===se._animationMode),y.xp6(2),y.Q6J("ngForOf",se._tabs))},dependencies:[u.mk,u.sg,u.O5,f,H.wG,S.kH,Kr,Yn,_i],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2}),De})(),gi=(()=>{class De{}return De.\u0275fac=function(U){return new(U||De)},De.\u0275mod=y.oAB({type:De}),De.\u0275inj=y.cJS({imports:[u.ez,H.BQ,L,H.si,z.Q8,S.rt,H.BQ]}),De})()},7582:(et,Le,G)=>{"use strict";function _(q,Q,ie,ge){return new(ie||(ie=Promise))(function(Ne,Ye){function me(Pe){try{Ie(ge.next(Pe))}catch(Je){Ye(Je)}}function ne(Pe){try{Ie(ge.throw(Pe))}catch(Je){Ye(Je)}}function Ie(Pe){Pe.done?Ne(Pe.value):function be(Ne){return Ne instanceof ie?Ne:new ie(function(Ye){Ye(Ne)})}(Pe.value).then(me,ne)}Ie((ge=ge.apply(q,Q||[])).next())})}function f(q){return this instanceof f?(this.v=q,this):new f(q)}function C(q,Q,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ge=ie.apply(q,Q||[]),Ne=[];return be={},Ye("next"),Ye("throw"),Ye("return"),be[Symbol.asyncIterator]=function(){return this},be;function Ye(je){ge[je]&&(be[je]=function(_t){return new Promise(function(gt,Ct){Ne.push([je,_t,gt,Ct])>1||me(je,_t)})})}function me(je,_t){try{!function ne(je){je.value instanceof f?Promise.resolve(je.value.v).then(Ie,Pe):Je(Ne[0][2],je)}(ge[je](_t))}catch(gt){Je(Ne[0][3],gt)}}function Ie(je){me("next",je)}function Pe(je){me("throw",je)}function Je(je,_t){je(_t),Ne.shift(),Ne.length&&me(Ne[0][0],Ne[0][1])}}function R(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,Q=q[Symbol.asyncIterator];return Q?Q.call(q):(q=function p(q){var Q="function"==typeof Symbol&&Symbol.iterator,ie=Q&&q[Q],ge=0;if(ie)return ie.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&ge>=q.length&&(q=void 0),{value:q&&q[ge++],done:!q}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),ie={},ge("next"),ge("throw"),ge("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function ge(Ne){ie[Ne]=q[Ne]&&function(Ye){return new Promise(function(me,ne){!function be(Ne,Ye,me,ne){Promise.resolve(ne).then(function(Ie){Ne({value:Ie,done:me})},Ye)}(me,ne,(Ye=q[Ne](Ye)).done,Ye.value)})}}}G.d(Le,{FC:()=>C,KL:()=>R,mG:()=>_,qq:()=>f})}},et=>{et(et.s=1950)}]);